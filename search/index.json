[{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ docker æ•°æ®å·æŒ‚è½½ éƒ¨ç½²æœ‰çŠ¶æ€åº”ç”¨ å®¹å™¨é€šä¿¡ ç¼–è¯‘é•œåƒæ¨é€è‡³åä¸ºäº‘é•œåƒä»“åº“ æ­å»ºminikubeç¯å¢ƒ k8s ä»¥podæ–¹å¼éƒ¨ç½² mysql+webåº”ç”¨ è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.å¯¹demoç¼–å†™dockerfileé•œåƒç¼–è¯‘ 2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\nhttps://github.com/linjianshu/e-bookNew/tree/master\n3.docker æ•°æ®å·æŒ‚è½½ éƒ¨ç½²æœ‰çŠ¶æ€åº”ç”¨ å®¹å™¨é€šä¿¡ æŒ‚è½½mysql å¼€æ”¾3310 é»˜è®¤å¯†ç 123456 æé«˜æƒé™ åå°è¿è¡Œ è®¾å®šæ—¶åŒº docker run --privileged -d --name mysql84 -v /etc/mysql:/etc/mysql -v /var/lib/data/mysql:/var/lib/mysql -v /var/lib/mysql-files:/var/lib/mysql-files -p 3310:3306 -e TZ=Asia/Shanghai -e MYSQL_ROOT_PASSWORD=123456 mysql é—®é¢˜è§£å†³æ–¹æ¡ˆ: https://docs.docker.com/desktop/networking/\næˆ‘æƒ³ä»å®¹å™¨è¿æ¥åˆ°ä¸»æœºä¸Šçš„æœåŠ¡ ä¸»æœºæœ‰ä¸€ä¸ªä¸æ–­å˜åŒ–çš„ IP åœ°å€ï¼ˆå¦‚æœæ‚¨æ²¡æœ‰ç½‘ç»œè®¿é—®æƒé™ï¼Œåˆ™æ²¡æœ‰ï¼‰ã€‚æˆ‘ä»¬å»ºè®®æ‚¨è¿æ¥åˆ° host.docker.internalè§£æä¸ºä¸»æœºä½¿ç”¨çš„å†…éƒ¨ IP åœ°å€çš„ç‰¹æ®Š DNS åç§°ã€‚è¿™æ˜¯å‡ºäºå¼€å‘ç›®çš„ï¼Œä¸é€‚ç”¨äº Docker Desktop ä¹‹å¤–çš„ç”Ÿäº§ç¯å¢ƒã€‚ æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨gateway.docker.internal. å¦‚æœæ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº† Pythonï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯´æ˜ä½œä¸ºç¤ºä¾‹ï¼Œä»å®¹å™¨è¿æ¥åˆ°ä¸»æœºä¸Šçš„æœåŠ¡ï¼š è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ç«¯å£ 8000 ä¸Šå¯åŠ¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ã€‚ python -m http.server 8000 å¦‚æœæ‚¨å·²å®‰è£… Python 2.xï¼Œè¯·è¿è¡Œpython -m SimpleHTTPServer 8000. ç°åœ¨ï¼Œè¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œå®‰è£…curlï¼Œå¹¶å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿æ¥åˆ°ä¸»æœºï¼š docker run --rm -it alpine sh apk add curl curl http://host.docker.internal:8000 exit éƒ¨ç½²åˆ°åä¸ºäº‘ ä¾›å¤–ç½‘è®¿é—® http://124.220.207.169:7777/blog æ¥äºº æŠŠä¹¦æå‡ºæ¥\nè¿è¡Œæˆªå›¾ image-20220802095017747\rimage-20220802095335957\r4.æ­å»ºminikubeç¯å¢ƒ åˆç§Ÿäº†ä¸€å°RAM\u0026gt;2GBçš„åä¸ºäº‘æœåŠ¡å™¨ æ­å»ºminikube\nminikube start --kubernetes-version=v1.23.3 --registry-mirror=https://bmtb46e4.mirror.aliyuncs.com --vm-driver=docker --base-image=\u0026#34;anjone/kicbase\u0026#34; --image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers è¿è¡Œæˆªå›¾ image-20220802095616280\r5.k8s ä»¥podæ–¹å¼éƒ¨ç½² mysql+webåº”ç”¨ image-20220802095657532\rPod.yamlæ–‡ä»¶ webåº”ç”¨ apiVersion: v1 kind: Pod metadata: name: test-pod labels: name: test-pod spec: #å®šä¹‰å®¹å™¨ å¯ä»¥å¤šä¸ª containers: - name: test-pod #å®¹å™¨åå­— image: ccr.ccs.tencentyun.com/hfut-ie/e-book-gin:v3.0 #é•œåƒ ports: - containerPort: 7777 name: test-pod hostPort: 7777 # dnsPolicy: ClusterFirst # hostNetwork: true mysql.yamlæ–‡ä»¶ mysql3310 apiVersion: apps/v1 kind: Deployment metadata: name: my-mysql labels: app: my-mysql version: v1.0.0 spec: selector: matchLabels: app: my-mysql version: v1.0.0 strategy: type: RollingUpdate template: metadata: labels: app: my-mysql version: v1.0.0 spec: containers: - image: mysql:latest name: my-mysql args: # - \u0026#34;--ignore-db-dir=lost+found\u0026#34; - \u0026#34;--character-set-server=utf8\u0026#34; # æŒ‡å®šå­—ç¬¦ç¼–ç  - \u0026#34;--collation-server=utf8_general_ci\u0026#34; # æŒ‡å®šå­—ç¬¦ç¼–ç  env: - name: MYSQL_ROOT_PASSWORD # æŒ‡å®šrootç”¨æˆ·çš„ç”¨æˆ·å value: \u0026#34;123456\u0026#34; # - name: MYSQL_PASSWORD # æ–°å»ºç”¨æˆ·çš„ç”¨æˆ·å # value: \u0026#34;123456\u0026#34; # - name: MYSQL_USER # æ–°å»ºçš„ç”¨æˆ· # value: \u0026#34;ljs\u0026#34; - name: MYSQL_DATABASE # æ–°å»ºçš„æ•°æ®åº“ value: \u0026#34;datashare\u0026#34; ports: - containerPort: 3310 name: mysql volumeMounts: - name: data mountPath: /var/lib/mysql - name: config mountPath: /etc/mysql/mysql.conf.d/mysqld.cnf subPath: mysqld.cnf readOnly: False volumes: - name: data # persistentVolumeClaim: # claimName: mysql-pvc - name: config # configMap: # name: mysql-configmap æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸² å°è¯•äº†å¥½å¤šæ¬¡ æœ€åä½¿ç”¨ipåœ°å€:3306 è¿æ¥å®¿ä¸»æœºæœ¬åœ°æ•°æ®åº“ image-20220802095955401\rè¿è¡Œæˆªå›¾ port-forward\nimage-20220802100528339\rcurléªŒè¯\nimage-20220802100555894\rå­˜åœ¨å“ªäº›é—®é¢˜: podç†è§£è¿˜æœ‰ç‚¹é—®é¢˜ è¯·é—®podå†…æœ‰ä¸€ç»„å®¹å™¨ A B å®¹å™¨Aå’ŒBæœ¬èº«æ˜¯ä¸€ä¸ªdockeræ–‡ä»¶ç³»ç»Ÿå—? é‚£Podä¹Ÿæ˜¯ä¸€ä¸ªdockeræ–‡ä»¶ç³»ç»Ÿå˜› æ˜¯å±äºdockeræ–‡ä»¶ç³»ç»Ÿé‡Œå¥—äº†ä¸¤ä¸ªdockeræ–‡ä»¶ç³»ç»Ÿå—? ä½¿ç”¨kubectl port-forward 7777:7777å¦‚ä½•åå°è·‘ å¥½åƒéœ€è¦ä¸€ç›´å¼€ç€ ä½¿ç”¨kubectl port-forward 7777:7777 ä¸ºä»€ä¹ˆä¸èƒ½é€šè¿‡å…¬ç½‘ip:7777/indexè®¿é—® åªèƒ½é€šè¿‡æœ¬æœºlocalhost:7777/indexè·‘ åŸæ¥æ‰“ç®—æŠŠpodé‡Œæ”¾äº†ä¸¤ä¸ªå®¹å™¨ ä¸€ä¸ªæ˜¯mysqlç«¯å£3310 ä¸€ä¸ªæ˜¯webåº”ç”¨ç«¯å£æ˜¯7777 æ‰€ä»¥æ‰“ç®—ä½¿ç”¨çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ˜¯localhost æˆ‘è®¤ä¸ºpodä¹‹é—´åº”è¯¥æ˜¯èƒ½å¤Ÿé€šä¿¡çš„ ä½†æ˜¯å®é™…ä¸Šè§£æä¸å‡ºæ¥ æˆ‘ä¸å¤ªæ¸…æ¥šæ˜¯ä¸ºå•¥ (æ˜¯å› ä¸ºwebåº”ç”¨ç¨‹åºè§£ælocalhostçš„æ—¶å€™ ä¼šè®¤ä¸ºæ˜¯å®¿ä¸»æœºçš„localhostå—? å¦‚æœè®¤ä¸ºæ˜¯podçš„localhostçš„è¯ åº”è¯¥æ˜¯èƒ½è¿çš„é€šçš„æ‰å¯¹) image-20220802092832969\ræ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: k8så­¦ä¹  ä»¥serviceæ–¹å¼éƒ¨ç½²mysql+webåº”ç”¨ ä¿®æ”¹serviceçš„yaml å°è¯•æ•°æ®æŒ‚è½½ client-goå­¦ä¹  è¿‡ç¨‹è®°å½•(è¸©å‘): docker run \u0026ndash;privileged -d \u0026ndash;name mysql84 -v /etc/mysql:/etc/mysql -v /var/lib/data/mysql:/var/lib/mysql -v /var/lib/mysql-files:/var/lib/mysql-files -p 3310:3306 -e TZ=Asia/Shanghai -e MYSQL_ROOT_PASSWORD=123456 mysql\nubuntué‡è£…mysql 1ã€åˆ é™¤ mysql\nsudo apt-get autoremove \u0026ndash;purge mysql-server-5.0\nsudo apt-get remove mysql-server\nsudo apt-get autoremove mysql-server\nsudo apt-get remove mysql-common (éå¸¸é‡è¦)\nä¸Šé¢çš„å…¶å®æœ‰ä¸€äº›æ˜¯å¤šä½™çš„ï¼Œå»ºè®®è¿˜æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œä¸€é\næ¸…ç†æ®‹ç•™æ•°æ®\ndpkg -l |grep ^rc|awk \u0026lsquo;{print $2}\u0026rsquo; |sudo xargs dpkg -P\n2ã€å®‰è£… mysql\nsudo apt-get install mysql-server\nè®°å¾—å¯åŠ¨æœåŠ¡ è®¾ç½®å¯†ç \ndockerè¿æ¥å®¿ä¸»æœº https://docs.docker.com/desktop/networking/ æˆ‘æƒ³ä»å®¹å™¨è¿æ¥åˆ°ä¸»æœºä¸Šçš„æœåŠ¡ ä¸»æœºæœ‰ä¸€ä¸ªä¸æ–­å˜åŒ–çš„ IP åœ°å€ï¼ˆå¦‚æœæ‚¨æ²¡æœ‰ç½‘ç»œè®¿é—®æƒé™ï¼Œåˆ™æ²¡æœ‰ï¼‰ã€‚æˆ‘ä»¬å»ºè®®æ‚¨è¿æ¥åˆ° host.docker.internalè§£æä¸ºä¸»æœºä½¿ç”¨çš„å†…éƒ¨ IP åœ°å€çš„ç‰¹æ®Š DNS åç§°ã€‚è¿™æ˜¯å‡ºäºå¼€å‘ç›®çš„ï¼Œä¸é€‚ç”¨äº Docker Desktop ä¹‹å¤–çš„ç”Ÿäº§ç¯å¢ƒã€‚\næ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨gateway.docker.internal.\nå¦‚æœæ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº† Pythonï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯´æ˜ä½œä¸ºç¤ºä¾‹ï¼Œä»å®¹å™¨è¿æ¥åˆ°ä¸»æœºä¸Šçš„æœåŠ¡ï¼š\nè¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ç«¯å£ 8000 ä¸Šå¯åŠ¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ã€‚\npython -m http.server 8000\nå¦‚æœæ‚¨å·²å®‰è£… Python 2.xï¼Œè¯·è¿è¡Œpython -m SimpleHTTPServer 8000.\nç°åœ¨ï¼Œè¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œå®‰è£…curlï¼Œå¹¶å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿æ¥åˆ°ä¸»æœºï¼š\ndocker run \u0026ndash;rm -it alpine sh apk add curl curl http://host.docker.internal:8000 exit\nminikubeç‰ˆæœ¬å’Œé•œåƒé—®é¢˜ minikube start \u0026ndash;kubernetes-version=v1.23.3 \u0026ndash;base-image=\u0026ldquo;kicbase/stable:v0.0.32\u0026rdquo;\nminikube start \u0026ndash;kubernetes-version=v1.23.3 \u0026ndash;registry-mirror=https://bmtb46e4.mirror.aliyuncs.com \u0026ndash;vm-driver=docker \u0026ndash;base-image=\u0026ldquo;anjone/kicbase\u0026rdquo; \u0026ndash;image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers\nkubectlå¸¸ç”¨æŒ‡ä»¤ kubectl get node\nkubectl run testapp \u0026ndash;image=ccr.ccs.tencentyun.com/hfut/e-book-gin:v1.0\nkubectl apply -f ./mysql.yaml\nkubectl get pod\nkubectl get deployment\nkubectl get pod -o wide\nkubectl describe pod [testapp]\nkubectl logs testapp \u0026ndash;previous\nkubectl delete pod my-mysql-6b8cf957fc-2sl59\nkubectl delete deploy/my-mysql\nsshçªç„¶è¿æ¥ä¸ä¸Šé—®é¢˜ ä¸è¦å¯¹etc/sshç›®å½•ç›²ç›®æ‰©å¤§æƒé™ chmod 600 /etc/ssh/*key ä½¿ç”¨ssh -t æŸ¥çœ‹é—®é¢˜ lsof -i:22 ç¡®å®šæ˜¯å¦å¼€ç€\ncentos8 é‡è£…mysqlé—®é¢˜ 1ã€å¸è½½ ä¹‹å‰æ˜¯ç”¨yumå®‰è£…çš„ï¼Œç°åœ¨é€šè¿‡yumå»å¸è½½yum remove -y mysql find / -name mysql æ‰¾åˆ°æ®‹ç•™çš„æ–‡ä»¶ï¼Œå†é€šè¿‡rm -rfå»åˆ é™¤å¯¹åº”çš„æ–‡ä»¶\næ³¨æ„å°†æ‰€æœ‰æœ‰å…³çš„æ–‡ä»¶å…¨éƒ¨åˆ é™¤ï¼Œä¸ç„¶ä¼šæœ‰é—®é¢˜ï¼\n2ã€å®‰è£… yum update yum install mysql-server\nps -ef | grep mysql\nsystemctl start mysqld\nsystemctl enable mysqld\nsystemctl status mysqld\n3ã€ä¿®æ”¹rootç”¨æˆ·å¯†ç  ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç ã€‚\nalter user \u0026lsquo;root\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified by \u0026lsquo;password\u0026rsquo;\nåˆ·æ–°æƒé™\nflush privileges\n","date":"2022-08-02T09:16:05+08:00","permalink":"https://linjianshu.github.io/p/20220802%E5%AE%9E%E4%B9%A0%E8%BF%9B%E5%BA%A6%E6%B1%87%E6%8A%A5/","title":"20220802å®ä¹ è¿›åº¦æ±‡æŠ¥"},{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ dockerå¤ä¹  ç¼–è¯‘é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒä»“åº“ k8så­¦ä¹  (ä¹‹å‰éƒ½æ²¡æœ‰æ¥è§¦è¿‡ å­¦ä¹ çš„è¿›åº¦å¾ˆæ…¢) å°è¯•æ­å»ºminikubeç¯å¢ƒ/äº‘æœåŠ¡å™¨æ­å»ºkubernetesé›†ç¾¤/è£¸æœºæ­å»º ä¸‰ç§æ–¹å¼ è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.å¯¹demoç¼–å†™dockerfileé•œåƒç¼–è¯‘ 2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\nhttps://github.com/linjianshu/e-bookNew/tree/master\n3.ç¼–è¯‘é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒä»“åº“ ä»“åº“åœ°å€(ç§æœ‰) https://cr.console.aliyun.com/repository/cn-hangzhou/hfutie/e-book/details\nimage-20220729153325022\rdockerç™»å½•é˜¿é‡Œäº‘è´¦æˆ· pull imagesåˆ°Ecs dockerå†…è¿è¡Œ image-20220729153819033\rè¿è¡Œæˆªå›¾(ä¹±ç çš„é—®é¢˜æš‚æ—¶è¿˜æ²¡æœ‰è§£å†³) image-20220729153856705\r4.k8så­¦ä¹  å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡ è¿˜åœ¨çœ‹å­¦ä¹ èµ„æ–™ingğŸ˜¥\n5.å°è¯•æ­å»ºæœ¬æœºwsl minikubeç¯å¢ƒ/äº‘æœåŠ¡å™¨æ­å»ºkubernetesé›†ç¾¤/è£¸æœºæ­å»º ä¸‰ç§æ–¹å¼ è¿˜åœ¨æ­å»ºing\nå­˜åœ¨å“ªäº›é—®é¢˜: ç¼–è¯‘é•œåƒæ¨é€è‡³docker hub æ²¡æ¨é€ä¸Šå» æ¨åˆ°ä¸€åŠå°±å¡ä½äº†(æ¢æˆäº†æ¨é€è‡³é˜¿é‡Œäº‘) k8sé›†ç¾¤æ­å»ºé—®é¢˜(è¿˜åœ¨ç™¾åº¦ä¸­) æ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  æ­å»ºk8s k8så­¦ä¹  go webå¼€å‘ (æœ‰æ—¶é—´è¿›è¡Œä¿®ç¼® åŠŸèƒ½:ä¸Šä¼ æ–‡ä»¶åˆ é™¤ æ–‡ç« å®¡æ ¸ç­‰åŠŸèƒ½) dockeråˆ©ç”¨dockerfileå†™æ•°æ®å·æŒ‚è½½ æŠŠæœ‰æ•°æ®åº“ä¾èµ–çš„demoé•œåƒç¼–è¯‘ å°è¯•ç¼©å°é•œåƒå¤§å° ","date":"2022-07-29T14:54:20+08:00","permalink":"https://linjianshu.github.io/p/20220729%E5%AE%9E%E4%B9%A0%E8%BF%9B%E5%BA%A6%E6%B1%87%E6%8A%A5/","title":"20220729å®ä¹ è¿›åº¦æ±‡æŠ¥"},{"content":"Kuberneteså­¦ä¹ æ–‡æ¡£ ç‰¹æ€§ ç°åº¦æ›´æ–° ä¸å½±å“ä¸šåŠ¡æ­£å¸¸è¿è½¬ é«˜å¯ç”¨ ä¸å®•æœº è‡ªåŠ¨ç¾éš¾æ¢å¤ ä¸€é”®å›æ»šåˆ°å†å²ç‰ˆæœ¬ æ–¹ä¾¿çš„ä¼¸ç¼©æ‰©å±•(åº”ç”¨ä¼¸ç¼©,æœºå™¨åŠ å‡) æä¾›è´Ÿè½½å‡è¡¡ æœ‰ä¸€ä¸ªå®Œå–„çš„ç”Ÿæ€ ä¸åŒçš„åº”ç”¨éƒ¨ç½²æ–¹æ¡ˆ image-20220728092456835\rä¼ ç»Ÿéƒ¨ç½²æ–¹å¼: åº”ç”¨ç›´æ¥åœ¨ç‰©ç†æœºä¸Šéƒ¨ç½² æœºå™¨èµ„æºåˆ†é…ä¸å¥½æ§åˆ¶ å‡ºç°bugæ—¶ å¯èƒ½æœºå™¨çš„å¤§éƒ¨åˆ†èµ„æºè¢«æŸä¸ªåº”ç”¨å ç”¨ å¯¼è‡´å…¶ä»–åº”ç”¨æ— æ³•æ­£å¸¸è¿è¡Œ æ— æ³•åšåˆ°åº”ç”¨éš”ç¦» è™šæ‹Ÿæœºéƒ¨ç½² åœ¨å•ä¸ªç‰©ç†æœºä¸Šè¿è¡Œå¤šä¸ªè™šæ‹Ÿæœº æ¯ä¸ªè™šæ‹Ÿæœºéƒ½æ˜¯å®Œæ•´ç‹¬ç«‹çš„ç³»ç»Ÿ æ€§èƒ½æŸè€—å¤§ å®¹å™¨éƒ¨ç½² æ‰€æœ‰å®¹å™¨å…±äº«ä¸»æœºçš„ç³»ç»Ÿ è½»é‡çº§çš„è™šæ‹Ÿæœº æ€§èƒ½æŸè€—å° èµ„æºéš”ç¦» CPUå’Œå†…å­˜å¯æŒ‰éœ€åˆ†é… ä»€ä¹ˆæ—¶å€™éœ€è¦Kubernetes å½“åº”ç”¨åªæ˜¯è·‘åœ¨ä¸€å°æœºå™¨ ç›´æ¥ä¸€ä¸ªdocker+ docker-compose å°±å¤Ÿäº† æ–¹ä¾¿è½»æ¾ å½“åº”ç”¨éœ€è¦è·‘åœ¨3 4 å°æœºå™¨ ä¾æ—§å¯ä»¥æ¯å°æœºå™¨å•ç‹¬é…ç½®è¿è¡Œç¯å¢ƒ + è´Ÿè½½å‡è¡¡å™¨ å½“åº”ç”¨è®¿é—®æ•°ä¸æ–­å¢åŠ  æœºå™¨é€æ¸å¢åŠ åˆ°ä¸Šç™¾å° ä¸Šåƒå° æ¯æ¬¡åŠ æœºå™¨ è½¯ä»¶æ›´æ–° ç‰ˆæœ¬å›æ»š å°±ä¼šå˜å¾—éå¸¸éº»çƒ¦ è¿™æ—¶å€™å°±éœ€è¦kubernetes è½»æ¾ç®¡ç†ç™¾ä¸‡åƒä¸‡æœºå™¨çš„é›†ç¾¤ kubernetes å¯ä»¥ä¸ºä½ æä¾›é›†ä¸­å¼çš„ç®¡ç†é›†ç¾¤æœºå™¨çš„åº”ç”¨ åŠ æœºå™¨ ç‰ˆæœ¬å‡çº§ ç‰ˆæœ¬å›æ»šéƒ½æ˜¯ä¸€ä¸ªå‘½ä»¤å°±æå®šçš„äº‹æƒ… ä¸åœæœºçš„ç°åº¦æ›´æ–° ç¡®ä¿é«˜å¯ç”¨ é«˜æ€§èƒ½ ææ‰©å±• kubernetesé›†ç¾¤æ¶æ„ master\nä¸»èŠ‚ç‚¹ æ§åˆ¶å¹³å° ä¸éœ€è¦å¾ˆé«˜çš„æ€§èƒ½ ä¸è·‘ä»»åŠ¡ é€šå¸¸ä¸€ä¸ªå°±è¡Œäº† ä¹Ÿå¯ä»¥å¼€å¤šä¸ªä¸»èŠ‚ç‚¹æ¥æé«˜é›†ç¾¤çš„å¯ç”¨åº¦ worker\nå·¥ä½œèŠ‚ç‚¹ å¯ä»¥æ˜¯è™šæ‹Ÿæœºæˆ–ç‰©ç†è®¡ç®—æœº ä»»åŠ¡éƒ½åœ¨è¿™é‡Œè·‘ æœºå™¨æ€§èƒ½éƒ½éœ€è¦å¥½ç‚¹ é€šå¸¸æœ‰å¾ˆå¤šä¸ª å¯ä»¥ä¸æ–­åŠ æœºå™¨æ‰©å¤§é›†ç¾¤ æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ç”±ä¸»èŠ‚ç‚¹ç®¡ç† é‡è¦æ¦‚å¿µpod\nè±†èš k8sè°ƒåº¦ ç®¡ç†çš„æœ€å°å•ä½ ä¸€ä¸ªpodå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ æ¯ä¸ªpodéƒ½æœ‰è‡ªå·±çš„è™šæ‹ŸIP ä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªpod ä¸»èŠ‚ç‚¹ä¼šè€ƒé‡è´Ÿè½½è‡ªåŠ¨è°ƒåº¦podåˆ°å“ªä¸ªèŠ‚ç‚¹è¿è¡Œ image-20220728093657693\rkubernetesç»„ä»¶ kube-apiserver APIæœåŠ¡å™¨ å…¬å¼€äº†kubernetes API etcd é”®å€¼æ•°æ®åº“ å¯ä»¥ä½œä¸ºä¿å­˜ kubernetesæ‰€æœ‰é›†ç¾¤æ•°æ®çš„åå°æ•°æ®åº“ kube-scheduler è°ƒåº¦podåˆ°å“ªä¸ªèŠ‚ç‚¹è¿è¡Œ kube-controller é›†ç¾¤æ§åˆ¶å™¨ cloud-controller ä¸äº‘æœåŠ¡å•†äº¤äº’ image-20220728093942078\rå®‰è£…kubernetes\nminikubeå®‰è£… minikube start | minikube (k8s.io)\nå®‰è£…\nç¯å¢ƒå˜é‡é…ç½®\nå¯åŠ¨é›†ç¾¤\nminikube start æŸ¥çœ‹èŠ‚ç‚¹\nkubectl get node ","date":"2022-07-28T09:20:43+08:00","permalink":"https://linjianshu.github.io/p/kubernetes%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"Kuberneteså­¦ä¹ æ–‡æ¡£"},{"content":"æ•°å­—è§„å¾‹é¢˜ æ ‡åºåˆ—å· æŠŠå˜é‡å’Œåºåˆ—å·æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒçœ‹çœ‹ å…¬å› å¼æ³• æ‰¾å‡ºæœ€å°å…¬å› å¼ çœ‹çœ‹æœ‰æ— è§„å¾‹ å¯¹æ¯ä¸€ä½æ•°å‡å»ç¬¬ä¸€ä½æ•° æ›¿æ¢æ‰ç¬¬2\u0026hellip;.ä½ ç»“åˆä¸Šé¢çš„çœ‹çœ‹æœ‰æ— è§„å¾‹ å¯¹æ¯ä¸€ä½æ•°åŒæ—¶åŠ ä¸Š/ä¹˜ä»¥/é™¤ä»¥ç¬¬ä¸€ä½æ•° ç»“åˆä¸Šé¢çœ‹çœ‹æœ‰æ— è§„å¾‹ åŒæ—¶é™¤ä»¥1/2/3 åŠ æ³•å’Œå‡æ³•å¯èƒ½æ€§ç¨å¤§ èƒ½å¦åˆ†æˆå¥‡æ•°å’Œå¶æ•°æ•°ç»„ çœ‹å¢å¹… æ˜¯å¦æœ‰è§„å¾‹ +1 +2 +4 +8 ç­‰æ¯”æˆ–è€…ç­‰å·® å‰ä¸¤ä¸ªå’Œ/ç§¯æ˜¯åä¸€ä¸ª ç±»æ–æ³¢é‚£å¥‘æ•°åˆ— å‰ä¸€ä¸ªæ•°æ˜¯åä¸€ä¸ªæ•°çš„æ¯”ä¾‹å…³ç³» å›¾å½¢æ¨ç†é¢˜ æ˜¯å¦é—´éš”æ’åˆ—æˆ–è€…å¯¹ç§°æ’åˆ— å¯»æ‰¾å…±åŒç‰¹å¾ é¡ºæ—¶é’ˆ/é€†æ—¶é’ˆ å˜åŒ– ç™½*é»‘=ç™½ é‡åˆçš„é¢˜ç›® å¯¹ç§°ä¸ä¸å¯¹ç§° è½´å¯¹ç§°ä¸ä¸­å¿ƒå¯¹ç§° åˆ‡å‰²ä¸‰è§’å½¢ ç›¸äº¤ç›¸åˆ‡ ä¸€å…¨ä¸€åŠ å åŠ  æ±‚åŒå­˜å¼‚ ç›¸å¯¹ä½ç½® å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ ","date":"2022-07-23T11:52:38+08:00","permalink":"https://linjianshu.github.io/p/%E8%A1%8C%E4%B8%BA%E8%AE%A4%E7%9F%A5%E6%B5%8B%E8%AF%84%E6%8A%80%E5%B7%A7/","title":"è¡Œä¸ºè®¤çŸ¥æµ‹è¯„æŠ€å·§"},{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ dockerå­¦ä¹  å¯¹demoç¼–å†™dockerfileé•œåƒç¼–è¯‘ ç¼–è¯‘é•œåƒæ¨é€è‡³docker hub k8så­¦ä¹  (ä¹‹å‰éƒ½æ²¡æœ‰æ¥è§¦è¿‡ å­¦ä¹ çš„è¿›åº¦å¾ˆæ…¢) è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.å¯¹demoç¼–å†™dockerfileé•œåƒç¼–è¯‘ 2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\n3.å¯¹é¡¹ç›®ä»£ç è¿›è¡Œç®€å•çš„gitç‰ˆæœ¬ç®¡ç† å¢åŠ dockerfile\nhttps://github.com/linjianshu/e-bookNew/tree/master\n4.ç¼–è¯‘é•œåƒæ¨é€è‡³docker hub https://hub.docker.com/repositories\n5.k8så­¦ä¹  å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡ è¿˜åœ¨çœ‹å­¦ä¹ èµ„æ–™ingğŸ˜¥\nå­˜åœ¨å“ªäº›é—®é¢˜: ç›®å‰æ˜¯è‡ªå·±å®‰æ’ä»»åŠ¡ç»™è‡ªå·±åš æ˜¯å·²ç»å­¦è¿‡çš„çŸ¥è¯† ä½†ä¸çŸ¥é“æœ‰å“ªäº›çŸ¥è¯†ä¼ä¸šç”¨åˆ°çš„åå¤š å¸Œæœ›å¯¼å¸ˆç»™ä¸€ç‚¹æ„è§ æŒ‡å®šä¸€ä¸‹å¤ä¹ çš„é‡ç‚¹æˆ–è€…æä¾›æ–¹å‘ æˆ‘å¯ä»¥è‡ªå­¦æ–°çŸ¥è¯† é•œåƒæ„å»ºä¹‹åå¥½å¤§ å°è¯•è¿‡é™ä½ä½†æ˜¯æ— æœ image-20220722012320673\rdocker buildè¦å¥½ä¹… è¯·é—®è€å¸ˆæœ‰ç¼©çŸ­æ—¶é—´çš„æ–¹æ¡ˆå— image-20220722012642439\rç³»ç»Ÿä¸­æ–‡ä¹±ç  æš‚æ—¶è¿˜ä¸çŸ¥é“æ€ä¹ˆæ”¹æˆä¸­æ–‡(é€šè¿‡dockerfile) image-20220722012530906\rimage-20220722012552117\ræ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  mysqlå¤ä¹  å¬å¯¼å¸ˆçš„å®‰æ’ç»§ç»­å­¦ä¹  æ­å»ºk8s go webå¼€å‘ (æœ‰æ—¶é—´è¿›è¡Œä¿®ç¼® åŠŸèƒ½:ä¸Šä¼ æ–‡ä»¶åˆ é™¤ æ–‡ç« å®¡æ ¸ç­‰åŠŸèƒ½) dockeråˆ©ç”¨dockerfileå†™æ•°æ®å·æŒ‚è½½ æŠŠæœ‰æ•°æ®åº“ä¾èµ–çš„demoé•œåƒç¼–è¯‘ å°è¯•ç¼©å°é•œåƒå¤§å° é˜¿é‡Œäº‘æœåŠ¡å™¨è¿è¡Œé•œåƒ ","date":"2022-07-22T01:13:49+08:00","permalink":"https://linjianshu.github.io/p/20220722%E5%AE%9E%E4%B9%A0%E8%BF%9B%E5%BA%A6%E6%B1%87%E6%8A%A5/","title":"20220722å®ä¹ è¿›åº¦æ±‡æŠ¥"},{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: go webå¼€å‘ (ä½¿ç”¨gormæ¡†æ¶å¢åŠ è®ºå›æ¨¡å— ç”¨æˆ·ç™»å½•æƒé™æ¨¡å—) hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ linuxä¸­mysqlé‡è£…(ç”±äºä¹‹å‰mysqlè¢«é»‘äº†) dockerå­¦ä¹  ä¹‹å‰è€å¸ˆçš„ä»£ç æŒ‡ç‚¹ å·²ç»åšäº†ä¿®ç¼® ä¸çŸ¥é“å¯ä¸å¯è¡Œ å·²ç»åˆ—åœ¨mainå‡½æ•°çš„TODOä¸­äº† è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.go webå¼€å‘(ä½¿ç”¨ginæ¡†æ¶ äº†è§£å¸¸ç”¨api) äº†è§£äº†gormæ¡†æ¶å¸¸ç”¨çŸ¥è¯†ç‚¹ CRUD é«˜çº§ç‰¹æ€§è¿˜æ²¡æœ‰äº†è§£ ä½¿ç”¨gormæ“çºµmysqlæ•°æ®åº“ éƒ¨ç½²è‡³é˜¿é‡Œäº‘ ä¾›å…¬ç½‘è®¿é—® (http://118.178.236.128:7777/index) ç›®å‰æ–‡ä»¶åˆ é™¤ åšå®¢åˆ é™¤å’Œå®¡æ ¸è¿˜æ²¡åš éƒ¨åˆ†å­˜åœ¨bug image-20220721015655812\r2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\n3.å¯¹é¡¹ç›®ä»£ç è¿›è¡Œç®€å•çš„gitç‰ˆæœ¬ç®¡ç† https://github.com/linjianshu/e-book-Gin\n4.linuxä¸­mysqlé‡è£…(ç”±äºä¹‹å‰mysqlè¢«é»‘äº†) 5.ä»£ç æŒ‡ç‚¹å·²åšäº†ä¿®ç¼® ä¸çŸ¥é“å¯ä¸å¯è¡Œ å­˜åœ¨å“ªäº›é—®é¢˜: ç›®å‰æ˜¯è‡ªå·±å®‰æ’ä»»åŠ¡ç»™è‡ªå·±åš æ˜¯å·²ç»å­¦è¿‡çš„çŸ¥è¯† ä½†ä¸çŸ¥é“æœ‰å“ªäº›çŸ¥è¯†ä¼ä¸šç”¨åˆ°çš„åå¤š å¸Œæœ›å¯¼å¸ˆç»™ä¸€ç‚¹æ„è§ æŒ‡å®šä¸€ä¸‹å¤ä¹ çš„é‡ç‚¹æˆ–è€…æä¾›æ–¹å‘ æˆ‘å¯ä»¥è‡ªå­¦æ–°çŸ¥è¯† éƒ¨åˆ†å­˜åœ¨bug éœ€è¦å†è¿›è¡Œå®Œå–„ æ²¡æœ‰æŒæ¡webæµ‹è¯•çš„æŠ€èƒ½ Db.Model(\u0026amp;Session{}).Where(\u0026ldquo;user_id = ?\u0026quot;,user.Id) åº•å±‚çš„sqlè¯­å¥ä¼šä¸ä¼šselect * å‘€? æ¡†æ¶ä¼šä¸ä¼šè‡ªåŠ¨ä¼˜åŒ–? æµ‹è¯•ç”¨çš„å¾ˆåˆ«æ‰­ è¿˜æ˜¯å¾—çœ‹æ•°æ®åº“æœ‰æ²¡æœ‰æ•°æ®å¤šäº†æˆ–è€…å°‘äº† testçš„æ—¶å€™ æœ‰æ—¶å€™ä¼šå¯¹æ•°æ®åº“è¿›è¡Œæ–°å¢åˆ é™¤å’Œä¿®æ”¹ æ˜¯å¦éœ€è¦æŒæ¡æµ‹è¯•çš„ä¸œè¥¿ ? æ¯”å¦‚æ¡©ä»£ç å’Œmonoæ¨¡æ‹Ÿæµ‹è¯•ä¹‹ç±»çš„æŠ€èƒ½ ? ä¼ä¸šåç«¯çš„å²—ä½éœ€è¦ç”¨åˆ°æµ‹è¯•å˜›? logé‚£ä¸€å—æ²¡æœ‰ä½¿ç”¨åˆ«äººçš„åº“ è‡ªå·±å†™äº†ä¸€ä¸ªæ˜¯ä¸æ˜¯å·²ç»å¼„å·§æˆæ‹™äº† éº»çƒ¦è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ åç»­æˆ‘æ”¹æˆåˆ«äººçš„åº“ä¼˜åŒ–ä¸€ä¸‹ æ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  mysqlå¤ä¹  å¬å¯¼å¸ˆçš„å®‰æ’ç»§ç»­å­¦ä¹  æ­å»ºk8s ","date":"2022-07-21T01:50:14+08:00","permalink":"https://linjianshu.github.io/p/20220720%E5%AE%9E%E4%B9%A0%E5%B7%A5%E4%BD%9C%E8%BF%9B%E5%BA%A6%E6%B1%87%E6%8A%A5/","title":"20220720å®ä¹ å·¥ä½œè¿›åº¦æ±‡æŠ¥"},{"content":" ç®—æ³•\næ ‘ å¹³è¡¡äºŒå‰æ ‘ é•œåƒäºŒå‰æ ‘ æœ€ä½å…¬å…±ç¥–å…ˆ å‰åºåç»­ä¾¿åˆ©æ„é€ äºŒå‰æ ‘ èŠ‚ç‚¹å’Œç­‰äºæ•´æ•°çš„è·¯å¾„ ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€é•¿è·ç¦» äºŒå‰æŸ¥æ‰¾æ ‘ é“¾è¡¨ å¥‡å‡å¶é™ å¦‚ä½•æœ‰åº æ•°ç»„ äºŒç»´æ•°ç»„æ—‹è½¬90Â° 2sumé—®é¢˜ ä½è¿ç®— åŠ¨æ€è§„åˆ’ èƒŒåŒ…é—®é¢˜ 0-1 èƒŒåŒ…é—®é¢˜ å®Œå…¨ æ’åº å¤æ‚åº¦ å†’æ³¡ æ’å…¥ å½’å¹¶ å¿«æ’ å¸Œå°” å †æ’åº åŸºæ•°æ’åº æ¡¶æ’åº å¦‚ä½•æ±‚ä¸­ä½æ•° å¤§æ ¹å †ä¸å°æ ¹å † ä¼˜å…ˆé˜Ÿåˆ— å•è°ƒæ ˆ å•è°ƒé˜Ÿåˆ— æ¥é›¨æ°´ æœ€å¤§çŸ©å½¢ æ»‘åŠ¨çª—å£ äºŒåˆ† DFS BFS é€’å½’ å›æº¯ LRU è¾…åŠ©æ ˆ å¹¶æŸ¥é›† å †æ ˆ\nå†…å­˜ä¸­çš„å †ã€æ ˆã€é™æ€åŒº ","date":"2022-07-18T16:34:40+08:00","permalink":"https://linjianshu.github.io/p/%E9%9D%A2%E8%AF%95%E8%96%84%E5%BC%B1%E5%A4%8D%E4%B9%A0/","title":"é¢è¯•è–„å¼±å¤ä¹ "},{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: go webå¼€å‘ (ä½¿ç”¨ginæ¡†æ¶é‡æ„ä¸Šæ¬¡çš„webç¨‹åº) hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ linuxæ›´æ–°äº†gosdkè‡³1.18 è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.go webå¼€å‘(ä½¿ç”¨ginæ¡†æ¶ äº†è§£å¸¸ç”¨api) äº†è§£äº†ginæ¡†æ¶å¸¸ç”¨çŸ¥è¯†ç‚¹ ä½¿ç”¨ginæ¡†æ¶é‡æ„ä¸Šæ¬¡çš„demo éƒ¨ç½²è‡³é˜¿é‡Œäº‘ ä¾›å…¬ç½‘è®¿é—® (http://118.178.236.128:7777/index) ç›®å‰ä»…å®ŒæˆæŸ¥æ‰¾å’Œä¸Šä¼  åˆ é™¤è¿˜æ²¡åš 1658112111377\r2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\n3.å¯¹é¡¹ç›®ä»£ç è¿›è¡Œç®€å•çš„gitç‰ˆæœ¬ç®¡ç† https://github.com/linjianshu/e-book-Gin\n4.linuxæ›´æ–°äº†go-sdkè‡³1.18 gostudyç½‘ç«™ä¸­ä¸‹è½½linux-amd64å‹ç¼©åŒ…=\u0026gt;ecsä¸­è§£å‹=\u0026gt;åˆ é™¤åŸå…ˆ1.13çš„æ–‡ä»¶å¤¹=\u0026gt;æŠŠè§£å‹çš„å†…å®¹ä¸¢è¿›å»=\u0026gt;æ›´æ–°/etc/profile=\u0026gt;åˆ·æ–°profile source /etc/profile=\u0026gt;éªŒè¯ go version\nä¸çŸ¥é“æœ‰æ²¡æœ‰ç®€å•çš„åšæ³•\n1658110937384\rå­˜åœ¨å“ªäº›é—®é¢˜: ç›®å‰æ˜¯è‡ªå·±å®‰æ’ä»»åŠ¡ç»™è‡ªå·±åš æ˜¯å·²ç»å­¦è¿‡çš„çŸ¥è¯† ä½†ä¸çŸ¥é“æœ‰å“ªäº›çŸ¥è¯†ä¼ä¸šç”¨åˆ°çš„åå¤š å¸Œæœ›å¯¼å¸ˆç»™ä¸€ç‚¹æ„è§ æŒ‡å®šä¸€ä¸‹å¤ä¹ çš„é‡ç‚¹æˆ–è€…æä¾›æ–¹å‘ æˆ‘å¯ä»¥è‡ªå­¦æ–°çŸ¥è¯† ginæ¡†æ¶é€šå¸¸é…åˆå‰ç«¯ä»€ä¹ˆæŠ€æœ¯å‘€?è¿˜æ˜¯è¯´ç›´æ¥ä½¿ç”¨gotemplateå˜›? ä¸‹è½½åŠŸèƒ½å¯ä»¥å®ç° ä½†æ˜¯çœ‹æ—¥å¿—å‘ç°è°ƒç”¨äº†ä¸‰æ¬¡ æœ€åä¸€æ¬¡æ‰å®Œæˆä¼ è¾“ å‰é¢ä¸¤æ¬¡æ˜¯broken pipe è¯·é—®è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å‘€? 1658109545148\ræ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  mysqlå­¦ä¹  å¬å¯¼å¸ˆçš„å®‰æ’ç»§ç»­å­¦ä¹  ä½¿ç”¨gormå’Œgoæ“çºµæ•°æ®åº“ (æµè§ˆä¹‹å‰é¡¹ç›®ä»£ç å°è¯•æ‰‹åŠ¨æ„å»ºè¢«é»‘æ•°æ®åº“è¡¨ç»“æ„ å°è¯•ä½¿ç”¨gormé‡æ„sql ä½¿ç”¨giné‡æ„httpè°ƒç”¨) ","date":"2022-07-18T15:10:39+08:00","permalink":"https://linjianshu.github.io/p/%E5%AE%9E%E4%B9%A0%E5%B0%8F%E7%BB%9320220718/","title":"å®ä¹ å°ç»“20220718"},{"content":" å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: go webå¼€å‘ (ä½¿ç”¨ginæ¡†æ¶é‡æ„ä¸Šæ¬¡çš„webç¨‹åº) hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ linuxæ›´æ–°äº†gosdkè‡³1.18 è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.go webå¼€å‘(ä½¿ç”¨ginæ¡†æ¶ äº†è§£å¸¸ç”¨api) äº†è§£äº†ginæ¡†æ¶å¸¸ç”¨çŸ¥è¯†ç‚¹ ä½¿ç”¨ginæ¡†æ¶é‡æ„ä¸Šæ¬¡çš„demo éƒ¨ç½²è‡³é˜¿é‡Œäº‘ ä¾›å…¬ç½‘è®¿é—® (http://118.178.236.128:7777/index) ç›®å‰ä»…å®ŒæˆæŸ¥æ‰¾å’Œä¸Šä¼  åˆ é™¤è¿˜æ²¡åš 1658112111377\r2.ä½¿ç”¨hugoæ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µ githubä¸»é¡µ (linjianshu.github.io)\n3.å¯¹é¡¹ç›®ä»£ç è¿›è¡Œç®€å•çš„gitç‰ˆæœ¬ç®¡ç† https://github.com/linjianshu/e-book-Gin\n4.linuxæ›´æ–°äº†go-sdkè‡³1.18 gostudyç½‘ç«™ä¸­ä¸‹è½½linux-amd64å‹ç¼©åŒ…=\u0026gt;ecsä¸­è§£å‹=\u0026gt;åˆ é™¤åŸå…ˆ1.13çš„æ–‡ä»¶å¤¹=\u0026gt;æŠŠè§£å‹çš„å†…å®¹ä¸¢è¿›å»=\u0026gt;æ›´æ–°/etc/profile=\u0026gt;åˆ·æ–°profile source /etc/profile=\u0026gt;éªŒè¯ go version\nä¸çŸ¥é“æœ‰æ²¡æœ‰ç®€å•çš„åšæ³•\n1658110937384\rå­˜åœ¨å“ªäº›é—®é¢˜: ç›®å‰æ˜¯è‡ªå·±å®‰æ’ä»»åŠ¡ç»™è‡ªå·±åš æ˜¯å·²ç»å­¦è¿‡çš„çŸ¥è¯† ä½†ä¸çŸ¥é“æœ‰å“ªäº›çŸ¥è¯†ä¼ä¸šç”¨åˆ°çš„åå¤š å¸Œæœ›å¯¼å¸ˆç»™ä¸€ç‚¹æ„è§ æŒ‡å®šä¸€ä¸‹å¤ä¹ çš„é‡ç‚¹æˆ–è€…æä¾›æ–¹å‘ æˆ‘å¯ä»¥è‡ªå­¦æ–°çŸ¥è¯† ginæ¡†æ¶é€šå¸¸é…åˆå‰ç«¯ä»€ä¹ˆæŠ€æœ¯å‘€?è¿˜æ˜¯è¯´ç›´æ¥ä½¿ç”¨gotemplateå˜›? ä¸‹è½½åŠŸèƒ½å¯ä»¥å®ç° ä½†æ˜¯çœ‹æ—¥å¿—å‘ç°è°ƒç”¨äº†ä¸‰æ¬¡ æœ€åä¸€æ¬¡æ‰å®Œæˆä¼ è¾“ å‰é¢ä¸¤æ¬¡æ˜¯broken pipe è¯·é—®è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å‘€? 1658109545148\ræ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  mysqlå­¦ä¹  å¬å¯¼å¸ˆçš„å®‰æ’ç»§ç»­å­¦ä¹  ä½¿ç”¨gormå’Œgoæ“çºµæ•°æ®åº“ (æµè§ˆä¹‹å‰é¡¹ç›®ä»£ç å°è¯•æ‰‹åŠ¨æ„å»ºè¢«é»‘æ•°æ®åº“è¡¨ç»“æ„ å°è¯•ä½¿ç”¨gormé‡æ„sql ä½¿ç”¨giné‡æ„httpè°ƒç”¨) ","date":"2022-07-17T23:48:18+08:00","permalink":"https://linjianshu.github.io/p/%E5%AE%9E%E4%B9%A0%E5%B0%8F%E7%BB%9320220718/","title":"å®ä¹ å°ç»“20220718"},{"content":"å®ä¹ è¿›åº¦æ±‡æŠ¥ è¿™å‡ å¤©åœ¨åšä»€ä¹ˆ: ç¯å¢ƒæ­å»º restful apiå¼€å‘ go webå¼€å‘ (åŸç”Ÿapi) hugo æ›´æ–°å®ä¹ æ—¥è®°è‡³githubä¸»é¡µä¸Š gitä»£ç ç®¡ç† ä¸Šä¼ demoæ–¹ä¾¿å¯¼å¸ˆæ£€æŸ¥ è¿™äº›äº‹æƒ…çš„è¿›åº¦: 1.ç¯å¢ƒæ­å»º windowsç«¯ å®‰è£…äº†Go sdkå’Œ GoLand IDE é…ç½®å¥½äº†ç¯å¢ƒå˜é‡ å®‰è£…äº†docker è¿˜æœªå¼€å§‹ä½¿ç”¨ 1657867093520\rWSL-Linuxç«¯ ubuntu å®‰è£…äº†Go sdk 1657867136423\ré˜¿é‡Œäº‘ECS-Linux ubuntu å®‰è£…äº†Go sdk 1657867231001\r2.restful apiå¼€å‘ (åœ¨3ä¸­) 3.go webå¼€å‘ å¤ä¹ äº†go webçŸ¥è¯† ç®€å•ç¼–å†™go æ–‡ä»¶æœåŠ¡å™¨ éƒ¨ç½²è‡³é˜¿é‡Œäº‘ ä¾›å…¬ç½‘è®¿é—® (http://118.178.236.128:9876/index) ç›®å‰ä»…å®ŒæˆæŸ¥æ‰¾å’Œä¸Šä¼  åˆ é™¤è¿˜æ²¡åš 1657868172601\r4.å¯¹é¡¹ç›®ä»£ç è¿›è¡Œç®€å•çš„gitç‰ˆæœ¬ç®¡ç† https://github.com/linjianshu/e-bookNew\nå­˜åœ¨å“ªäº›é—®é¢˜: ç›®å‰æ˜¯è‡ªå·±å®‰æ’ä»»åŠ¡ç»™è‡ªå·±åš æ˜¯å·²ç»å­¦è¿‡çš„çŸ¥è¯† ä½†ä¸çŸ¥é“æœ‰å“ªäº›çŸ¥è¯†ä¼ä¸šç”¨åˆ°çš„åå¤š å¸Œæœ›å¯¼å¸ˆç»™ä¸€ç‚¹æ„è§ æŒ‡å®šä¸€ä¸‹å¤ä¹ çš„é‡ç‚¹æˆ–è€…æä¾›æ–¹å‘ æˆ‘å¯ä»¥è‡ªå­¦æ–°çŸ¥è¯† GoLandè¿›è¡Œgowebå¼€å‘çš„æ—¶å€™ è°ƒè¯•çš„æ—¶å€™æ‰“å¼€htmlæ–‡ä»¶æ€»ä¼šåœ¨srcä¸‹æ‰“å¼€ å¾€å¾€æ˜¯page no found(å› ä¸ºæ–‡ä»¶åœ¨é¡¹ç›®æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹è€Œä¸æ˜¯åœ¨srcçš„æ ¹ç›®å½•ä¸‹ é€šå¸¸æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯1.ç›´æ¥go buildç„¶åæ‰“å¼€ç”Ÿæˆçš„exe ä½†æ˜¯è¿™æ ·åšä¸äº†è°ƒè¯•2.æŠŠé¡¹ç›®çš„htmlæ‹·è´åˆ°srcçš„æ ¹ç›®å½•ä¸‹ è¿™æ˜¯IDEä¸­çš„è®¾ç½®é—®é¢˜å—è¿˜æ˜¯? vscodeå¥½åƒå°±å¯ä»¥ç›´æ¥ç¼–è¯‘è¿è¡Œå‡ºç•Œé¢) å†™çš„æ—¶å€™å¾ˆæ½¦è‰ å¯¼å¸ˆèƒ½å¦ç»™ä¸€äº›æŒ‡å¯¼æ–¹æ¡ˆ æˆ–è€…ä¼˜åŒ–æ–¹æ¡ˆæˆ–è€…ç¼–ç è§„èŒƒ é”™è¯¯å¤„ç†å¾ˆéš¾çœ‹ ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆä¸€å±‚ä¸€å±‚å¾€ä¸Šå¤„ç† ç»å¸¸æ€§éœ€è¦å¯¹errè¿›è¡Œåˆ¤æ–­ å¯¹webåº”ç”¨çš„åŠŸèƒ½èƒ½å¦æä¸€äº›ç®€å•çš„åŠŸèƒ½æˆ–è€…ä¿®æ”¹æˆ–è€…UIä¸Šçš„å»ºè®® æˆ‘å¯ä»¥è¿›ä¸€æ­¥æ…¢æ…¢å®Œå–„ ä¹‹å‰åšçš„è®ºå›webå’Œå…¶ä»–çš„åº”ç”¨ç¨‹åº åº•å±‚ä¾èµ–çš„äº‘æœåŠ¡å™¨mysqlæ•°æ®åº“ç»™äººé»‘äº† å¯¼å¸ˆçŸ¥é“æ€ä¹ˆè¿›è¡Œæ¢å¤å˜›? ä»¥ååº”è¯¥æ€ä¹ˆé˜²æ­¢è¢«é»‘(è¢«é»‘äº†ä¹‹å hackerç›´æ¥æŠŠrootæƒé™ç»™æ”¹äº† ç°åœ¨æ–°å¢ä¸äº†æ•°æ®åº“ åˆ é™¤ä¸äº†è¿™ä¸ªæ•°æ®åº“ ä¹‹å‰æ²¡æœ‰åšå¤‡ä»½ å¥½åƒé€šè¿‡bin-logè¿˜åŸä¸å›æ¥) 1657902600597\r1657902791284\ré˜¿é‡Œäº‘æœåŠ¡å™¨é‡ŒGo sdkç‰ˆæœ¬æ˜¯1.13 æœ‰äº›apiä½¿ç”¨ä¸äº†å¦‚ä½•æ›´æ–°è‡³1.18 ç½‘ä¸Šçš„è§£å†³æ–¹æ¡ˆæ˜¯å¸è½½æ‰é‡è£…ğŸ«¥ æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³• æ‰“ç®—æ¥ä¸‹æ¥åšä»€ä¹ˆ: å®¹å™¨æŠ€æœ¯å­¦ä¹  mysqlå­¦ä¹  å¬å¯¼å¸ˆçš„å®‰æ’ç»§ç»­å­¦ä¹  ä½¿ç”¨gormå’Œgoæ“çºµæ•°æ®åº“ äº†è§£ginæ¡†æ¶ ä½¿ç”¨giné‡æ„æ–‡ä»¶ç®¡ç†webåº”ç”¨ç¨‹åº ","date":"2022-07-15T15:10:39+08:00","permalink":"https://linjianshu.github.io/p/%E5%AE%9E%E4%B9%A0%E5%B0%8F%E7%BB%9320220714/","title":"å®ä¹ å°ç»“20220714"},{"content":"Goæ¨¡ç‰ˆä¸BootStrap3ä½¿ç”¨ Goæ¨¡ç‰ˆçœ‹äº†è€å®¹æ˜“å¿˜è®°,ä»Šå¤©æ­£å¥½é¡¹ç›®ä¸Šå·¥è‰ºéƒ¨é—¨æƒ³è¦å®‰å…¨ä»¶çš„è§£æè§„åˆ™æ¸…å•,æˆ‘æƒ³ç€ç”¨.netå¼€å‘è¿˜ä¸å¦‚ç”¨Goæ¨¡ç‰ˆ+Bootstrapæ¥ä¸ªæœ€ä½³å®è·µå¾—äº†.ç»“æœåœ¨å…¬å¸å¤šåŠ ç­äº†åŠå°æ—¶ : )\næˆå“æ ·å›¾ image-20220307001641199\rå®ç°äº†æœç´¢åŠŸèƒ½ éš”è¡Œå˜è‰² å…¶ä»–çš„è¡¨å¤´æ’åºè¿˜åœ¨ç ”ç©¶ä¸­\næ–‡ä»¶ç»“æ„ image-20220307001737794\rimage-20220307001747021\rç®€å•çš„ ä¸€ä¸ªmain.go ä¸€ä¸ªhtml(bootstrap.htmlæ²¡ç”¨ ä½œä¸ºå‚è€ƒ) å‡ å¼ å›¾ç‰‡æ‹¼å‡‘æ‹¼å‡‘\nå®ç°æ­¥éª¤ è¿æ¥æ•°æ®åº“ oracle æ„é€ ç»“æ„ä½“å®Œæˆæ•°æ®åº“çš„æ•°æ®æ˜ å°„é—®é¢˜ image-20220307002353869\rpackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/mattn/go-oci8\u0026#34; \u0026#34;html/template\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; \u0026#34;path/filepath\u0026#34; \u0026#34;time\u0026#34; ) type Items struct { ROW_NUM string PART_CODE string PART_NAME string PART_MODEL_NO sql.NullString PART_PLATFORM string PART_ABB string RESERVE07 string } var DB *sql.DB func DBconnect() { var err error //goè¿æ¥mysqlå®ä¾‹ //æ•°æ®åº“æºä¿¡æ¯ dsn := \u0026#34;éšè—\u0026#34; //è¿æ¥æ•°æ®åº“ DB, err = sql.Open(\u0026#34;oci8\u0026#34;, dsn) //ä¸ä¼šæ ¡éªŒç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡® if err != nil { log.Fatal(err) } err = DB.Ping() if err != nil { time.Sleep(5 * time.Minute) DBconnect() } return } æ ¹æ®Go Templateè¯­æ³•ä¹¦å†™htmlä»£ç  image-20220307002733907\rä½¿ç”¨ç®€å•çš„ range . å’Œ .Row_numçš„è¿­ä»£å’Œ.æ–¹æ³• å¹¶ä½¿ç”¨äº†bootstrapçš„link\rimage-20220307002825445\rä¸»å‡½æ•°è§£ææ¨¡ç‰ˆ ä¹¦å†™ç›¸åº”å¤„ç†å‡½æ•° å›ä¼ æ•°æ®å®Œæˆæ¸²æŸ“ image-20220307002922090\rt := template.Must(template.ParseFiles(\u0026#34;template.html\u0026#34;)) // FileServerè¿”å›ä¸€ä¸ªä½¿ç”¨FileSystemæ¥å£rootæä¾›æ–‡ä»¶è®¿é—®æœåŠ¡çš„HTTPå¤„ç†å™¨ file, _ := exec.LookPath(os.Args[0]) //å¾—åˆ°å…¨è·¯å¾„ï¼Œæ¯”å¦‚åœ¨windowsä¸‹E:\\\\golang\\\\test\\\\a.exe path, _ := filepath.Abs(file) rst := filepath.Dir(path) http.Handle(\u0026#34;/\u0026#34;, http.FileServer(http.Dir(rst))) ä¸»å‡½æ•°ä¹¦å†™å¤„ç†å‡½æ•° å¤„ç†ç•Œé¢è·³è½¬ å‘å¸ƒç«¯å£ç›‘å¬æœåŠ¡ image-20220307002539437\rè¿™ä¸ªå‡½æ•°å®Œæˆæ£€ç´¢æ•°æ® å¹¶æ¸²æŸ“åˆ°ç•Œé¢ä¸Šçš„åŠŸèƒ½ tå°±æ˜¯æ¨¡ç‰ˆ\nt := template.Must(template.ParseFiles(\u0026#34;template.html\u0026#34;)) //æ£€ç´¢æ‰€æœ‰ http.HandleFunc(\u0026#34;/CheckPart\u0026#34;, func(writer http.ResponseWriter, request *http.Request) { DBconnect() s := make([]Items, 0) if DB == nil { fmt.Fprintln(writer, \u0026#34;sry , please try again ...\u0026#34;) return } rows, err2 := DB.Query(\u0026#34;select ROWNUM, PART_CODE ,PART_NAME ,PART_MODEL_NO,PART_PLATFORM ,PART_ABB ,case RESERVE07 when \u0026#39;æ˜¯\u0026#39; then \u0026#39;é»˜è®¤è§„åˆ™\u0026#39; when \u0026#39;å¦\u0026#39; then \u0026#39;ä¸è§£æ\u0026#39; else Reserve07 end RESERVE07 from part where PART_NAME like \u0026#39;%AQJ%\u0026#39;\u0026#34;) if err2 != nil { fmt.Fprintln(writer, \u0026#34;sry , please try again ...\u0026#34;) return } for rows.Next() { i := new(Items) rows.Scan(\u0026amp;i.ROW_NUM, \u0026amp;i.PART_CODE, \u0026amp;i.PART_NAME, \u0026amp;i.PART_MODEL_NO, \u0026amp;i.PART_PLATFORM, \u0026amp;i.PART_ABB, \u0026amp;i.RESERVE07) s = append(s, *i) } err2 = t.Execute(writer, s) if err2 != nil { panic(err2) } }) //æŸ¥è¯¢ http.HandleFunc(\u0026#34;/Search\u0026#34;, func(writer http.ResponseWriter, request *http.Request) { m := make(map[string]string) m[\u0026#34;é»˜è®¤è§„åˆ™\u0026#34;] = \u0026#34;æ˜¯\u0026#34; m[\u0026#34;ä¸è§£æ\u0026#34;] = \u0026#34;å¦\u0026#34; request.ParseForm() value := request.FormValue(\u0026#34;keyword\u0026#34;) if v, ok := m[value]; ok { value = v } value = \u0026#34;%\u0026#34; + value + \u0026#34;%\u0026#34; DBconnect() s := make([]Items, 0) query, err := DB.Query(\u0026#34;select ROWNUM, PART_CODE ,PART_NAME ,PART_MODEL_NO,PART_PLATFORM ,PART_ABB ,case RESERVE07 when \u0026#39;æ˜¯\u0026#39; then \u0026#39;é»˜è®¤è§„åˆ™\u0026#39; when \u0026#39;å¦\u0026#39; then \u0026#39;ä¸è§£æ\u0026#39; else Reserve07 end RESERVE07 from part where PART_NAME like \u0026#39;%AQJ%\u0026#39; and (part_code like :1 or part_name like :2 or part_model_no like :3 or part_platform like :4 or part_abb like :5 or reserve07 like :6)\u0026#34;, value, value, value, value, value, value) if err != nil { panic(err) return } for query.Next() { i := new(Items) query.Scan(\u0026amp;i.ROW_NUM, \u0026amp;i.PART_CODE, \u0026amp;i.PART_NAME, \u0026amp;i.PART_MODEL_NO, \u0026amp;i.PART_PLATFORM, \u0026amp;i.PART_ABB, \u0026amp;i.RESERVE07) s = append(s, *i) } err2 := t.Execute(writer, s) if err2 != nil { panic(err2) } }) //ç›‘å¬ç«¯å£ å‘å¸ƒæœåŠ¡ server := http.Server{ Addr: \u0026#34;:8081\u0026#34;, Handler: nil, TLSConfig: nil, ReadTimeout: 0, ReadHeaderTimeout: 0, WriteTimeout: 0, IdleTimeout: 0, MaxHeaderBytes: 0, TLSNextProto: nil, ConnState: nil, ErrorLog: nil, BaseContext: nil, ConnContext: nil, } log.Println(server.ListenAndServe()) ","date":"2022-03-06T23:56:51+08:00","permalink":"https://linjianshu.github.io/p/gotemplateandbootstrap3/","title":"GoTemplateAndBootStrap3"},{"content":"æ‰¾å·¥ä½œç›¸å…³ github.com\nimage-20220215111209406\rimage-20220215111227477\rimage-20220215111249762\rimage-20220215111421252\rimage-20220215111554764\rimage-20220215111730527\rimage-20220215111802867\rimage-20220215111813725\rimage-20220215111837478\rimage-20220215111846849\rimage-20220215112302045\rimage-20220215112349551\r","date":"2022-03-01T10:11:37+08:00","permalink":"https://linjianshu.github.io/p/%E6%89%BE%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/","title":"æ‰¾å·¥ä½œç›¸å…³"},{"content":"leetBook_å†²åˆºæ”»ç•¥ image-20220227100312893\ræ ¹æ®æç¤ºçš„æ•°æ®èŒƒå›´æ¨å®šæ—¶é—´å¤æ‚åº¦ æ ¹æ®æ—¶é—´å¤æ‚åº¦æ¨å®šç®—æ³•é›†åˆ æ ¹æ®é¢˜ç›®ç‰¹å¾ç¡®å®šç®—æ³•\nimage-20220227100007364\ræ²¡æœ‰ç»™å‡ºæ•°æ®èŒƒå›´é€šå¸¸ä½¿ç”¨æšä¸¾ æšä¸¾é€šå¸¸æ˜¯n~nlog(n)çš„æ—¶é—´å¤æ‚åº¦ ç„¶åå†ç¡®å®šç®—æ³•é›†åˆ\nimage-20220227100056863\rimage-20220228103152097\rimage-20220228103157567\r","date":"2022-02-28T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/leetbook_%E5%86%B2%E5%88%BA%E6%94%BB%E7%95%A5/","title":"leetBook_å†²åˆºæ”»ç•¥"},{"content":"leetBook_æ•°ç»„å’Œå­—ç¬¦ä¸² ç†è§£æ•°ç»„çš„ åŸºæœ¬æ¦‚å¿µ åŠå…¶ æ“ä½œæ–¹å¼ï¼›\nç†è§£ äºŒç»´æ•°ç»„ çš„åŸºæœ¬æ¦‚å¿µï¼Œç†Ÿæ‚‰äºŒç»´æ•°ç»„çš„ä½¿ç”¨ï¼›\näº†è§£ å­—ç¬¦ä¸² çš„æ¦‚å¿µä»¥åŠå­—ç¬¦ä¸²æ‰€å…·æœ‰çš„ä¸åŒç‰¹æ€§ï¼›\nç†è§£å­—ç¬¦ä¸²åŒ¹é…ä¸­çš„ KMP ç®—æ³•ï¼›\nèƒ½å¤Ÿè¿ç”¨ åŒæŒ‡é’ˆ è§£å†³å®é™…é—®é¢˜ã€‚\næ•°ç»„ç®€ä»‹ image-20220228130907972\ré›†åˆåˆ—è¡¨ä¸æ•°ç»„ é›†åˆ:ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç¡®å®šçš„å…ƒç´ æ„æˆçš„æ•´ä½“\né›†åˆé‡Œçš„å…ƒç´ ç±»å‹ä¸ä¸€å®šç›¸åŒ,é›†åˆé‡Œçš„å…ƒç´ æ²¡æœ‰é¡ºåº\nåˆ—è¡¨:ä¸€ç§æ•°æ®é¡¹æ„æˆçš„æœ‰é™åºåˆ—,å³æŒ‰ç…§ä¸€å®šçš„çº¿æ€§é¡ºåº,æ’åˆ—è€Œæˆçš„æ•°æ®é¡¹çš„é›†åˆ\nåˆ—è¡¨çš„æ¦‚å¿µæ˜¯åœ¨é›†åˆçš„ç‰¹å¾ä¸Šå½¢æˆçš„,ä»–å…·æœ‰é¡ºåº,ä¸”é•¿åº¦æ˜¯å¯å˜çš„.\nåˆ—è¡¨æœ€å¸¸è§çš„å½¢å¼æœ‰æ•°ç»„å’Œé“¾è¡¨;æ ˆå’Œé˜Ÿåˆ—æ˜¯ä¸¤ç§ç‰¹æ®Šç±»å‹çš„åˆ—è¡¨\næ•°ç»„:åˆ—è¡¨çš„å®ç°æ–¹å¼ä¹‹ä¸€\nå¦‚ä½•åŒºåˆ†åˆ—è¡¨å’Œæ•°ç»„:ç´¢å¼•\næ•°ç»„ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„,ä¸”æ¯ä¸ªå…ƒç´ å ç”¨ç›¸åŒå¤§å°çš„å†…å­˜\nç›¸å,åˆ—è¡¨ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­å¯èƒ½å½¼æ­¤ç›¸é‚»,ä¹Ÿå¯èƒ½ä¸ç›¸é‚».æ¯”å¦‚é“¾è¡¨çš„å…ƒç´ åœ¨å†…å­˜ä¸­åˆ™ä¸ä¸€å®šæ˜¯è¿ç»­çš„\nåˆ—è¡¨æ˜¯é›†åˆçš„ä¸€ç§è¡¨ç°å½¢å¼,åœ¨é›†åˆçš„ç‰¹å¾ä¸Šå½¢æˆçš„;æ•°ç»„æ˜¯åˆ—è¡¨çš„ä¸€ç§å®ç°æ–¹å¼,é“¾è¡¨æ˜¯åˆ—è¡¨çš„å¦ä¸€ç§å®ç°æ–¹å¼.\nimage-20220228131524791\ræ•°ç»„çš„æ“ä½œ è¿ç»­å­˜å‚¨\nè¯»å–å…ƒç´ :æŒ‰ç…§ç´¢å¼•è®¿é—® , o(1)\næŸ¥æ‰¾å…ƒç´ :å…¨æ•°ç»„éå†,o(n)\næ’å…¥å…ƒç´ :è¦æŒªä½å­,å¾ˆéº»çƒ¦.å¦‚æœéœ€è¦é¢‘ç¹åœ°å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’å…¥æ“ä½œï¼Œä¼šé€ æˆæ—¶é—´çš„æµªè´¹ã€‚äº‹å®ä¸Šï¼Œå¦ä¸€ç§æ•°æ®ç»“æ„ï¼Œå³é“¾è¡¨å¯ä»¥æœ‰æ•ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nåˆ é™¤å…ƒç´ :åˆ æ‰å,æŠŠåé¢çš„æŒªåˆ°å‰é¢,å¾ˆéº»çƒ¦.åˆ é™¤æ“ä½œå…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œå³æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼ŒN ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚\né¢˜ç›® å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼• ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¯·è®¡ç®—æ•°ç»„çš„ ä¸­å¿ƒä¸‹æ ‡ ã€‚\næ•°ç»„ ä¸­å¿ƒä¸‹æ ‡ æ˜¯æ•°ç»„çš„ä¸€ä¸ªä¸‹æ ‡ï¼Œå…¶å·¦ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œç­‰äºå³ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œã€‚\nå¦‚æœä¸­å¿ƒä¸‹æ ‡ä½äºæ•°ç»„æœ€å·¦ç«¯ï¼Œé‚£ä¹ˆå·¦ä¾§æ•°ä¹‹å’Œè§†ä¸º 0 ï¼Œå› ä¸ºåœ¨ä¸‹æ ‡çš„å·¦ä¾§ä¸å­˜åœ¨å…ƒç´ ã€‚è¿™ä¸€ç‚¹å¯¹äºä¸­å¿ƒä¸‹æ ‡ä½äºæ•°ç»„æœ€å³ç«¯åŒæ ·é€‚ç”¨ã€‚\nå¦‚æœæ•°ç»„æœ‰å¤šä¸ªä¸­å¿ƒä¸‹æ ‡ï¼Œåº”è¯¥è¿”å› æœ€é è¿‘å·¦è¾¹ çš„é‚£ä¸€ä¸ªã€‚å¦‚æœæ•°ç»„ä¸å­˜åœ¨ä¸­å¿ƒä¸‹æ ‡ï¼Œè¿”å› -1 ã€‚\n//å‰ç¼€å’Œ + é€é¡¹éå† func pivotIndex(nums []int) int { preSum := make([]int, len(nums)+1, len(nums)+1) preSum[0] = 0 for i := 0; i \u0026lt; len(nums); i++ { preSum[i+1] = nums[i] + preSum[i] } for i := 1; i \u0026lt; len(preSum); i++ { left := preSum[i-1] right := preSum[len(preSum)-1] - preSum[i] if left == right { return i - 1 } } return -1 } æœç´¢æ’å…¥ä½ç½® ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚\nè¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚\n//äºŒåˆ†æ³• func searchInsert(nums []int, target int) int { left, right := 0, len(nums)-1 for left \u0026lt;= right { mid := left + (right-left)/2 if nums[mid] == target { return mid } else if nums[mid] \u0026gt; target { right = mid - 1 } else if nums[mid] \u0026lt; target { left = mid + 1 } } return left } åˆå¹¶åŒºé—´ ä»¥æ•°ç»„ intervals è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º intervals[i] = [starti, endi] ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´ ã€‚\n//ä¸å¤ªä¼šå•Š æ•°ç»„æœ‰åºé—®é¢˜ æœ€å¥½å…ˆæ’ä¸ªåº æ€è·¯å¯èƒ½ä¼šå¼€é˜”ä¸€ç‚¹ func merge1(intervals [][]int) [][]int { res := make([][]int, 0) sort.Slice(intervals, func(i, j int) bool { return intervals[i][0] \u0026lt; intervals[j][0] }) res = append(res, intervals[0]) for i := 1; i \u0026lt; len(intervals); i++ { //å¦‚æœè¿™ä¸ªå·¦ç«¯ç‚¹ æ¯” å‰ä¸€ä¸ªçš„ç«¯ç‚¹å° è¯´æ˜æœ‰é‡åˆ æœ‰é‡åˆè¿˜å¾—åˆ¤æ–­è¿™ä¸ªçš„å³ç«¯ç‚¹æ˜¯å¦ä¼šæ¯”å‰ä¸€ä¸ªçš„å³ç«¯ç‚¹å¤§ å¤§çš„è¯æ‰ä¼šè¦†ç›– å°çš„è¯é¡¶å¤šç®—å­é›† if intervals[i][0] \u0026lt;= res[len(res)-1][1] { if res[len(res)-1][1] \u0026lt; intervals[i][1] { res[len(res)-1][1] = intervals[i][1] } } else { res = append(res, intervals[i]) } } return res } äºŒç»´æ•°ç»„ç®€ä»‹ äºŒç»´æ•°ç»„ äºŒç»´æ•°ç»„æ˜¯ä¸€ç§ç»“æ„è¾ƒä¸ºç‰¹æ®Šçš„æ•°ç»„,åªæ˜¯å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å˜æˆäº†ä¸€å †æ•°ç»„.\nimage-20220228155559676\räºŒç»´æ•°ç»„çš„æœ¬è´¨ä¸Šä»ç„¶æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„,å†…éƒ¨çš„ä¸€ç»´æ•°ç»„ä»ç„¶ä»ç´¢å¼•0å¼€å§‹,æˆ‘ä»¬å¯ä»¥å°†å®ƒçœ‹ä½œä¸€ä¸ªçŸ©é˜µ,å¹¶å¤„ç†çŸ©é˜µçš„ç›¸å…³é—®é¢˜.\né¢˜ç›® æ—‹è½¬çŸ©é˜µ ç»™ä½ ä¸€å¹…ç”± N Ã— N çŸ©é˜µè¡¨ç¤ºçš„å›¾åƒï¼Œå…¶ä¸­æ¯ä¸ªåƒç´ çš„å¤§å°ä¸º 4 å­—èŠ‚ã€‚è¯·ä½ è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå°†å›¾åƒæ—‹è½¬ 90 åº¦ã€‚\nä¸å ç”¨é¢å¤–å†…å­˜ç©ºé—´èƒ½å¦åšåˆ°ï¼Ÿ\n//å±å®ä¸ä¼š äºŒç»´æ•°ç»„ç¿»è½¬çš„è¯ æ ¹æ®å¯¹è§’çº¿ç¿»è½¬ ç„¶åå†æ¨ªå‘ç¿»è½¬ å¤šè¯•ä¸€è¯• func rotate1(matrix [][]int) { //æ­£å¯¹è§’çº¿ç¿»è½¬ for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt;= i; j++ { matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j] } } //æ°´å¹³æ¨ªå‘ç¿»è½¬ for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt; len(matrix[i])/2; j++ { matrix[i][j], matrix[i][len(matrix[i])-1-j] = matrix[i][len(matrix[i])-1-j], matrix[i][j] } } return } é›¶çŸ©é˜µ ç¼–å†™ä¸€ç§ç®—æ³•ï¼Œè‹¥M Ã— NçŸ©é˜µä¸­æŸä¸ªå…ƒç´ ä¸º0ï¼Œåˆ™å°†å…¶æ‰€åœ¨çš„è¡Œä¸åˆ—æ¸…é›¶ã€‚\n//ä½¿ç”¨æ•°ç»„ä½œä¸ºæ¡¥æ¢ å­˜ä¸€ä¸‹ func rotate(matrix [][]int) { res := make([]int, 0, len(matrix)*len(matrix)) //ä»£è¡¨åˆ— for i := 0; i \u0026lt; len(matrix[0]); i++ { //ä»£è¡¨è¡Œ for j := len(matrix) - 1; j \u0026gt;= 0; j-- { res = append(res, matrix[j][i]) } } index := 0 for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt; len(matrix[i]); j++ { matrix[i][j] = res[index] index++ } } return } func setZeroes1(matrix [][]int) { m := make(map[[2]int]bool) for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt; len(matrix[i]); j++ { if matrix[i][j] == 0 { m[[2]int{i, j}] = true } } } for ints := range m { for i := 0; i \u0026lt; len(matrix[ints[0]]); i++ { matrix[ints[0]][i] = 0 } for i := 0; i \u0026lt; len(matrix); i++ { matrix[i][ints[1]] = 0 } } } func setZeroes(matrix [][]int) { mRow := make(map[int]bool) mCol := make(map[int]bool) for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt; len(matrix[i]); j++ { if matrix[i][j] == 0 { mRow[i] = true mCol[j] = true } } } for i := 0; i \u0026lt; len(matrix); i++ { for j := 0; j \u0026lt; len(matrix[i]); j++ { if mRow[i] || mCol[j] { matrix[i][j] = 0 } } } } å¯¹è§’çº¿éå† ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º m x n çš„çŸ©é˜µ mat ï¼Œè¯·ä»¥å¯¹è§’çº¿éå†çš„é¡ºåºï¼Œç”¨ä¸€ä¸ªæ•°ç»„è¿”å›è¿™ä¸ªçŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\n//å¯¹è§’çº¿çš„ç‰¹å¾æ˜¯ è¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•å’Œç›¸ç­‰ å¯ä»¥åˆ©ç”¨å’Œæ˜¯å¥‡æ•°å’Œå¶æ•°æ¥åˆ¤æ–­ æ­£å‘éå†è¿˜æ˜¯åå‘éå† func findDiagonalOrder(mat [][]int) []int { res := make([]int, 0, 0) if len(mat) == 1 { return mat[0] } if len(mat[0]) == 1 { for _, ints := range mat { res = append(res, ints[0]) } return res } sum := len(mat) + len(mat[0]) for i := 0; i \u0026lt;= sum; i++ { for j := 0; j \u0026lt;= i; j++ { if i%2 == 0 { if i-j \u0026gt;= 0 \u0026amp;\u0026amp; i-j \u0026lt; len(mat) \u0026amp;\u0026amp; j \u0026gt;= 0 \u0026amp;\u0026amp; j \u0026lt; len(mat[0]) { res = append(res, mat[i-j][j]) } } else { if j \u0026gt;= 0 \u0026amp;\u0026amp; j \u0026lt; len(mat) \u0026amp;\u0026amp; i-j \u0026gt;= 0 \u0026amp;\u0026amp; i-j \u0026lt; len(mat[0]) { res = append(res, mat[j][i-j]) } } } } return res } å­—ç¬¦ä¸² å­—ç¬¦ä¸²ç®€ä»‹ å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œå¯¹è±¡é€šå¸¸æ˜¯å­—ç¬¦ä¸²æ•´ä½“æˆ–è€…å…¶å­ä¸² I like leetcode åå‘è¾“å‡º æ›´æ„¿æ„æ¥å—Leetcode like I è€Œä¸æ˜¯edocteel ekil I\nå­—ç¬¦ä¸²çš„æ¯”è¾ƒå’Œè¿æ¥æ“ä½œç›¸å¯¹å¤æ‚\nè¯­è¨€æ”¯æŒè¿ç®—ç¬¦é‡è½½ é‚£ä¹ˆå°±å¯ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œ==æ¯”è¾ƒ\nå­—ç¬¦ä¸²è¿›è¡Œè¿æ¥æ“ä½œ,æ ¹æ®è¯­è¨€çš„ä¸åŒæ•ˆç‡ä¸åŒ\nâ€‹\tC++å¯ä»¥ä¿®æ”¹å­—ç¬¦ä¸² åœ¨è¿æ¥æ“ä½œçš„æ—¶å€™æ•ˆç‡å°±æ¯”è¾ƒé«˜\nâ€‹\tJava Go ä¸èƒ½ä¿®æ”¹å­—ç¬¦ä¸² åœ¨è¿æ¥æ“ä½œçš„æ—¶å€™å°±ä¼šé‡æ–°åˆ†é…å†…å­˜ç»™æ–°å­—ç¬¦ä¸² ç„¶åå†æ‹·è´å°±çš„å­—ç¬¦ä¸²ä¸­çš„å†…å®¹åˆ°æ–°çš„å†…å­˜åœ°å€ä¸­ è¿™æ ·å°±ä¼šé€ æˆæ•ˆç‡ä¸‹é™\nå› æ­¤å¦‚æœéœ€è¦è¿æ¥ å¯ä»¥å°è¯•ä½¿ç”¨stringbuilderæ•°æ®ç»“æ„ æˆ–è€…è½¬æ¢æˆ[]byteåˆ‡ç‰‡è¿›è¡Œè¿æ¥æˆ–è€…ä¿®æ”¹\n","date":"2022-02-10T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/leetbook_%E6%95%B0%E7%BB%84%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/","title":"leetBook_æ•°ç»„å’Œå­—ç¬¦ä¸²"},{"content":"å°šç¡…è°·Goå­¦ä¹  è¿›åˆ¶ï¼š å¯¹äºæ•´æ•°ï¼Œæœ‰å››ç§è¡¨ç¤ºæ–¹å¼ï¼š\näºŒè¿›åˆ¶ åœ¨golangä¸­ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºä¸€ä¸ªæ•´æ•°ï¼Œå¥¹æ²¿ç”¨äº†cçš„ç‰¹ç‚¹ åè¿›åˆ¶ å…«è¿›åˆ¶ ä»¥æ•°å­—0å¼€å¤´ åå…­è¿›åˆ¶ ä»¥0xæˆ–0Xå¼€å¤´è¡¨ç¤º æ­¤å¤„A-Fä¸åŒºåˆ†å¤§å°å†™ è¿›åˆ¶è½¬æ¢ å…¶ä»–è¿›åˆ¶è½¬åè¿›åˆ¶\nåè¿›åˆ¶è½¬å…¶ä»–è¿›åˆ¶\nå°†è¯¥æ•°ä¸æ–­é™¤ä»¥å…¶ä»–è¿›åˆ¶çš„åŸºæ•°ï¼Œç›´åˆ°å•†ä¸º0ä¸ºæ­¢ï¼Œç„¶åå°†æ¯æ­¥å¾—åˆ°çš„ä½™æ•°å€’è¿‡æ¥ï¼Œå°±æ˜¯å¯¹åº”çš„äºŒè¿›åˆ¶ã€‚ image-20211106093415401\räºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶\nè½¬å…«è¿›åˆ¶ ä¸‰ä½ä¸€ç»„ï¼Œä½ä½å¼€å§‹ç»„åˆï¼Œè½¬æˆå…«è¿›åˆ¶å°±å¯ä»¥äº†ã€‚ è½¬åå…­è¿›åˆ¶ æ€ç»´ä¸€ç»„ï¼Œä½ä½å¼€å§‹ç»„åˆï¼Œè½¬æˆåå…­è¿›åˆ¶å°±å¯ä»¥äº†ã€‚ å…¶ä»–è¿›åˆ¶è½¬äºŒè¿›åˆ¶\nå…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ æ¯ä¸‰ä½ã€å››ä½è½¬æˆäºŒè¿›åˆ¶å³å¯ ä½è¿ç®— è¿ç®—ç¬¦ \u0026amp;æŒ‰ä½ä¸ |æŒ‰ä½æˆ– ^æŒ‰ä½å¼‚æˆ– \u0026laquo;å·¦ç§» \u0026raquo;å³ç§»\nimage-20211106094703255\råŸç ã€åç ã€è¡¥ç  äºŒè¿›åˆ¶çš„æœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼š0è¡¨ç¤ºæ­£æ•° 1è¡¨ç¤ºè´Ÿæ•° æ­£æ•°çš„åŸç ã€åç ã€è¡¥ç éƒ½ä¸€æ · è´Ÿæ•°çš„åç =å®ƒçš„åŸç ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä»–ä½å–å è´Ÿæ•°çš„è¡¥ç =è´Ÿæ•°çš„åç +1 -1 åŸç [1000 0001] åç [1111 1110] è¡¥ç [1111 1111] 0çš„åç è¡¥ç éƒ½æ˜¯0 åœ¨è®¡ç®—æœºè¿ç®—çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä»¥è¡¥ç çš„æ–¹å¼æ¥è¿ç®—çš„ image-20211106100410526\rå‡½æ•°è°ƒç”¨æœºåˆ¶ image-20211106101741641\rå›æ”¶æ ˆ\nimage-20211106101856688\rè¯´æ˜ï¼š\nåœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¼šç»™è¯¥å‡½æ•°åˆ†é…ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œç¼–è¯‘å™¨ä¼šé€šè¿‡è‡ªèº«çš„å¤„ç†è®©è¿™ä¸ªæ–°çš„ç©ºé—´å’Œå…¶ä»–çš„æ ˆçš„ç©ºé—´åŒºåˆ†å¼€æ¥ åœ¨æ¯ä¸ªå‡½æ•°å¯¹åº”çš„æ ˆä¸­ï¼Œæ•°æ®ç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šæ··æ·† å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨å®Œæ¯•ï¼ˆæ‰§è¡Œå®Œæ¯•ï¼‰åï¼Œç¨‹åºä¼šé”€æ¯è¿™ä¸ªå‡½æ•°å¯¹åº”çš„æ ˆç©ºé—´ func main() { n1 := 10 test(n1) fmt.Println(\u0026#34;main() \u0026#34;, n1) sum := getSum(1,2) fmt.Println(\u0026#34;main sum = \u0026#34;, sum) fmt.Printf(\u0026#34;main sum %v\\n\u0026#34;,\u0026amp;sum) } func test(n1 int) { n1++ fmt.Println(\u0026#34;test() \u0026#34;, n1) } func getSum(n1, n2 int) int { sum := n1 + n2 fmt.Println(\u0026#34;get Sum = \u0026#34;,sum) //å½“å‡½æ•°åˆreturnè¯­å¥æ—¶ï¼Œå°±æ˜¯å°†ç»“æœè¿”å›ç»™è°ƒç”¨è€… //å³è°è°ƒç”¨æˆ‘ï¼Œæˆ‘å°±è¿”å›ç»™è° fmt.Printf(\u0026#34;get sum %v\\n\u0026#34;,\u0026amp;sum) return sum } test() 11 main() 10 get Sum = 3 get sum 0xc00000a0d8 main sum = 3 main sum 0xc00000a0d0 è¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0 å‡½æ•°çš„é€’å½’è°ƒç”¨ image-20211106104718001\ré¡¶å±‚æ ˆæ‰§è¡Œå®Œæ¯•åé”€æ¯\nimage-20211106104802326\rimage-20211106104837444\rimage-20211106104910149\ræ€»ä½“æµç¨‹\nimage-20211106105257021\ræ€»ç»“ï¼š\næ‰§è¡Œä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å—ä¿æŠ¤çš„ç‹¬ç«‹ç©ºé—´ï¼ˆæ–°å‡½æ•°æ ˆï¼‰ å‡½æ•°çš„å±€éƒ¨å˜é‡æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šç›¸äº’å½±å“ é€’å½’å¿…é¡»æƒ³é€€å‡ºé€’å½’çš„æ¡ä»¶é€¼è¿‘ï¼Œå¦åˆ™å°±æ˜¯æ— é™é€’å½’äº†ï¼Œæ­»é¾Ÿ å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–è€…é‡åˆ°returnï¼Œå°±ä¼šè¿”å›ï¼Œéµå®ˆè°è°ƒç”¨ï¼Œå°±å°†ç»“æœè¿”å›ç»™è°ï¼ŒåŒæ—¶å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•æˆ–è€…è¿”å›æ—¶ï¼Œè¯¥å‡½æ•°æœ¬èº«ä¹Ÿä¼šè¢«ç³»ç»Ÿé”€æ¯ ","date":"2021-12-13T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%B0%9A%E7%A1%85%E8%B0%B7go%E5%AD%A6%E4%B9%A0/","title":"å°šç¡…è°·Goå­¦ä¹ "},{"content":"Go webç¼–ç¨‹ Chapter_9 Go_Concurrency channel_message package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func thrower(c chan int) { for i := 0; i \u0026lt; 5; i++ { c \u0026lt;- i fmt.Println(\u0026#34;Threw \u0026gt;\u0026gt;\u0026#34;, i) } } func catcher(c chan int) { for i := 0; i \u0026lt; 5; i++ { num := \u0026lt;-c fmt.Println(\u0026#34;Caught \u0026lt;\u0026lt;\u0026#34;, num) } } func main() { c := make(chan int, 3) go thrower(c) go catcher(c) time.Sleep(100 * time.Millisecond) } channel_select package main import ( \u0026#34;fmt\u0026#34; ) func callerA(c chan string) { c \u0026lt;- \u0026#34;Hello World!\u0026#34; close(c) } func callerB(c chan string) { c \u0026lt;- \u0026#34;Hola Mundo!\u0026#34; close(c) } func main() { a, b := make(chan string), make(chan string) go callerA(a) go callerB(b) var msg string openA, openB := true, true for openA || openB { select { case msg, openA = \u0026lt;-a: if openA { fmt.Printf(\u0026#34;%s from A\\n\u0026#34;, msg) } case msg, openB = \u0026lt;-b: if openB { fmt.Printf(\u0026#34;%s from B\\n\u0026#34;, msg) } } } } // func main() { // a, b := make(chan string), make(chan string) // go callerA(a) // go callerB(b) // msg1, msg2 := \u0026#34;A\u0026#34;, \u0026#34;B\u0026#34; // for { // time.Sleep(1 * time.Microsecond) // // select { // case msg1 = \u0026lt;-a: // fmt.Printf(\u0026#34;%s from A\\n\u0026#34;, msg1) // case msg2 = \u0026lt;-b: // fmt.Printf(\u0026#34;%s from B\\n\u0026#34;, msg2) // // default: // // fmt.Println(\u0026#34;Default\u0026#34;) // } // if msg1 == \u0026#34;\u0026#34; \u0026amp;\u0026amp; msg2 == \u0026#34;\u0026#34; { // break // } // // } // } channel_shared package main import ( \u0026#34;fmt\u0026#34; // \u0026#34;math/rand\u0026#34; \u0026#34;runtime\u0026#34; \u0026#34;time\u0026#34; ) var DB Store type Store struct { hash map[string]string in chan [2]string out chan [2]string } func StoreInit() { DB = Store{ hash: make(map[string]string), in: make(chan [2]string), } go func() { for { a := \u0026lt;-DB.in DB.hash[a[0]] = a[1] } }() } func (store *Store) Get(key string) (value string, err error) { value = store.hash[key] return } func (store *Store) Add(key string, value string) (err error) { a := [2]string{key, value} store.in \u0026lt;- a // store.hash[key] = value return } func (store *Store) Set(key string, value string) (err error) { return } func (store *Store) Del(key string) (err error) { return } func (store *Store) Pop(key string) (value string, err error) { return } func main() { runtime.GOMAXPROCS(4) StoreInit() for i := 0; i \u0026lt; 10; i++ { go DB.Add(\u0026#34;a\u0026#34;, \u0026#34;A\u0026#34;) go DB.Add(\u0026#34;a\u0026#34;, \u0026#34;B\u0026#34;) go DB.Add(\u0026#34;a\u0026#34;, \u0026#34;C\u0026#34;) time.Sleep(1 * time.Microsecond) s, _ := DB.Get(\u0026#34;a\u0026#34;) fmt.Printf(\u0026#34;%s \u0026#34;, s) } } channel_wait package main import \u0026#34;fmt\u0026#34; import \u0026#34;time\u0026#34; func printNumbers(w chan bool) { for i := 0; i \u0026lt; 10; i++ { time.Sleep(1 * time.Microsecond) fmt.Printf(\u0026#34;%d \u0026#34;, i) } w \u0026lt;- true } func printLetters(w chan bool) { for i := \u0026#39;A\u0026#39;; i \u0026lt; \u0026#39;A\u0026#39;+10; i++ { time.Sleep(1 * time.Microsecond) fmt.Printf(\u0026#34;%c \u0026#34;, i) } w \u0026lt;- true } func main() { w1, w2 := make(chan bool), make(chan bool) go printNumbers(w1) go printLetters(w2) \u0026lt;-w1 \u0026lt;-w2 } goroutine package main // import \u0026#34;fmt\u0026#34; import \u0026#34;time\u0026#34; func printNumbers1() { for i := 0; i \u0026lt; 10; i++ { // fmt.Printf(\u0026#34;%d \u0026#34;, i) } } func printLetters1() { for i := \u0026#39;A\u0026#39;; i \u0026lt; \u0026#39;A\u0026#39;+10; i++ { // fmt.Printf(\u0026#34;%c \u0026#34;, i) } } func printNumbers2() { for i := 0; i \u0026lt; 10; i++ { time.Sleep(1 * time.Microsecond) // fmt.Printf(\u0026#34;%d \u0026#34;, i) } } func printLetters2() { for i := \u0026#39;A\u0026#39;; i \u0026lt; \u0026#39;A\u0026#39;+10; i++ { time.Sleep(1 * time.Microsecond) // fmt.Printf(\u0026#34;%c \u0026#34;, i) } } func print1() { printNumbers1() printLetters1() } func goPrint1() { go printNumbers1() go printLetters1() } func print2() { printNumbers2() printLetters2() } func goPrint2() { go printNumbers2() go printLetters2() } func main() { } ","date":"2021-11-28T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter9/","title":"Go Webç¼–ç¨‹ Chapter9"},{"content":"Go webç¼–ç¨‹ Chapter_7 Creating_Web_Servies json_creating_encoder package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author Author `json:\u0026#34;author\u0026#34;` Comments []Comment `json:\u0026#34;comments\u0026#34;` } type Author struct { Id int `json:\u0026#34;id\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` } type Comment struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author string `json:\u0026#34;author\u0026#34;` } func main() { post := Post{ Id: 1, Content: \u0026#34;Hello World!\u0026#34;, Author: Author{ Id: 2, Name: \u0026#34;Sau Sheong\u0026#34;, }, Comments: []Comment{ Comment{ Id: 1, Content: \u0026#34;Have a great day!\u0026#34;, Author: \u0026#34;Adam\u0026#34;, }, Comment{ Id: 2, Content: \u0026#34;How are you today?\u0026#34;, Author: \u0026#34;Betty\u0026#34;, }, }, } jsonFile, err := os.Create(\u0026#34;post.json\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error creating JSON file:\u0026#34;, err) return } jsonWriter := io.Writer(jsonFile) encoder := json.NewEncoder(jsonWriter) err = encoder.Encode(\u0026amp;post) if err != nil { fmt.Println(\u0026#34;Error encoding JSON to file:\u0026#34;, err) return } } post.json\n{\u0026#34;id\u0026#34;:1,\u0026#34;content\u0026#34;:\u0026#34;Hello World!\u0026#34;,\u0026#34;author\u0026#34;:{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;Sau Sheong\u0026#34;},\u0026#34;comments\u0026#34;:[{\u0026#34;id\u0026#34;:1,\u0026#34;content\u0026#34;:\u0026#34;Have a great day!\u0026#34;,\u0026#34;author\u0026#34;:\u0026#34;Adam\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;content\u0026#34;:\u0026#34;How are you today?\u0026#34;,\u0026#34;author\u0026#34;:\u0026#34;Betty\u0026#34;}]} json_creating_marshal package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; ) type Post struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author Author `json:\u0026#34;author\u0026#34;` Comments []Comment `json:\u0026#34;comments\u0026#34;` } type Author struct { Id int `json:\u0026#34;id\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` } type Comment struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author string `json:\u0026#34;author\u0026#34;` } func main() { post := Post{ Id: 1, Content: \u0026#34;Hello World!\u0026#34;, Author: Author{ Id: 2, Name: \u0026#34;Sau Sheong\u0026#34;, }, Comments: []Comment{ Comment{ Id: 1, Content: \u0026#34;Have a great day!\u0026#34;, Author: \u0026#34;Adam\u0026#34;, }, Comment{ Id: 2, Content: \u0026#34;How are you today?\u0026#34;, Author: \u0026#34;Betty\u0026#34;, }, }, } output, err := json.MarshalIndent(\u0026amp;post, \u0026#34;\u0026#34;, \u0026#34;\\t\\t\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error marshalling to JSON:\u0026#34;, err) return } err = ioutil.WriteFile(\u0026#34;post.json\u0026#34;, output, 0644) if err != nil { fmt.Println(\u0026#34;Error writing JSON to file:\u0026#34;, err) return } } post.json\n{ \u0026#34;id\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;Hello World!\u0026#34;, \u0026#34;author\u0026#34;: { \u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;Sau Sheong\u0026#34; }, \u0026#34;comments\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;Have a great day!\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;Adam\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;content\u0026#34;: \u0026#34;How are you today?\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;Betty\u0026#34; } ] } json_parsing_decoder package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author Author `json:\u0026#34;author\u0026#34;` Comments []Comment `json:\u0026#34;comments\u0026#34;` } type Author struct { Id int `json:\u0026#34;id\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` } type Comment struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author string `json:\u0026#34;author\u0026#34;` } func main() { jsonFile, err := os.Open(\u0026#34;post.json\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error opening JSON file:\u0026#34;, err) return } defer jsonFile.Close() decoder := json.NewDecoder(jsonFile) for { var post Post err := decoder.Decode(\u0026amp;post) if err == io.EOF { break } if err != nil { fmt.Println(\u0026#34;Error decoding JSON:\u0026#34;, err) return } fmt.Println(post) } } post.json\n{ \u0026#34;id\u0026#34; : 1, \u0026#34;content\u0026#34; : \u0026#34;Hello World!\u0026#34;, \u0026#34;author\u0026#34; : { \u0026#34;id\u0026#34; : 2, \u0026#34;name\u0026#34; : \u0026#34;Sau Sheong\u0026#34; }, \u0026#34;comments\u0026#34; : [ { \u0026#34;id\u0026#34; : 3, \u0026#34;content\u0026#34; : \u0026#34;Have a great day!\u0026#34;, \u0026#34;author\u0026#34; : \u0026#34;Adam\u0026#34; }, { \u0026#34;id\u0026#34; : 4, \u0026#34;content\u0026#34; : \u0026#34;How are you today?\u0026#34;, \u0026#34;author\u0026#34; : \u0026#34;Betty\u0026#34; } ] } json_parsing_unmarshal package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author Author `json:\u0026#34;author\u0026#34;` Comments []Comment `json:\u0026#34;comments\u0026#34;` } type Author struct { Id int `json:\u0026#34;id\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` } type Comment struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author string `json:\u0026#34;author\u0026#34;` } func main() { jsonFile, err := os.Open(\u0026#34;post.json\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error opening JSON file:\u0026#34;, err) return } defer jsonFile.Close() jsonData, err := ioutil.ReadAll(jsonFile) if err != nil { fmt.Println(\u0026#34;Error reading JSON data:\u0026#34;, err) return } fmt.Println(string(jsonData)) var post Post json.Unmarshal(jsonData, \u0026amp;post) fmt.Println(post.Id) fmt.Println(post.Content) fmt.Println(post.Author.Id) fmt.Println(post.Author.Name) fmt.Println(post.Comments[0].Id) fmt.Println(post.Comments[0].Content) fmt.Println(post.Comments[0].Author) } post.json\n{ \u0026#34;id\u0026#34; : 1, \u0026#34;content\u0026#34; : \u0026#34;Hello World!\u0026#34;, \u0026#34;author\u0026#34; : { \u0026#34;id\u0026#34; : 2, \u0026#34;name\u0026#34; : \u0026#34;Sau Sheong\u0026#34; }, \u0026#34;comments\u0026#34; : [ { \u0026#34;id\u0026#34; : 1, \u0026#34;content\u0026#34; : \u0026#34;Have a great day!\u0026#34;, \u0026#34;author\u0026#34; : \u0026#34;Adam\u0026#34; }, { \u0026#34;id\u0026#34; : 2, \u0026#34;content\u0026#34; : \u0026#34;How are you today?\u0026#34;, \u0026#34;author\u0026#34; : \u0026#34;Betty\u0026#34; } ] } web_service data.go\npackage main import ( \u0026#34;database/sql\u0026#34; _ \u0026#34;github.com/lib/pq\u0026#34; ) var Db *sql.DB // connect to the Db func init() { var err error Db, err = sql.Open(\u0026#34;postgres\u0026#34;, \u0026#34;user=gwp dbname=gwp password=gwp sslmode=disable\u0026#34;) if err != nil { panic(err) } } // Get a single post func retrieve(id int) (post Post, err error) { post = Post{} err = Db.QueryRow(\u0026#34;select id, content, author from posts where id = $1\u0026#34;, id).Scan(\u0026amp;post.Id, \u0026amp;post.Content, \u0026amp;post.Author) return } // Create a new post func (post *Post) create() (err error) { statement := \u0026#34;insert into posts (content, author) values ($1, $2) returning id\u0026#34; stmt, err := Db.Prepare(statement) if err != nil { return } defer stmt.Close() err = stmt.QueryRow(post.Content, post.Author).Scan(\u0026amp;post.Id) return } // Update a post func (post *Post) update() (err error) { _, err = Db.Exec(\u0026#34;update posts set content = $2, author = $3 where id = $1\u0026#34;, post.Id, post.Content, post.Author) return } // Delete a post func (post *Post) delete() (err error) { _, err = Db.Exec(\u0026#34;delete from posts where id = $1\u0026#34;, post.Id) return } server.go\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;path\u0026#34; \u0026#34;strconv\u0026#34; ) type Post struct { Id int `json:\u0026#34;id\u0026#34;` Content string `json:\u0026#34;content\u0026#34;` Author string `json:\u0026#34;author\u0026#34;` } func main() { server := http.Server{ Addr: \u0026#34;:8080\u0026#34;, } http.HandleFunc(\u0026#34;/post/\u0026#34;, handleRequest) server.ListenAndServe() } // main handler function func handleRequest(w http.ResponseWriter, r *http.Request) { var err error switch r.Method { case \u0026#34;GET\u0026#34;: err = handleGet(w, r) case \u0026#34;POST\u0026#34;: err = handlePost(w, r) case \u0026#34;PUT\u0026#34;: err = handlePut(w, r) case \u0026#34;DELETE\u0026#34;: err = handleDelete(w, r) } if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } } // Retrieve a post // GET /post/1 func handleGet(w http.ResponseWriter, r *http.Request) (err error) { id, err := strconv.Atoi(path.Base(r.URL.Path)) if err != nil { return } post, err := retrieve(id) if err != nil { return } output, err := json.MarshalIndent(\u0026amp;post, \u0026#34;\u0026#34;, \u0026#34;\\t\\t\u0026#34;) if err != nil { return } w.Header().Set(\u0026#34;Content-Type\u0026#34;, \u0026#34;application/json\u0026#34;) w.Write(output) return } // Create a post // POST /post/ func handlePost(w http.ResponseWriter, r *http.Request) (err error) { len := r.ContentLength body := make([]byte, len) r.Body.Read(body) var post Post json.Unmarshal(body, \u0026amp;post) err = post.create() if err != nil { return } w.WriteHeader(200) return } // Update a post // PUT /post/1 func handlePut(w http.ResponseWriter, r *http.Request) (err error) { id, err := strconv.Atoi(path.Base(r.URL.Path)) if err != nil { return } post, err := retrieve(id) if err != nil { return } len := r.ContentLength body := make([]byte, len) r.Body.Read(body) json.Unmarshal(body, \u0026amp;post) err = post.update() if err != nil { return } w.WriteHeader(200) return } // Delete a post // DELETE /post/1 func handleDelete(w http.ResponseWriter, r *http.Request) (err error) { id, err := strconv.Atoi(path.Base(r.URL.Path)) if err != nil { return } post, err := retrieve(id) if err != nil { return } err = post.delete() if err != nil { return } w.WriteHeader(200) return } curl_script\ncurl -i -X POST -H \u0026#34;Content-Type: application/json\u0026#34; -d \u0026#39;{\u0026#34;content\u0026#34;:\u0026#34;My first post\u0026#34;,\u0026#34;author\u0026#34;:\u0026#34;Sau Sheong\u0026#34;}\u0026#39; http://127.0.0.1:8080/post/ curl -i -X DELETE http://127.0.0.1:8080/post/1 curl -i -X GET http://127.0.0.1:8080/post/1 curl -i -X PUT -H \u0026#34;Content-Type: application/json\u0026#34; -d \u0026#39;{\u0026#34;content\u0026#34;:\u0026#34;Updated post\u0026#34;,\u0026#34;author\u0026#34;:\u0026#34;Sau Sheong\u0026#34;}\u0026#39; http://127.0.0.1:8080/post/1 sql\ndrop database gwp; create database gwp; drop user gwp; create user gwp with password \u0026#39;gwp\u0026#39;; grant all privileges on database gwp to gwp; drop table posts; create table posts ( id serial primary key, content text, author varchar(255) ); xml_creating_encoder package main import ( \u0026#34;encoding/xml\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { XMLName xml.Name `xml:\u0026#34;post\u0026#34;` Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` } type Author struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Name string `xml:\u0026#34;,chardata\u0026#34;` } func main() { post := Post{ Id: \u0026#34;1\u0026#34;, Content: \u0026#34;Hello World!\u0026#34;, Author: Author{ Id: \u0026#34;2\u0026#34;, Name: \u0026#34;Sau Sheong\u0026#34;, }, } xmlFile, err := os.Create(\u0026#34;post.xml\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error creating XML file:\u0026#34;, err) return } encoder := xml.NewEncoder(xmlFile) encoder.Indent(\u0026#34;\u0026#34;, \u0026#34;\\t\u0026#34;) err = encoder.Encode(\u0026amp;post) if err != nil { fmt.Println(\u0026#34;Error encoding XML to file:\u0026#34;, err) return } } post.xml\n\u0026lt;post id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Hello World!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;2\u0026#34;\u0026gt;Sau Sheong\u0026lt;/author\u0026gt; \u0026lt;/post\u0026gt; xml_creating_marshal package main import ( \u0026#34;encoding/xml\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; ) type Post struct { XMLName xml.Name `xml:\u0026#34;post\u0026#34;` Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` } type Author struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Name string `xml:\u0026#34;,chardata\u0026#34;` } func main() { post := Post{ Id: \u0026#34;1\u0026#34;, Content: \u0026#34;Hello World!\u0026#34;, Author: Author{ Id: \u0026#34;2\u0026#34;, Name: \u0026#34;Sau Sheong\u0026#34;, }, } // output, err := xml.Marshal(\u0026amp;post) output, err := xml.MarshalIndent(\u0026amp;post, \u0026#34;\u0026#34;, \u0026#34;\\t\\t\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error marshalling to XML:\u0026#34;, err) return } err = ioutil.WriteFile(\u0026#34;post.xml\u0026#34;, []byte(xml.Header+string(output)), 0644) if err != nil { fmt.Println(\u0026#34;Error writing XML to file:\u0026#34;, err) return } } \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;post id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Hello World!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;2\u0026#34;\u0026gt;Sau Sheong\u0026lt;/author\u0026gt; \u0026lt;/post\u0026gt; xml_parsing_decoder post.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;post id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Hello World!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;2\u0026#34;\u0026gt;Sau Sheong\u0026lt;/author\u0026gt; \u0026lt;comments\u0026gt; \u0026lt;comment id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Have a great day!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;3\u0026#34;\u0026gt;Adam\u0026lt;/author\u0026gt; \u0026lt;/comment\u0026gt; \u0026lt;comment id=\u0026#34;2\u0026#34;\u0026gt; \u0026lt;content\u0026gt;How are you today?\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;4\u0026#34;\u0026gt;Betty\u0026lt;/author\u0026gt; \u0026lt;/comment\u0026gt; \u0026lt;/comments\u0026gt; \u0026lt;/post\u0026gt; package main import ( \u0026#34;encoding/xml\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { XMLName xml.Name `xml:\u0026#34;post\u0026#34;` Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` Xml string `xml:\u0026#34;,innerxml\u0026#34;` Comments []Comment `xml:\u0026#34;comments\u0026gt;comment\u0026#34;` } type Author struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Name string `xml:\u0026#34;,chardata\u0026#34;` } type Comment struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` } func main() { xmlFile, err := os.Open(\u0026#34;post.xml\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error opening XML file:\u0026#34;, err) return } defer xmlFile.Close() decoder := xml.NewDecoder(xmlFile) for { t, err := decoder.Token() if err == io.EOF { break } if err != nil { fmt.Println(\u0026#34;Error decoding XML into tokens:\u0026#34;, err) return } switch se := t.(type) { case xml.StartElement: if se.Name.Local == \u0026#34;comment\u0026#34; { var comment Comment decoder.DecodeElement(\u0026amp;comment, \u0026amp;se) fmt.Println(comment) } } } } xml_parsing_unmarshal_1 post.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;post id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Hello World!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;2\u0026#34;\u0026gt;Sau Sheong\u0026lt;/author\u0026gt; \u0026lt;/post\u0026gt; package main import ( \u0026#34;encoding/xml\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { XMLName xml.Name `xml:\u0026#34;post\u0026#34;` Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` Xml string `xml:\u0026#34;,innerxml\u0026#34;` } type Author struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Name string `xml:\u0026#34;,chardata\u0026#34;` } func main() { xmlFile, err := os.Open(\u0026#34;post.xml\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error opening XML file:\u0026#34;, err) return } defer xmlFile.Close() xmlData, err := ioutil.ReadAll(xmlFile) if err != nil { fmt.Println(\u0026#34;Error reading XML data:\u0026#34;, err) return } var post Post xml.Unmarshal(xmlData, \u0026amp;post) fmt.Println(post) } xml_parsing_unmarshal_2 post.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;post id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Hello World!\u0026lt;/content\u0026gt; \u0026lt;author id=\u0026#34;2\u0026#34;\u0026gt;Sau Sheong\u0026lt;/author\u0026gt; \u0026lt;comments\u0026gt; \u0026lt;comment id=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;content\u0026gt;Have a great day!\u0026lt;/content\u0026gt; \u0026lt;author\u0026gt;Adam\u0026lt;/author\u0026gt; \u0026lt;/comment\u0026gt; \u0026lt;comment id=\u0026#34;2\u0026#34;\u0026gt; \u0026lt;content\u0026gt;How are you today?\u0026lt;/content\u0026gt; \u0026lt;author\u0026gt;Betty\u0026lt;/author\u0026gt; \u0026lt;/comment\u0026gt; \u0026lt;/comments\u0026gt; \u0026lt;/post\u0026gt; package main import ( \u0026#34;encoding/xml\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) type Post struct { XMLName xml.Name `xml:\u0026#34;post\u0026#34;` Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` Xml string `xml:\u0026#34;,innerxml\u0026#34;` Comments []Comment `xml:\u0026#34;comments\u0026gt;comment\u0026#34;` } type Author struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Name string `xml:\u0026#34;,chardata\u0026#34;` } type Comment struct { Id string `xml:\u0026#34;id,attr\u0026#34;` Content string `xml:\u0026#34;content\u0026#34;` Author Author `xml:\u0026#34;author\u0026#34;` } func main() { xmlFile, err := os.Open(\u0026#34;post.xml\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error opening XML file:\u0026#34;, err) return } defer xmlFile.Close() xmlData, err := ioutil.ReadAll(xmlFile) if err != nil { fmt.Println(\u0026#34;Error reading XML data:\u0026#34;, err) return } var post Post xml.Unmarshal(xmlData, \u0026amp;post) fmt.Println(post.XMLName.Local) fmt.Println(post.Id) fmt.Println(post.Content) fmt.Println(post.Author) fmt.Println(post.Xml) fmt.Println(post.Author.Id) fmt.Println(post.Author.Name) fmt.Println(post.Comments) fmt.Println(post.Comments[0].Id) fmt.Println(post.Comments[0].Content) fmt.Println(post.Comments[0].Author) fmt.Println(post.Comments[1].Id) fmt.Println(post.Comments[1].Content) fmt.Println(post.Comments[1].Author) } ","date":"2021-11-20T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter7/","title":"Go Webç¼–ç¨‹ Chapter7"},{"content":"Go webç¼–ç¨‹ Chapter_6 Storing_Data csv_store package main import ( \u0026#34;encoding/csv\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; ) type Post struct { Id int Content string Author string } func main() { // creating a CSV file csvFile, err := os.Create(\u0026#34;posts.csv\u0026#34;) if err != nil { panic(err) } defer csvFile.Close() allPosts := []Post{ Post{Id: 1, Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;}, Post{Id: 2, Content: \u0026#34;Bonjour Monde!\u0026#34;, Author: \u0026#34;Pierre\u0026#34;}, Post{Id: 3, Content: \u0026#34;Hola Mundo!\u0026#34;, Author: \u0026#34;Pedro\u0026#34;}, Post{Id: 4, Content: \u0026#34;Greetings Earthlings!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;}, } writer := csv.NewWriter(csvFile) for _, post := range allPosts { line := []string{strconv.Itoa(post.Id), post.Content, post.Author} err := writer.Write(line) if err != nil { panic(err) } } writer.Flush() // reading a CSV file file, err := os.Open(\u0026#34;posts.csv\u0026#34;) if err != nil { panic(err) } defer file.Close() reader := csv.NewReader(file) reader.FieldsPerRecord = -1 record, err := reader.ReadAll() if err != nil { panic(err) } var posts []Post for _, item := range record { id, _ := strconv.ParseInt(item[0], 0, 0) post := Post{Id: int(id), Content: item[1], Author: item[2]} posts = append(posts, post) } fmt.Println(posts[0].Id) fmt.Println(posts[0].Content) fmt.Println(posts[0].Author) } gob_store package main import ( \u0026#34;bytes\u0026#34; \u0026#34;encoding/gob\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; ) type Post struct { Id int Content string Author string } // store data func store(data interface{}, filename string) { buffer := new(bytes.Buffer) encoder := gob.NewEncoder(buffer) err := encoder.Encode(data) if err != nil { panic(err) } err = ioutil.WriteFile(filename, buffer.Bytes(), 0600) if err != nil { panic(err) } } // load the data func load(data interface{}, filename string) { raw, err := ioutil.ReadFile(filename) if err != nil { panic(err) } buffer := bytes.NewBuffer(raw) dec := gob.NewDecoder(buffer) err = dec.Decode(data) if err != nil { panic(err) } } func main() { post := Post{Id: 1, Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} store(post, \u0026#34;post1\u0026#34;) var postRead Post load(\u0026amp;postRead, \u0026#34;post1\u0026#34;) fmt.Println(postRead) } gorm_store package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/jinzhu/gorm\u0026#34; _ \u0026#34;github.com/lib/pq\u0026#34; \u0026#34;time\u0026#34; ) type Post struct { Id int Content string Author string `sql:\u0026#34;not null\u0026#34;` Comments []Comment CreatedAt time.Time } type Comment struct { Id int Content string Author string `sql:\u0026#34;not null\u0026#34;` PostId int CreatedAt time.Time } var Db *gorm.DB // connect to the Db func init() { var err error Db, err = gorm.Open(\u0026#34;postgres\u0026#34;, \u0026#34;user=gwp dbname=gwp password=gwp sslmode=disable\u0026#34;) if err != nil { panic(err) } Db.AutoMigrate(\u0026amp;Post{}, \u0026amp;Comment{}) } func main() { post := Post{Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} fmt.Println(post) // {0 Hello World! Sau Sheong [] 0001-01-01 00:00:00 +0000 UTC} // Create a post Db.Create(\u0026amp;post) fmt.Println(post) // {1 Hello World! Sau Sheong [] 2015-04-13 11:38:50.91815604 +0800 SGT} // Add a comment comment := Comment{Content: \u0026#34;Good post!\u0026#34;, Author: \u0026#34;Joe\u0026#34;} Db.Model(\u0026amp;post).Association(\u0026#34;Comments\u0026#34;).Append(comment) // Get comments from a post var readPost Post Db.Where(\u0026#34;author = $1\u0026#34;, \u0026#34;Sau Sheong\u0026#34;).First(\u0026amp;readPost) var comments []Comment Db.Model(\u0026amp;readPost).Related(\u0026amp;comments) fmt.Println(comments[0]) // {1 Good post! Joe 1 2015-04-13 11:38:50.920377 +0800 SGT} } map_store package main import ( \u0026#34;fmt\u0026#34; ) type Post struct { Id int Content string Author string } var PostById map[int]*Post var PostsByAuthor map[string][]*Post func store(post Post) { PostById[post.Id] = \u0026amp;post PostsByAuthor[post.Author] = append(PostsByAuthor[post.Author], \u0026amp;post) } func main() { PostById = make(map[int]*Post) PostsByAuthor = make(map[string][]*Post) post1 := Post{Id: 1, Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} post2 := Post{Id: 2, Content: \u0026#34;Bonjour Monde!\u0026#34;, Author: \u0026#34;Pierre\u0026#34;} post3 := Post{Id: 3, Content: \u0026#34;Hola Mundo!\u0026#34;, Author: \u0026#34;Pedro\u0026#34;} post4 := Post{Id: 4, Content: \u0026#34;Greetings Earthlings!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} store(post1) store(post2) store(post3) store(post4) fmt.Println(PostById[1]) fmt.Println(PostById[2]) for _, post := range PostsByAuthor[\u0026#34;Sau Sheong\u0026#34;] { fmt.Println(post) } for _, post := range PostsByAuthor[\u0026#34;Pedro\u0026#34;] { fmt.Println(post) } } read_write_files package main import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) func main() { data := []byte(\u0026#34;Hello World!\\n\u0026#34;) // write to file and read from file using WriteFile and ReadFile err := ioutil.WriteFile(\u0026#34;data1\u0026#34;, data, 0644) if err != nil { panic(err) } read1, _ := ioutil.ReadFile(\u0026#34;data1\u0026#34;) fmt.Print(string(read1)) // write to file and read from file using the File struct file1, _ := os.Create(\u0026#34;data2\u0026#34;) defer file1.Close() bytes, _ := file1.Write(data) fmt.Printf(\u0026#34;Wrote %d bytes to file\\n\u0026#34;, bytes) file2, _ := os.Open(\u0026#34;data2\u0026#34;) defer file2.Close() read2 := make([]byte, len(data)) bytes, _ = file2.Read(read2) fmt.Printf(\u0026#34;Read %d bytes from file\\n\u0026#34;, bytes) fmt.Println(string(read2)) } sql_store1 package main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/lib/pq\u0026#34; ) type Post struct { Id int Content string Author string } var Db *sql.DB // connect to the Db func init() { var err error Db, err = sql.Open(\u0026#34;postgres\u0026#34;, \u0026#34;user=gwp dbname=gwp password=gwp sslmode=disable\u0026#34;) if err != nil { panic(err) } } // get all posts func Posts(limit int) (posts []Post, err error) { rows, err := Db.Query(\u0026#34;select id, content, author from posts limit $1\u0026#34;, limit) if err != nil { return } for rows.Next() { post := Post{} err = rows.Scan(\u0026amp;post.Id, \u0026amp;post.Content, \u0026amp;post.Author) if err != nil { return } posts = append(posts, post) } rows.Close() return } // Get a single post func GetPost(id int) (post Post, err error) { post = Post{} err = Db.QueryRow(\u0026#34;select id, content, author from posts where id = $1\u0026#34;, id).Scan(\u0026amp;post.Id, \u0026amp;post.Content, \u0026amp;post.Author) return } // Create a new post func (post *Post) Create() (err error) { statement := \u0026#34;insert into posts (content, author) values ($1, $2) returning id\u0026#34; stmt, err := Db.Prepare(statement) if err != nil { return } defer stmt.Close() err = stmt.QueryRow(post.Content, post.Author).Scan(\u0026amp;post.Id) return } // Update a post func (post *Post) Update() (err error) { _, err = Db.Exec(\u0026#34;update posts set content = $2, author = $3 where id = $1\u0026#34;, post.Id, post.Content, post.Author) return } // Delete a post func (post *Post) Delete() (err error) { _, err = Db.Exec(\u0026#34;delete from posts where id = $1\u0026#34;, post.Id) return } // Delete all posts func DeleteAll() (err error) { _, err = Db.Exec(\u0026#34;delete from posts\u0026#34;) return } func main() { post := Post{Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} // Create a post fmt.Println(post) // {0 Hello World! Sau Sheong} post.Create() fmt.Println(post) // {1 Hello World! Sau Sheong} // Get one post readPost, _ := GetPost(post.Id) fmt.Println(readPost) // {1 Hello World! Sau Sheong} // Update the post readPost.Content = \u0026#34;Bonjour Monde!\u0026#34; readPost.Author = \u0026#34;Pierre\u0026#34; readPost.Update() // Get all posts posts, _ := Posts(10) fmt.Println(posts) // [{1 Bonjour Monde! Pierre}] // Delete the post readPost.Delete() // Get all posts posts, _ = Posts(10) fmt.Println(posts) // [] // Delete all posts // DeleteAll() } setup.sql\ndrop table posts; create table posts ( id serial primary key, content text, author varchar(255) ); sql_store2 package main import ( \u0026#34;database/sql\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/lib/pq\u0026#34; ) type Post struct { Id int Content string Author string Comments []Comment } type Comment struct { Id int Content string Author string Post *Post } var Db *sql.DB // connect to the Db func init() { var err error Db, err = sql.Open(\u0026#34;postgres\u0026#34;, \u0026#34;user=gwp dbname=gwp password=gwp sslmode=disable\u0026#34;) if err != nil { panic(err) } } func (comment *Comment) Create() (err error) { if comment.Post == nil { err = errors.New(\u0026#34;Post not found\u0026#34;) return } err = Db.QueryRow(\u0026#34;insert into comments (content, author, post_id) values ($1, $2, $3) returning id\u0026#34;, comment.Content, comment.Author, comment.Post.Id).Scan(\u0026amp;comment.Id) return } // Get a single post func GetPost(id int) (post Post, err error) { post = Post{} post.Comments = []Comment{} err = Db.QueryRow(\u0026#34;select id, content, author from posts where id = $1\u0026#34;, id).Scan(\u0026amp;post.Id, \u0026amp;post.Content, \u0026amp;post.Author) rows, err := Db.Query(\u0026#34;select id, content, author from comments where post_id = $1\u0026#34;, id) if err != nil { return } for rows.Next() { comment := Comment{Post: \u0026amp;post} err = rows.Scan(\u0026amp;comment.Id, \u0026amp;comment.Content, \u0026amp;comment.Author) if err != nil { return } post.Comments = append(post.Comments, comment) } rows.Close() return } // Create a new post func (post *Post) Create() (err error) { err = Db.QueryRow(\u0026#34;insert into posts (content, author) values ($1, $2) returning id\u0026#34;, post.Content, post.Author).Scan(\u0026amp;post.Id) return } func main() { post := Post{Content: \u0026#34;Hello World!\u0026#34;, Author: \u0026#34;Sau Sheong\u0026#34;} post.Create() // Add a comment comment := Comment{Content: \u0026#34;Good post!\u0026#34;, Author: \u0026#34;Joe\u0026#34;, Post: \u0026amp;post} comment.Create() readPost, _ := GetPost(post.Id) fmt.Println(readPost) // {1 Hello World! Sau Sheong [{1 Good post! Joe 0xc20802a1c0}]} fmt.Println(readPost.Comments) // [{1 Good post! Joe 0xc20802a1c0}] fmt.Println(readPost.Comments[0].Post) // \u0026amp;{1 Hello World! Sau Sheong [{1 Good post! Joe 0xc20802a1c0}]} } setup.sql\ndrop table posts cascade; drop table comments; create table posts ( id serial primary key, content text, author varchar(255) ); create table comments ( id serial primary key, content text, author varchar(255), post_id integer references posts(id) ); sqlx_store package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/jmoiron/sqlx\u0026#34; _ \u0026#34;github.com/lib/pq\u0026#34; ) type Post struct { Id int Content string AuthorName string `db: author` } var Db *sqlx.DB // connect to the Db func init() { var err error Db, err = sqlx.Open(\u0026#34;postgres\u0026#34;, \u0026#34;user=gwp dbname=gwp password=gwp sslmode=disable\u0026#34;) if err != nil { panic(err) } } // Get a single post func GetPost(id int) (post Post, err error) { post = Post{} err = Db.QueryRowx(\u0026#34;select id, content, author from posts where id = $1\u0026#34;, id).StructScan(\u0026amp;post) if err != nil { return } return } // Create a new post func (post *Post) Create() (err error) { err = Db.QueryRow(\u0026#34;insert into posts (content, author) values ($1, $2) returning id\u0026#34;, post.Content, post.AuthorName).Scan(\u0026amp;post.Id) return } func main() { post := Post{Content: \u0026#34;Hello World!\u0026#34;, AuthorName: \u0026#34;Sau Sheong\u0026#34;} post.Create() fmt.Println(post) // {1 Hello World! Sau Sheong}} } setup.sql\ndrop table posts; create table posts ( id serial primary key, content text, author varchar(255) ); ","date":"2021-11-12T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter6/","title":"Go Webç¼–ç¨‹ Chapter6"},{"content":"Go webç¼–ç¨‹ Chapter_5 Displaying_Content context_aware package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) content := `I asked: \u0026lt;i\u0026gt;\u0026#34;What\u0026#39;s up?\u0026#34;\u0026lt;/i\u0026gt;` t.Execute(w, content) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt;{{ . }}\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;\u0026lt;a href=\u0026#34;/{{ . }}\u0026#34;\u0026gt;Path\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;\u0026lt;a href=\u0026#34;/?q={{ . }}\u0026#34;\u0026gt;Query\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;\u0026lt;a onclick=\u0026#34;f(\u0026#39;{{ . }}\u0026#39;)\u0026#34;\u0026gt;Onclick\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; costom_function package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; ) func formatDate(t time.Time) string { layout := \u0026#34;2006-01-02\u0026#34; return t.Format(layout) } func process(w http.ResponseWriter, r *http.Request) { funcMap := template.FuncMap{\u0026#34;fdate\u0026#34;: formatDate} t := template.New(\u0026#34;tmpl.html\u0026#34;).Funcs(funcMap) t, _ = t.ParseFiles(\u0026#34;tmpl.html\u0026#34;) t.Execute(w, time.Now()) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt;The date/time is {{ . | fdate }}\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; include package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;t1.html\u0026#34;, \u0026#34;t2.html\u0026#34;) t.Execute(w, \u0026#34;Hello World!\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } t1.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;IE=9\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt; This is t1.html before\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;This is the value of the dot in t1.html - [{{ . }}]\u0026lt;/div\u0026gt; \u0026lt;hr/\u0026gt; {{ template \u0026#34;t2.html\u0026#34; }} \u0026lt;hr/\u0026gt; \u0026lt;div\u0026gt; This is t1.html after\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; t2.html\n\u0026lt;div style=\u0026#34;background-color: yellow;\u0026#34;\u0026gt; This is t2.html\u0026lt;br/\u0026gt; This is the value of the dot in t2.html - [{{ . }}] \u0026lt;/div\u0026gt; iterator package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) daysOfWeek := []string{\u0026#34;Mon\u0026#34;, \u0026#34;Tue\u0026#34;, \u0026#34;Wed\u0026#34;, \u0026#34;Thu\u0026#34;, \u0026#34;Fri\u0026#34;, \u0026#34;Sat\u0026#34;, \u0026#34;Sun\u0026#34;} t.Execute(w, daysOfWeek) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;ul\u0026gt; {{ range . }} \u0026lt;li\u0026gt;{{ . }}\u0026lt;/li\u0026gt; {{ end}} \u0026lt;/ul\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; nested1 package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;layout.html\u0026#34;) t.ExecuteTemplate(w, \u0026#34;layout\u0026#34;, \u0026#34;\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } layout.html\n{{ define \u0026#34;layout\u0026#34; }} \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; {{ template \u0026#34;content\u0026#34; }} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; {{ end }} {{ define \u0026#34;content\u0026#34; }} Hello World! {{ end }} nested2 package main import ( \u0026#34;html/template\u0026#34; \u0026#34;math/rand\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { rand.Seed(time.Now().Unix()) var t *template.Template if rand.Intn(10) \u0026gt; 5 { t, _ = template.ParseFiles(\u0026#34;layout.html\u0026#34;, \u0026#34;red_hello.html\u0026#34;) } else { t, _ = template.ParseFiles(\u0026#34;layout.html\u0026#34;, \u0026#34;blue_hello.html\u0026#34;) } t.ExecuteTemplate(w, \u0026#34;layout\u0026#34;, \u0026#34;\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } blue_hello.html\n{{ define \u0026#34;content\u0026#34; }} \u0026lt;h1 style=\u0026#34;color: blue;\u0026#34;\u0026gt;Hello World!\u0026lt;/h1\u0026gt; {{ end }} layout.html\n{{ define \u0026#34;layout\u0026#34; }} \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; {{ template \u0026#34;content\u0026#34; }} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; {{ end }} red_hello.html\n{{ define \u0026#34;content\u0026#34; }} \u0026lt;h1 style=\u0026#34;color: red;\u0026#34;\u0026gt;Hello World!\u0026lt;/h1\u0026gt; {{ end }} random_number package main import ( \u0026#34;html/template\u0026#34; \u0026#34;math/rand\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) rand.Seed(time.Now().Unix()) t.Execute(w, rand.Intn(10) \u0026gt; 5) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; {{ if . }} Number is greater than 5! {{ else }} Number is 5 or less! {{ end }} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; set_dot package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) t.Execute(w, \u0026#34;hello\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt;The dot is {{ . }}\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; {{ with \u0026#34;world\u0026#34;}} Now the dot is set to {{ . }} {{ end }} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;The dot is {{ . }} again\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; trigger_template package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) t.Execute(w, \u0026#34;Hello World!\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } tmpl.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; {{ . }} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; xss package main import ( \u0026#34;html/template\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { w.Header().Set(\u0026#34;X-XSS-Protection\u0026#34;, \u0026#34;0\u0026#34;) t, _ := template.ParseFiles(\u0026#34;tmpl.html\u0026#34;) t.Execute(w, r.FormValue(\u0026#34;comment\u0026#34;)) t.Execute(w, template.HTML(r.FormValue(\u0026#34;comment\u0026#34;))) } func form(w http.ResponseWriter, r *http.Request) { t, _ := template.ParseFiles(\u0026#34;form.html\u0026#34;) t.Execute(w, nil) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) http.HandleFunc(\u0026#34;/\u0026#34;, form) server.ListenAndServe() } form.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;/process\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; Comment: \u0026lt;input name=\u0026#34;comment\u0026#34; type=\u0026#34;text\u0026#34; size=\u0026#34;50\u0026#34;\u0026gt; \u0026lt;hr/\u0026gt; \u0026lt;button id=\u0026#34;submit\u0026#34;\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; tmpl.html\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div\u0026gt;{{ . }}\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","date":"2021-10-31T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter5/","title":"Go Webç¼–ç¨‹ Chapter5"},{"content":"ç»´ä¿\nä¼˜åŒ–å†…å­˜å ç”¨ æé«˜sqlæ‰§è¡Œæ•ˆç‡ ç´¢å¼• æ€§èƒ½åˆ†æ æ…¢æŸ¥è¯¢æ—¥å¿— å¤šçº¿ç¨‹ä¸Šä¼ æ•°æ® ä»¥åè¦è®¾å®šé˜€å€¼ ä¸Šä¼ æ•°æ®æ€»é‡ç­‰äº5w(ä¼°ç®—)çš„æ—¶å€™,å…ˆä¸Šä¼ ,æ”¾ç½®å› ä¸ºå¾ˆä¹…æ²¡ä¸Šä¼ çš„æ•°æ®å› ä¸ºç´¯ç§¯è¿‡å¤š,å¯¼è‡´ä¸€æ¬¡æ€§ä¸Šä¼ 50wæ•°æ®è£‚å¼€ image-20211117085507371\r","date":"2021-10-28T10:24:40+08:00","permalink":"https://linjianshu.github.io/p/%E6%B4%BB%E8%BF%9E%E4%B8%8A%E7%BA%BF%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"æ´»è¿ä¸Šçº¿å­¦ä¹ æ–‡æ¡£"},{"content":"Go webç¼–ç¨‹ Chapter_4 Processing_Requests body package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func body(w http.ResponseWriter, r *http.Request) { len := r.ContentLength body := make([]byte, len) r.Body.Read(body) fmt.Fprintln(w, string(body)) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/body\u0026#34;, body) server.ListenAndServe() } cookie package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func setCookie(w http.ResponseWriter, r *http.Request) { c1 := http.Cookie{ Name: \u0026#34;first_cookie\u0026#34;, Value: \u0026#34;Go Web Programming\u0026#34;, HttpOnly: true, } c2 := http.Cookie{ Name: \u0026#34;second_cookie\u0026#34;, Value: \u0026#34;Manning Publications Co\u0026#34;, HttpOnly: true, } http.SetCookie(w, \u0026amp;c1) http.SetCookie(w, \u0026amp;c2) } func getCookie(w http.ResponseWriter, r *http.Request) { c1, err := r.Cookie(\u0026#34;first_cookie\u0026#34;) if err != nil { fmt.Fprintln(w, \u0026#34;Cannot get the first cookie\u0026#34;) } cs := r.Cookies() fmt.Fprintln(w, c1) fmt.Fprintln(w, cs) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/set_cookie\u0026#34;, setCookie) http.HandleFunc(\u0026#34;/get_cookie\u0026#34;, getCookie) server.ListenAndServe() } cookie_flash package main import ( \u0026#34;encoding/base64\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; ) func setMessage(w http.ResponseWriter, r *http.Request) { msg := []byte(\u0026#34;Hello World!\u0026#34;) c := http.Cookie{ Name: \u0026#34;flash\u0026#34;, Value: base64.URLEncoding.EncodeToString(msg), } http.SetCookie(w, \u0026amp;c) } func showMessage(w http.ResponseWriter, r *http.Request) { c, err := r.Cookie(\u0026#34;flash\u0026#34;) if err != nil { if err == http.ErrNoCookie { fmt.Fprintln(w, \u0026#34;No message found\u0026#34;) } } else { rc := http.Cookie{ Name: \u0026#34;flash\u0026#34;, MaxAge: -1, Expires: time.Unix(1, 0), } http.SetCookie(w, \u0026amp;rc) val, _ := base64.URLEncoding.DecodeString(c.Value) fmt.Fprintln(w, string(val)) } } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/set_message\u0026#34;, setMessage) http.HandleFunc(\u0026#34;/show_message\u0026#34;, showMessage) server.ListenAndServe() } fileupload package main import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { r.ParseMultipartForm(1024) fileHeader := r.MultipartForm.File[\u0026#34;uploaded\u0026#34;][0] file, err := fileHeader.Open() if err == nil { data, err := ioutil.ReadAll(file) if err == nil { fmt.Fprintln(w, string(data)) } } } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } client.htmlç½‘é¡µ\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;http://localhost:8080/process?hello=world\u0026amp;thread=123\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;hello\u0026#34; value=\u0026#34;sau sheong\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;post\u0026#34; value=\u0026#34;456\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;uploaded\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; form package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { r.ParseForm() fmt.Fprintln(w, r.Form) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } client.htmlç½‘é¡µ\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;http://127.0.0.1:8080/process?hello=world\u0026amp;thread=123\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;application/x-www-form-urlencoded\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;hello\u0026#34; value=\u0026#34;sau sheong\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;post\u0026#34; value=\u0026#34;456\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;/\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; formfile package main import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;net/http\u0026#34; ) func process(w http.ResponseWriter, r *http.Request) { file, _, err := r.FormFile(\u0026#34;uploaded\u0026#34;) if err == nil { data, err := ioutil.ReadAll(file) if err == nil { fmt.Fprintln(w, string(data)) } } } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/process\u0026#34;, process) server.ListenAndServe() } client.htmlç½‘é¡µ\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;http://localhost:8080/process?hello=world\u0026amp;thread=123\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;hello\u0026#34; value=\u0026#34;sau sheong\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;post\u0026#34; value=\u0026#34;456\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;uploaded\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; header package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func headers(w http.ResponseWriter, r *http.Request) { h := r.Header fmt.Fprintln(w, h) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/headers\u0026#34;, headers) server.ListenAndServe() } write package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) type Post struct { User string Threads []string } func writeExample(w http.ResponseWriter, r *http.Request) { str := `\u0026lt;html\u0026gt; \u0026lt;head\u0026gt;\u0026lt;title\u0026gt;Go Web Programming\u0026lt;/title\u0026gt;\u0026lt;/head\u0026gt; \u0026lt;body\u0026gt;\u0026lt;h1\u0026gt;Hello World\u0026lt;/h1\u0026gt;\u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;` w.Write([]byte(str)) } func writeHeaderExample(w http.ResponseWriter, r *http.Request) { w.WriteHeader(501) fmt.Fprintln(w, \u0026#34;No such service, try next door\u0026#34;) } func headerExample(w http.ResponseWriter, r *http.Request) { w.Header().Set(\u0026#34;Location\u0026#34;, \u0026#34;http://google.com\u0026#34;) w.WriteHeader(302) } func jsonExample(w http.ResponseWriter, r *http.Request) { w.Header().Set(\u0026#34;Content-Type\u0026#34;, \u0026#34;application/json\u0026#34;) post := \u0026amp;Post{ User: \u0026#34;Sau Sheong\u0026#34;, Threads: []string{\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;, \u0026#34;third\u0026#34;}, } json, _ := json.Marshal(post) w.Write(json) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/write\u0026#34;, writeExample) http.HandleFunc(\u0026#34;/writeheader\u0026#34;, writeHeaderExample) http.HandleFunc(\u0026#34;/redirect\u0026#34;, headerExample) http.HandleFunc(\u0026#34;/json\u0026#34;, jsonExample) server.ListenAndServe() } ","date":"2021-10-20T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter4/","title":"Go Webç¼–ç¨‹ Chapter4"},{"content":"Go webç¼–ç¨‹ Chapter_3 Handling_Requests chain_handler package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) type HelloHandler struct{} func (h HelloHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;Hello!\u0026#34;) } func log(h http.Handler) http.Handler { return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) { fmt.Printf(\u0026#34;Handler called - %T\\n\u0026#34;, h) h.ServeHTTP(w, r) }) } func protect(h http.Handler) http.Handler { return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) { // some code to make sure the user is authorized h.ServeHTTP(w, r) }) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } hello := HelloHandler{} http.Handle(\u0026#34;/hello\u0026#34;, protect(log(hello))) server.ListenAndServe() } chain_handlerfunc package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;reflect\u0026#34; \u0026#34;runtime\u0026#34; ) func hello(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;Hello!\u0026#34;) } func log(h http.HandlerFunc) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { name := runtime.FuncForPC(reflect.ValueOf(h).Pointer()).Name() fmt.Println(\u0026#34;Handler function called - \u0026#34; + name) h(w, r) } } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/hello\u0026#34;, log(hello)) server.ListenAndServe() } configurable package main import ( \u0026#34;net/http\u0026#34; ) func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, Handler: nil, } server.ListenAndServe() } gencert package main import ( \u0026#34;crypto/rand\u0026#34; \u0026#34;crypto/rsa\u0026#34; \u0026#34;crypto/x509\u0026#34; \u0026#34;crypto/x509/pkix\u0026#34; \u0026#34;encoding/pem\u0026#34; \u0026#34;math/big\u0026#34; \u0026#34;net\u0026#34; \u0026#34;os\u0026#34; \u0026#34;time\u0026#34; ) func main() { max := new(big.Int).Lsh(big.NewInt(1), 128) serialNumber, _ := rand.Int(rand.Reader, max) subject := pkix.Name{ Organization: []string{\u0026#34;Manning Publications Co.\u0026#34;}, OrganizationalUnit: []string{\u0026#34;Books\u0026#34;}, CommonName: \u0026#34;Go Web Programming\u0026#34;, } template := x509.Certificate{ SerialNumber: serialNumber, Subject: subject, NotBefore: time.Now(), NotAfter: time.Now().Add(365 * 24 * time.Hour), KeyUsage: x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature, ExtKeyUsage: []x509.ExtKeyUsage{x509.ExtKeyUsageServerAuth}, IPAddresses: []net.IP{net.ParseIP(\u0026#34;127.0.0.1\u0026#34;)}, } pk, _ := rsa.GenerateKey(rand.Reader, 2048) derBytes, _ := x509.CreateCertificate(rand.Reader, \u0026amp;template, \u0026amp;template, \u0026amp;pk.PublicKey, pk) certOut, _ := os.Create(\u0026#34;cert.pem\u0026#34;) pem.Encode(certOut, \u0026amp;pem.Block{Type: \u0026#34;CERTIFICATE\u0026#34;, Bytes: derBytes}) certOut.Close() keyOut, _ := os.Create(\u0026#34;key.pem\u0026#34;) pem.Encode(keyOut, \u0026amp;pem.Block{Type: \u0026#34;RSA PRIVATE KEY\u0026#34;, Bytes: x509.MarshalPKCS1PrivateKey(pk)}) keyOut.Close() } handler package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) type MyHandler struct{} func (h *MyHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;Hello World!\u0026#34;) } func main() { handler := MyHandler{} server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, Handler: \u0026amp;handler, } server.ListenAndServe() } handlerfunc package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func hello(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;Hello!\u0026#34;) } func world(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;World!\u0026#34;) } func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.HandleFunc(\u0026#34;/hello\u0026#34;, hello) http.HandleFunc(\u0026#34;/world\u0026#34;, world) server.ListenAndServe() } httprouter package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/julienschmidt/httprouter\u0026#34; \u0026#34;net/http\u0026#34; ) func hello(w http.ResponseWriter, r *http.Request, p httprouter.Params) { fmt.Fprintf(w, \u0026#34;hello, %s!\\n\u0026#34;, p.ByName(\u0026#34;name\u0026#34;)) } func main() { mux := httprouter.New() mux.GET(\u0026#34;/hello/:name\u0026#34;, hello) server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, Handler: mux, } server.ListenAndServe() } https package main import ( \u0026#34;net/http\u0026#34; ) func main() { server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, Handler: nil, } server.ListenAndServeTLS(\u0026#34;cert.pem\u0026#34;, \u0026#34;key.pem\u0026#34;) } multihandler package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) type HelloHandler struct{} func (h *HelloHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;Hello!\u0026#34;) } type WorldHandler struct{} func (h *WorldHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \u0026#34;World!\u0026#34;) } func main() { hello := HelloHandler{} world := WorldHandler{} server := http.Server{ Addr: \u0026#34;127.0.0.1:8080\u0026#34;, } http.Handle(\u0026#34;/hello\u0026#34;, \u0026amp;hello) http.Handle(\u0026#34;/world\u0026#34;, \u0026amp;world) server.ListenAndServe() } simplest package main import ( \u0026#34;net/http\u0026#34; ) func main() { http.ListenAndServe(\u0026#34;\u0026#34;, nil) } ","date":"2021-10-15T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter3/","title":"Go Webç¼–ç¨‹ Chapter3"},{"content":"Mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£ mysqlçš„æ¶æ„ä»‹ç» mysqlç®€ä»‹ mysqllinuxç‰ˆå®‰è£… mysqlé…ç½®æ–‡ä»¶ mysqlé€»è¾‘æ¶æ„ä»‹ç» mysqlå­˜å‚¨å¼•æ“ ç´¢å¼•ä¼˜åŒ–åˆ†æ æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿ å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢ ç´¢å¼•ç®€ä»‹ æ€§èƒ½åˆ†æ ç´¢å¼•ä¼˜åŒ– æŸ¥è¯¢æˆªå–åˆ†æ æŸ¥è¯¢ä¼˜åŒ– æ…¢æŸ¥è¯¢æ—¥å¿— æ‰¹é‡æ•°æ®è„šæœ¬ show profile å…¨å±€æŸ¥è¯¢æ—¥å¿— mysqlé”æœºåˆ¶ é”çš„åˆ†ç±» ä¸»ä»å¤åˆ¶ ä¸»ä»é…ç½® mysqlç®€ä»‹ é«˜çº§mysql å®Œæ•´çš„mysqlä¼˜åŒ–\nmysqlå†…æ ¸ sqlä¼˜åŒ–æ”»åŸç‹® mysqlæœåŠ¡å™¨çš„ä¼˜åŒ– å„ç§å‚æ•°å¸¸é‡è®¾å®š æŸ¥è¯¢è¯­å¥ä¼˜åŒ– ä¸»ä»å¤åˆ¶ è½¯ç¡¬ä»¶å‡çº§ å®¹ç¾å¤‡ä»½ sqlç¼–ç¨‹ mysqllinuxç‰ˆçš„å®‰è£… image-20211012195826053\r#æŸ¥çœ‹å½“å‰ubuntuç‰ˆæœ¬ yourtreedad@yourtreedad:~$ lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 20.04.3 LTS Release: 20.04 Codename: focal yourtreedad@yourtreedad:~$ å‡†å¤‡å·¥ä½œ\n#åˆ‡æ¢åˆ°rootè´¦æˆ· yourtreedad@yourtreedad:~$ sudo passwd root New password: Retype new password: passwd: password updated successfully yourtreedad@yourtreedad:~$ su root Password: root@yourtreedad:/home/yourtreedad# #æŸ¥çœ‹ç”µè„‘é‡Œæœ‰æ²¡æœ‰mysql root@yourtreedad:/home/yourtreedad# service mysql status * MySQL is stopped. root@yourtreedad:/home/yourtreedad# mysql --version mysql Ver 8.0.26-0ubuntu0.20.04.2 for Linux on x86_64 ((Ubuntu)) root@yourtreedad:/home/yourtreedad# service mysql start * Starting MySQL database server mysqld su: warning: cannot change directory to /nonexistent: No such file or directory #é‚£å°±å½»åº•å¸è½½äº† root@yourtreedad:/home/yourtreedad# sudo apt-get remove mysql-* root@yourtreedad:/home/yourtreedad# sudo rm -rf /etc/mysql/ root@yourtreedad:/home/yourtreedad# dpkg -l |grep ^rc|awk \u0026#39;{print $2}\u0026#39; |sudo xargs dpkg -P dpkg: error: --purge needs at least one package name argument #å¦‚æœå‡ºç°è¿™ä¸ªé”™è¯¯ dpkg: error: --purge needs at least one package name argumentï¼Œè¯´æ˜å·²ç»æ¸…ç©ºå®Œæ¯•äº† #å…¨éƒ¨åˆ é™¤äº† root@yourtreedad:/home/yourtreedad# service mysql status mysql: unrecognized service root@yourtreedad:/home/yourtreedad# mysql --version bash: /usr/bin/mysql: No such file or directory root@yourtreedad:/home/yourtreedad# #æ›´æ–°åˆ°æœ€æ–° å®‰è£…rpm root@yourtreedad:/opt# apt-get update root@yourtreedad:/home/yourtreedad# apt-get upgrade root@yourtreedad:/home/yourtreedad# apt-get install rpm #ä½¿ç”¨rpmåˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¦å®‰è£…è¿‡mysql root@yourtreedad:/home/yourtreedad# rpm -qa|grep -i mysql #å®‰è£…mysql root@yourtreedad:/opt# sudo apt-get install mysql-server mysql-client #æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ root@yourtreedad:/# id yourtreedad uid=1000(yourtreedad) gid=1000(yourtreedad) groups=1000(yourtreedad),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),117(netdev) root@yourtreedad:/# cat /etc/passwd|grep mysql mysql:x:112:119:MySQL Server,,,:/var/lib/mysql/:/bin/false root@yourtreedad:/# cat /etc/group|grep mysql mysql:x:119: root@yourtreedad:/# mysqladmin --version mysqladmin Ver 8.0.26-0ubuntu0.20.04.3 for Linux on x86_64 ((Ubuntu)) root@yourtreedad:/# root@yourtreedad:/# service mysql start root@yourtreedad:/# ps -ef|grep mysql mysql 18675 1 0 21:03 ? 00:00:00 /bin/sh /usr/bin/mysqld_safe mysql 18822 18675 0 21:03 ? 00:00:00 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --log-error=/var/log/mysql/error.log --pid-file=yourtreedad.pid root 19055 16743 0 21:14 tty1 00:00:00 grep --color=auto mysql https://www.cnblogs.com/duolamengxiong/p/13650684.html\nmysqlå¯åœå’Œè‡ªåŠ¨è¿è¡Œ #æŸ¥çœ‹è¿è¡Œæ—¶é—´ root@yourtreedad:/home/yourtreedad# top top - 21:17:30 up 1:21, 0 users, load average: 0.52, 0.58, 0.59 Tasks: 8 total, 1 running, 7 sleeping, 0 stopped, 0 zombie %Cpu(s): 4.0 us, 2.9 sy, 0.0 ni, 92.7 id, 0.0 wa, 0.4 hi, 0.0 si, 0.0 st MiB Mem : 32674.8 total, 21949.1 free, 10501.7 used, 224.0 buff/cache MiB Swap: 38400.2 total, 38322.8 free, 77.3 used. 22042.5 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 1 root 20 0 8944 328 288 S 0.0 0.0 0:00.18 init 16725 root 20 0 8952 232 184 S 0.0 0.0 0:00.00 init 16726 yourtre+ 20 0 18096 3588 3484 S 0.0 0.0 0:00.13 bash 18675 mysql 20 0 10656 812 780 S 0.0 0.0 0:00.10 mysqld_safe 18822 mysql 20 0 2603072 299920 20628 S 0.0 0.9 0:00.75 mysqld 19087 root 20 0 18412 2592 2568 S 0.0 0.0 0:00.03 su 19088 root 20 0 17008 2396 2304 S 0.0 0.0 0:00.07 bash 19201 root 20 0 18924 2152 1528 R 0.0 0.0 0:00.04 top #ç›´æ¥mysql å°±è¿›æ¥äº† root@yourtreedad:/home/yourtreedad# mysql Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 24 mysqlé»˜è®¤æ²¡æœ‰å¯†ç ,æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå’©æœ‰è¾“å…¥å¯†ç å°±ç›´æ¥è¿ä¸Šäº†\nè®¾ç½®ç™»é™†å¯†ç \nroot@yourtreedad:/home/yourtreedad# /usr/bin/mysqladmin -u root password 123456 mysqladmin: [Warning] Using a password on the command line interface can be insecure. Warning: Since password will be sent to server in plain text, use ssl connection to ensure password safety. image-20211012213458570\rmysql\u0026gt; create database student ; Query OK, 1 row affected (0.01 sec) mysql\u0026gt; exit Bye root@yourtreedad:/var/lib/mysql# ls -l total 193956 -rw-r----- 1 mysql mysql 196608 Oct 12 21:33 \u0026#39;#ib_16384_0.dblwr\u0026#39; -rw-r----- 1 mysql mysql 8585216 Oct 12 20:19 \u0026#39;#ib_16384_1.dblwr\u0026#39; drwxr-x--- 1 mysql mysql 512 Oct 12 21:03 \u0026#39;#innodb_temp\u0026#39; -rw-r----- 1 mysql mysql 56 Oct 12 20:19 auto.cnf -rw-r----- 1 mysql mysql 12582912 Oct 12 21:33 ibdata1 -rw-r----- 1 mysql mysql 12582912 Oct 12 21:03 ibtmp1 drwxr-x--- 1 mysql mysql 512 Oct 12 20:19 mysql -rw-r----- 1 mysql mysql 25165824 Oct 12 21:33 mysql.ibd drwxr-x--- 1 mysql mysql 512 Oct 12 21:33 student drwxr-x--- 1 mysql mysql 512 Oct 12 20:19 sys ä¿®æ”¹é…ç½®æ–‡ä»¶ä½ç½®\nimage-20211012213843009\rå¼„å¥½äº†é‡å¯mysql\nmysql\u0026gt; insert into user values (2,\u0026#39;å¼ ä¸‰\u0026#39;); Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from user ; +----+--------+ | id | name | +----+--------+ | 1 | z3 | | 2 | å¼ ä¸‰ | +----+--------+ 2 rows in set (0.00 sec) #æœ‰æ—¶å€™å­—ç¬¦é›†æ²¡å¼„å¥½ è¦å¼„æˆutf-8 mysql\u0026gt; show variables like \u0026#39;%char%\u0026#39;; +--------------------------+----------------------------+ | Variable_name | Value | +--------------------------+----------------------------+ | character_set_client | utf8mb4 | | character_set_connection | utf8mb4 | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | utf8mb4 | | character_set_server | utf8mb4 | | character_set_system | utf8mb3 | | character_sets_dir | /usr/share/mysql/charsets/ | +--------------------------+----------------------------+ 8 rows in set (0.01 sec) ä¿®æ”¹å­—ç¬¦é›†å’Œæ•°æ®å­˜å‚¨è·¯å¾„\nå¿…é¡»åœ¨å­—ç¬¦é›†ä¿®æ”¹ä¹‹åæ‰èƒ½æ”¯æŒä¸­æ–‡,ä¹‹å‰çš„æ•°æ®åº“å¥½åƒä¸è¡Œ\nmysqlé…ç½®æ–‡ä»¶ äºŒè¿›åˆ¶æ—¥å¿— log - bin ä¸»ä»å¤åˆ¶ é”™è¯¯æ—¥å¿— mysqlerror.error æŸ¥è¯¢æ—¥å¿—log é»˜è®¤å…³é—­,è®°å½•æŸ¥è¯¢çš„sqlè¯­å¥,å¦‚æœå¼€å¯ä¼šå‡ä½mysqlçš„æ•´ä½“æ€§èƒ½ æ•°æ®æ–‡ä»¶ ä¸¤ä¸ªç³»ç»Ÿä¸ä¸€è‡´ windows mysql5.0\\dataç›®å½•ä¸‹æœ‰å¾ˆå¤šåº“ linux é»˜è®¤è·¯å¾„ /var/lib/mysql frmæ–‡ä»¶ å­˜æ”¾è¡¨ç»“æ„ mydæ–‡ä»¶ å­˜æ”¾è¡¨æ•°æ® myiæ–‡ä»¶ å­˜æ”¾è¡¨ç´¢å¼• mysqlé€»è¾‘æ¶æ„ä»‹ç» image-20211014205109147\rç¬¬ä¸€å±‚:è¿æ¥å±‚ æœ€ä¸Šå±‚æ˜¯ä¸€äº›å®¢æˆ·ç«¯å’Œè¿æ¥æœåŠ¡,åŒ…å«æœ¬åœ°socké€šä¿¡å’Œå¤§å¤šæ•°åŸºäºå®¢æˆ·ç«¯/æœåŠ¡ç«¯å·¥å…·å®ç°çš„ç±»ä¼¼äºtcp/ipçš„é€šä¿¡.ä¸»è¦å®Œæˆä¸€äº›ç±»ä¼¼äºè¿æ¥å¤„ç†/æˆæƒè®¤è¯åŠç›¸å…³çš„å®‰å…¨æ–¹æ¡ˆ.åœ¨è¯¥å±‚ä¸Šå¼•å…¥äº†çº¿ç¨‹æ± çš„æ¦‚å¿µ,ä¸ºé€šè¿‡è®¤è¯å®‰å…¨æ¥å…¥çš„å®¢æˆ·ç«¯æä¾›çº¿ç¨‹.åŒæ ·åœ¨è¯¥å±‚ä¸Šå¯ä»¥å®ç°åŸºäºsslçš„å®‰å…¨è¿æ¥.æœåŠ¡å™¨ä¹Ÿä¼šä¸ºå®‰å…¨æ¥å…¥çš„æ¯ä¸ªå®¢æˆ·ç«¯éªŒè¯å®ƒæ‰€å…·æœ‰çš„æ“ä½œæƒé™.\nç¬¬äºŒå±‚:æ•°æ®åº“è¿æ¥æ±  å¤‡ä»½æ¢å¤å®‰å…¨é›†ç¾¤å®¹ç¾ å­˜å‚¨è¿‡ç¨‹ è§†å›¾ è§¦å‘å™¨ è§£æå™¨ ä¼˜åŒ–å™¨ ç¼“å­˜ ç¬¬äºŒå±‚æ¶æ„ä¸»è¦å®Œæˆå¤§å¤šæ•°çš„æ ¸å¿ƒæœåŠ¡åŠŸèƒ½,å¦‚sqlæ¥å£,å¹¶å®Œæˆç¼“å­˜çš„æŸ¥è¯¢,sqlçš„åˆ†æå’Œä¼˜åŒ–ä»¥éƒ¨åˆ†å†…ç½®å‡½æ•°çš„æ‰§è¡Œ.æ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½ä¹Ÿåœ¨è¿™ä¸€å±‚å®ç°,å¦‚è¿‡ç¨‹/å‡½æ•°ç­‰.åœ¨è¯¥å±‚,æœåŠ¡å™¨ä¼šè§£ææŸ¥è¯¢å¹¶åˆ›å»ºç›¸åº”çš„å†…éƒ¨è§£ææ ‘,å¹¶å¯¹å…¶å®Œæˆç›¸åº”çš„ä¼˜åŒ–å¦‚ç¡®å®šæŸ¥è¯¢è¡¨çš„é¡ºåº,æ˜¯å¦åˆ©ç”¨ç´¢å¼•ç­‰,æœ€åç”Ÿæˆç›¸åº”çš„æ‰§è¡Œæ“ä½œ.å¦‚æœæ˜¯selectè¯­å¥,æœåŠ¡å™¨è¿˜ä¼šæŸ¥è¯¢å†…éƒ¨çš„ç¼“å­˜,å¦‚æœç¼“å­˜ç©ºé—´è¶³å¤Ÿå¤§,è¿™æ ·åœ¨è§£å†³å¤§é‡è¯»æ“ä½œçš„ç¯å¢ƒä¸­èƒ½å¤Ÿå¾ˆå¥½çš„æå‡ç³»ç»Ÿçš„æ€§èƒ½.\nç¬¬ä¸‰å±‚:å¯æ’æ‹”å­˜å‚¨å¼•æ“ å­˜å‚¨å¼•æ“å±‚,å­˜å‚¨å¼•æ“çœŸæ­£çš„è´Ÿè´£äº†mysqlä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–,æœåŠ¡å™¨é€šè¿‡apiä¸å­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡.ä¸åŒçš„å­˜å‚¨å¼•æ“å…·æœ‰çš„åŠŸèƒ½ä¸åŒ,è¿™æ ·æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦è¿›è¡Œé€‰å–.åé¢ä»‹ç»myisamå’Œinnodb\nç¬¬å››å±‚:æ–‡ä»¶ç³»ç»Ÿå’Œæ–‡ä»¶æ—¥å¿— æ•°æ®å­˜å‚¨å±‚,ä¸»è¦æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨è¿è¡Œäºè£¸è®¾å¤‡çš„æ–‡ä»¶ç³»ç»Ÿä¸Š,å¹¶å®Œæˆä¸å­˜å‚¨å¼•æ“çš„äº¤äº’\nå’Œå…¶ä»–çš„æ•°æ®åº“ç›¸æ¯”,mysqlæœ‰ç‚¹ä¸ä¼—ä¸åŒ,å®ƒçš„æ¶æ„å¯ä»¥åœ¨å¤šç§ä¸åŒåœºæ™¯ä¸­åº”ç”¨å¹¶å‘æŒ¥è‰¯å¥½ä½œç”¨.ä¸»è¦ä½“ç°åœ¨å­˜å‚¨å¼•æ“çš„æ¶æ„ä¸Š,æ’ä»¶å¼çš„å­˜å‚¨å¼•æ“å°†æŸ¥è¯¢å¤„ç†å’Œå…¶ä»–çš„ç³»ç»Ÿä»»åŠ¡ä»¥åŠæ•°æ®çš„å­˜å‚¨æå–ç›¸åˆ†ç¦».è¿™ç§æ¶æ„å¯ä»¥æ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚å’Œå®é™…éœ€è¦é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“\nmysqlå­˜å‚¨å¼•æ“ mysql\u0026gt; show engines ; +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | Engine | Support | Comment | Transactions | XA | Savepoints | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | MEMORY | YES | Hash based, stored in memory, useful for temporary tables | NO | NO | NO | | MRG_MYISAM | YES | Collection of identical MyISAM tables | NO | NO | NO | | CSV | YES | CSV storage engine | NO | NO | NO | | FEDERATED | NO | Federated MySQL storage engine | NULL | NULL | NULL | | PERFORMANCE_SCHEMA | YES | Performance Schema | NO | NO | NO | | MyISAM | YES | MyISAM storage engine #æŸ¥çœ‹å­˜å‚¨å¼•æ“ mysql\u0026gt; show variables like \u0026#39;%storage_engine%\u0026#39; ; +---------------------------------+-----------+ | Variable_name | Value | +---------------------------------+-----------+ | default_storage_engine | InnoDB | | default_tmp_storage_engine | InnoDB | | disabled_storage_engines | | | internal_tmp_mem_storage_engine | TempTable | +---------------------------------+-----------+ image-20211014211207589\rimage-20211014211324759\rç´¢å¼•ä¼˜åŒ– ä¼˜åŒ–åˆ†æ æ€§èƒ½ä¸‹é™sqlæ…¢/æ‰§è¡Œæ—¶é—´é•¿/ç­‰å¾…æ—¶é—´é•¿\næŸ¥è¯¢è¯­å¥å†™çš„çƒ‚ ç´¢å¼•å¤±æ•ˆ å•å€¼ å¤åˆ #åˆ›å»ºç´¢å¼• mysql\u0026gt; create index idx_beauty_name on beauty(name); Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; create index idx_beauty_name_sex on beauty(name,sex); Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #æŸ¥çœ‹ç´¢å¼• mysql\u0026gt; show index from beauty ; +--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | beauty | 0 | PRIMARY | 1 | id | A | 13 | NULL | NULL | | BTREE | | | YES | NULL | | beauty | 1 | idx_beauty_name | 1 | name | A | 12 | NULL | NULL | | BTREE | | | YES | NULL | | beauty | 1 | idx_beauty_name_sex | 1 | name | A | 12 | NULL | NULL | | BTREE | | | YES | NULL | | beauty | 1 | idx_beauty_name_sex | 2 | sex | A | 12 | NULL | NULL | YES | BTREE | | | YES | NULL | +--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ å…³è”æŸ¥è¯¢å¤ªå¤šjoin(è®¾è®¡ç¼ºé™·æˆ–ä¸å¾—å·²çš„éœ€æ±‚) æœåŠ¡å™¨è°ƒä¼˜ä»¥å„ä¸ªå‚æ•°è®¾ç½®(ç¼“å†²/çº¿ç¨‹æ•°) å¸¸è§çš„joinæŸ¥è¯¢ sqlçš„æ‰§è¡Œé¡ºåº\næ‰‹å†™ select from join on where group by having order by limit æœºè¯» from on join where group by having select dinstinct order by limit image-20211014213300494\rjoin å›¾\nimage-20211014213503395\rimage-20211014213909722\rmysql\u0026gt; CREATE TABLE tbl_dept ( -\u0026gt; id INT(11) NOT NULL AUTO_INCREMENT, -\u0026gt; deptName VARCHAR(30) DEFAULT NULL, -\u0026gt; locAdd VARCHAR(40) DEFAULT NULL, -\u0026gt; PRIMARY KEY (id) -\u0026gt; ) ENGINE INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; Query OK, 0 rows affected, 2 warnings (0.02 sec) mysql\u0026gt; CREATE TABLE tbl_emp ( -\u0026gt; id INT(11) NOT NULL AUTO_INCREMENT, -\u0026gt; name VARCHAR(20) DEFAULT NULL, -\u0026gt; deptld INT(11) DEFAULT NULL, -\u0026gt; PRIMARY KEY(id), -\u0026gt; KEY fk_dept_id(deptld) -\u0026gt; #CONSTRAINT fk_dept_id FOREIGNKEY(deptld) REFERENCES tbl_dept(id) -\u0026gt; )ENGINE INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; Query OK, 0 rows affected, 3 warnings (0.02 sec) mysql\u0026gt; select * from tbl_emp ; +----+------+--------+ | id | name | deptld | +----+------+--------+ | 1 | z3 | 1 | | 2 | z4 | 1 | | 3 | z5 | 1 | | 4 | w5 | 2 | | 5 | w6 | 2 | | 6 | s7 | 3 | | 7 | s8 | 4 | | 8 | s9 | 51 | +----+------+--------+ 8 rows in set (0.00 sec) mysql\u0026gt; select * from tbl_dept ; +----+----------+--------+ | id | deptName | locAdd | +----+----------+--------+ | 1 | RD | 11 | | 2 | HR | 12 | | 3 | MK | 13 | | 4 | MIS | 14 | | 5 | FD | 15 | +----+----------+--------+ 5 rows in set (0.00 sec) #å†…è¿æ¥ å°±ä¹ˆæœ‰8å‘˜å·¥ å’Œ 5éƒ¨é—¨ mysql\u0026gt; select e.* , d.* from tbl_emp e join tbl_dept d on e.deptld = d.id ; +----+------+--------+----+----------+--------+ | id | name | deptld | id | deptName | locAdd | +----+------+--------+----+----------+--------+ | 1 | z3 | 1 | 1 | RD | 11 | | 2 | z4 | 1 | 1 | RD | 11 | | 3 | z5 | 1 | 1 | RD | 11 | | 4 | w5 | 2 | 2 | HR | 12 | | 5 | w6 | 2 | 2 | HR | 12 | | 6 | s7 | 3 | 3 | MK | 13 | | 7 | s8 | 4 | 4 | MIS | 14 | +----+------+--------+----+----------+--------+ #å·¦å¤–è¿æ¥ æ²¡æœ‰5éƒ¨é—¨ mysql\u0026gt; select e.* , d.* from tbl_emp e left join tbl_dept d on e.deptid = d.id ; +----+------+--------+------+----------+--------+ | id | name | deptid | id | deptName | locAdd | +----+------+--------+------+----------+--------+ | 1 | z3 | 1 | 1 | RD | 11 | | 2 | z4 | 1 | 1 | RD | 11 | | 3 | z5 | 1 | 1 | RD | 11 | | 4 | w5 | 2 | 2 | HR | 12 | | 5 | w6 | 2 | 2 | HR | 12 | | 6 | s7 | 3 | 3 | MK | 13 | | 7 | s8 | 4 | 4 | MIS | 14 | | 8 | s9 | 51 | NULL | NULL | NULL | +----+------+--------+------+----------+--------+ #å³å¤–è¿æ¥ æ²¡æœ‰8å‘˜å·¥ mysql\u0026gt; select e.* , d.* from tbl_emp e right join tbl_dept d on e.deptid = d.id ; +------+------+--------+----+----------+--------+ | id | name | deptid | id | deptName | locAdd | +------+------+--------+----+----------+--------+ | 1 | z3 | 1 | 1 | RD | 11 | | 2 | z4 | 1 | 1 | RD | 11 | | 3 | z5 | 1 | 1 | RD | 11 | | 4 | w5 | 2 | 2 | HR | 12 | | 5 | w6 | 2 | 2 | HR | 12 | | 6 | s7 | 3 | 3 | MK | 13 | | 7 | s8 | 4 | 4 | MIS | 14 | | NULL | NULL | NULL | 5 | FD | 15 | +------+------+--------+----+----------+--------+ #åªæœ‰å·¦è¾¹ åªæœ‰8å‘˜å·¥ mysql\u0026gt; select e.* , d.* from tbl_emp e left join tbl_dept d on e.deptid = d.id where d.id is null ; +----+------+--------+------+----------+--------+ | id | name | deptid | id | deptName | locAdd | +----+------+--------+------+----------+--------+ | 8 | s9 | 51 | NULL | NULL | NULL | +----+------+--------+------+----------+--------+ #åªæœ‰å³è¾¹ åªæœ‰5éƒ¨é—¨ mysql\u0026gt; select e.* , d.* from tbl_emp e right join tbl_dept d on e.deptid = d.id where e.deptid is null ; +------+------+--------+----+----------+--------+ | id | name | deptid | id | deptName | locAdd | +------+------+--------+----+----------+--------+ | NULL | NULL | NULL | 5 | FD | 15 | +------+------+--------+----+----------+--------+ 1 row in set (0.00 sec) #å…¨è¿æ¥ éƒ½å¾—æœ‰ mysqlä¸æ”¯æŒouter join mysql\u0026gt; select e.* , d.* from tbl_emp e outer join tbl_dept d on e.deptid = d.id; ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026#39;outer join tbl_dept d on e.deptid = d.id\u0026#39; at line 1 #å¯ä»¥è¿™ä¹ˆåš unioné»˜è®¤å»é‡ union all å°±ä¸ä¼šå»é‡ mysql\u0026gt; select e.* , d.* from tbl_emp e left join tbl_dept d on e.deptid = d.id union select e.* , d.* from tbl_emp e right join tbl_dept d on e.deptid = d.id; +------+------+--------+------+----------+--------+ | id | name | deptid | id | deptName | locAdd | +------+------+--------+------+----------+--------+ | 1 | z3 | 1 | 1 | RD | 11 | | 2 | z4 | 1 | 1 | RD | 11 | | 3 | z5 | 1 | 1 | RD | 11 | | 4 | w5 | 2 | 2 | HR | 12 | | 5 | w6 | 2 | 2 | HR | 12 | | 6 | s7 | 3 | 3 | MK | 13 | | 7 | s8 | 4 | 4 | MIS | 14 | | 8 | s9 | 51 | NULL | NULL | NULL | | NULL | NULL | NULL | 5 | FD | 15 | +------+------+--------+------+----------+--------+ 9 rows in set (0.00 sec) #ä¸è¦joiné‡åˆçš„éƒ¨åˆ† è¦å¦å¤–ä¸¤åŠçš„ mysql\u0026gt; select e.* , d.* from tbl_emp e left join tbl_dept d on e.deptid = d.id where d.id is null union select e.* ,d.* from tbl_emp e right join tbl_dept d on e.deptid = d.id where e.deptid is null ; +------+------+--------+------+----------+--------+ | id | name | deptid | id | deptName | locAdd | +------+------+--------+------+----------+--------+ | 8 | s9 | 51 | NULL | NULL | NULL | | NULL | NULL | NULL | 5 | FD | 15 | +------+------+--------+------+----------+--------+ 2 rows in set (0.00 sec) ç´¢å¼•ç®€ä»‹ æ˜¯ä»€ä¹ˆ mysqlå®˜æ–¹å¯¹ç´¢å¼•çš„å®šä¹‰ä¸º:ç´¢å¼•indexæ˜¯å¸®åŠ©mysqlé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„.å¯ä»¥å¾—åˆ°ç´¢å¼•çš„æœ¬è´¨:ç´¢å¼•æ˜¯æ•°æ®ç»“æ„.\nå¦‚æœè¦æŸ¥mysqlè¿™ä¸ªå•è¯,æˆ‘ä»¬è‚¯å®šéœ€è¦å®šä½åˆ°må­—æ¯,ç„¶åå¾€ä¸‹æ‰¾åˆ°yå­—æ¯,å†æ‰¾åˆ°å‰©ä¸‹çš„sql\nå¦‚æœæ²¡æœ‰ç´¢å¼•,é‚£ä¹ˆä½ å¯èƒ½éœ€è¦a\u0026ndash;z,å¦‚æœæˆ‘æƒ³æ‰¾åˆ°javaå¼€å¤´çš„å•è¯å‘¢,æˆ–è€…oracleå¼€å¤´çš„å•è¯å‘¢\nä½ å¯ä»¥ç®€å•ç†è§£ä¸º æ’å¥½åºçš„å¿«é€ŸæŸ¥æ‰¾æ•°æ®ç»“æ„\nåœ¨æ•°æ®ä¹‹å¤–,æ•°æ®åº“ç³»ç»Ÿè¿˜ç»´æŠ¤ç€æ»¡è¶³ç‰¹å®šæŸ¥æ‰¾ç®—æ³•çš„æ•°æ®ç»“æ„,è¿™äº›æ•°æ®ç»“æ„ä»¥æŸç§æ–¹å¼å¼•ç”¨(æŒ‡å‘)æ•°æ®,è¿™æ ·å°±å¯ä»¥åœ¨è¿™äº›æ•°æ®ç»“æ„ä¸Šå®ç°é«˜çº§æŸ¥æ‰¾ç®—æ³•.è¿™ç§æ•°æ®ç»“æ„,å°±æ˜¯ç´¢å¼•.ä¸‹å›¾å°±æ˜¯ä¸€ç§å¯èƒ½çš„ç´¢å¼•æ–¹å¼ç¤ºä¾‹:\nimage-20211014224606584\ræ‰€ä»¥è¯´ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„,å¦‚æœè¦æŸ¥7è¿™æœ¬ä¹¦,æ­£å¸¸çš„éå†è¦ç¬¬ä¸ƒæ¬¡æ‰èƒ½æ‰¾åˆ°,æ—¶é—´å¤æ‚åº¦ä¸ºn,ç´¢å¼•æ˜¯åˆ©ç”¨å¹³è¡¡äºŒå‰æ ‘,æˆ–è€…B+æ ‘,ä¹Ÿå°±æ˜¯è¯´ä¸ä¸€å®šäºŒå‰å¯ä»¥å¤šå‰,è¿™æ ·è‡³å¤šlog2n+1æ¬¡å°±èƒ½ç´¢å¼•åˆ°,æ•…è€Œæé«˜äº†æ•ˆç‡\nä¸€èˆ¬æ¥è¯´,ç´¢å¼•æœ¬èº«ä¹Ÿå¾ˆå¤§,ä¸å¯èƒ½å…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­,å› æ­¤ç´¢å¼•å¾€å¾€ä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Š\nç´¢å¼•ä¸å¤ªé€‚åˆåˆ é™¤å’Œä¿®æ”¹å¤šçš„åœºæ™¯,å› ä¸ºåˆ é™¤æ•°æ®çš„åŒæ—¶è¦åˆ é™¤ç´¢å¼•,ä¿®æ”¹æ•°æ®çš„åŒæ—¶è¦ä¿®æ”¹ç´¢å¼•,ç´¢å¼•ä¸ºä½•ä¼šå¤±æ•ˆ\næˆ‘ä»¬å¸¸è¯´çš„ç´¢å¼•,å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡æ˜,éƒ½æ˜¯æŒ‡Bæ ‘(å¤šè·¯æœç´¢æ ‘,å¹¶ä¸ä¸€å®šæ˜¯äºŒå‰çš„)ç»“æ„ç»„ç»‡çš„ç´¢å¼•.å…¶ä¸­èšé›†ç´¢å¼•,æ¬¡è¦ç´¢å¼•,è¦†ç›–ç´¢å¼•,ç¬¦åˆç´¢å¼•,å‰ç¼€ç´¢å¼•,å”¯ä¸€ç´¢å¼•é»˜è®¤éƒ½æ˜¯ä½¿ç”¨B+æ ‘ç´¢å¼•,ç»Ÿç§°ç´¢å¼•.å½“ç„¶,é™¤äº†B+æ ‘è¿™ç§ç±»å‹çš„ç´¢å¼•ä¹‹å¤–,è¿˜æœ‰å“ˆå¸Œç´¢å¼•(hash index)ç­‰.\nä¼˜åŠ¿ ç±»ä¼¼å¤§å­¦å›¾ä¹¦é¦†å»ºä¹¦ç´¢å¼•,æé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡,é™ä½æ•°æ®åº“çš„IOæˆæœ¬ é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åº,é™ä½æ•°æ®æ’åºçš„æˆæœ¬,é™ä½äº†CPUçš„æ¶ˆè€— åŠ£åŠ¿ å®é™…ä¸Šç´¢å¼•ä¹Ÿæ˜¯ä¸€å¼ è¡¨,è¯¥è¡¨ä¿å­˜äº†ä¸»é”®ä¸ç´¢å¼•å­—æ®µ,å¹¶æŒ‡å‘å®ä½“è¡¨çš„è®°å½•,æ‰€ä»¥ç´¢å¼•åˆ—ä¹Ÿæ˜¯è¦å ç”¨ç©ºé—´çš„ è™½ç„¶ç´¢å¼•å¤§å¤§æé«˜äº†æŸ¥è¯¢é€Ÿåº¦,åŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦,å¦‚å¯¹è¡¨è¿›è¡Œinsert/update/delete.å› ä¸ºæ›´æ–°è¡¨æ—¶,mysqlä¸ä»…è¦ä¿å­˜æ•°æ®,è¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶æ¯æ¬¡æ›´æ–°æ·»åŠ äº†ç´¢å¼•åˆ—çš„å­—æ®µ,éƒ½ä¼šè°ƒæ•´å› ä¸ºæ›´æ–°æ‰€å¸¦æ¥çš„é”®å€¼å˜åŒ–åçš„ç´¢å¼•ä¿¡æ¯ ç´¢å¼•åªæ˜¯æé«˜æ•ˆç‡çš„ä¸€ä¸ªå› ç´ ,å¦‚æœä½ çš„mysqlæœ‰å¤§æ•°æ®é‡çš„è¡¨,å°±éœ€è¦èŠ±æ—¶é—´ç ”ç©¶å»ºç«‹æœ€ä¼˜ç§€çš„ç´¢å¼•,æˆ–ä¼˜åŒ–æŸ¥è¯¢ mysqlç´¢å¼•åˆ†ç±» å•å€¼ç´¢å¼• å³ä¸€ä¸ªç´¢å¼•åªåŒ…å«å•ä¸ªåˆ—,ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå•åˆ—ç´¢å¼• å”¯ä¸€ç´¢å¼• ç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€,ä½†å…è®¸ç©ºå€¼ å¤åˆç´¢å¼• å³ä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ— åŸºæœ¬è¯­æ³• åˆ›å»º create [unique] index indexName on tableName(columnName,\u0026hellip;) ; alter tableName add [unique] index [indexName] on (columnName(length)) ; åˆ é™¤ drop index [indexName] on tableName ; æŸ¥çœ‹ show index from tableName ; ä½¿ç”¨alterå‘½ä»¤ alter table tbl_name add primary key (column_list) ; è¯¥è¯­å¥æ·»åŠ ä¸€ä¸ªä¸»é”®,è¿™æ„å‘³è¿™ç´¢å¼•å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„,ä¸”ä¸èƒ½ä¸ºnull alter table tbl_name add unique index_name (column_list) ; è¿™æ¡è¯­å¥åˆ›å»ºç´¢å¼•çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„,é™¤äº†nullä¹‹å¤–,nullå¯èƒ½ä¼šå‡ºç°å¤šæ¬¡ alter table tbl_name add index index_name (column_list) ; æ·»åŠ æ™®é€šç´¢å¼•,ç´¢å¼•å€¼å¯å‡ºç°å¤šæ¬¡ alter table tbl_name add fulltext index_name (column_list) ; è¯¥è¯­å¥æŒ‡å®šäº†ç´¢å¼•ä¸ºfulltext,ç”¨äºå…¨æ–‡ç´¢å¼• #ä¸»é”®å¤–é”®å”¯ä¸€éƒ½æ˜¯ç´¢å¼• æˆ‘ä»¬è¿™è¾¹è®²çš„æ˜¯é‚£ç§æ™®é€šç´¢å¼• mysql\u0026gt; show index from tbl_emp ; +---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | tbl_emp | 0 | PRIMARY | 1 | id | A | 8 | NULL | NULL | | BTREE | | | YES | NULL | | tbl_emp | 1 | fk_dept_id | 1 | deptid | A | 5 | NULL | NULL | YES | BTREE | | | YES | NULL | +---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ 2 rows in set (0.02 sec) mysqlç´¢å¼•çš„ç»“æ„ Btreeç´¢å¼• ç´¢å¼•åŸç† hashç´¢å¼• full-textå…¨æ–‡ç´¢å¼• R-Treeç´¢å¼• image-20211016093656515\råˆå§‹åŒ–ä»‹ç»\nä¸€é¢—B+æ ‘,æµ…è“è‰²çš„å—æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç£ç›˜å—,å¯ä»¥çœ‹åˆ°æ¯ä¸ªç£ç›˜å—åŒ…å«äº†å‡ ä¸ªæ•°æ®é¡¹(æ·±è“è‰²æ‰€ç¤º)å’ŒæŒ‡é’ˆ(é»„è‰²æ‰€ç¤º),å¦‚ç£ç›˜å—1åŒ…å«æ•°æ®é¡¹17å’Œ35,åŒ…å«æŒ‡é’ˆP1P2P3\nP1è¡¨ç¤ºå°äº17çš„ç£ç›˜å—,P2è¡¨ç¤ºåœ¨17å’Œ35ä¹‹é—´çš„ç£ç›˜å—,P3è¡¨ç¤ºå¤§äº35çš„ç£ç›˜å—\nçœŸå®çš„æ•°æ®å­˜åœ¨äºå¶å­èŠ‚ç‚¹å³3ã€5ã€9ã€10ã€13ã€15ã€28ã€29ã€36ã€60ã€75ã€79ã€90ã€99\néå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨çœŸå®çš„æ•°æ®,åªå­˜å‚¨æŒ‡å¼•æœç´¢æ–¹å‘çš„æ•°æ®é¡¹,å¦‚17ã€35å¹¶ä¸çœŸå®å­˜åœ¨ä¸æ•°æ®è¡¨ä¸­\næŸ¥æ‰¾è¿‡ç¨‹\nå¦‚æœè¦æŸ¥æ‰¾æ•°æ®é¡¹29,é‚£ä¹ˆé¦–å…ˆä¼šæŠŠç£ç›˜å—1ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜,æ­¤æ—¶å‘ç”Ÿä¸€æ¬¡IO,åœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š29åœ¨17å’Œ35ä¹‹é—´,é”å®šç£ç›˜å—1çš„P2æŒ‡é’ˆ,å†…å­˜æ—¶é—´å› ä¸ºéå¸¸çŸ­(ç›¸æ¯”äºç£ç›˜çš„IO)å¯ä»¥å¿½ç•¥ä¸è®¡,é€šè¿‡ç£ç›˜å—1çš„P2æŒ‡é’ˆçš„ç£ç›˜åœ°å€æŠŠç£ç›˜å—3ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ä¸­,å‘ç”Ÿäº†ç¬¬äºŒæ¬¡IO,29åœ¨26å’Œ30ä¹‹é—´,é”å®šç£ç›˜å—3çš„P2æŒ‡é’ˆ,é€šè¿‡æŒ‡é’ˆåŠ è½½ç£ç›˜å—8åˆ°å†…å­˜,å‘ç”Ÿç¬¬ä¸‰æ¬¡IO,åŒæ—¶å†…å­˜ä¸­åšäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°29,ç»“æŸæŸ¥è¯¢,æ€»è®¡ä¸‰æ¬¡IO\nçœŸå®æƒ…å†µ\n3å±‚çš„b+æ ‘å¯ä»¥è¡¨ç¤ºä¸Šç™¾ä¸‡æ¡çš„æ•°æ®,å¦‚æœä¸Šç™¾ä¸‡çš„æ•°æ®æŸ¥æ‰¾åªéœ€è¦ä¸‰æ¬¡IO,æ€§èƒ½æé«˜å°†æ˜¯å·¨å¤§çš„,å¦‚æœæ²¡æœ‰ç´¢å¼•,æ¯ä¸ªæ•°æ®é¡¹éƒ½è¦å‘ç”Ÿä¸€æ¬¡IO,é‚£ä¹ˆæ€»å…±éœ€è¦ç™¾ä¸‡æ¬¡IO,æ˜¾ç„¶æˆæœ¬éå¸¸éå¸¸é«˜\nå“ªäº›æƒ…å†µéœ€è¦åˆ›å»ºç´¢å¼• ä¸»é”®è‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼• é¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µåº”è¯¥åˆ›å»ºç´¢å¼• æŸ¥è¯¢ä¸­ä¸å…¶ä»–è¡¨å…³è”çš„å­—æ®µ,å¤–é”®å…³ç³»åº”è¯¥å»ºç«‹ç´¢å¼• é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸é€‚åˆåˆ›å»ºç´¢å¼• å› ä¸ºæ¯æ¬¡æ›´æ–°ä¸å•å•æ˜¯æ›´æ–°äº†è®°å½•è¿˜ä¼šæ›´æ–°ç´¢å¼• whereæ¡ä»¶é‡Œç”¨ä¸åˆ°çš„å­—æ®µä¸åˆ›å»ºç´¢å¼• å•å€¼/å¤åˆç´¢å¼•çš„é€‰æ‹©é—®é¢˜ é«˜å¹¶å‘ä¸‹å€¾å‘åˆ›å»ºç»„åˆç´¢å¼• æŸ¥è¯¢ä¸­æ’åºçš„å­—æ®µ,æ’åºå­—æ®µè‹¥é€šè¿‡ç´¢å¼•å»è®¿é—®å°†å¤§å¤§æé«˜æ’åºé€Ÿåº¦ æŸ¥è¯¢ä¸­ç»Ÿè®¡æˆ–è€…åˆ†ç»„å­—æ®µ å“ªäº›æƒ…å†µä¸è¦åˆ›å»ºç´¢å¼• è¡¨è®°å½•å¤ªå°‘ ç»å¸¸å¢åˆ æ”¹çš„è¡¨ æé«˜äº†æŸ¥è¯¢é€Ÿåº¦,åŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦,å¦‚å¯¹è¡¨è¿›è¡Œinsert/updateå’Œdelete,å› ä¸ºæ›´æ–°è¡¨æ—¶,mysqlä¸ä»…è¦ä¿å­˜æ•°æ®,è¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶ æ•°æ®é‡å¤ä¸”åˆ†å¸ƒå‡åŒ€çš„è¡¨å­—æ®µ,å› æ­¤åº”è¯¥åªä¸ºæœ€ç»å¸¸æŸ¥è¯¢å’Œæœ€ç»å¸¸æ’åºçš„æ•°æ®åˆ—åˆ›å»ºç´¢å¼•. æ³¨æ„,å¦‚æœæŸä¸ªæ•°æ®åˆ—åŒ…å«è®¸å¤šé‡å¤çš„å†…å®¹,ä¸ºå®ƒå»ºç«‹ç´¢å¼•å°±æ²¡æœ‰å¤ªå¤§çš„å®é™…æ•ˆæœ image-20211016095439966\ræ€§èƒ½åˆ†æ msyql query optimizer æŸ¥è¯¢ä¼˜åŒ–å™¨ image-20211016095805682\rmysqlå¸¸è§ç“¶é¢ˆ CPU cpuåœ¨é¥±å’Œçš„æ—¶å€™ä¸€èˆ¬å‘ç”Ÿåœ¨æ•°æ®è£…å…¥å†…å­˜æˆ–ä»ç£ç›˜ä¸Šè¯»å–æ•°æ®çš„æ—¶å€™ IO ç£ç›˜IOç“¶é¢ˆå‘ç”Ÿåœ¨è£…å…¥æ•°æ®è¿œå¤§äºå†…å­˜å®¹é‡çš„æ—¶å€™ æœåŠ¡å™¨ç¡¬ä»¶çš„æ€§èƒ½ç“¶é¢ˆ: top free iostat vmstat æ¥æŸ¥çœ‹ç³»ç»Ÿçš„æ€§èƒ½çŠ¶æ€ explain Explain æ˜¯ä»€ä¹ˆ(æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’) ä½¿ç”¨explainå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒsqlæŸ¥è¯¢è¯­å¥,ä»è€ŒçŸ¥é“mysqlæ˜¯å¦‚ä½•å¤„ç†ä½ çš„sqlè¯­å¥çš„.åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ å®˜ç½‘ä»‹ç» èƒ½å¹²å˜› è¡¨çš„è¯»å–é¡ºåº æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹ å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨ å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨ è¡¨ä¹‹é—´çš„å¼•ç”¨ æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢ æ€ä¹ˆç© Explain + SQLè¯­å¥ æ‰§è¡Œè®¡åˆ’åŒ…å«çš„ä¿¡æ¯ è¡¨å¤´ id select_type table partitions type possible_keys key ken_len ref rows filtered extra å„å­—æ®µè§£é‡Š id selectæŸ¥è¯¢çš„åºåˆ—å·,åŒ…å«ä¸€ç»„æ•°å­—,è¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº ä¸‰ç§æƒ…å†µ idç›¸åŒ,æ‰§è¡Œé¡ºåºç”±ä¸Šåˆ°ä¸‹\rimage-20211016101510820\ridä¸åŒ,å¦‚æœæ˜¯å­æŸ¥è¯¢,idçš„åºå·ä¼šé€’å¢,idå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜,è¶Šå…ˆè¢«æ‰§è¡Œ\rimage-20211016101830835\ridç›¸åŒä¸åŒ,åŒæ—¶å­˜åœ¨\rimage-20211016102234339\rselect_type æœ‰å“ªäº› simple primary subquery dirived union union result æŸ¥è¯¢çš„ç±»å‹,ä¸»è¦æ˜¯ç”¨äºåŒºåˆ«æ™®é€šæŸ¥è¯¢/è”åˆæŸ¥è¯¢/å­æŸ¥è¯¢ç­‰çš„å¤æ‚æŸ¥è¯¢ simple ç®€å•çš„selectæŸ¥è¯¢,æŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…union primary æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†,æœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸º subquery åœ¨selectæˆ–whereåˆ—è¡¨ä¸­åŒ…å«äº†å­æŸ¥è¯¢ derived åœ¨fromåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºderived(è¡ç”Ÿ) mysqlä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢,æŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨é‡Œ union è‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨unionä¹‹å,åˆ™è¢«æ ‡è®°ä¸ºunion;è‹¥unionåŒ…å«åœ¨fromå­å¥çš„å­æŸ¥è¯¢ä¸­,å¤–å±‚select å°†è¢«æ ‡è®°ä¸ºderived(å¾ˆæ­£å¸¸å˜›,unionä¹‹åçš„ç»“æœä½œä¸ºä¸´æ—¶è¡¨ æ‰€ä»¥è¢«æ ‡è®°ä¸ºderived) union result ä»unionè¡¨è·å–ç»“æœçš„select table æ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºé‚£äº›è¡¨çš„ type all index range ref eq_ref const,system null è®¿é—®ç±»å‹æ’åˆ— æ˜¾ç¤ºæŸ¥è¯¢ä½¿ç”¨äº†ä½•ç§ç±»å‹,æœ€å¥½åˆ°æœ€å·®ä¾æ¬¡æ˜¯ syste\u0026gt;const\u0026gt;eq_ref\u0026gt;ref\u0026gt;range\u0026gt;index\u0026gt;all\rimage-20211016110536099\rsystem è¡¨åªæœ‰ä¸€è¡Œè®°å½•(ç­‰äºç³»ç»Ÿè¡¨),è¿™æ˜¯constç±»å‹çš„ç‰¹ä¾‹,å¹³æ—¶ä¸ä¼šå‡ºç°,è¿™ä¸ªä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡ const è¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†,constç”¨äºæ¯”è¾ƒprimary key æˆ–è€… uniqueç´¢å¼•,å› ä¸ºåªåŒ¹é…äº†ä¸€è¡Œæ•°æ®,æ‰€ä»¥å¾ˆå¿«,å¦‚å°†ä¸»é”®ç½®äºwhereåˆ—è¡¨ä¸­,mysqlå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡\rimage-20211016110923813\req_ref å”¯ä¸€æ€§ç´¢å¼•æ‰«æ,å¯¹äºæ¯ä¸ªç´¢å¼•é”®,è¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é….å¸¸ç”¨è¯­ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æ\rimage-20211016112628359\rref éå”¯ä¸€æ€§ç´¢å¼•æ‰«æ,è¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œ.æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®,ä»–è¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œ,ç„¶è€Œ,å¥¹å¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œ,æ‰€ä»¥ä»–åº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“.\rimage-20211016113043870\rrange åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œ,ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œ. keyåˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•,ä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°äº†between \u0026lt; \u0026gt; in ç­‰çš„æŸ¥è¯¢,è¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ‰«ææ¯”å…¨è¡¨æ‰«æè¦å¥½,å› ä¸ºå®ƒåªéœ€è¦å¼€å§‹äºç´¢å¼•çš„æŸä¸€ç‚¹,è€Œç»“æŸäºå¦ä¸€ç‚¹,ä¸ç”¨æ‰«æå…¨éƒ¨ç´¢å¼•\rimage-20211016113701811\rindex (full index san) indexä¸allçš„åŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘.è¿™é€šå¸¸æ¯”allå¿«,å› ä¸ºç´¢å¼•æ–‡ä»¶æ¯”æ•°æ®æ–‡ä»¶å° ä¹Ÿå°±æ˜¯è¯´è™½ç„¶allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨,ä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„,è€Œallæ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–çš„\rimage-20211016114028963\rall (full table scan) å°†éå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œ\rimage-20211016114058619\r**æ³¨æ„:**ä¸€èˆ¬æ¥è¯´,å¾—ä¿è¯æŸ¥è¯¢è‡³å°‘æ‰“åˆ°rangeçº§åˆ«,æœ€å¥½èƒ½å¤Ÿè¾¾åˆ°ref possible_keys ç”¨æ¥åˆ¤æ–­ç´¢å¼•ç”¨ä¸Šæ²¡,ç´¢å¼•å¤±æ•ˆæ²¡ æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•,ä¸€ä¸ªæˆ–å¤šä¸ª.æŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•,åˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡º,ä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨ key å®é™…ä½¿ç”¨çš„ç´¢å¼•.å¦‚æœä¸ºnull,åˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼• æŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•,åˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨keyåˆ—è¡¨ä¸­ key_len è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°,å¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦.åœ¨ä¸æŸå¤±ç²¾ç¡®æ€§çš„æƒ…å†µä¸‹,é•¿åº¦è¶ŠçŸ­è¶Šå¥½ key_lenæ˜¾ç¤ºçš„å€¼ä¸ºç´¢å¼•å­—æ®µçš„æœ€å¤§å¯èƒ½é•¿åº¦,å¹¶éå®é™…ä½¿ç”¨é•¿åº¦,å³key_lenæ˜¯æ ¹æ®è¡¨å®šä¹‰è®¡ç®—è€Œå¾—,ä¸æ˜¯é€šè¿‡è¡¨å†…æ£€ç´¢å‡ºçš„ åŒæ ·çš„æŸ¥è¯¢æ¡ä»¶ä¸‹,ç²¾åº¦è¶Šå°è¶Šå¥½\rimage-20211016145227350\rref æ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†,å¦‚æœå¯èƒ½çš„è¯,æ˜¯ä¸€ä¸ªå¸¸æ•°.é‚£äº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼\rimage-20211016145926736\rrows æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µ,å¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¦è¯»å–çš„è¡Œæ•°\rimage-20211016150445129\rextra åŒ…å«ä¸é€‚åˆåœ¨å…¶ä»–åˆ—ä¸­æ˜¾ç¤ºä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯ extraä¿¡æ¯ using filesort è¯´æ˜mysqlä¼šå¯¹æ•°æ®ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„ç´¢å¼•æ’åº,è€Œä¸æ˜¯æŒ‰ç…§è¡¨å†…çš„ç´¢å¼•é¡ºåºè¿›è¡Œè¯»å– mysqlä¸­æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆçš„æ’åºæ“ä½œç§°ä¸ºæ–‡ä»¶æ’åº å‡ºç°è¿™ä¸ªä¸œè¥¿ä¸å¥½ å¦‚æœå¯ä»¥å°½å¿«ä¼˜åŒ–\rimage-20211016151320887\rusing temporary ä½¿ç”¨äº†ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœ,mysqlåœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨.å¸¸è§äºæ’åºorder byå’Œåˆ†ç»„æŸ¥è¯¢group by ä½¿ç”¨ä¸´æ—¶è¡¨ä¼šæŸä¼¤æ•°æ®åº“æ€§èƒ½ ç”¨å®Œè¿˜è¦å›æ”¶ è¿™ä¸ªå¾ˆä¸å¥½å“¦\rimage-20211016151757718\rusing index è¡¨ç¤ºç›¸åº”çš„selectæ“ä½œä¸­ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•covering index , é¿å…äº†è®¿é—®äº†è¡¨çš„çš„æ•°æ®è¡Œ,æ•ˆç‡ä¸é”™! å¦‚æœåŒæ—¶å‡ºç°using where ,è¡¨æ˜ç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾ å¦‚æœæ²¡æœ‰åŒæ—¶å‡ºç°using where , è¡¨æ˜ç´¢å¼•ç”¨æ¥è¯»å–æ•°æ®è€Œéæ‰§è¡ŒæŸ¥æ‰¾åŠ¨ä½œ è¦†ç›–ç´¢å¼• å»ºäº†3ä¸ªç´¢å¼•,æŸ¥çš„ä¹Ÿæ˜¯3ä¸ª å…¨è¦†ç›– image-20211016152608867\rimage-20211016152333029\rusing where è¡¨æ˜ä½¿ç”¨äº†whereæ¡ä»¶ using join buffer è¡¨æ˜ä½¿ç”¨äº†è¿æ¥ç¼“å­˜ impossible where è¡¨æ˜whereå­å¥çš„å€¼æ€»æ˜¯false , ä¸èƒ½ç”¨æ¥è·å–ä»»ä½•å…ƒç»„\rimage-20211016152746052\rselect tables optimized away åœ¨æ²¡æœ‰groupbyå­å¥çš„æƒ…å†µä¸‹,åŸºäºç´¢å¼•ä¼˜åŒ–min/maxæ“ä½œæˆ–è€…å¯¹äºmyisamå­˜å‚¨å¼•æ“ä¼˜åŒ–count(*)æ“ä½œ,ä¸å¿…ç­‰åˆ°æ‰§è¡Œé˜¶æ®µå†è¿›è¡Œè®¡ç®—,æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ç”Ÿæˆçš„é˜¶æ®µå³å®Œæˆä¼˜åŒ–. select distinct ä¼˜åŒ–distinctæ“ä½œ,åœ¨æ‰¾åˆ°ç¬¬ä¸€åŒ¹é…çš„å…ƒç»„åç«‹å³åœæ­¢æŸ¥æ‰¾åŒæ ·å€¼çš„æ“ä½œ #ä½¿ç”¨explainå…³é”®å­— è¿›è¡Œæ€§èƒ½åˆ†æ mysql\u0026gt; explain select * from tbl_emp ; +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+ | 1 | SIMPLE | tbl_emp | NULL | ALL | NULL | NULL | NULL | NULL | 8 | 100.00 | NULL | +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+ 1 row in set, 1 warning (0.01 sec) mysql\u0026gt; explain select * from tbl_emp a left join tbl_dept b on a.deptId = b.id union select * from tbl_emp a right join tbl_dept b on a.deptid = b.id ; +----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+ | 1 | PRIMARY | a | NULL | ALL | NULL | NULL | NULL | NULL | 8 | 100.00 | NULL | | 1 | PRIMARY | b | NULL | eq_ref | PRIMARY | PRIMARY | 4 | girls.a.deptid | 1 | 100.00 | NULL | | 2 | UNION | b | NULL | ALL | NULL | NULL | NULL | NULL | 5 | 100.00 | NULL | | 2 | UNION | a | NULL | ref | fk_dept_id | fk_dept_id | 5 | girls.b.id | 1 | 100.00 | NULL | | NULL | UNION RESULT | \u0026lt;union1,2\u0026gt; | NULL | ALL | NULL | NULL | NULL | NULL | NULL | NULL | Using temporary | +----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+ 5 rows in set, 1 warning (0.00 sec) çƒ­èº«case image-20211016153657227\rimage-20211016153809882\rç´¢å¼•ä¼˜åŒ– ç´¢å¼•åˆ†æ\nå•è¡¨\nä¸¤è¡¨\nä¸‰è¡¨\nç´¢å¼•å¤±æ•ˆ(åº”è¯¥é¿å…)\nä¸€èˆ¬æ€§å»ºè®®\n#å»ºè¡¨ å•è¡¨ç¤ºä¾‹ mysql\u0026gt; CREATE TABLE IF NOT EXISTS `article`( -\u0026gt; `id` INT(10) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT, -\u0026gt; `author_id` INT(10) UNSIGNED NOT NULL, -\u0026gt; `category_id` INT(10) UNSIGNED NOT NULL, -\u0026gt; `views` INT(10) UNSIGNED NOT NULL, -\u0026gt; `comments` INT(10) UNSIGNED NOT NULL, -\u0026gt; `title` VARBINARY(255) NOT NULL, -\u0026gt; `content` TEXT NOT NULL -\u0026gt; ); Query OK, 0 rows affected, 5 warnings (0.03 sec) mysql\u0026gt; mysql\u0026gt; INSERT INTO `article`(`author_id`,`category_id`,`views`,`comments`,`title`,`content`) VALUES -\u0026gt; (1,1,1,1,\u0026#39;1\u0026#39;,\u0026#39;1\u0026#39;), -\u0026gt; (2,2,2,2,\u0026#39;2\u0026#39;,\u0026#39;2\u0026#39;), -\u0026gt; (1,1,3,3,\u0026#39;3\u0026#39;,\u0026#39;3\u0026#39;); Query OK, 3 rows affected (0.01 sec) Records: 3 Duplicates: 0 Warnings: 0 mysql\u0026gt; select * from article; +----+-----------+-------------+-------+----------+--------------+---------+ | id | author_id | category_id | views | comments | title | content | +----+-----------+-------------+-------+----------+--------------+---------+ | 1 | 1 | 1 | 1 | 1 | 0x31 | 1 | | 2 | 2 | 2 | 2 | 2 | 0x32 | 2 | | 3 | 1 | 1 | 3 | 3 | 0x33 | 3 | +----+-----------+-------------+-------+----------+--------------+---------+ 3 rows in set (0.00 sec) #æ€§èƒ½åˆ†æ typeæ˜¯all è¯´æ˜æ˜¯å…¨è¡¨æ‰«æ #æ˜¾ç„¶ using filesort ä¹Ÿæ˜¯æœ€åçš„æƒ…å†µ å‘ç”Ÿäº†æ–‡ä»¶å†…æ’åº mysql\u0026gt; explain select id,author_id from article where category_id = 1 and comments \u0026gt;1 order by views desc limit 1 ; +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+ | 1 | SIMPLE | article | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 33.33 | Using where; Using filesort | +----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+ 1 row in set, 1 warning (0.00 sec) #å¦‚æœåˆ›å»ºçš„ç´¢å¼•æ˜¯ccv type å˜æˆäº†range extraè¿˜æ˜¯filesort å¥½äº†ç‚¹ mysql\u0026gt; create index idx_ccv on article(category_id,comments,views) ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; explain select id,author_id from article where category_id = 1 and comments \u0026gt;1 order by views desc limit 1 ; +----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+ | 1 | SIMPLE | article | NULL | range | idx_ccv | idx_ccv | 8 | NULL | 1 | 100.00 | Using index condition; Using filesort | +----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+ 1 row in set, 1 warning (0.00 sec) #åˆ é™¤ç´¢å¼• mysql\u0026gt; drop index idx_ccv on article ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 image-20211016171713970\rmysql\u0026gt; create index idx_cv on article(category_id,views) ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #æŠŠèŒƒå›´çš„å»æ‰ mysql\u0026gt; explain select id,author_id from article where category_id = 1 and comments \u0026gt;1 order by views desc limit 1 ; +----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+ | 1 | SIMPLE | article | NULL | ref | idx_cv | idx_cv | 4 | const | 2 | 33.33 | Using where; Backward index scan | +----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+ 1 row in set, 1 warning (0.00 sec) #ä¸¤è¡¨ mysql\u0026gt; CREATE TABLE IF NOT EXISTS `class`( -\u0026gt; `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, -\u0026gt; `card` INT(10) UNSIGNED NOT NULL, -\u0026gt; PRIMARY KEY(`id`) -\u0026gt; ); Query OK, 0 rows affected, 2 warnings (0.03 sec) mysql\u0026gt; CREATE TABLE IF NOT EXISTS `book`( -\u0026gt; `bookid` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, -\u0026gt; `card` INT(10) UNSIGNED NOT NULL, -\u0026gt; PRIMARY KEY(`bookid`) -\u0026gt; ); Query OK, 0 rows affected, 2 warnings (0.01 sec) #åˆ†æ éƒ½æ˜¯å…¨è¡¨æ‰«æ å¾ˆå‡ æŠŠææ€– mysql\u0026gt; explain select * from book b right join class c on b.card = c.card ; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ | 1 | SIMPLE | c | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | NULL | | 1 | SIMPLE | b | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | Using where; Using join buffer (hash join) | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ 2 rows in set, 1 warning (0.00 sec) #ä¼˜åŒ– å…ˆç»™å³è¿æ¥çš„å·¦è¡¨å®šç´¢å¼• åŒç† æˆ–è€…ç»™å·¦è¿æ¥çš„å³è¡¨å®šç´¢å¼• mysql\u0026gt; alter table book add index Y(card) ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #typeå˜æˆrefäº† æœ‰ç‚¹æ„æ€ using index å¾ˆå¥½ mysql\u0026gt; explain select * from book b right join class c on b.card = c.card ; +----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+ | 1 | SIMPLE | c | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | NULL | | 1 | SIMPLE | b | NULL | ref | Y | Y | 4 | girls.c.card | 1 | 100.00 | Using index | +----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+ 2 rows in set, 1 warning (0.00 sec) #ä¸çŸ¥é“ç»™å·¦è¾¹æ·»åŠ ç´¢å¼•å¥½è¿˜æ˜¯ç»™å³è¾¹æ·»åŠ å¥½ æ‰€ä»¥å†è¯•è¯• mysql\u0026gt; drop index Y on book ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #æ·»åŠ ç´¢å¼• mysql\u0026gt; alter table class add index Y(card) ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #å‘ç°æ²¡æœ‰ç”¨ ä¸ºå•¥å‘¢ å› ä¸ºå³è¿æ¥ æ²¡æœ‰whereçš„è¯å³è¾¹æ˜¯è‚¯å®šæ˜¯å…¨éƒ½æœ‰çš„ åŠ äº†ç´¢å¼•æœ‰å•¥ç”¨å•Š mysql\u0026gt; explain select * from book b right join class c on b.card = c.card ; +----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+ | 1 | SIMPLE | c | NULL | index | NULL | Y | 4 | NULL | 20 | 100.00 | Using index | | 1 | SIMPLE | b | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | Using where; Using join buffer (hash join) | +----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+ 2 rows in set, 1 warning (0.00 sec) #åˆ é™¤ç´¢å¼• mysql\u0026gt; drop index Y on class ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 image-20211016174325936\r#ä¸‰è¡¨ mysql\u0026gt; CREATE TABLE IF NOT EXISTS `phone`( -\u0026gt; `phoneid` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, -\u0026gt; `card` INT(10) UNSIGNED NOT NULL, -\u0026gt; PRIMARY KEY(`phoneid`) -\u0026gt; )ENGINE=INNODB; Query OK, 0 rows affected, 2 warnings (0.02 sec) #éƒ½æ˜¯all å¾ˆå·®åŠ² 20 mysql\u0026gt; explain select * from class left join book on class.card = book.card left join phone on phone.card = book.card ; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ | 1 | SIMPLE | class | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | NULL | | 1 | SIMPLE | book | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | Using where; Using join buffer (hash join) | | 1 | SIMPLE | phone | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | Using where; Using join buffer (hash join) | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+ 3 rows in set, 1 warning (0.00 sec) mysql\u0026gt; alter table phone add index z(card); Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; create index y on book(card) ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; explain select * from class left join book on class.card = book.card left join phone on phone.card = book.card ; +----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+ | 1 | SIMPLE | class | NULL | ALL | NULL | NULL | NULL | NULL | 20 | 100.00 | NULL | | 1 | SIMPLE | book | NULL | ref | y | y | 4 | girls.class.card | 1 | 100.00 | Using index | | 1 | SIMPLE | phone | NULL | ref | z | z | 4 | girls.book.card | 1 | 100.00 | Using index | +----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+ 3 rows in set, 1 warning (0.00 sec) image-20211016193542297\rç´¢å¼•å¤±æ•ˆ(åº”è¯¥é¿å…) å…¨å€¼åŒ¹é…æˆ‘æœ€çˆ±\næœ€ä½³å·¦å‰ç¼€æ³•åˆ™\nå¦‚æœç´¢å¼•äº†å¤šåˆ—,è¦éµå®ˆæœ€å·¦å‰ç¼€æ³•åˆ™.æŒ‡çš„æ˜¯æŸ¥è¯¢ä»ç´¢å¼•çš„æœ€å·¦å‰åˆ—å¼€å§‹å¹¶ä¸”ä¸è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—\rimage-20211016195626235\rä¸åœ¨ç´¢å¼•åˆ—ä¸Šåšä»»ä½•æ“ä½œ(è®¡ç®—/å‡½æ•°/è‡ªåŠ¨æ‰‹åŠ¨ç±»å‹è½¬æ¢),ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆè€Œè½¬å‘å…¨è¡¨æ‰«æ\nå°‘è®¡ç®—\n#å¯¹ç´¢å¼•åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢åä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„é—®é¢˜ mysql\u0026gt; explain select * from staffs where left(name,4)= \u0026#39;July\u0026#39; ; +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 100.00 | Using where | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) å­˜å‚¨å¼•æ“ä¸èƒ½ä½¿ç”¨ç´¢å¼•ä¸­èŒƒå›´æ¡ä»¶å³è¾¹çš„åˆ—\nèŒƒå›´åé¢çš„ç´¢å¼•éƒ½å¤±æ•ˆäº† between and / in / like #éƒ½ç”¨åˆ°äº† ä¸‰ä¸ªç´¢å¼• 140çš„é•¿åº¦ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; and age =25 and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 140 | const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ç”¨åˆ°äº†ä¸¤ä¸ª å› ä¸ºèŒƒå›´åçš„ç´¢å¼•å¤±æ•ˆäº† 78é•¿åº¦ è¯´æ˜ç¬¬äºŒä¸ªç”¨åˆ°äº† mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; and age \u0026gt;25 and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ | 1 | SIMPLE | staffs | NULL | range | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 78 | NULL | 1 | 33.33 | Using index condition | +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•(åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢(ç´¢å¼•åˆ—å’ŒæŸ¥è¯¢åˆ—ä¸€è‡´)),å‡å°‘select *\n#æŸ¥æ‰¾æ‰€æœ‰å­—æ®µ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; and age =25 and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 140 | const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #å°±åªæŸ¥æ‰¾ç´¢å¼• ç´¢å¼•è¦†ç›– extra å˜æˆ using index æ˜¯ä¸ªå¥½å…†å¤´ mysql\u0026gt; explain select name , age , pos from staffs where name = \u0026#39;July\u0026#39; and age =25 and pos=\u0026#39;manager\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 140 | const,const,const | 1 | 100.00 | Using index | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) image-20211016201217849\rmysqlåœ¨ä½¿ç”¨ä¸ç­‰äº!= æˆ–è€… \u0026lt;\u0026gt;çš„æ—¶å€™æ— æ³•ä½¿ç”¨ç´¢å¼• , ä¼šå¯¼è‡´å…¨è¡¨æ‰«æ\nimage-20211016201756985\ris null , is not null ä¹Ÿæ— æ³•ä½¿ç”¨ç´¢å¼• image-20211016202018668\rlike ä»¥é€šé…ç¬¦å¼€å¤´ (\u0026rsquo;%abc\u0026hellip;\u0026rsquo;) mysqlç´¢å¼•å¤±æ•ˆä¼šå˜æˆå…¨è¡¨æ‰«æçš„æ“ä½œ\nåªæœ‰æŠŠ%å†™åœ¨å³è¾¹æ‰èƒ½é¿å…ç´¢å¼•å¤±æ•ˆ #ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from staffs where name like \u0026#39;%July%\u0026#39; ; +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 33.33 | Using where | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #æ”¾åœ¨å·¦è¾¹ä¹Ÿå¤±æ•ˆ æ¯•ç«Ÿä¸å…¨è¡¨æ‰«æ€ä¹ˆçŸ¥é“æ˜¯å¦æ‰¾å…¨äº† mysql\u0026gt; explain select * from staffs where name like \u0026#39;%July\u0026#39; ; +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 33.33 | Using where | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #æ²¡æœ‰å¤±æ•ˆ mysql\u0026gt; explain select * from staffs where name like \u0026#39;July%\u0026#39; ; +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ | 1 | SIMPLE | staffs | NULL | range | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 74 | NULL | 1 | 100.00 | Using index condition | +----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) é—®é¢˜æ˜¯è§£å†³like\u0026rsquo;%å­—ç¬¦%\u0026lsquo;æ—¶ç´¢å¼•ä¸å¤±æ•ˆ??? mysql\u0026gt; CREATE TABLE `tbl_user`( -\u0026gt; `id` INT(11) NOT NULL AUTO_INCREMENT, -\u0026gt; `NAME` VARCHAR(20) DEFAULT NULL, -\u0026gt; `age` INT(11) DEFAULT NULL, -\u0026gt; email VARCHAR(20) DEFAULT NULL, -\u0026gt; PRIMARY KEY (`id`) -\u0026gt; ) ENGINE =INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; Query OK, 0 rows affected, 3 warnings (0.03 sec) #ç”¨è¦†ç›–ç´¢å¼•æ¥è§£å†³ mysql\u0026gt; create index idx_user_nameAge on tbl_user(name,age) ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select name , age from tbl_user where name like \u0026#39;%aa%\u0026#39; ; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select id from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select name from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select age from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select id,name from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select id,name,age from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select id,name,age from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #indexäº† è¯´æ˜ç”¨åˆ°äº† mysql\u0026gt; explain select name,age from tbl_user where name like \u0026#39;%aa%\u0026#39;; +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ | 1 | SIMPLE | tbl_user | NULL | index | NULL | idx_user_nameAge | 68 | NULL | 4 | 25.00 | Using where; Using index | +----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+ 1 row in set, 1 warning (0.00 sec) #æ²¡æœ‰è¦†ç›–åˆ°ç´¢å¼• ï¼Œ ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from tbl_user where name like \u0026#39;%aa%\u0026#39; ; +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | tbl_user | NULL | ALL | NULL | NULL | NULL | NULL | 4 | 25.00 | Using where | +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #æ²¡æœ‰å®Œå…¨è¦†ç›– ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select id,name,age,email from tbl_user where name like \u0026#39;%aa%\u0026#39; ; +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | tbl_user | NULL | ALL | NULL | NULL | NULL | NULL | 4 | 25.00 | Using where | +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) å­—ç¬¦ä¸²ä¸åŠ å•å¼•å·ç´¢å¼•å¤±æ•ˆ\nmysql\u0026gt; select * from staffs where name = \u0026#39;2000\u0026#39; ; +----+------+-----+-----+---------------------+ | id | NAME | age | pos | add_time | +----+------+-----+-----+---------------------+ | 3 | 2000 | 23 | dev | 2021-10-16 19:38:15 | +----+------+-----+-----+---------------------+ 1 row in set (0.00 sec) #ä¼šå‘ç”Ÿéšå¼è½¬æ¢ mysql\u0026gt; select * from staffs where name =2000 ; +----+------+-----+-----+---------------------+ | id | NAME | age | pos | add_time | +----+------+-----+-----+---------------------+ | 3 | 2000 | 23 | dev | 2021-10-16 19:38:15 | +----+------+-----+-----+---------------------+ 1 row in set, 1 warning (0.00 sec) mysql\u0026gt; explain select * from staffs where name =\u0026#39;2000\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 74 | const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #å’Œç¬¬ä¸‰ä¸ªå»åˆ éšå¼è‡ªåŠ¨è½¬æ¢ è‡ªåŠ¨è½¬æ¢ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from staffs where name =2000 ; +----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | idx_staffs_nameAgePos | NULL | NULL | NULL | 3 | 33.33 | Using where | +----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+ 1 row in set, 3 warnings (0.00 sec) å°‘ç”¨or , ç”¨å®ƒæ¥è¿æ¥æ—¶ä¼šç´¢å¼•å¤±æ•ˆ image-20211017095517319\r#å»ºè¡¨ mysql\u0026gt; CREATE TABLE staffs( -\u0026gt; id INT PRIMARY KEY AUTO_INCREMENT, -\u0026gt; NAME VARCHAR(24) NOT NULL DEFAULT \u0026#39;\u0026#39; COMMENT \u0026#39;å§“å\u0026#39;, -\u0026gt; age INT NOT NULL DEFAULT 0 COMMENT \u0026#39;å¹´é¾„\u0026#39;, -\u0026gt; pos VARCHAR(20) NOT NULL DEFAULT \u0026#39;\u0026#39; COMMENT \u0026#39;èŒä½\u0026#39;, -\u0026gt; add_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT \u0026#39;å…¥èŒæ—¶é—´\u0026#39; -\u0026gt; )CHARSET utf8 COMMENT \u0026#39;å‘˜å·¥è®°å½•è¡¨\u0026#39;; Query OK, 0 rows affected, 1 warning (0.02 sec) #æ·»åŠ ç´¢å¼• mysql\u0026gt; ALTER TABLE staffs ADD INDEX idx_staffs_nameAgePos(name, age, pos); Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #æŸ¥çœ‹ç´¢å¼• mysql\u0026gt; show index from staffs ; +--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | staffs | 0 | PRIMARY | 1 | id | A | 2 | NULL | NULL | | BTREE | | | YES | NULL | | staffs | 1 | idx_staffs_nameAgePos | 1 | NAME | A | 3 | NULL | NULL | | BTREE | | | YES | NULL | | staffs | 1 | idx_staffs_nameAgePos | 2 | age | A | 3 | NULL | NULL | | BTREE | | | YES | NULL | | staffs | 1 | idx_staffs_nameAgePos | 3 | pos | A | 3 | NULL | NULL | | BTREE | | | YES | NULL | +--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ #æŒºå¥½çš„å“ˆ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 74 | const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ä¸¤ä¸ªæ¡ä»¶ key_lenè¶Šæ¥è¶Šå¤§ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39;and age = 25; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 78 | const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ä¸‰ä¸ªæ¡ä»¶ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; and age =25 and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 140 | const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #é—®é¢˜æ¥äº† æ²¡æœ‰name åªç”¨ageå’Œposçš„æ—¶å€™å˜æˆäº†å…¨è¡¨æ‰«æ ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from staffs where age =23 and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 33.33 | Using where | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #æ²¡æœ‰name åªç”¨poså˜æˆäº†å…¨è¡¨æ‰«æ ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from staffs where pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | staffs | NULL | ALL | NULL | NULL | NULL | NULL | 3 | 33.33 | Using where | +----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #å¿…é¡»è¦æœ‰name å¸¦å¤´å¤§å“¥ä¸èƒ½æ­» æœ€ä½³å·¦å‰ç¼€æ³•åˆ™ mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 74 | const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #è™½ç„¶ç”¨åˆ°ç´¢å¼•äº† ä½†æ˜¯ä»ç´¢å¼•çš„é•¿åº¦å¯ä»¥çœ‹å‡º åªç”¨äº†nameè¿™ä¸ªç´¢å¼• å› ä¸ºä¸­é—´çš„ageä¸¢äº† mysql\u0026gt; explain select * from staffs where name = \u0026#39;July\u0026#39; and pos = \u0026#39;dev\u0026#39; ; +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+ | 1 | SIMPLE | staffs | NULL | ref | idx_staffs_nameAgePos | idx_staffs_nameAgePos | 74 | const | 1 | 33.33 | Using index condition | +----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) image-20211017095823171\rimage-20211017100150557\rå¯èƒ½æœ‰ç‚¹å°é—®é¢˜,åˆ°æ—¶å€™å‹˜è¯¯ä¸€ä¸‹\nç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; CREATE TABLE test03( -\u0026gt; id int primary key not null auto_increment, -\u0026gt; c1 char(10), -\u0026gt; c2 char(10), -\u0026gt; c3 char(10), -\u0026gt; c4 char(10), -\u0026gt; c5 char(10) -\u0026gt; ); Query OK, 0 rows affected (0.05 sec) mysql\u0026gt; select * from test03; +----+------+------+------+------+------+ | id | c1 | c2 | c3 | c4 | c5 | +----+------+------+------+------+------+ | 1 | a1 | a2 | a3 | a4 | a5 | | 2 | b1 | b2 | b3 | b4 | b5 | | 3 | c1 | c2 | c3 | c4 | c5 | | 4 | d1 | d2 | d3 | d4 | d5 | | 5 | e1 | e2 | e3 | e4 | e5 | +----+------+------+------+------+------+ mysql\u0026gt; create index idx_test03_c1234 on test03(c1,c2,c3,c4); Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #ç”¨åˆ°äº† mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ç´¢å¼•åœ¨é€æ¸é€’å¢ key_len mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #mysqlä¼šè‡ªæˆ‘ä¼˜åŒ– ä¼˜åŒ–å¸¸é‡çš„æŸ¥è¯¢é¡ºåº mysql\u0026gt; explain select * from test03 where c2=\u0026#39;a2\u0026#39; and c1=\u0026#39;a1\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ç´¢å¼•åœ¨é€æ¸é€’å¢ key_len mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c3=\u0026#39;a3\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 93 | const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c3=\u0026#39;a3\u0026#39; and c4=\u0026#39;a4\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 124 | const,const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #mysqlä¼šè‡ªæˆ‘ä¼˜åŒ– ä¼˜åŒ–å¸¸é‡çš„æŸ¥è¯¢é¡ºåº mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c4=\u0026#39;a4\u0026#39; and c3=\u0026#39;a3\u0026#39; ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 124 | const,const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #èŒƒå›´åé¢å…¨å¤±æ•ˆ mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c3\u0026gt;\u0026#39;a3\u0026#39; and c4=\u0026#39;a4\u0026#39; ; +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ | 1 | SIMPLE | test03 | NULL | range | idx_test03_c1234 | idx_test03_c1234 | 93 | NULL | 1 | 20.00 | Using index condition | +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) #æˆ‘è§‰å¾—æ˜¯4ä¸ª æŸ¥è¯¢é¡ºåºä¼šè¢«mysqlä¼˜åŒ– mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c4\u0026gt;\u0026#39;a4\u0026#39; and c3=\u0026#39;a3\u0026#39; ; +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ | 1 | SIMPLE | test03 | NULL | range | idx_test03_c1234 | idx_test03_c1234 | 124 | NULL | 1 | 100.00 | Using index condition | +----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) #c3æ²¡æœ‰ç»Ÿè®¡åˆ°é‡Œé¢ ç”¨äºæ’åºäº†è€Œä¸æ˜¯æŸ¥æ‰¾ c4å°±å¤±æ•ˆäº†å‘— mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39;and c4=\u0026#39;a4\u0026#39; order by c3 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 20.00 | Using index condition | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) #å’Œä¸Šé¢çš„æ²¡ä»€ä¹ˆåŒºåˆ« c3ç”¨å»æ’åºäº† æ‰€ä»¥c4å°±å¤±æ•ˆäº†å‘— mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; order by c3 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ç”¨åˆ°äº†ç´¢å¼• a1 å’Œ a2 ä½†æ˜¯æŠ“åˆ°æ•°æ®ä¹‹å,ç”±äºç´¢å¼•è®¾ç½®çš„æ˜¯a1a2a3a4é»˜è®¤çš„æ’åºæ˜¯a1a2a3a4ä½†æ˜¯ä½ è¿™è¾¹ç›´æ¥ #å¼€å§‹ç”¨a4å¼€å§‹æ’ ä½ è¿˜æ˜¯äººå— è¿™æ ·æŠ“åˆ°æ•°æ®ä¹‹åè¿˜éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ–‡ä»¶å†…éƒ¨çš„æ’åºæ‰èƒ½å±•ç¤ºç»™å¤§å®¶ mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; order by c4 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 100.00 | Using filesort | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+ 1 row in set, 1 warning (0.00 sec) #ç”¨åˆ°äº†ç´¢å¼• a1 ä½†æ˜¯æ’åºæŒ‰ç…§a2 a3æ’åº ä¸ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c5=\u0026#39;a5\u0026#39; order by c2,c3 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 20.00 | Using where | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+ #ç”¨åˆ°äº†ç´¢å¼•a1 ä½†æ˜¯æ’åºæŒ‰ç…§a3 a2æ’åº ä¸ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ ä½†æ˜¯æ£€ç´¢åˆ°æ•°æ®ä¹‹å,æ’åºä¸æ˜¯ç´¢å¼•é»˜è®¤çš„æ’åºè§„åˆ™a1 a2 a3 è€Œæ˜¯a3 a2 æ‰€ä»¥æ£€ç´¢åˆ°ååˆæŒ‰ç…§æ–‡ä»¶å†…æ’åº æ‹äº†ä¸€é Using filesort mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c5=\u0026#39;a5\u0026#39; order by c3,c2 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 20.00 | Using where; Using filesort | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ #æ²¡æœ‰é—®é¢˜å“ˆ mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; order by c2,c3; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+ 1 row in set, 1 warning (0.00 sec) #ä¹Ÿæ²¡æœ‰é—®é¢˜å“ˆ ç´¢å¼•å°±ç»™äº†1234 mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; and c5=\u0026#39;c5\u0026#39; order by c2,c3; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 20.00 | Using where | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #ä¸æ˜¯è¯´order by çš„é¡ºåºæ˜¯è¦å’Œç´¢å¼•å»ºç«‹çš„é¡ºåºä¿æŒä¸€è‡´å— ä¸ºå•¥ä¸ä¼šå‡ºç°æ–‡ä»¶å†…æ’åºå‘¢ é‚£æ˜¯å› ä¸ºc2=a2å‡ºç°åœ¨whereä¸­,ç›¸å½“äºä½ order byçš„æ’åºå·²ç»æ²¡æœ‰ç”¨å¤„äº† mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c2=\u0026#39;a2\u0026#39; and c5=\u0026#39;c5\u0026#39; order by c3,c2; +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 62 | const,const | 1 | 20.00 | Using where | +----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+ 1 row in set, 1 warning (0.00 sec) #è¿™ä¸ªæ²¡é—®é¢˜å“ˆ c3 c2 ä¼šå¯¼è‡´æ–‡ä»¶å†…æ’åº mysql\u0026gt; explain select * from test03 where c1 =\u0026#39;a1\u0026#39; and c5=\u0026#39;c5\u0026#39; order by c3,c2; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 20.00 | Using where; Using filesort | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+ 1 row in set, 1 warning (0.00 sec) #ç´¢å¼•æ²¡æœ‰å¤±æ•ˆ ä½†æ˜¯åªç”¨åˆ°äº†ä¸€ä¸ª æ²¡æœ‰å‘ç”Ÿæ–‡ä»¶å†…æ’åº mysql\u0026gt; explain select * from test03 where c1=\u0026#39;a1\u0026#39; and c4= \u0026#39;a4\u0026#39; group by c2,c3 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 20.00 | Using index condition | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+ 1 row in set, 1 warning (0.00 sec) #ç´¢å¼•æ²¡é—®é¢˜ ä½¿ç”¨äº†éƒ¨åˆ†ç´¢å¼• ä½†æ˜¯åˆ†ç»„çš„æ—¶å€™ Using temporary åæ­»æ— ç”Ÿå•Š åˆ†ç»„å‰å¿…æ’åº mysql\u0026gt; explain select * from test03 where c1=\u0026#39;a1\u0026#39; and c4= \u0026#39;a4\u0026#39; group by c3,c2 ; +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+ | 1 | SIMPLE | test03 | NULL | ref | idx_test03_c1234 | idx_test03_c1234 | 31 | const | 1 | 20.00 | Using index condition; Using temporary | +----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+ 1 row in set, 1 warning (0.00 sec) æ€»ç»“\nå®šå€¼ / èŒƒå›´ è¿˜æ˜¯æ’åº , ä¸€èˆ¬order by æ˜¯ç»™ä¸ªèŒƒå›´\ngroup by åŸºæœ¬ä¸Šéƒ½éœ€è¦è¿›è¡Œæ’åº , å¦åˆ™ä¼šæœ‰ä¸´æ—¶è¡¨äº§ç”Ÿ,å³temporary\nç´¢å¼•ä¼˜åŒ– ç´¢å¼•åˆ†æ ç´¢å¼•å¤±æ•ˆ ä¸€èˆ¬æ€§å»ºè®® å¯¹äºå•é”®ç´¢å¼•,å°½é‡é€‰æ‹©é’ˆå¯¹å½“å‰queryè¿‡æ»¤æ€§æ›´å¥½çš„ç´¢å¼• åœ¨é€‰æ‹©ç»„åˆç´¢å¼•çš„æ—¶å€™,å½“å‰queryä¸­è¿‡æ»¤æ€§æœ€å¥½çš„å­—æ®µåœ¨ç´¢å¼•å­—æ®µçš„é¡ºåºä¸­ ,ä½ç½®è¶Šé å‰è¶Šå¥½ åœ¨é€‰æ‹©ç»„åˆç´¢å¼•çš„æ—¶å€™,å°½é‡é€‰æ‹©å¯ä»¥èƒ½å¤ŸåŒ…å«å½“å‰queryä¸­çš„whereå­—å¥ä¸­æ›´å¤šå­—æ®µçš„ç´¢å¼• å°½å¯èƒ½é€šè¿‡åˆ†æç»Ÿè®¡ä¿¡æ¯å’Œè°ƒæ•´queryçš„å†™æ³•æ¥è¾¾åˆ°é€‰æ‹©åˆé€‚ç´¢å¼•çš„ç›®çš„ image-20211018194551515\rlikeåé¢è·Ÿç€å¸¸é‡çš„è¯å°±æ²¡ä»€ä¹ˆé—®é¢˜èƒ½åšç´¢å¼•ä¹Ÿèƒ½è·³æ¿\nä¼˜åŒ–æ€»ç»“å£è¯€ å…¨å€¼åŒ¹é…æˆ‘æœ€çˆ±,æœ€å·¦å‰ç¼€è¦éµå®ˆ\nå¸¦å¤´å¤§å“¥ä¸èƒ½æ­»,ä¸­é—´å…„å¼Ÿä¸èƒ½æ–­\nç´¢å¼•åˆ—ä¸Šå°‘è®¡ç®—,èŒƒå›´ä¹‹åå…¨å¤±æ•ˆ\nlikeç™¾åˆ†å†™æœ€å³, è¦†ç›–ç´¢å¼•ä¸å†™*\nä¸ç­‰ç©ºå€¼è¿˜æœ‰or,ç´¢å¼•å¤±æ•ˆè¦å°‘ç”¨\nvarå¼•å·ä¸å¯ä¸¢,sqlé«˜çº§ä¹Ÿä¸éš¾\næŸ¥è¯¢æˆªå–åˆ†æ æŸ¥è¯¢ä¼˜åŒ– æ…¢æŸ¥è¯¢æ—¥å¿— æ‰¹é‡æ•°æ®è„šæœ¬ show profile å…¨å±€æŸ¥è¯¢æ—¥å¿— åˆ†ææ­¥éª¤ è§‚å¯Ÿ,è‡³å°‘è·‘ä¸€å¤©,çœ‹çœ‹ç”Ÿäº§çš„æ…¢sqlæƒ…å†µ å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—,è®¾ç½®é˜™å€¼,æ¯”å¦‚è¶…è¿‡5ç§’é’Ÿçš„å°±æ˜¯æ…¢sql,å¹¶å°†å®ƒæŠ“å–å‡ºæ¥ explain + æ…¢sqlåˆ†æ show profile è¿ç»´ç»ç†æˆ–dba,è¿›è¡Œsqlæ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜ æ€»ç»“ 0\næ…¢æŸ¥è¯¢çš„å¼€å¯å¹¶æ•è· explain+æ…¢sqlåˆ†æ show profileæŸ¥è¯¢sqlåœ¨mysqlæœåŠ¡å™¨é‡Œé¢çš„æ‰§è¡Œç»†èŠ‚å’Œå£°æ˜å‘¨æœŸæƒ…å†µ sqlæ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜ æ°¸è¿œå°è¡¨é©±åŠ¨å¤§è¡¨\nç±»ä¼¼äºåµŒå¥—å¾ªç¯nested loop\norderbyå…³é”®å­—ä¼˜åŒ–\ngroup byå…³é”®å­—ä¼˜åŒ–\nimage-20211018201006527\rå¾ˆå¥½åˆ†æå˜›,å¦‚æœBæ•°æ®å°‘äºA,é‚£ä¹ˆç”¨Bé©±åŠ¨,Båœ¨å³è¾¹é‚£å°±æ˜¯å…ˆæŸ¥B,å› ä¸ºBå…ˆæŸ¥,æŸ¥åˆ°çš„æ˜¯å°è¡¨,è¿™æ ·å°±å°è¡¨é©±åŠ¨å¤§è¡¨äº†; å¦‚æœBæ•°æ®å¤šä½™A,é‚£ä¹ˆç”¨Aé©±åŠ¨,Båœ¨å³è¾¹,é‚£å°±æ˜¯ç”¨exists,åœ¨Bçš„æŸ¥è¯¢é‡Œå¥—ä¸Šå­æŸ¥è¯¢,è¿™æ ·å…ˆæŸ¥çš„Bçš„åŒæ—¶éœ€è¦å…ˆæŸ¥A(è¿™æ ·æ‰çŸ¥é“A.id,Bæ‰èƒ½æŸ¥),è¿™æ ·å°±å˜æˆå°è¡¨é©±åŠ¨å¤§è¡¨äº†\nimage-20211018201111638\rmysql\u0026gt; select * from tbl_emp where deptid in (select id from tbl_dept ) ; +----+------+--------+ | id | name | deptid | +----+------+--------+ | 1 | z3 | 1 | | 2 | z4 | 1 | | 3 | z5 | 1 | | 4 | w5 | 2 | | 5 | w6 | 2 | | 6 | s7 | 3 | | 7 | s8 | 4 | +----+------+--------+ 7 rows in set (0.00 sec) #ä¸¤ç§æœ€ç»ˆæ•ˆæœæ˜¯ä¸€æ ·çš„ ä½†æ˜¯å¾—è€ƒè™‘å“ªä¸ªæ˜¯å°è¡¨å“ªä¸ªæ˜¯å¤§è¡¨ éœ€è¦å°è¡¨é©±åŠ¨å¤§è¡¨ é‚£å°±è€ƒè™‘ä½¿ç”¨å“ªä¸€ç§ mysql\u0026gt; select * from tbl_emp where exists (select 1 from tbl_dept where tbl_emp.deptid = tbl_dept.id); +----+------+--------+ | id | name | deptid | +----+------+--------+ | 1 | z3 | 1 | | 2 | z4 | 1 | | 3 | z5 | 1 | | 4 | w5 | 2 | | 5 | w6 | 2 | | 6 | s7 | 3 | | 7 | s8 | 4 | +----+------+--------+ 7 rows in set (0.00 sec) orderby å…³é”®å­—ä¼˜åŒ– orderbyå­å¥,å°½é‡ä½¿ç”¨indexæ–¹å¼æ’åº,é¿å…ä½¿ç”¨filesortæ–¹å¼æ’åº mysqlæ”¯æŒä¸¤ç§æ–¹å¼çš„æ’åº,filesortå’Œindex,indexæ•ˆç‡é«˜,å®ƒæŒ‡ysqlæ‰«æç´¢å¼•æœ¬èº«å®Œæˆæ’åº,filesortæ–¹å¼æ•ˆç‡ä½ order by æ»¡è¶³ä¸¤ç§æƒ…å†µ,ä¼šä½¿ç”¨indexæ–¹å¼æ’åº order by è¯­å¥ä½¿ç”¨ç´¢å¼•æœ€å·¦å‰åˆ— ä½¿ç”¨whereå­å¥å’Œorder byå­å¥æ¡ä»¶åˆ—æ»¡è¶³ç´¢å¼•æœ€å·¦å‰åˆ— å°½å¯èƒ½åœ¨ç´¢å¼•åˆ—ä¸Šå®Œæˆæ’åºæ“ä½œ,éµç…§ç´¢å¼•å»ºçš„æœ€ä½³å·¦å‰ç¼€åŸåˆ™ å¦‚æœä¸åœ¨ç´¢å¼•åˆ—ä¸Š,filesortæœ‰ä¸¤ç§ç®—æ³•:mysqlå°±è¦å¯åŠ¨åŒè·¯æ’åºå’Œå•è·¯æ’åº åŒè·¯æ’åº 4.1ä¹‹å‰ä½¿ç”¨åŒè·¯æ’åº,æ‰«æä¸¤æ¬¡ç£ç›˜,æœ€ç»ˆå¾—åˆ°æ•°æ®,è¯»å–è¡ŒæŒ‡é’ˆå’Œorder by åˆ—, å¯¹ä»–ä»¬è¿›è¡Œæ’åº,ç„¶åæ‰«æå·²ç»æ’åºå¥½çš„åˆ—è¡¨,æŒ‰ç…§åˆ—è¡¨ä¸­çš„å€¼é‡æ–°ä»åˆ—è¡¨ä¸­è¯»å– ä»ç£ç›˜å–æ’åºå­—æ®µ,åœ¨bufferè¿›è¡Œæ’åº,å†ä»ç£ç›˜å–å…¶ä»–å­—æ®µ å•è·¯æ’åº å–ä¸€æ‰¹æ•°æ®,è¦å¯¹ç£ç›˜è¿›è¡Œä¸¤æ¬¡æ‰«æ,ä¼—æ‰€å‘¨çŸ¥,IOå¾ˆè€—æ—¶,åœ¨4.1ä¹‹å,å‡ºç°äº†ç¬¬äºŒç§çš„æ”¹è¿›ç®—æ³•,å°±æ˜¯å•è·¯æ’åº ä»ç£ç›˜è¯»å–æŸ¥è¯¢éœ€è¦çš„æ‰€æœ‰åˆ—,æŒ‰ç…§orderbyåˆ—åœ¨bufferå¯¹ä»–ä»¬è¿›è¡Œæ’åº,ç„¶åæ‰«ææ’åºåçš„åˆ—è¡¨è¿›è¡Œè¾“å‡º,å®ƒçš„æ•ˆç‡æ›´å¿«ä¸€äº›,é¿å…äº†ç¬¬äºŒæ¬¡è¯»å–æ•°æ®.å¹¶ä¸”æŠŠéšæœºIOå˜æˆäº†é¡ºåºIO,ä½†æ˜¯å®ƒä¼šä½¿ç”¨æ›´å¤šçš„ç©ºé—´,å› ä¸ºå®ƒæŠŠæ¯ä¸€è¡Œéƒ½ä¿å­˜åœ¨å†…å­˜ä¸­äº†. image-20211018204727314\rä¼˜åŒ–ç­–ç•¥ å¢å¤§sort_buffer_sizeå‚æ•°è®¾ç½® å¢å¤§max_length_for_sort_dataå‚æ•°çš„è®¾ç½® why image-20211018205003059\rmysql\u0026gt; CREATE TABLE tblA( -\u0026gt; #id int primary key not null autp_increment, -\u0026gt; age int, -\u0026gt; birth timestamp not null -\u0026gt; ); Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; CREATE INDEX idx_A_ageBirth on tblA(age,birth); Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 image-20211018203216016\ré»˜è®¤å‡åº æ‰“ä¹±äº†å°±ä¼šå‘ç”Ÿfilesort\nimage-20211018203523533\ræ€»ç»“ image-20211018205452929\rgroup by å…³é”®å­—ä¼˜åŒ– group byå®è´¨æ˜¯å…ˆæ’åºåè¿›è¡Œåˆ†ç»„,éµç…§ç´¢å¼•å»ºçš„æœ€ä½³å·¦å‰ç¼€ å½“æ— æ³•ä½¿ç”¨ç´¢å¼•åˆ—,å¢å¤§max_length_for_sort_dataå‚æ•°çš„è®¾ç½®+å¢å¤§sort_buffer_sizeå‚æ•°çš„è®¾ç½® whereé«˜äºhaving , èƒ½å†™åœ¨whereé™å®šçš„æ¡ä»¶å°±ä¸è¦å»havingé™å®šäº† mysqlæ…¢æŸ¥è¯¢æ—¥å¿— image-20211018205757207\rimage-20211018205824359\rå¦‚ä½•æŸ¥çœ‹æ˜¯å¦å¼€å¯ä¸å¦‚ä½•å¼€å¯\nmysql\u0026gt; show variables like \u0026#39;%slow_query_log%\u0026#39;; +---------------------+--------------------------+ | Variable_name | Value | +---------------------+--------------------------+ | slow_query_log | ON | | slow_query_log_file | LAPTOP-FKVMDBSI-slow.log | +---------------------+--------------------------+ 2 rows in set, 1 warning (0.01 sec) #åªå¯¹å½“å‰æ•°æ®åº“ç”Ÿæ•ˆ mysql\u0026gt; set global slow_query_log = 1 ; Query OK, 0 rows affected (0.00 sec) image-20211018210231026\rä»€ä¹ˆæ ·çš„ä¼šè®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—é‡Œé¢å‘¢?\nmysql\u0026gt; show variables like \u0026#39;%long_query_time%\u0026#39;; +-----------------+-----------+ | Variable_name | Value | +-----------------+-----------+ | long_query_time | 10.000000 | +-----------------+-----------+ 1 row in set, 1 warning (0.00 sec) image-20211018210404815\rè®¾ç½®æ…¢æŸ¥è¯¢æ—¶é—´é˜™å€¼\nmysql\u0026gt; set global long_query_time = 3 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; show variables like \u0026#39;%long_query_time%\u0026#39;; +-----------------+-----------+ | Variable_name | Value | +-----------------+-----------+ | long_query_time | 10.000000 | +-----------------+-----------+ 1 row in set, 1 warning (0.00 sec) image-20211018210539898\rimage-20211018210653124\rå»å“ªå„¿æ‰¾æ…¢sqlå‘€?\n#è¶…è¿‡3säº† åº”è¯¥ä¼šè®°å½•åˆ°æŸä¸ªæ—¥å¿—é‡Œå¯¹ä¸å¯¹ mysql\u0026gt; select sleep(4); +----------+ | sleep(4) | +----------+ | 0 | +----------+ 1 row in set (4.01 sec)\timage-20211018211230665\ræŸ¥çœ‹æœ‰å¤šå°‘æ¡æ…¢æŸ¥è¯¢çš„sql mysql\u0026gt; show global status like \u0026#39;slow_queries%\u0026#39; ; +---------------+-------+ | Variable_name | Value | +---------------+-------+ | Slow_queries | 2 | +---------------+-------+ 1 row in set (0.00 sec) é…ç½®ç‰ˆ æ°¸ä¹…ç”Ÿæ•ˆ image-20211018212354576\ræ—¥å¿—åˆ†æå·¥å…·mysqldumpslow æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ s æ ‡è¯†æŒ‰ç…§ä½•ç§æ–¹å¼æ’åº c è®¿é—®æ¬¡æ•° l é”å®šæ—¶é—´ r è¿”å›è®°å½• t æŸ¥è¯¢æ—¶é—´ al å¹³å‡é”å®šæ—¶é—´ ar å¹³å‡è¿”å›è®°å½•æ•° at å¹³å‡æŸ¥è¯¢æ—¶é—´ t è¿”å›å‰é¢å¤šå°‘æ¡çš„æ•°æ® g åè¾¹æ­é…ä¸€ä¸ªæ­£åˆ™åŒ¹é…æ¨¡å¼,å¤§å°å†™ä¸æ•æ„Ÿçš„ image-20211018212608969\rimage-20211018213827239\ræ‰¹é‡æ’å…¥æ•°æ® #å‡†å¤‡å·¥ä½œ mysql\u0026gt; create database bigdata ; Query OK, 1 row affected (0.01 sec) mysql\u0026gt; use bigdata ; Database changed mysql\u0026gt; CREATE TABLE `dept` ( -\u0026gt; `id` int(10) unsigned NOT NULL AUTO_INCREMENT, -\u0026gt; `deptno` mediumint(8) unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39;, -\u0026gt; `dname` varchar(20) NOT NULL DEFAULT \u0026#39;\u0026#39;, -\u0026gt; `loc` varchar(13) NOT NULL DEFAULT \u0026#39;\u0026#39;, -\u0026gt; PRIMARY KEY (`id`) -\u0026gt; ) ENGINE=InnoDB DEFAULT CHARSET=GBK; Query OK, 0 rows affected, 2 warnings (0.03 sec) mysql\u0026gt; mysql\u0026gt; CREATE TABLE `emp` ( -\u0026gt; `id` int(10) unsigned NOT NULL AUTO_INCREMENT, -\u0026gt; `empno` mediumint(8) unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39;,/*ç¼–å·*/ -\u0026gt; `ename` varchar(20) NOT NULL DEFAULT \u0026#39;\u0026#39;,/*åå­—*/ -\u0026gt; `job` varchar(9) NOT NULL DEFAULT \u0026#39;\u0026#39;,/*å·¥ä½œ*/ -\u0026gt; `mgr` mediumint(8) unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39;,/*ä¸Šçº§ç¼–å·*/ -\u0026gt; `hiredate` date NOT NULL,/*å…¥èŒæ—¶é—´*/ -\u0026gt; `sal` decimal(7,2) NOT NULL,/*è–ªæ°´*/ -\u0026gt; `comm` decimal(7,2) NOT NULL,/*çº¢åˆ©*/ -\u0026gt; `deptno` mediumint(8) unsigned NOT NULL DEFAULT \u0026#39;0\u0026#39;,/*éƒ¨é—¨ç¼–å·*/ -\u0026gt; PRIMARY KEY (`id`) -\u0026gt; ) ENGINE=InnoDB DEFAULT CHARSET=GBK; Query OK, 0 rows affected, 4 warnings (0.02 sec) mysql\u0026gt; show variables like \u0026#39;log_bin_trust_function_creators\u0026#39; ; +---------------------------------+-------+ | Variable_name | Value | +---------------------------------+-------+ | log_bin_trust_function_creators | OFF | +---------------------------------+-------+ 1 row in set, 1 warning (0.00 sec) mysql\u0026gt; set global log_bin_trust_function_creators = 1 ; Query OK, 0 rows affected (0.00 sec) #é‡å¯ä¼šå¤±æ•ˆ å¦‚æœæ°¸ä¹…å°±ä¿®æ”¹é…ç½®æ–‡ä»¶ mysql\u0026gt; show variables like \u0026#39;log_bin_trust_function_creators\u0026#39; ; +---------------------------------+-------+ | Variable_name | Value | +---------------------------------+-------+ | log_bin_trust_function_creators | ON | +---------------------------------+-------+ 1 row in set, 1 warning (0.00 sec) #åˆ›å»ºå‡½æ•°éšæœºäº§ç”Ÿå­—ç¬¦ä¸²å’Œéƒ¨é—¨ç¼–å· mysql\u0026gt; delimiter $$ mysql\u0026gt; create function rand_string (n int) returns varchar (255) -\u0026gt; begin -\u0026gt; declare chars_str varchar(100) default \u0026#39;abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ\u0026#39;; -\u0026gt; declare return_str varchar(255) default \u0026#39;\u0026#39;; -\u0026gt; declare i int default 0 ; -\u0026gt; while i\u0026lt;n do -\u0026gt; set return_str = concat (return_str,substring(chars_str,floor(1+rand()*52),1)); -\u0026gt; set i = i + 1; -\u0026gt; end while ; -\u0026gt; return return_str ; -\u0026gt; end $$ Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; create function rand_num() returns int(5) -\u0026gt; begin -\u0026gt; declare i int default 0 ; -\u0026gt; set i = floor(100+rand()*10); -\u0026gt; return i ; -\u0026gt; end $$ Query OK, 0 rows affected, 1 warning (0.01 sec) #åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ å¹¶ä½¿ç”¨å‡½æ•° mysql\u0026gt; create procedure insert_emp(in start int(10),in max_num int(10)) -\u0026gt; begin -\u0026gt; declare i int default 0 ; -\u0026gt; set autocommit = 0 ; -\u0026gt; repeat -\u0026gt; set i = i + 1 ; -\u0026gt; insert into emp(empno,ename,job,mgr,hiredate,sal,comm,deptno)values ((start+i),rand_string(6),\u0026#39;SALESMAN\u0026#39;,0001,curdate(),2000,400,rand_num()); -\u0026gt; until i = max_num -\u0026gt; end repeat ; -\u0026gt; commit ; -\u0026gt; end $$ Query OK, 0 rows affected, 2 warnings (0.01 sec) mysql\u0026gt; DELIMITER $$ mysql\u0026gt; CREATE PROCEDURE insert_dept(IN START INT(10),IN max_num INT(10)) -\u0026gt; BEGIN -\u0026gt; DECLARE i INT DEFAULT 0; -\u0026gt; SET autocommit = 0; -\u0026gt; REPEAT -\u0026gt; SET i = i + 1; -\u0026gt; INSERT INTO dept (deptno,dname,loc) VALUES((START+i),rand_string(10), rand_string(8)); -\u0026gt; UNTIL i = max_num -\u0026gt; END REPEAT; -\u0026gt; COMMIT; -\u0026gt; END $$ Query OK, 0 rows affected, 2 warnings (0.01 sec) #è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ mysql\u0026gt; delimiter ; mysql\u0026gt; call insert_dept(100,10); Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from dept ; +----+--------+------------+----------+ | id | deptno | dname | loc | +----+--------+------------+----------+ | 1 | 101 | sqzyWknJJc | uPRPyWny | | 2 | 102 | JIzyTYkhea | MMwVrWFn | | 3 | 103 | yJHubWCauW | yDuqsQbL | | 4 | 104 | zpcqwlOlOo | amifZKyp | | 5 | 105 | dygjEsdkSJ | PXrTreuK | | 6 | 106 | sImmyFJrNO | JOaNOEFl | | 7 | 107 | sclZmoJqML | uOLngSTP | | 8 | 108 | wKlcBBdKqB | HJlkuqvf | | 9 | 109 | phTUTIJwhu | ELSeUlwz | | 10 | 110 | jvArhMohVh | WoFhVhYw | +----+--------+------------+----------+ 10 rows in set (0.00 sec) mysql\u0026gt; call insert_emp(100001,500000); Query OK, 0 rows affected (31.37 sec) image-20211018214549181\rshow Profile æ˜¯ä»€ä¹ˆ æ˜¯mysqlæä¾›å¯ä»¥ç”¨æ¥åˆ†æå½“å‰ä¼šè¯ä¸­è¯­å¥æ‰§è¡Œçš„èµ„æºæ¶ˆè€—æƒ…å†µ å¯ä»¥ç”¨äºsqlçš„è°ƒä¼˜æµ‹é‡\né»˜è®¤æƒ…å†µä¸‹,å‚æ•°å¤„äºå…³é—­çŠ¶æ€,å¹¶ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœ\nåˆ†ææ­¥éª¤\næ˜¯å¦æ”¯æŒ , çœ‹çœ‹å½“å‰çš„mysqlç‰ˆæœ¬æ˜¯å¦æ”¯æŒ\nmysql\u0026gt; show variables like \u0026#39;%profiling%\u0026#39;; +------------------------+-------+ | Variable_name | Value | +------------------------+-------+ | have_profiling | YES | | profiling | OFF | | profiling_history_size | 15 | +------------------------+-------+ 3 rows in set, 1 warning (0.00 sec) å¼€å¯åŠŸèƒ½,é»˜è®¤æ˜¯å…³é—­,ä½¿ç”¨å‰éœ€è¦å¼€å¯\nmysql\u0026gt; set profiling = on ; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql\u0026gt; show variables like \u0026#39;%profiling%\u0026#39;; +------------------------+-------+ | Variable_name | Value | +------------------------+-------+ | have_profiling | YES | | profiling | ON | | profiling_history_size | 15 | +------------------------+-------+ 3 rows in set, 1 warning (0.00 sec) è¿è¡ŒSQL\næŸ¥çœ‹ç»“æœ,show profiles\nmysql\u0026gt; show profiles ; +----------+------------+------------------------------------------------------------------+ | Query_ID | Duration | Query | +----------+------------+------------------------------------------------------------------+ | 1 | 0.00142325 | show variables like \u0026#39;%profiling%\u0026#39; | | 2 | 0.00311650 | select * from tbl_emp | | 3 | 0.00040100 | select * from tbl_emp | | 4 | 0.00018025 | SELECT DATABASE() | | 5 | 0.00356750 | select * from tbl_emp | | 6 | 0.00046875 | select * from tbl_emp e inner join tbl_dept on e.deptid = d.id | | 7 | 0.00317325 | select * from tbl_emp e inner join tbl_dept d on e.deptid = d.id | | 8 | 0.00029500 | select * from tbl_emp e inner join tbl_dept d on e.deptid = d.id | | 9 | 0.00031975 | select * from tbl_emp e left join tbl_dept d on e.deptid = d.id | | 10 | 0.00016175 | SELECT DATABASE() | | 11 | 0.48647650 | select * from emp group by id%10 limit 150000 | | 12 | 0.46590675 | select * from emp group by id%20 order by 5 | +----------+------------+------------------------------------------------------------------+ 12 rows in set, 1 warning (0.00 sec) è¯Šæ–­sql,show profile cpu ,block io for query ä¸Šä¸€æ­¥å‰é¢çš„é—®é¢˜sqlæ•°å­—å·ç  ; mysql\u0026gt; show profile cpu , block io for query 7; +--------------------------------+----------+----------+------------+--------------+---------------+ | Status | Duration | CPU_user | CPU_system | Block_ops_in | Block_ops_out | +--------------------------------+----------+----------+------------+--------------+---------------+ | starting | 0.000054 | 0.000000 | 0.000000 | NULL | NULL | | Executing hook on transaction | 0.000003 | 0.000000 | 0.000000 | NULL | NULL | | starting | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | checking permissions | 0.000002 | 0.000000 | 0.000000 | NULL | NULL | | checking permissions | 0.000003 | 0.000000 | 0.000000 | NULL | NULL | | Opening tables | 0.000041 | 0.000000 | 0.000000 | NULL | NULL | | init | 0.000004 | 0.000000 | 0.000000 | NULL | NULL | | System lock | 0.000007 | 0.000000 | 0.000000 | NULL | NULL | | optimizing | 0.000012 | 0.000000 | 0.000000 | NULL | NULL | | statistics | 0.000027 | 0.000000 | 0.000000 | NULL | NULL | | preparing | 0.000017 | 0.000000 | 0.000000 | NULL | NULL | | executing | 0.002927 | 0.000000 | 0.000000 | NULL | NULL | | end | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | query end | 0.000002 | 0.000000 | 0.000000 | NULL | NULL | | waiting for handler commit | 0.000007 | 0.000000 | 0.000000 | NULL | NULL | | closing tables | 0.000006 | 0.000000 | 0.000000 | NULL | NULL | | freeing items | 0.000041 | 0.000000 | 0.000000 | NULL | NULL | | cleaning up | 0.000013 | 0.000000 | 0.000000 | NULL | NULL | +--------------------------------+----------+----------+------------+--------------+---------------+ #çœ‹çœ‹è€—æ—¶å¤šçš„ æ‰¾ç»“è®º image-20211019231456204\ræ—¥å¸¸å¼€å‘éœ€è¦æ³¨æ„çš„ç»“è®º converting heap to myisam æŸ¥è¯¢ç»“æœå¤ªå¤§ , å†…å­˜ä¸å¤Ÿç”¨äº†å¾€ç£ç›˜ä¸Šæ¬ creating temp table åˆ›å»ºä¸´æ—¶è¡¨ æ‹·è´æ•°æ®åˆ°ä¸´æ—¶è¡¨ ç”¨å®Œå†åˆ é™¤ copying to tmp table on dist æŠŠå†…å­˜ä¸­ä¸´æ—¶è¡¨å¤åˆ¶åˆ°ç£ç›˜,å±é™©!! locked #ä½¿ç”¨tempä¸´æ—¶è¡¨å¾ˆæ¶ˆè€—æ—¶é—´ è¦åˆ›å»º æ‹·è´ å¤„ç† é‡Šæ”¾ mysql\u0026gt; show profile cpu , block io for query 11; +--------------------------------+----------+----------+------------+--------------+---------------+ | Status | Duration | CPU_user | CPU_system | Block_ops_in | Block_ops_out | +--------------------------------+----------+----------+------------+--------------+---------------+ | starting | 0.000078 | 0.000000 | 0.000000 | NULL | NULL | | Executing hook on transaction | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | starting | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | checking permissions | 0.000004 | 0.000000 | 0.000000 | NULL | NULL | | Opening tables | 0.000264 | 0.000000 | 0.000000 | NULL | NULL | | init | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | System lock | 0.000005 | 0.000000 | 0.000000 | NULL | NULL | | optimizing | 0.000003 | 0.000000 | 0.000000 | NULL | NULL | | statistics | 0.000015 | 0.000000 | 0.000000 | NULL | NULL | | preparing | 0.000011 | 0.000000 | 0.000000 | NULL | NULL | | Creating tmp table | 0.000055 | 0.000000 | 0.000000 | NULL | NULL | | executing | 0.485898 | 0.421875 | 0.046875 | NULL | NULL | | end | 0.000010 | 0.000000 | 0.000000 | NULL | NULL | | query end | 0.000003 | 0.000000 | 0.000000 | NULL | NULL | | waiting for handler commit | 0.000017 | 0.000000 | 0.000000 | NULL | NULL | | closing tables | 0.000007 | 0.000000 | 0.000000 | NULL | NULL | | freeing items | 0.000074 | 0.000000 | 0.000000 | NULL | NULL | | cleaning up | 0.000019 | 0.000000 | 0.000000 | NULL | NULL | +--------------------------------+----------+----------+------------+--------------+---------------+ 18 rows in set, 1 warning (0.00 sec) å…¨å±€æŸ¥è¯¢æ—¥å¿— é…ç½®å¯ç”¨ image-20211019232353049\rç¼–ç å¯ç”¨ image-20211019232435273\rmysql\u0026gt; set global general_log = 1 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; set global log_output = \u0026#39;TABLE\u0026#39; ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from dept ; +----+--------+------------+----------+ | id | deptno | dname | loc | +----+--------+------------+----------+ | 1 | 101 | sqzyWknJJc | uPRPyWny | | 2 | 102 | JIzyTYkhea | MMwVrWFn | | 3 | 103 | yJHubWCauW | yDuqsQbL | | 4 | 104 | zpcqwlOlOo | amifZKyp | | 5 | 105 | dygjEsdkSJ | PXrTreuK | | 6 | 106 | sImmyFJrNO | JOaNOEFl | | 7 | 107 | sclZmoJqML | uOLngSTP | | 8 | 108 | wKlcBBdKqB | HJlkuqvf | | 9 | 109 | phTUTIJwhu | ELSeUlwz | | 10 | 110 | jvArhMohVh | WoFhVhYw | +----+--------+------------+----------+ 10 rows in set (0.01 sec) mysql\u0026gt; select * from mysql.general_log ; +----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+ | event_time | user_host | thread_id | server_id | command_type | argument | +----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+ | 2021-10-19 23:25:31.577792 | root[root] @ localhost [::1] | 12 | 1 | Query | 0x73656C656374202A2066726F6D2064657074 | | 2021-10-19 23:25:44.682913 | root[root] @ localhost [::1] | 12 | 1 | Query | 0x73656C656374202A2066726F6D206D7973716C2E67656E6572616C5F6C6F67 | +----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+ 2 rows in set (0.00 sec) mysql\u0026gt; set global general_log = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; alter table mysql.general_log modify column argument varchar(100) not null ; Query OK, 3 rows affected (0.04 sec) Records: 3 Duplicates: 0 Warnings: 0 mysql\u0026gt; set global general_log = 1 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from mysql.general_log ; +----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+ | event_time | user_host | thread_id | server_id | command_type | argument | +----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+ | 2021-10-19 23:25:31.577792 | root[root] @ localhost [::1] | 12 | 1 | Query | select * from dept | | 2021-10-19 23:25:44.682913 | root[root] @ localhost [::1] | 12 | 1 | Query | select * from mysql.general_log | | 2021-10-19 23:28:59.776726 | root[root] @ localhost [::1] | 12 | 1 | Query | set global general_log = 0 | +----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+ 3 rows in set (0.01 sec) mysqlé”æœºåˆ¶ é”æ˜¯è®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€èµ„æºçš„æœºåˆ¶\nåœ¨æ•°æ®åº“ä¸­,é™¤ä¼ ç»Ÿçš„è®¡ç®—èµ„æºå¦‚CPU/RAM/IOç­‰çš„äº‰ç”¨ä»¥å¤–,æ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›è®¸å¤šç”¨æˆ·å…±äº«çš„èµ„æº.å¦‚ä½•ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§,æœ‰æ•ˆæ€§æ˜¯æ‰€æœ‰æ•°æ®åº“å¿…é¡»è§£å†³çš„ä¸€ä¸ªé—®é¢˜,é”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ .ä»è¿™ä¸ªè§’åº¦æ¥è¯´,é”å¯¹æ•°æ®åº“è€Œè¨€æ˜¾å¾—å°¤ä¸ºé‡è¦,ä¹Ÿæ›´åŠ å¤æ‚.\nimage-20211019233809036\ré”çš„åˆ†ç±»\nå¯¹æ•°æ®æ“ä½œçš„ç±»å‹ è¯»/å†™ è¯»é”(å…±äº«é”):é’ˆå¯¹åŒä¸€ä»½æ•°æ®,å¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œè€Œä¸ä¼šäº’ç›¸å½±å“ å†™é”(æ’å®ƒé”):å½“å‰å†™æ“ä½œæ²¡æœ‰å®Œæˆå‰,å®ƒä¼šé˜»æ–­å…¶ä»–å†™é”å’Œè¯»é” å¯¹æ•°æ®æ“ä½œçš„ç²’åº¦ è¡¨é”/è¡Œé” é”æœºåˆ¶ä¸­çš„ä¸‰é”\nè¡¨é”(åè¯») ç‰¹ç‚¹ åå‘myisamå­˜å‚¨å¼•æ“,å¼€é”€å°,åŠ é”å¿«,æ— æ­»é”;é”å®šç²’åº¦å¤§,å‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€é«˜,å¹¶å‘åº¦æœ€ä½ #å»ºè¡¨ mysql\u0026gt; create table mylock( -\u0026gt; id int not null primary key auto_increment, -\u0026gt; name varchar(20) -\u0026gt; )engine myisam; Query OK, 0 rows affected (0.02 sec) #æŸ¥çœ‹å“ªäº›ä¸Šé”mysql\u0026gt; show open tables ; +--------------------+---------------------------+--------+-------------+ | Database | Table | In_use | Name_locked | +--------------------+---------------------------+--------+-------------+ | mysql | check_constraints | 0 | 0 | | mysql | column_type_elements | 0 | 0 | #åŠ è¯»å†™é” mysql\u0026gt; lock table mylock read , emp write ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; show open tables ; +--------------------+---------------------------+--------+-------------+ | Database | Table | In_use | Name_locked | +--------------------+---------------------------+--------+-------------+ | mysql | check_constraints | 0 | 0 | | mysql | column_type_elements | 0 | 0 | | bigdata | emp | 1 | 0 | | mysql | general_log | 0 | 0 | | bigdata | mylock | 1 | 0 | +--------------------+---------------------------+--------+-------------+ #é‡Šæ”¾é” mysql\u0026gt; unlock tables ; Query OK, 0 rows affected (0.00 sec) åŠ è¯»é”\npowershell ä¸­åŠ é”\nmysql\u0026gt; lock table mylock read ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from mylock ; +----+------+ | id | name | +----+------+ | 1 | a | | 2 | b | | 3 | c | | 4 | d | | 5 | e | +----+------+ 5 rows in set (0.00 sec) cmdä¸­ä¹Ÿèƒ½è¯»\nmysql\u0026gt; use bigdata ; Database changed mysql\u0026gt; select * from mylock ; +----+------+ | id | name | +----+------+ | 1 | a | | 2 | b | | 3 | c | | 4 | d | | 5 | e | +----+------+ 5 rows in set (0.01 sec) ä½†powershellä¸­åŠ äº†è¯»é”,ä¸èƒ½å¯¹è¯¥è¡¨è¿›è¡Œå†™æ“ä½œ,ä¹Ÿå°±æ˜¯å¢åˆ æ”¹æ“ä½œ,ä¹Ÿä¸èƒ½å¯¹å…¶ä»–è¡¨è¿›è¡Œcrudæ“ä½œ\nmysql\u0026gt; update mylock set name = \u0026#39;a2\u0026#39; where id = 1 ; ERROR 1099 (HY000): Table \u0026#39;mylock\u0026#39; was locked with a READ lock and can\u0026#39;t be updated mysql\u0026gt; insert into mylock values(6,\u0026#39;ljs\u0026#39;); ERROR 1099 (HY000): Table \u0026#39;mylock\u0026#39; was locked with a READ lock and can\u0026#39;t be updated mysql\u0026gt; delete from mylock where id = 5 ; ERROR 1099 (HY000): Table \u0026#39;mylock\u0026#39; was locked with a READ lock and can\u0026#39;t be updated mysql\u0026gt; select * from emp ; ERROR 1100 (HY000): Table \u0026#39;emp\u0026#39; was not locked with LOCK TABLES è€Œcmdä¸èƒ½å¯¹è¯¥è¡¨è¿›è¡Œå†™çš„æ“ä½œ,å¯ä»¥å¯¹è¯¥è¡¨è¿›è¡Œè¯»æ“ä½œ,å†™æ“ä½œä¼šé˜»å¡,ç›´åˆ°powershellä¸­é‡Šæ”¾é”,ä½†èƒ½å¯¹å…¶ä»–è¡¨è¿›è¡Œcrudæ“ä½œ\nmysql\u0026gt; update mylock set name = \u0026#39;a2\u0026#39; where id = 1 ; ^C -- query aborted ERROR 1317 (70100): Query execution was interrupted mysql\u0026gt; insert into mylock values(6,\u0026#39;ljs\u0026#39;); ^C -- query aborted ERROR 1317 (70100): Query execution was interrupted mysql\u0026gt; delete from mylock where id = 5 ; ^C -- query aborted ERROR 1317 (70100): Query execution was interrupted mysql\u0026gt; select * from emp ; +--------+--------+--------+----------+-----+------------+---------+--------+--------+ | id | empno | ename | job | mgr | hiredate | sal | comm | deptno | +--------+--------+--------+----------+-----+------------+---------+--------+--------+ | 1 | 100002 | lPrnpM | SALESMAN | 1 | 2021-10-18 | 2000.00 | 400.00 | 107 | | 2 | 100003 | NuIiSO | SALESMAN | 1 | 2021-10-18 | 2000.00 | 400.00 | 103 | å½“powershellè§£é”å,cmdç«‹åˆ»å¾—åˆ°æ‰§è¡Œ\n#powershellç«¯ mysql\u0026gt; unlock tables ; Query OK, 0 rows affected (0.01 sec) #cmdç«¯ ç­‰åˆ°è§£é”åç«‹åˆ»æ‰§è¡Œ mysql\u0026gt; update mylock set name = \u0026#39;a2\u0026#39; where id = 1 ; Query OK, 1 row affected (19.80 sec) Rows matched: 1 Changed: 1 Warnings: 0 image-20211020200516110\rimage-20211020200614618\råŠ å†™é”\npowershellåŠ å†™é”,å…¶ä»–æœªé”çš„è¡¨éƒ½è®¿é—®ä¸äº†\nmysql\u0026gt; lock table mylock write ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from mylock ; +----+------+ | id | name | +----+------+ | 1 | a2 | | 2 | b | | 3 | c | | 4 | d | | 5 | e | +----+------+ 5 rows in set (0.01 sec) mysql\u0026gt; update mylock set name = \u0026#39;a4\u0026#39; where id =1 ; Query OK, 1 row affected (0.01 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; select * from emp ; ERROR 1100 (HY000): Table \u0026#39;emp\u0026#39; was not locked with LOCK TABLES cmdè®¿é—®è¯¥è¡¨,å‘ç”Ÿé˜»å¡,ç›´è‡³powershellè§£é”\nmysql\u0026gt; select * from mylock ; +----+------+ | id | name | +----+------+ | 1 | a4 | | 2 | b | | 3 | c | | 4 | d | | 5 | e | +----+------+ 5 rows in set (2.44 sec) image-20211020201254172\rimage-20211020201310837\rimage-20211020201455840\rè¡¨é”åˆ†æ\nshow open tables ; å“ªäº›è¡¨è¢«é”äº† é€šè¿‡æ£€æŸ¥table_locks_waitedå’Œtable_locks_immediateçŠ¶æ€å˜é‡æ¥åˆ†æç³»ç»Ÿä¸Šçš„è¡¨é”å®š; show status like \u0026rsquo;table%\u0026rsquo; ; mysql\u0026gt; show status like \u0026#39;table%\u0026#39; ; +----------------------------+-------+ | Variable_name | Value | +----------------------------+-------+ | Table_locks_immediate | 104 | | Table_locks_waited | 0 | | Table_open_cache_hits | 89 | | Table_open_cache_misses | 24 | | Table_open_cache_overflows | 0 | +----------------------------+-------+ image-20211020203053434\rè¡Œé” innodbå­˜å‚¨å¼•æ“,å¼€é”€å¤§,åŠ é”æ…¢;ä¼šå‡ºç°æ­»é”;é”å®šç²’åº¦æœ€å°,å‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½,å¹¶å‘åº¦æœ€é«˜ innodbä¸myisamçš„æœ€å¤§ä¸åŒæœ‰ä¸¤ç‚¹:ä¸€æ˜¯æ”¯æŒäº‹åŠ¡transactioon;äºŒæ˜¯é‡‡ç”¨è¡Œçº§é” äº‹åŠ¡\näº‹åŠ¡åŠacidå±æ€§\nimage-20211020203617056\rå¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜\næ›´æ–°ä¸¢å¤± image-20211020203848386\rè„è¯» image-20211020204010474\rä¸å¯é‡å¤è¯» image-20211020204034952\rå¹»è¯» image-20211020204053892\räº‹åŠ¡çš„å¹¶å‘éš”ç¦»çº§åˆ«\nread uncommitted read committed repeatable read serializable image-20211020204239692\rmysql\u0026gt; show variables like \u0026#39;transaction_isolation\u0026#39; ; +-----------------------+-----------------+ | Variable_name | Value | +-----------------------+-----------------+ | transaction_isolation | REPEATABLE-READ | +-----------------------+-----------------+ 1 row in set, 1 warning (0.01 sec) ç¤ºä¾‹\nmysql\u0026gt; create table test_innodb_lock(a int(11),b varchar(16))engine=innodb; Query OK, 0 rows affected, 1 warning (0.04 sec) mysql\u0026gt; create index test_innodb_a_ind on test_innodb_lock(a); Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; create index test_innodb_lock_b_ind on test_innodb_lock(b); Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 powershellä¸­ä¿®æ”¹æ•°æ®\nmysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; update test_innodb_lock set b = \u0026#39;4001\u0026#39; where a = 4 ; Query OK, 1 row affected (0.01 sec) Rows matched: 1 Changed: 1 Warnings: 0 ä¸ºä¿è¯æ•°æ®ä¸€è‡´æ€§ åœ¨cmdä¸­ æ‹¿åˆ°çš„è‚¯å®šè¿˜æ˜¯4000\nmysql\u0026gt; select * from test_innodb_lock ; +------+------+ | a | b | +------+------+ | 1 | b2 | | 3 | 3 | | 4 | 4000 | | 5 | 5000 | | 6 | 6000 | | 7 | 7000 | | 8 | 8000 | | 9 | 9000 | | 1 | b1 | +------+------+ powershellä¿®æ”¹æ•°æ®\nmysql\u0026gt; update test_innodb_lock set b = \u0026#39;4002\u0026#39; where a = 4 ; Query OK, 1 row affected (0.01 sec) Rows matched: 1 Changed: 1 Warnings: 0 å¦‚æœä¸æäº¤ å°±å‘ç”Ÿäº†è¡Œé” cmdä¸­ç­‰åˆ°powershellä¸­æäº¤äº† æ‰ä¼šæ›´æ–° å¦åˆ™ä¼šé˜»å¡\nmysql\u0026gt; update test_innodb_lock set b = \u0026#39;4003\u0026#39; where a = 4 ; Query OK, 1 row affected (19.16 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; commit ; Query OK, 0 rows affected (0.01 sec) åŠ¨ä¸åŒçš„è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„\nimage-20211020210157165\ræ— ç´¢å¼•è¡Œé”å‡çº§ä¸ºè¡¨é”\npowershellä¸­ç”±äºvarcharæ²¡æœ‰åŠ å•å¼•å·â€˜â€™ å¯¼è‡´ç±»å‹è½¬æ¢å‘ç”Ÿäº†ç´¢å¼•å¤±æ•ˆ\nmysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; update test_innodb_lock set a = 41 where b = 4000 ; Query OK, 0 rows affected (0.01 sec) Rows matched: 0 Changed: 0 Warnings: 0 ç†è®ºä¸Šåªæ˜¯è¡Œé”ï¼Œä½†æ˜¯ç´¢å¼•å¤±æ•ˆå¯¼è‡´è¡Œé”å‡çº§ä¸ºäº†è¡¨é”ï¼Œæ“ä½œå…¶ä»–è¡Œä¹Ÿå‘ç°è¡¨è¢«é”ä½äº†\nmysql\u0026gt; select * from test_innodb_lock ; +------+------+ | a | b | +------+------+ | 1 | b2 | | 3 | 3 | | 4 | 4003 | | 5 | 5000 | | 6 | 6000 | | 7 | 7000 | | 8 | 8000 | | 9 | 9000 | | 1 | b1 | +------+------+ 9 rows in set (0.01 sec) mysql\u0026gt; update test_innodb_lock set b = \u0026#39;9002\u0026#39; where a =9 ; Query OK, 1 row affected (21.24 sec) Rows matched: 1 Changed: 1 Warnings: 0 é—´éš™é”\ncmdä¸­æ›´æ–°ä¸€ä¸ªèŒƒå›´,è¿˜æ²¡æäº¤\nmysql\u0026gt; update test_innodb_lock set b = \u0026#39;0629\u0026#39; where a\u0026gt;1 and a\u0026lt;6 ; Query OK, 3 rows affected (0.01 sec) Rows matched: 3 Changed: 3 Warnings: 0 mysql\u0026gt; commit ; Query OK, 0 rows affected (0.01 sec) powershellä¸­æ’å…¥çš„è¯è¦ç­‰åˆ°cmdä¸­commitçš„æ—¶å€™æ‰èƒ½æ’å…¥,å¦åˆ™ä¼šé˜»å¡\nmysql\u0026gt; insert into test_innodb_lock values (2,\u0026#39;2000\u0026#39;); Query OK, 1 row affected (23.87 sec) ä»€ä¹ˆæ˜¯é—´éš™é”\nå½“æˆ‘ä»¬ä½¿ç”¨èŒƒå›´æ¡ä»¶è€Œä¸æ˜¯ç›¸ç­‰æ¡ä»¶æ£€ç´¢æ•°æ®,å¹¶è¯·æ±‚å…±äº«æˆ–æ’ä»–é”æ—¶,innodbä¼šç»™ç¬¦åˆæ¡ä»¶çš„å·²æœ‰æ•°æ®è®°å½•çš„ç´¢å¼•é¡¹åŠ é”;å¯¹äºé”®å€¼å†æ¡ä»¶èŒƒå›´å†…ä½†å¹¶ä¸å­˜åœ¨çš„è®°å½•,å«åšé—´éš™GAP\ninnodbä¹Ÿä¼šå¯¹è¿™ä¸ªé—´éš™åŠ é”,è¿™ç§é”æœºåˆ¶å°±æ˜¯æ‰€è°“çš„é—´éš™é”NETT \u0026ndash;KEYé”\nå±å®³\nå› ä¸ºqueryæ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡èŒƒå›´æŸ¥æ‰¾çš„è¯,å®ƒä¼šé”å®šæ•´ä¸ªèŒƒå›´å†…æ‰€æœ‰çš„ç´¢å¼•é”®å€¼,å³ä½¿è¿™ä¸ªé”®å€¼å¹¶ä¸å­˜åœ¨\né—´éš™é”æœ‰ä¸€ä¸ªæ¯”è¾ƒè‡´å‘½çš„å¼±ç‚¹,å°±æ˜¯å½“é”å®šä¸€ä¸ªèŒƒå›´é”®å€¼ä¹‹å,å³ä½¿æŸäº›ä¸å­˜åœ¨çš„é”®å€¼ä¹Ÿä¼šè¢«æ— è¾œçš„é”å®š,è€Œé€ æˆé”å®šçš„æ—¶å€™æ— æ³•æ’å…¥é”å®šé”®å€¼èŒƒå›´å†…çš„ä»»ä½•æ•°æ®,åœ¨æŸäº›åœºæ™¯ä¸‹è¿™å¯èƒ½ä¼šå¯¹æ€§èƒ½é€ æˆå¾ˆå¤§çš„å±å®³\nimage-20211022212523821\rå¦‚ä½•é”å®šä¸€è¡Œ\nselect xxx \u0026hellip; for update é”å®šæŸä¸€è¡Œå,å…¶ä»–çš„æ“ä½œä¼šè¢«é˜»å¡,ç›´åˆ°é”å®šè¡Œçš„ä¼šè¯æäº¤commit\ncmdä½¿ç”¨begin \u0026hellip; for update æ¥é”å®šä¸€è¡Œ\nmysql\u0026gt; begin ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from test_innodb_lock where a = 8 for update ; +------+------+ | a | b | +------+------+ | 8 | 8000 | +------+------+ 1 row in set (0.01 sec) mysql\u0026gt; commit ; Query OK, 0 rows affected (0.01 sec) powershellä¸èƒ½å¯¹è¯¥è¡Œåšæ”¹åŠ¨,é™¤écmdæäº¤äº†commitæ‰ä¼šé‡Šæ”¾é”\nmysql\u0026gt; update test_innodb_lock set b = \u0026#39;xxx\u0026#39; where a = 8 ; ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction mysql\u0026gt; update test_innodb_lock set b = \u0026#39;xxx\u0026#39; where a = 8 ; Query OK, 1 row affected (2.17 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; commit ; Query OK, 0 rows affected (0.01 sec) æ¡ˆä¾‹ç»“è®º innodbå­˜å‚¨å¼•æ“ç”±äºå®ç°äº†è¡Œçº§é”å®š,è™½ç„¶åœ¨é”å®šæœºåˆ¶çš„å®ç°æ–¹é¢æ‰€å¸¦æ¥çš„æ€§èƒ½æŸè€—å¯èƒ½æ¯”è¡¨çº§é”å®šä¼šæ›´é«˜ä¸€ç‚¹,ä½†æ˜¯åœ¨æ•´ä½“å¹¶å‘å¤„ç†èƒ½åŠ›æ–¹é¢è¦è¿œè¿œä¼˜äºmyisamçš„è¡¨çº§é”å®šçš„.å½“ç³»ç»Ÿå¹¶å‘é‡è¾ƒé«˜çš„æ—¶å€™,innodbçš„æ•´ä½“æ€§èƒ½å’Œmyisamç›¸æ¯”å°±ä¼šæœ‰æ¯”è¾ƒæ˜æ˜¾çš„ä¼˜åŠ¿äº†.\nä½†æ˜¯,innodbçš„è¡Œçº§é”å®šåŒæ ·ä¹Ÿæœ‰å…¶è„†å¼±çš„ä¸€é¢,å½“æˆ‘ä»¬ä½¿ç”¨ä¸å½“çš„æ—¶å€™,å¯èƒ½ä¼šè®©innodbçš„æ•´ä½“æ€§èƒ½è¡¨ç°ä¸ä»…ä¸èƒ½æ¯”myisamé«˜,ç”šè‡³å¯èƒ½ä¼šæ›´å·®.\nå¦‚ä½•åˆ†æè¡Œé”å®š\né€šè¿‡æ£€æŸ¥innodb_row_lockå˜é‡æ¥åˆ†æç³»ç»Ÿä¸Šçš„è¡Œé”çš„äº‰å¤ºæƒ…å†µ\nmysql\u0026gt; show status like \u0026#39;innodb_row_lock%\u0026#39; ; +-------------------------------+--------+ | Variable_name | Value | +-------------------------------+--------+ | Innodb_row_lock_current_waits | 0 | | Innodb_row_lock_time | 117831 | | Innodb_row_lock_time_avg | 23566 | | Innodb_row_lock_time_max | 51419 | | Innodb_row_lock_waits | 5 | +-------------------------------+--------+ 5 rows in set (0.01 sec) image-20211022214707680\rä¼˜åŒ–å»ºè®® å°½å¯èƒ½è®©æ‰€æœ‰æ•°æ®æ£€ç´¢éƒ½é€šè¿‡ç´¢å¼•æ¥å®Œæˆ,é¿å…æ— ç´¢å¼•è¡Œé”å‡çº§ä¸ºè¡¨é”\nåˆç†è®¾è®¡ç´¢å¼•,å°½é‡ç¼©å°é”çš„èŒƒå›´\nå°½å¯èƒ½å‡å°‘æ£€ç´¢æ¡ä»¶,é¿å…ä½¿ç”¨é—´éš™é”\nå°½é‡æ§åˆ¶äº‹åŠ¡å¤§å°,å‡å°‘é”å®šèµ„æºé‡å’Œæ—¶é—´é•¿åº¦\nå°½å¯èƒ½ä½çº§åˆ«äº‹åŠ¡éš”ç¦»\né¡µé” å¼€é”€å’ŒåŠ é”æ—¶é—´ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´;ä¼šå‡ºç°æ­»é”;é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´,å¹¶å‘åº¦ä¸€èˆ¬\nä¸»ä»å¤åˆ¶ å¤åˆ¶çš„åŸºæœ¬åŸç† slaveä¼šä»masterè¯»å–binlogæ¥è¿›è¡Œæ•°æ®åŒæ­¥ ä¸‰æ­¥éª¤+åŸç†å›¾ å¤åˆ¶çš„åŸºæœ¬åŸåˆ™ æ¯ä¸ªslaveåªæœ‰ä¸€ä¸ªmaster æ¯ä¸ªslaveåªèƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æœåŠ¡å™¨ID æ¯ä¸ªmasterå¯ä»¥æœ‰å¤šä¸ªslave å¤åˆ¶çš„æœ€å¤§é—®é¢˜ å»¶æ—¶ ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½® mysqlç‰ˆæœ¬ä¸€è‡´ä¸”åå°ä»¥æœåŠ¡è¿è¡Œ ä¸»ä»éƒ½é…ç½®åœ¨[mysqld]èŠ‚ç‚¹ä¸‹,éƒ½æ˜¯å°å†™ ä¸»æœºä¿®æ”¹my.inié…ç½®æ–‡ä»¶ [å¿…é¡»]ä¸»æœåŠ¡å™¨å”¯ä¸€ID server-id =1 ; [å¿…é¡»]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— log-bin = è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlbin log-bin =C:\\ProgramData\\MySQL\\MySQL Server 8.0\\Data\\LAPTOP-FKVMDBSI-bin [å¯é€‰]å¯ç”¨é”™è¯¯æ—¥å¿— log-err = è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlerr log-err=C:\\ProgramData\\MySQL\\MySQL Server 8.0\\Data\\LAPTOP-FKVMDBSI [å¯é€‰]æ ¹ç›®å½• basedir=\u0026ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„\u0026rdquo; basedir=\u0026ldquo;C:/Program Files/MySQL/MySQL Server 8.0/\u0026rdquo; [å¯é€‰]ä¸´æ—¶ç›®å½• å¥½åƒä¸è¡Œå†8.0ç‰ˆæœ¬ä¸­ tmpdir=\u0026ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„\u0026rdquo; tmpdir=\u0026ldquo;C:/Program Files/MySQL/MySQL Server 8.0/\u0026rdquo; [å¯é€‰]æ•°æ®ç›®å½• data=\u0026ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„/Data/\u0026rdquo; datadir=C:/ProgramData/MySQL/MySQL Server 8.0\\Data read-only = 0 ä¸»æœº,è¯»å†™éƒ½å¯ä»¥ [å¯é€‰]è®¾ç½®ä¸è¦å¤åˆ¶çš„æ•°æ®åº“ binlog-ignore-db=ä¸éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­— [å¯é€‰]è®¾ç½®éœ€è¦å¤åˆ¶çš„æ•°æ®åº“ binlog-do-db=éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­— ä»æœºä¿®æ”¹my.cnfé…ç½®æ–‡ä»¶ [å¿…é€‰]ä»æœåŠ¡å™¨å”¯ä¸€ID [å¯é€‰]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— å› ä¿®æ”¹è¿‡é…ç½®æ–‡ä»¶,è¯·ä¸»æœº+ä»æœºéƒ½é‡å¯åå°mysqlæœåŠ¡ ä¸»æœºä»æœºéƒ½å…³é—­é˜²ç«å¢™ windowsæ‰‹åŠ¨å…³é—­ å…³é—­è™šæ‹Ÿæœºlinuxé˜²ç«å¢™ service iptables stop åœ¨windowsä¸»æœºä¸Šå»ºç«‹è´¦æˆ·å¹¶æˆæƒslave create user \u0026lsquo;zhangsan\u0026rsquo;@\u0026lsquo;192.168.202.64\u0026rsquo; identified by \u0026lsquo;123456\u0026rsquo;; grant replication slave on *.* to \u0026lsquo;zhangsan\u0026rsquo; @ \u0026lsquo;192.168.202.64\u0026rsquo; ; 8.0 ä¸æ”¯æŒgrantçš„æ—¶å€™ç”¨identified by flush privileges ; åˆ·æ–°æƒé™ æŸ¥è¯¢masterçš„çŠ¶æ€ show master status ; è®°å½•ä¸‹fileå’Œpositionçš„å€¼ åœ¨linuxä»æœºä¸Šé…ç½®éœ€è¦å¤åˆ¶çš„ä¸»æœº change master to master_host=\u0026lsquo;ipåœ°å€\u0026rsquo; , master_user =\u0026lsquo;æˆæƒçš„ç”¨æˆ·\u0026rsquo; , master_password = \u0026lsquo;å¯†ç \u0026rsquo; , master_log_file=\u0026lsquo;mysqlbin.å…·ä½“æ•°å­—\u0026rsquo;,master_log_pos = å…·ä½“å€¼; change master to master_host=\u0026lsquo;192.168.202.64\u0026rsquo; , master_user =\u0026lsquo;zhangsan\u0026rsquo; , master_password = \u0026lsquo;123456\u0026rsquo; , master_log_file=\u0026lsquo;LAPTOP-FKVMDBSI-bin.000105\u0026rsquo;,master_log_pos = 156; å¯åŠ¨ä»æœåŠ¡å™¨å¤åˆ¶åŠŸèƒ½ start slave ; show slave status \\G ; ä¸‹é¢ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯yesçš„è¯,åˆ™è¯´æ˜ä¸»ä»é…ç½®æˆåŠŸ! slave_io_running :yes slave_sql_running :yes ä¸»æœºæ–°å»ºåº“/æ–°å»ºè¡¨/insertè®°å½•/ä»æœºå¤åˆ¶ å¦‚ä½•åœæ­¢ä»æœåŠ¡å¤åˆ¶åŠŸèƒ½ stop slave ; ä¸‰æ­¥éª¤+åŸç†å›¾\nimage-20211022215731804\rä¸»ä»å¤åˆ¶é…ç½®è¿‡ç¨‹ ä¸»æœº\nè®¾ç½®ä¸»æœåŠ¡å™¨\nimage-20211023100459506\rè®¾ç½®äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶\nimage-20211023095228167\rè®¾ç½®é”™è¯¯æ–‡ä»¶\nimage-20211023095304402\rimage-20211023100542517\rè®¾ç½®è¯»å†™éƒ½å¯ä»¥ è®¾ç½®å¿½ç•¥å’Œéœ€è¦å¤åˆ¶çš„æ•°æ®åº“ è®¾ç½®æ•°æ®åº“ç›®å½•ä½ç½®\nimage-20211023101034426\rè¿™é‡Œæœ‰ä¸ªå‘,ä½¿ç”¨WSL,linuxå­ç³»ç»Ÿçš„è¯ä¸è®¾ç½®ç«¯å£ä¼šå¯¼è‡´ç«¯å£å ç”¨,å¿…é¡»æŠŠwindowsä¸Šçš„mysqlæœåŠ¡å…³æ‰,linuxmysqlæ‰èƒ½start æ‰€ä»¥å†é…ç½®æ–‡ä»¶é‡Œæ”¹ä¸€ä¸‹ç«¯å£å·è¯•è¯•çœ‹\nimage-20211023113130359\rå¼„å®Œé‡å¯ä¸»æœºä»æœºçš„mysqlæœåŠ¡\nåœ¨windowsä¸»æœºä¸­æˆæƒ ä»000104çš„912è¡Œå¼€å§‹æŠ„ä¹¦ å¤åˆ¶çš„æ•°æ®åº“æ˜¯bigdata å¿½ç•¥çš„æ•°æ®åº“æ˜¯mysql\nmysql\u0026gt; create user \u0026#39;zhangsan\u0026#39;@\u0026#39;192.168.202.64\u0026#39; identified by \u0026#39;123456\u0026#39;; Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; grant replication slave,replication client on *.* to \u0026#39;zhangsan\u0026#39;@\u0026#39;192.168.202.64\u0026#39; ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; flush privileges ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; show master status ; +----------------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +----------------------------+----------+--------------+------------------+-------------------+ | LAPTOP-FKVMDBSI-bin.000104 | 912 | bigdata | mysql | | +----------------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec) binlog_do_dbä¸ºç©ºè¯´æ˜éƒ½è¦å¤åˆ¶,æˆ‘é‡æ–°è®¾ç½®ä¸€ä¸‹\nimage-20211023115552278\ré‡å¯æœåŠ¡,æŸ¥çœ‹çŠ¶æ€\nmysql\u0026gt; show master status ; +----------------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +----------------------------+----------+--------------+------------------+-------------------+ | LAPTOP-FKVMDBSI-bin.000105 | 156 | | mysql | | +----------------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec) æ¥ä¸‹æ¥è¿›å…¥linuxå‘½ä»¤è¡Œè¿›è¡Œæ“ä½œ é€šè¿‡ Last_IO_Errno å’Œ Last_SQL_Errno æ¥æ’æŸ¥é—®é¢˜ ç®€å•çš„\nmysql\u0026gt; change master to master_host=\u0026#39;192.168.202.64\u0026#39; , master_user =\u0026#39;zhangsan\u0026#39; , master_password = \u0026#39;123456\u0026#39; , master_log_file=\u0026#39;LAPTOP-FKVMDBSI-bin.000105\u0026#39;,master_log_pos = 156; Query OK, 0 rows affected, 8 warnings (0.00 sec) mysql\u0026gt; start slave ; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql\u0026gt; show slave status \\G ; *************************** 1. row *************************** Slave_IO_State: Waiting for source to send event Master_Host: 192.168.202.64 Master_User: zhangsan Master_Port: 3306 Connect_Retry: 60 Master_Log_File: LAPTOP-FKVMDBSI-bin.000105 Read_Master_Log_Pos: 156 Relay_Log_File: yourtreedad-relay-bin.000003 Relay_Log_Pos: 334 Relay_Master_Log_File: LAPTOP-FKVMDBSI-bin.000105 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 156 Relay_Log_Space: 549 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 1 Master_UUID: 3a5f9439-a33e-11eb-85f6-002b67a4fefa Master_Info_File: mysql.slave_master_info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Replica has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: 0 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: Master_public_key_path: Get_master_public_key: 0 Network_Namespace: 1 row in set, 1 warning (0.00 sec) ERROR: No query specified image-20211023150356197\rèµ·é£!!!\nå®Œç»“æ’’èŠ±~~~\nğŸ˜œğŸ˜‹ğŸ¤£ğŸ˜Š\n","date":"2021-10-12T19:35:55+08:00","image":"https://linjianshu.github.io/hutomo-abrianto-l2jk-uxb1BY-unsplash.jpg","permalink":"https://linjianshu.github.io/p/test-chinese/","title":"Mysqlé«˜çº§"},{"content":"Goè¶£å­¦æŒ‡å— å¤‡æ³¨:\nå†…ç½®å‡½æ•°\nlen() cap() append() delete() new() copy() æœ¬ä¹¦æœªæ¶‰åŠ:\niotaè¡¨ç¤ºå£°æ˜è¿ç»­çš„å¸¸é‡ ç§»ä½æ“ä½œç¬¦\u0026laquo; \u0026raquo; ä½è¿ç®—ç¬¦ \u0026amp; | å…³é”®å­—continueå’Œå…³é”®å­—gotoå’Œæ ‡ç­¾ é®è”½å˜é‡çš„å…·ä½“è§„åˆ™ å¤æ•°å’Œè™šæ•° è£¸è¿”å›(bare return) ç©ºå€Ÿå£ interface{} æµ…å°å³æ­¢ ä»‹ç»äº†ç±»å‹æ–­è¨€ä½†æ²¡æœ‰ä»‹ç»ç±»å‹åˆ¤æ–­ åŒå‘é€šé“ åˆå§‹åŒ–æ“ä½œçš„initç‰¹æ®Šå‡½æ•° æ¯ä¸ªå†…ç½®å‡½æ•°æ²¡æœ‰è¯¦ç»†ä»‹ç»,ä¾‹å¦‚åˆ†é…å†…å­˜å¹¶è¿”å›æŒ‡é’ˆçš„newå‡½æ•°å’Œå¤åˆ¶åˆ‡ç‰‡çš„copyå‡½æ•° æ²¡æœ‰è¯´æ˜å¦‚ä½•å°†è‡ªå·±çš„åŒ…åˆ†äº«ç»™åˆ«äºº gitç‰ˆæœ¬æ§åˆ¶ ä¸°å¯Œçš„å·¥å…·å’Œåº“ç»„æˆçš„ç”Ÿæ€ç³»ç»Ÿ å…¥é—¨ å¹¶éæ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½éœ€è¦ç¼–è¯‘æ‰èƒ½è¿è¡Œ,å¦‚python rubyå’Œå…¶ä»–ä¸€äº›æµè¡Œè¯­è¨€å°±é€‰æ‹©äº†åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™,é€šè¿‡è§£é‡Šå™¨ä¸€æ¡æ¥ä¸€æ¡åœ°è½¬æ¢ä»£ç ä¸­çš„å£°æ˜,ä½†è¿™ä¹Ÿæ„å‘³ç€bugå¯èƒ½ä¼šéšè—åœ¨æµ‹è¯•å°šæœªè§¦åŠçš„ä»£ç å½“ä¸­.\nè§£é‡Šå™¨ä¸ä»…èƒ½å¤Ÿè®©å¼€å‘è¿‡ç¨‹å˜å¾—è¿…é€Ÿä¸”å…·æœ‰äº¤äº’æ€§,è¿˜èƒ½å¤Ÿè®©è¯­è¨€æœ¬èº«å˜å¾—çµæ´»,ç›¸åç¼–è¯‘è¯­è¨€å› ä¸ºç¼“æ…¢çš„ç¼–è¯‘é€Ÿåº¦å¸¸å¸¸ä¸ºäººè¯Ÿç—…,ä½†å®é™…ä¸Šå¹¶éæ‰€æœ‰çš„ç¼–è¯‘è¯­è¨€éƒ½æ˜¯å¦‚æ­¤.\ngoæƒ³è¦æ„é€ åœ°åƒc++å’Œjavaè¿™ç±»é™æ€ç¼–è¯‘è¯­è¨€ä¸€æ ·å®‰å…¨é«˜æ•ˆ,è¿˜å¯ä»¥åƒpythonè¿™ç±»åŠ¨æ€å‹è§£é‡Šæ€§è¯­è¨€ä¸€æ ·è½»å·§ä¸”å……æ»¡ä¹è¶£.\ngoç¼–è¯‘å™¨çš„ä¼˜ç‚¹ goçš„ç¼–è¯‘å¯ä»¥åœ¨æçŸ­çš„æ—¶é—´å†…å®Œæˆ,åªéœ€è¦ä¸€æ¡å‘½ä»¤,æ’é™¤äº†å¯èƒ½ä¼šå¯¼è‡´æ­§ä¹‰çš„ç‰¹æ€§,ä¸ºä¼ ç»Ÿè¯­è¨€æ­»æ¿çš„æ•°æ®ç»“æ„æä¾›äº†è½»é‡çº§åˆ«çš„ä»£æ›¿å“.å®ƒå¯ä»¥åœ¨ç¨‹åºè¿è¡Œä¹‹å‰æ‰¾å‡ºä»£ç ä¸­ä¸€äº›äººä¸ºå¤±è¯¯,å¦‚æ‹¼å†™é”™è¯¯ç­‰.\ngoèƒ½å¤Ÿåˆ©ç”¨å¤šæ ¸æœºå™¨å•†çš„æ¯ä¸ªæ ¸å¿ƒè·å¾—é¢å¤–çš„æ€§èƒ½ä¼˜åŠ¿.\nåŒ…å’Œå‡½æ•° packageå…³é”®å­—å£°æ˜äº†ä»£ç æ‰€å±çš„åŒ…,ç¼–å†™ä»£ç éƒ½ä¼šè¢«ç»„ç»‡ç§°å„å¼å„æ ·çš„åŒ….goè¯­è¨€æœ¬èº«å°±æä¾›äº†è¿™äº›åŒ…,æ ‡å‡†åº“.\nimportå…³é”®å­—å¯¼å…¥è‡ªå·±å°†è¦ç”¨åˆ°çš„åŒ…,mathåŒ…æä¾›äº†sin cos tan sqrt ç­‰ç­‰å‡½æ•°,fmtåŒ…åˆ™æä¾›äº†ç”¨äºæ ¼å¼åŒ–è¾“å…¥å’Œè¾“å‡ºçš„å‡½æ•°.\nfuncå…³é”®å­—ç”¨äºå£°æ˜å‡½æ•°,æ¯ä¸ªå‡½æ•°çš„å‡½æ•°ä½“bodyéƒ½è¦ç”¨å¤§æ‹¬å·{}åŒ…å›´èµ·æ¥\nmainæ ‡è¯†ç¬¦å…·æœ‰ç‰¹æ®Šæ„ä¹‰,ä»mainåŒ…çš„mainå‡½æ•°å¼€å§‹æ‰§è¡Œ,å¦‚æœmainä¸å­˜åœ¨,å°†æŠ¥å‘Šä¸€ä¸ªé”™è¯¯\næ¯æ¬¡ç”¨åˆ°è¢«å¯¼å…¥åŒ…ä¸­çš„æŸä¸ªå‡½æ•°æ—¶,æˆ‘ä»¬éƒ½éœ€è¦åœ¨å‡½æ•°çš„åå­—å‰é¢åŠ ä¸ŠåŒ…çš„åå­—ä»¥åŠä¸€ä¸ªç‚¹å·åº§ä½å‰ç¼€.\ngoè¯­è¨€çš„è¿™ä¸€ç‰¹æ€§å¯ä»¥è®©ç”¨æˆ·åœ¨é˜…è¯»ä»£ç çš„æ—¶å€™ç«‹å³å¼„æ¸…æ¥šå„ä¸ªå‡½æ•°åˆ†åˆ«æ¥è‡ªå“ªäº›åŒ….\né€ŸæŸ¥ fmtåŒ…æä¾›äº†æ ¼å¼åŒ–è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½ goç¨‹åºä»mainåŒ…çš„mainå‡½æ•°å¼€å§‹æ‰§è¡Œ å”¯ä¸€å…è®¸çš„å¤§æ‹¬å·æ”¾ç½®é£æ ¼ goå¯¹äºå¤§æ‹¬å·{}çš„æ‘†æ”¾ä½ç½®éå¸¸æŒ‘å‰”.å·¦å¤§æ‹¬å·ä¸funcå…³é”®å­—ä½äºåŒä¸€è¡Œ,è€Œå³å¤§æ‹¬å·å•ç‹¬å ä¸€è¡Œ,é™¤æ­¤ä¹‹å¤–,å…¶ä»–çš„æ”¾ç½®é£æ ¼éƒ½æ˜¯ä¸å…è®¸çš„.\nä¸éœ€è¦åŠ å°å·,goç¼–è¯‘å™¨å°†è‡ªåŠ¨ä»£åŠ³,ä»£ä»·æ˜¯éµå®ˆå¤§æ‹¬å·æ”¾ç½®é£æ ¼\nå°ç»“ æ¯ä¸ªgoç¨‹åºéƒ½æœ‰åŒ…ä¸­åŒ…å«çš„å‡½æ•°ç»„æˆ ç¼–ç¨‹è¯­è¨€ä¸­çš„æ ‡ç‚¹ç¬¦å·ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ goå…³é”®å­— package import func å‘½ä»¤å¼ç¼–ç¨‹ è¢«ç¾åŒ–çš„è®¡ç®—å™¨ æ‰§è¡Œè®¡ç®— ç®—æœ¯æ“ä½œç¬¦ + - * / %\næ³¨é‡Š \\\\\næ ¼å¼åŒ–è¾“å‡º ä¸printå’Œprintlnä¸ä¸€æ ·,printfæ¥å—ç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯string,ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¡¨è¾¾å¼,æ ¼å¼åŒ–å˜é‡%vä¼šåœ¨ä¹‹åè¢«æ›¿æ¢æˆè¡¨è¾¾å¼çš„å€¼\næ¢è¡Œç¬¦ \\n\nå¯ä»¥æŒ‡å®šå¤šä¸ªæ ¼å¼åŒ–å˜é‡,æŒ‰é¡ºåºæŠŠä»–ä»¬æ›¿æ¢æˆç›¸åº”çš„å€¼\nprintfè¿˜èƒ½å¤Ÿè°ƒæ•´æ–‡æœ¬çš„å¯¹é½ä½ç½® ç”¨æˆ·é€šè¿‡æŒ‡å®šå¸¦æœ‰å®½åº¦çš„æ ¼å¼åŒ–å˜é‡%4v å½“å®½åº¦ä¸ºæ­£æ•°æ—¶,ç©ºæ ¼å°†è¢«å¡«å……è‡³æ–‡æœ¬å·¦è¾¹,è€Œå½“å®½åº¦ä¸ºè´Ÿæ•°æ—¶,ç©ºæ ¼å°†è¢«å¡«å……è‡³æ–‡æœ¬å³è¾¹.\nfunc main() { fmt.Printf(\u0026#34;%-15v\\n\u0026#34;, \u0026#34;SpaceX\u0026#34;) fmt.Printf(\u0026#34;%15v\\n\u0026#34;, \u0026#34;Vigin Galactic\u0026#34;) } SpaceX Vigin Galactic è¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0 å¸¸é‡å’Œå˜é‡ ä¸¤ä¸ªæ–°çš„å…³é”®å­—var å’Œconst\nå¸¸é‡æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„,å˜é‡å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨\nå¯ä»¥ä¸€æ¬¡å£°æ˜å¤šä¸ªå˜é‡,æˆ–è€…åœ¨åŒä¸€è¡Œé‡Œå£°æ˜å¤šä¸ªå˜é‡\nfunc main() { fmt.Printf(\u0026#34;%-15v\\n\u0026#34;, \u0026#34;SpaceX\u0026#34;) fmt.Printf(\u0026#34;%15v\\n\u0026#34;, \u0026#34;Vigin Galactic\u0026#34;) var ( name = \u0026#34;ljs\u0026#34; age = 15 ) var name1 ,age1 = \u0026#34;ljs\u0026#34;,10 fmt.Println(name , age) fmt.Println(name1,age1) } SpaceX Vigin Galactic ljs 15 ljs 10 è¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0 å¢é‡å’Œèµ‹å€¼æ“ä½œç¬¦ èµ‹å€¼çš„åŒæ—¶æ‰§è¡Œä¸€äº›æ“ä½œ i++ i\u0026ndash;\ngoå¹¶ä¸æ”¯æŒ++iè¿™ç§å‰ç½®å¢é‡æ“ä½œ\næ•°å­—æ¸¸æˆ å¦‚æœæˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™å¿˜è®°å¯¹ä¼ªéšæœºæ•°æ‰§è¡ŒåŠ ä¸€æ“ä½œ,é‚£ä¹ˆç¨‹åºå°†è¿”å›ä¸€ä¸ª0-n-1æ•°å­—,è€Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„0-nçš„æ•°å­—,è¿™æ˜¯å…¸å‹çš„\u0026quot;å·®ä¸€é”™è¯¯ off-by-one error\u0026quot;çš„ä¾‹å­\nfunc main() { rand.Seed(time.Now().UnixNano()) intn := rand.Intn(10)+1 fmt.Println(intn) fmt.Println(\u0026#34;apppppple\u0026#34;\u0026gt;\u0026#34;banana\u0026#34;) } 10 false è¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0 æ•…æ­¤,ç”Ÿæˆ56000000è‡³401000000çš„éšæœºè·ç¦»,åº”è¯¥æ˜¯\nvar distance = rand.Intn(345000001)+56000000 å°ç»“ print println printféƒ½å¯ä»¥å°†æ–‡æœ¬å’Œæ•°å€¼æ˜¾ç¤ºåˆ°å±å¹•ä¸Š\nconstå…³é”®å­— å£°æ˜å¸¸é‡ varå…³é”®å­— å£°æ˜å˜é‡\nrandåŒ…çš„å¯¼å…¥è·¯å¾„ä¸ºmath/rand åŒ…ä¸­çš„Intnå¯ä»¥ç”Ÿæˆä¼ªéšæœºæ•°\nè®¤è¯†å…³é”®å­— import package func const var\nå¾ªç¯ä¸åˆ†æ”¯ if å’Œ switch forå¾ªç¯ åŸºäºæ¡ä»¶å®ç°å¾ªç¯å’Œåˆ†æ”¯å¤„ç† çœŸæˆ–å‡ pythonå’Œjsä¸­å°±æŠŠç©ºæ–‡æœ¬\u0026quot;\u0026ldquo;å’Œæ•°å­—é›¶çœ‹ä½œæ˜¯\u0026quot;å‡\u0026rdquo;,ä½†æ˜¯rubyå’Œelixirå´æŠŠè¿™ä¸¤ä¸ªå€¼çœ‹ä½œ\u0026quot;çœŸ\u0026quot;.å¯¹goæ¥è¯´,trueæ˜¯å”¯ä¸€çš„çœŸå€¼,è€Œfalseæ˜¯å”¯ä¸€çš„å‡å€¼.\nstrings.Containså‡½æ•°è¿”å›çœŸå‡\nè¿ç®—ç¬¦æ—¢å¯ä»¥æ¯”è¾ƒæ•°å€¼,ä¹Ÿå¯ä»¥æ¯”è¾ƒæ–‡æœ¬\njså’ŒPHPéƒ½æä¾›äº†ç‰¹æ®Šçš„ä¸‰ç­‰å·===è¿ç®—ç¬¦æ¥å®ç°ä¸¥æ ¼çš„ç›¸ç­‰æ€§æ£€æŸ¥,goåªæä¾›äº†ä¸€ä¸ªç›¸ç­‰è¿ç®—ç¬¦,è€Œä¸”å¥¹ä¸å…è®¸ç›´æ¥å°†æ–‡æœ¬å’Œæ•°å€¼è¿›è¡Œæ¯”è¾ƒ.\nappleå’Œbananaä¸¤ä¸ªå•è¯å“ªä¸ªæ›´å¤§,æ˜¾ç„¶æ˜¯æ¯”è¾ƒå­—æ¯ bananaæ›´å¤§\né€»è¾‘è¿ç®—ç¬¦ goä¹Ÿé‡‡ç”¨äº†çŸ­è·¯é€»è¾‘\nä½¿ç”¨switchå®ç°åˆ†æ”¯ switch a {\ncase \u0026ldquo;helloworld\u0026rdquo;: \u0026hellip;\ncase \u0026ldquo;hello ljs\u0026rdquo;: \u0026hellip;\ndefault: \u0026hellip;\n}\nswitch {\ncase a==\u0026ldquo;helloworld\u0026rdquo;: \u0026hellip;\ncase a==\u0026ldquo;hello ljs\u0026rdquo;: \u0026hellip;\ndefault: \u0026hellip;\n}\nfunc main() { //è¯´æ˜fallthroughåªèƒ½å°†ä¸‹é™å»¶ç»­åˆ°ä¸‹ä¸€ä¸ªcaseè¯­å¥ä¸­ ä¸‹ä¸‹ä¸ªå°±ä¸è¡Œäº† å¹¶ä¸”å•Š fallthroughçš„æ—¶å€™è¿˜ä¸éœ€è¦åˆ¤æ–­æ¡ä»¶å°±å¯ä»¥æ‰§è¡Œ score := 79 switch { case score \u0026lt; 100: fmt.Println(\u0026#34;fuck\u0026#34;) fallthrough case score == 90: fmt.Println(\u0026#34;okok\u0026#34;) fallthrough case score \u0026lt; 80: fmt.Println(\u0026#34;just so so\u0026#34;) case score \u0026lt; 60: fmt.Println(\u0026#34;shit shit shit\u0026#34;) } } fuck okok just so so è¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0 **æ³¨æ„:\t**åœ¨C Java Jsç­‰è¯­è¨€ä¸­,ä¸‹é™æ˜¯switchè¯­å¥å„ä¸ªåˆ†æ”¯çš„é»˜è®¤è¡Œä¸º,è€Œgoå¯¹æ­¤æ­¤æ¡ˆç”¨äº†æ›´ä¸ºè°¨æ…çš„åšæ³•,å³ç”¨æˆ·éœ€è¦æ˜¾å¼åœ°ä½¿ç”¨fallthroughå…³é”®å­—æ‰ä¼šå¼•å‘ä¸‹é™\nä½¿ç”¨å¾ªç¯å®ç°é‡å¤æ‰§è¡Œ func main() { count := 10 for count \u0026gt; 0 { intn := rand.Intn(100) if intn == 0 { fmt.Println(\u0026#34;å‘å°„å¤±è´¥\u0026#34;) break } else { fmt.Println(count) count-- time.Sleep(1 * time.Second) } } } é€šè¿‡ä¸ä¸ºforè¯­å¥è®¾ç½®ä»»ä½•æ¡ä»¶æ¥äº§ç”Ÿæ— é™å¾ªç¯,ç„¶ååœ¨æœ‰éœ€è¦çš„æ—¶å€™é€šè¿‡åœ¨å¾ªç¯ä½“å†…éƒ¨ä½¿ç”¨breakæ¥è·³å‡ºå¾ªç¯\nfunc main() { var i int fmt.Println(\u0026#34;è¯·è¾“å…¥100ä»¥å†…è¦çŒœçš„æ•°å­—\u0026#34;) fmt.Scanf(\u0026#34;%d\u0026#34;,\u0026amp;i) now := time.Now() rand.Seed(time.Now().UnixNano()) for { intn:= rand.Intn(100) if intn==i { fmt.Println(i) break } fmt.Println(intn) time.Sleep(10*time.Millisecond) } fmt.Println(\u0026#34;ç”¨æ—¶: \u0026#34;,time.Now().Sub(now).String()) } å°ç»“ goé€šè¿‡if switch for æ¥å®ç°åˆ†æ”¯åˆ¤æ–­å’Œé‡å¤æ‰§è¡Œä»£ç  å˜é‡ä½œç”¨åŸŸ å˜é‡åœ¨çŸ­æš‚ä½¿ç”¨ä¹‹åä¼šè¢«ä¸¢å¼ƒ\nè¯·è€ƒè™‘è¿™ä¸€ç‚¹ è™½ç„¶è®¡ç®—æœºçš„éšæœºè®¿é—®å­˜å‚¨å™¨RAMå¯ä»¥è®°ä½å¤§é‡å€¼,ä½†æ˜¯ç¨‹åºä»£ç é™¤äº†è¢«è®¡ç®—æœºè¯»å–ä¹‹å¤–,è¿˜éœ€è¦è¢«äººç±»é˜…è¯»,æ‰€ä»¥åº”è¯¥å°½å¯èƒ½ä¿æŒç®€æ´\nå¦‚æœå¯ä»¥éšæ—¶ä¿®æ”¹æˆ–è€…åœ¨ä»»ä½•ä½ç½®éšæ„è®¿é—®ç¨‹åºä¸­çš„å˜é‡,é‚£ä¹ˆå…‰æ˜¯è·Ÿè¸ªå¤§å‹ç¨‹åºä¸­çš„å˜é‡å°±è¶³ä»¥è®©äººæ‰‹å¿™è„šä¹±.\nå˜é‡ä½œç”¨åŸŸçš„å¥½å¤„å°±æ˜¯è®©ç¨‹åºå‘˜èšç„¦äºç»™å®šå‡½æ•°æˆ–è€…éƒ¨åˆ†ä»£ç çš„ç›¸å…³å˜é‡,è€Œä¸éœ€è¦è€ƒè™‘é™¤æ­¤ä¹‹å¤–çš„å…¶ä»–å˜é‡.\nå®¡è§†ä½œç”¨åŸŸ å˜é‡ä¸€æ—¦è„±ç¦»ä½œç”¨åŸŸ,é‚£ä¹ˆå°è¯•ç»§ç»­è®¿é—®å®ƒå°†å¼•å‘é”™è¯¯.\nå˜é‡ä½œç”¨åŸŸçš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„å˜é‡å¤ç”¨ç›¸åŒçš„åå­—\né™¤æ­¤ä¹‹å¤–,å˜é‡ä½œç”¨åŸŸå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„é˜…è¯»ä»£ç ,æˆ‘ä»¬æ— éœ€åœ¨è„‘æµ·é‡Œè®°ä½æ‰€æœ‰å˜é‡\nç®€çŸ­å£°æ˜ ç®€çŸ­å£°æ˜ä¸ºvarå…³é”®å­—æä¾›äº†å¦ä¸€ç§å¤‡é€‰è¯­æ³•,è¯¥è¯­æ³•å¯ä»¥åœ¨ä¸€äº›æ— æ³•ä½¿ç”¨varå…³é”®å­—çš„åœ°æ–¹ä½¿ç”¨.\nfunc main() { //çŸ­å£°æ˜å°±æ˜¯åœ¨varä¸èƒ½ä½¿ç”¨çš„æ—¶å€™,æ›¿ä»£varæ¥å£°æ˜å˜é‡,åŒæ—¶æé«˜å¯è¯»æ€§,å¦å¤–ç¼©å°å˜é‡çš„ä½œç”¨åŸŸèŒƒå›´,æé«˜å˜é‡åçš„å¤ç”¨æ€§ //å¯ä»¥åœ¨caseé‡Œæ”¾ç½®ifè¯­å¥è¯¶ for i := 0; i \u0026lt; 1; i++ { fmt.Println(i) } if i := 1; i \u0026gt; 0 { fmt.Println(\u0026#34;å¤§äº0\u0026#34;) } switch i := 1; i { case 1 :fmt.Println(\u0026#34;è¿™æ˜¯1è¯¶!\u0026#34;) } switch i := 1; i \u0026gt; 0 { case true:fmt.Println(\u0026#34;çœŸçš„è¯¶!\u0026#34;) } switch i := 1; { case i ==1 :fmt.Println(\u0026#34;çœŸçš„æ˜¯1è¯¶!!!\u0026#34;) } } åœ¨ä½¿ç”¨ç®€çŸ­å£°æ˜çš„æƒ…å†µä¸‹,å¯¹iå˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–å°†æˆä¸ºforå¾ªç¯çš„ä¸€éƒ¨åˆ†,è¯¥å˜é‡åœ¨å¾ªç¯ç»“æŸä¹‹åè„±ç¦»ä½œç”¨åŸŸ,å¤–éƒ¨æ— æ³•è®¿é—®\n**æç¤º:\t**ä»ä»£ç å¯è¯»æ€§è€ƒè™‘,å£°æ˜å˜é‡çš„ä½ç½®å’Œä½¿ç”¨å˜é‡çš„ä½ç½®åº”è¯¥å°½å¯èƒ½é‚»è¿‘\né™¤äº†forå¾ªç¯ä¹‹å¤–,ç®€çŸ­å£°æ˜è¿˜å¯ä»¥åœ¨ifè¯­å¥ switchè¯­å¥ä¸­ä½¿ç”¨\nä½œç”¨åŸŸçš„èŒƒå›´ **æ³¨æ„:\t**åŒ…ä½œç”¨åŸŸåœ¨å£°æ˜å˜é‡æ—¶ä¸å…è®¸ä½¿ç”¨ç®€çŸ­å£°æ˜,å‡½æ•°ä½œç”¨åŸŸæ¯”åŒ…ä½œç”¨åŸŸçš„èŒƒå›´ç‹­çª„.\nswitchåˆ†æ”¯çš„ä½œç”¨åŸŸæ˜¯å”¯ä¸€ä¸€ç§æ— éœ€ä½¿ç”¨å¤§æ‹¬å·æ ‡è¯†çš„ä½œç”¨åŸŸ.\nå¦‚æœä½œç”¨åŸŸçº¦æŸå¤ªæ­»,å°±ä¼šå¯¼è‡´ä»£ç é‡å¤,æˆ‘ä»¬åº”è¯¥æ ¹æ®è¿™ç§ç°è±¡åˆ¤æ–­æ˜¯å¦å˜é‡å¤ªè¿‡çº¦æŸ,å¹¶å®æ–½é‡æ„.\nå°ç»“ ç®€çŸ­å£°æ˜ä¸ä»…ä»…æ˜¯varå£°æ˜çš„å¿«æ·æ–¹å¼,ä»–è¿˜å¯ä»¥ç”¨åœ¨varå£°æ˜æ— æ³•ä½¿ç”¨çš„åœ°æ–¹ ç±»å‹ å­—ç¬¦ æ–‡æœ¬ æ•°å­— åŸºæœ¬ç±»å‹\nå®æ•° æµ®ç‚¹æ•°çš„äºŒè¿›åˆ¶æ¯”ä½è¢«ä¸€åˆ†ä¸ºäºŒ,å…¶ä¸­ä¸€éƒ¨åˆ†ç”¨äºè¡¨ç¤ºæ¯å­æˆ–è€…è¯´æ¡¶bucket,å¦ä¸€éƒ¨åˆ†åˆ™ç”¨äºè¡¨ç¤ºæ¡¶ä¸­çš„ç¡¬å¸æˆ–è€…è¯´åç§»é‡\nå°½ç®¡æ¯ä¸ªè¢«å­èƒ½å¤Ÿå®¹çº³çš„æœ€å¤§ç¡¬å¸æ•°é‡æ˜¯ä¸€è‡´çš„,ä½†æ˜¯æ¯ä¸ªæ¯å­èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å­—å´æ˜¯å„ä¸ç›¸åŒçš„.é€šè¿‡æ§åˆ¶æ¯å­ä¸­çš„æ•°é‡å¯ä»¥è®©ä¸€äº›æ¯å­ä»¥è¾ƒé«˜ç²¾åº¦è¡¨ç¤ºå°èŒƒå›´æ•°å­—,æˆ–è€…ä»¥è¾ƒä½ç²¾åº¦è¡¨ç¤ºå¤§èŒƒå›´æ•°å­—.\nå£°æ˜æµ®ç‚¹å‹ç±»å‹å˜é‡ goç¼–è¯‘å™¨æ”¯æŒè‡ªåŠ¨æ¨æ–­,æ‰€æœ‰å¸¦å°æ•°ç‚¹çš„æ•°å­—åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šè¢«è®¾ç½®ä¸ºfloat64ç±»å‹\ngoè¯­è¨€æ‹¥æœ‰ä¸¤ç§æµ®ç‚¹ç±»å‹,é»˜è®¤ä¸ºfloat64,å¾ˆå¤šè¯­è¨€ä¸­ä½¿ç”¨æœ¯è¯­åŒç²¾åº¦æµ®ç‚¹æ•°doubleæ¥æè¿°è¿™ç§æµ®ç‚¹æ•°;å¦ä¸€ç§æµ®ç‚¹ç±»å‹æ˜¯float32,åˆç§°å•ç²¾åº¦æµ®ç‚¹æ•°,4å­—èŠ‚,æä¾›çš„ç²¾åº¦ä¸å¦‚float64,ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šå˜é‡ç±»å‹\n**æ³¨æ„:\t**è¯¸å¦‚ä¸‰ä½æ¸¸æˆä¸­æ•°é‡åºå¤§çš„æ•°æ®æ—¶,ä½¿ç”¨float32ç‰ºç‰²ç²¾åº¦çš„ä»£ä»·æ¥é™ä½å†…å­˜å ç”¨,æ˜¯æœ‰æ„ä¹‰çš„.è€ŒmathåŒ…çš„å‡½æ•°å¤„ç†éƒ½æ˜¯float64ç±»å‹çš„å€¼,é™¤éæœ‰ç‰¹æ®Šç†ç”±,å¦åˆ™åº”è¯¥ä¼˜å…ˆä½¿ç”¨float64ç±»å‹.\né›¶å€¼ æ¯ç§ç±»å‹éƒ½æœ‰å¯¹åº”çš„é»˜è®¤å€¼,æˆ‘ä»¬ç§°ä¸ºé›¶å€¼.å½“å£°æ˜ä¸€ä¸ªå˜é‡ä½†æ˜¯å´æ²¡æœ‰ä¸ºå®ƒè®¾ç½®åˆå§‹å€¼çš„æ—¶å€™,å®ƒçš„å€¼å°±æ˜¯é›¶å€¼.float32é›¶å€¼å°±æ˜¯0.0\næ‰“å°æµ®ç‚¹ç±»å‹ ä½¿ç”¨æ ¼å¼åŒ–å˜é‡%fæ¥æŒ‡å®šè¢«æ‰“å°å°æ•°çš„ä½æ•°,ç”šè‡³å¯ä»¥æ ¹æ®ç»™å®šçš„å®½åº¦å’Œç²¾åº¦æ ¼å¼åŒ–å˜é‡å€¼\nç²¾åº¦ç”¨äºæŒ‡å®šå°æ•°ç‚¹ä¹‹ååº”è¯¥å‡ºç°çš„æ•°å­—æ•°é‡\nå®½åº¦æŒ‡å®šäº†æ‰“å°æ•´ä¸ªå®æ•°(åŒ…æ‹¬æ•´æ•°éƒ¨åˆ†/å°æ•°éƒ¨åˆ†/å°æ•°ç‚¹åœ¨å†…)éœ€è¦æ˜¾ç¤ºçš„æœ€å°å­—ç¬¦æ•°é‡\né•¿äº†å°±è¢«æˆªæ–­äº†truncate\nå¦‚æœç”¨æˆ·ç»™å®šçš„å®½åº¦æ¯”æ‰“å°å®æ•°æ‰€éœ€çš„å­—ç¬¦æ•°é‡è¦å¤§,é‚£ä¹ˆå°†ä½¿ç”¨ç©ºæ ¼å¡«å‡ºè¾“å‡ºçš„å·¦ä¾§\nå¦‚æœæƒ³ä½¿ç”¨0è€Œä¸æ˜¯ç©ºæ ¼æ¥å¡«å……è¾“å‡ºçš„å·¦ä¾§,åœ¨å®½åº¦å‰é¢åŠ ä¸Šä¸€ä¸ª0å³å¯\nfunc main() { third:=1.0/3 fmt.Println(third) fmt.Printf(\u0026#34;%v\\n\u0026#34;,third) fmt.Printf(\u0026#34;%f\\n\u0026#34;,third) fmt.Printf(\u0026#34;%.3f\\n\u0026#34;,third) fmt.Printf(\u0026#34;%4.2f\\n\u0026#34;,third) fmt.Printf(\u0026#34;%5.2f\\n\u0026#34;,third) fmt.Printf(\u0026#34;%05.2f\\n\u0026#34;,third) } 0.3333333333333333 0.3333333333333333 0.333333 0.333 0.33 0.33 00.33 æµ®ç‚¹æ•°çš„ç²¾ç¡®æ€§ æµ®ç‚¹æ•°è®¡ç®—ç»å¸¸ä¼šå—åˆ°èˆå…¥é”™è¯¯çš„å½±å“.ä¸ºäº†å°½å¯èƒ½å‡å°‘èˆå…¥é”™è¯¯,æˆ‘ä»¬å¯ä»¥å°†ä¹˜æ³•æ”¾åˆ°å‡ºé™¤æ³•çš„å‰é¢æ‰§è¡Œ,ç±»ä¼¼æ•°å€¼åˆ†æé˜²æ­¢è¯¯å·®æ”¾å¤§.\næ¯”è¾ƒæµ®ç‚¹æ•° ä¸ºäº†é¿å…èˆå…¥é”™è¯¯,æˆ‘ä»¬ä¸ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªæµ®ç‚¹æ•°,è€Œæ˜¯è®¡ç®—ä»–ä»¬ä¹‹é—´çš„å·®,æ˜¯å¦è¶³å¤Ÿå°æ¥åˆ¤æ–­ä¸¤ä¸ªæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰.å› ä¸ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mathåŒ…æä¾›çš„Abså‡½æ•°æ¥è®¡ç®—ç»å¯¹å€¼\nfmt.Println(math.Abs(0.1+0.2 -0.3)\u0026lt;0.0001) **æç¤º:\t**å¼•å‘æµ®ç‚¹æ•°é”™è¯¯çš„ä¸Šé™å€¼è¢«ç§°ä¸ºæœºæ¢°æœ€å°å€¼,float64æ˜¯2^-52,float32æ˜¯2^-23.ä¸å¹¸çš„æ˜¯,æµ®ç‚¹æ•°é”™è¯¯ç´¯ç§¯çš„ç›¸å½“å¿«,å› ä¸ºä¸ºäº†å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ,å¿…é¡»æƒ³ä¸Šåˆ—ä¸­è®¾å®šçš„0.0001é‚£æ ·,æ ¹æ®è‡ªå·±çš„åº”ç”¨é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å®¹å·®.\nå°ç»“ æµ®ç‚¹ç±»å‹çš„åº”ç”¨èŒƒå›´éå¸¸å¹¿,ä½†æ˜¯å¥¹çš„ç²¾ç¡®æ€§åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯å€¼å¾—å•†æ¦·çš„. æ•´æ•° ä¸èƒ½å­˜å‚¨åˆ†æ•°,ä¸ä¼šå‡ºç°æµ®ç‚¹ç±»å‹çš„ç²¾åº¦é—®é¢˜,ä½†æ¯ç§ç±»å‹çš„å–å€¼èŒƒå›´å„ä¸ç›¸åŒ\nå£°æ˜æ•´æ•°ç±»å‹å˜é‡ ä¼—å¤šæ•´æ•°ç±»å‹ä¸­,æœ‰5ç§æ•´æ•°ç±»å‹æ˜¯æœ‰ç¬¦å·çš„signed,è¿™æ„å‘³ç€ä»–ä»¬å¯ä»¥è¡¨ç¤ºæ­£æ•´æ•°ä¹Ÿå¯ä»¥è¡¨ç¤ºè´Ÿæ•´æ•°\né™¤äº†æœ‰ç¬¦å·æ•´æ•°ä¹‹å¤–,goè¿˜æä¾›äº†5ç§åªèƒ½è¡¨ç¤ºéè´Ÿæ•´æ•°çš„æ— ç¬¦å·unsignedæ•´æ•°ç±»å‹.ä¾‹å¦‚uint.\ngoè¿›è¡Œç±»å‹æ¨æ–­çš„æ—¶å€™æ€»æ˜¯ä¼šé€‰æ‹©intç±»å‹åº§ä½æ•´æ•°å€¼çš„ç±»å‹\nä¸ºä¸åŒåœºåˆè€Œè®¾çš„æ•´æ•°ç±»å‹ ç±»å‹ å–å€¼èŒƒå›´ å†…å­˜å ç”¨æƒ…å†µ int8 -128-127 8ä½ uint8 0-255 8ä½ int16 -32768-32767 16ä½ uint16 0-65535 16ä½ int32 -2147483648-2147483647 32ä½ uint32 0-4294967295 32ä½ int64 64ä½ uint64 64ä½ intç±»å‹å’Œuintç±»å‹ä¼šæ ¹æ®ç›®æ ‡ç¡¬ä»¶é€‰æ‹©æœ€åˆé€‚çš„ä½é•¿\n**æ³¨æ„:\t**intä¸æ˜¯ä»»ä½•ç±»å‹çš„åˆ«å,int int32å’Œint64å®é™…ä¸Šæ˜¯ä¸‰ç§ä¸åŒçš„ç±»å‹\näº†è§£ç±»å‹ å¯ä»¥ä½¿ç”¨printfå‡½æ•°æä¾›çš„æ ¼å¼åŒ–å˜é‡%Tå»æŸ¥çœ‹æŒ‡å®šå˜é‡çš„ç±»å‹\n//å¤ç”¨æ ¼å¼åŒ–å˜é‡ day := 365 fmt.Printf(\u0026#34;one year has %05d days , day is %[1]T type \\n\u0026#34;, day) fmt.Printf(\u0026#34;day is %T type , one year has %05[1]d days\\n\u0026#34;, day) æˆ‘ä»¬å¯ä»¥å°†[1]æ·»åŠ åˆ°ç¬¬äºŒä¸ªæ ¼å¼åŒ–å˜é‡%vä¸­,ä»¥æ­¤æ¥å¤ç”¨ç¬¬ä¸€ä¸ªæ ¼å¼åŒ–å˜é‡çš„å€¼,ä»è€Œé¿å…ä»£ç é‡å¤.\none year has 00365 days , day is int type day is int type , one year has 00365 days åå…­è¿›åˆ¶æ•° åè¿›åˆ¶å¯¹äºæ‹¥æœ‰åæ ¹æ‰‹æŒ‡çš„äººç±»æ¥è¯´æ˜¯ä¸€ç§éå¸¸æ£’çš„æ•°å­—ç³»ç»Ÿ,ä½†ä¸ä¹‹ç›¸æ¯”,åå…­è¿›åˆ¶æ›´é€‚åˆè®¡ç®—æœº.å› ä¸ºä¸€ä¸ªåå…­è¿›åˆ¶éœ€è¦æ¶ˆè€—4ä¸ªäºŒè¿›åˆ¶ä½,ä¹Ÿå°±æ˜¯åŠå­—èŠ‚byte,è€Œ2ä¸ªåå…­è¿›åˆ¶æ•°åˆ™æ­£å¥½éœ€è¦æ¶ˆè€—8ä¸ªäºŒè¿›åˆ¶ä½,ä¹Ÿå°±æ˜¯1å­—èŠ‚.\ngoè¯­è¨€è¦æ±‚åå…­è¿›åˆ¶æ•°å­—å¿…é¡»å¸¦æœ‰0xå‰ç¼€.\nvar red , green , blue unit8 = 0,141,213 var red , green , bule unit8 = 0x00 , 0x8d , 0xd5 //è¿™ä¸¤éƒ½ä¸€æ ·çš„ åœ¨ä½¿ç”¨printfå‡½æ•°æ‰“å°åå…­è¿›åˆ¶æ•°å­—çš„æ—¶å€™,ä½ å¯ä»¥ä½¿ç”¨%xæˆ–è€…%Xä½œä¸ºæ ¼å¼åŒ–å˜é‡:\n//åå…­è¿›åˆ¶æ‰“å°æˆäºŒè¿›åˆ¶ fmt.Printf(\u0026#34;%05b \\n\u0026#34;, 0xa) ä¸ºäº†èƒ½å¤Ÿå®Œç¾é€‚é…å±‚å æ ·å¼è¡¨æ–‡ä»¶çš„é¢œè‰²å’Œæ•°å­—,æˆ‘ä»¬éœ€è¦ç”¨åˆ°æ ¼å¼åŒ–å˜é‡%2x.å’Œä¹‹å‰ä¸€æ ·0è¡¨ç¤ºç”¨0å¡«å……,2è¡¨ç¤ºå®½åº¦ä¸º2.\nfmt.Printf(\u0026#34;color: #%02x%02x%02x;\u0026#34;,red,green,blue) //æ‰“å°å‡º\u0026#34;color: #008dd5\u0026#34; æ•´æ•°å›ç»• æ•´æ•°ç±»å‹è™½ç„¶ä¸ä¼šåƒæµ®ç‚¹ç±»å‹é‚£æ ·å› ä¸ºèˆå…¥é”™è¯¯è€Œå¯¼è‡´ä¸ç²¾ç¡®,ä½†å®ƒä¹Ÿæœ‰è‡ªå·±çš„å±€é™.é‚£å°±æ˜¯æœ‰é™çš„å–å€¼èŒƒå›´.\nåœ¨goä¸­,å½“è¶…è¿‡æ•´æ•°ç±»å‹çš„å–å€¼èŒƒå›´æ—¶,ä¼šå‡ºç°æ•´æ•°å›ç»•wrap aroundç°è±¡.\nä¾‹å¦‚uint8=255 255+1=\u0026gt;0 int8=127 127+1=\u0026gt;-128\nèšç„¦äºŒè¿›åˆ¶ä½ åŒæ ·çš„,ä½¿ç”¨æ ¼å¼åŒ–å˜é‡%b,ä¸”å¯ä»¥é€‰æ‹©å¯ç”¨é›¶å¡«å……å¹¶æŒ‡å®šæ ¼å¼åŒ–è¾“å‡ºçš„æœ€å°é•¿åº¦ã€‚\nfmt.Printf(\u0026#34;%08b\\n\u0026#34;, green) //00000011 ç”±äºintç±»å‹å’Œuintç±»å‹çš„ä½é•¿åœ¨ä¸åŒç¡¬ä»¶ä¸Šå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ,å› æ­¤mathåŒ…æ²¡æœ‰å®šä¹‰è¿™ä¸¤ç§ç±»å‹çš„æœ€å¤§å€¼å¸¸é‡å’Œæœ€å°å€¼å¸¸é‡.\né¿å…æ—¶é—´å›ç»• åŸºäºunixçš„æ“ä½œç³»ç»Ÿéƒ½ä½¿ç”¨åè°ƒä¸–ç•Œæ—¶UTC 1970.1.1ä»¥æ¥çš„ç§’æ•°æ¥è¡¨ç¤ºæ—¶é—´,ä½†è¿™ä¸ªç§’æ•°åœ¨2038å¹´å°†è¶…è¿‡20äº¿,å¤§è‡´ç›¸å½“äºint32ç±»å‹çš„æœ€å¤§å€¼.å¹¸è¿çš„æ˜¯,è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä½¿ç”¨64ä½æ•´æ•°æ¥è§£å†³,ä½¿ç”¨int64æˆ–uint64éƒ½å¯ä»¥å­˜å‚¨\u0026gt;20äº¿çš„æ•°å­—.\n//ä½¿ç”¨int64è§£å†³int32åªèƒ½è¡¨ç¤ºåˆ°2038å¹´çš„é—®é¢˜ unix := time.Unix(12622780800, 0) fmt.Println(unix) å°ç»“ é™¤éå›ç»•æ­£æ˜¯ä½ æ‰€éœ€è¦çš„,å¦åˆ™å°±åº”è¯¥è°¨æ…çš„é€‰æ‹©åˆé€‚çš„æ•´æ•°ç±»å‹ä»¥é¿å…å›ç»•. å¤§æ•° å­¦ä¼šä½¿ç”¨æŒ‡æ•°æ¥å‡å°‘é”®å…¥0çš„æ¬¡æ•° å­¦ä¼šä½¿ç”¨bigåŒ…å¤„ç†éå¸¸å¤§çš„æ•° å­¦ä¼šä½¿ç”¨å¤§å¸¸é‡å’Œå­—é¢å€¼ è®¡ç®—æœºç¼–ç¨‹ç»å¸¸éœ€è¦æƒè¡¡åˆ©å¼Š,å–èˆæŠ˜ä¸­.ä¾‹å¦‚æµ®ç‚¹æ•°è™½ç„¶å¯ä»¥å­˜å‚¨ä»»æ„å¤§å°çš„æ•°å­—,ä½†æ˜¯æœ‰æ—¶å€™ä¼šä¸ç²¾ç¡®å’Œä¸å‡†ç¡®,ç›¸å,æ•´æ•°è™½ç„¶å‡†ç¡®,ä½†æ˜¯ä¼šæ”¶åˆ°å–å€¼èŒƒå›´çš„é™åˆ¶.æœ¬ç« å°†ä»‹ç»ä¸¤ç§æ–¹æ¡ˆ,å¯ä»¥ä»£æ›¿floatå’Œint,æä¾›æ•°å€¼å·¨å¤§å¹¶ä¸”è®¡ç®—ç²¾ç¡®çš„æ•°å­—.\nè¯·è€ƒè™‘è¿™ä¸€ç‚¹ CPUéƒ½ä¼šä¸ºæ•´æ•°è¿ç®—å’Œæµ®ç‚¹æ•°è¿ç®—æä¾›ä¼˜åŒ–,å¹¶ä¸”è¿™ç§ä¼˜åŒ–æœ‰æ—¶å€™ä¹Ÿé€‚ç”¨äºå…¶ä»–æ•°å€¼è¡¨ç¤º.\næŒ‡æ•°å½¢å¼å†™æ³• //åˆ©ç”¨æŒ‡æ•°æ¥å‡å°‘0çš„é”®å…¥æ¬¡æ•° fmt.Println(10e2) //1000 å¦‚æœ:å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜¾å¼çš„ä¸ºåŒ…å«æŒ‡æ•°çš„æ•°å€¼å˜é‡æŒ‡å®šç±»å‹,é‚£ä¹ˆgoå°†æ¨æ–­å…¶ç±»å‹ä¸ºfloat64\nbigåŒ… big.Int big.Float big.Rat å­˜å‚¨1/3 ä¸€æ—¦å†³å®šä½¿ç”¨big.Int,å°±éœ€è¦åœ¨ç­‰å¼çš„æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯ç”¨è¿™ç§ç±»å‹,å³ä½¿å¯¹äºå·²ç»å­˜åœ¨çš„å¸¸é‡æ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤.big.Intç±»å‹çš„æœ€åŸºæœ¬çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨NewIntå‡½æ•°,å‡½æ•°æ¥å—ä¸€ä¸ªint64ç±»å‹çš„å€¼ä½œä¸ºè¾“å…¥,è¿”å›ä¸€ä¸ªbig.Intç±»å‹çš„å€¼ä½œä¸ºè¾“å‡º.\nnewInt := big.NewInt(240000000) fmt.Println(newInt) æ­¤å¤–,å¯¹äº\u0026gt;int64å–å€¼èŒƒå›´çš„æ•°å­—,æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å®šä¸€ä¸ªstringæ¥åˆ›å»ºå“åº”çš„big.Intç±»å‹çš„å€¼\n//å¤§æ•° b := new(big.Int) b.SetString(\u0026#34;2400000000\u0026#34;, 10) fmt.Println(b) å› ä¸ºæ•°å€¼æ˜¯åŸºäºåè¿›åˆ¶çš„,æ‰€ä»¥ç¬¬äºŒä¸ªå‚æ•°æ˜¯10\n**æ³¨æ„:\t**æ–¹æ³•è·Ÿå‡½æ•°éå¸¸ç›¸ä¼¼,è‡³äºå†…ç½®å‡½æ•°newåˆ™æ˜¯ä¸ºæŒ‡é’ˆè€Œè®¾çš„.\nå¯ä»¥ä½¿ç”¨Divæ–¹æ³•å»æ‰§è¡Œç›¸åº”çš„é™¤æ³•æ“ä½œ\n//å¤§æ•° b := new(big.Int) b.SetString(\u0026#34;2400000000\u0026#34;, 10) fmt.Println(b) newInt := big.NewInt(240000000) fmt.Println(newInt) b.Div(b, newInt) fmt.Println(b) //10 æ­£å¦‚æ‰€ç¤º,big.Intè¿™æ ·çš„å¤§ç±»å‹è™½ç„¶èƒ½å¤Ÿç²¾ç¡®åœ°è¡¨ç¤ºä»»æ„å¤§å°çš„æ•°å€¼,ä½†ä»£ä»·æ˜¯ç”¨èµ·æ¥æ¯”int/floatç­‰åŸç”Ÿç±»å‹è¦éº»çƒ¦,è€Œä¸”è¿è¡Œé€Ÿåº¦ä¹Ÿä¼šç›¸å¯¹è¾ƒæ…¢.\nå¤§å°éåŒå¯»å¸¸çš„å¸¸é‡ å¸¸é‡å£°æ˜å¯ä»¥è·Ÿå˜é‡å£°æ˜ä¸€æ ·å¸¦æœ‰ç±»å‹,ä½†å¸¸é‡ä¹Ÿæ— æ³•ç”¨uint64æ¥è¡¨ç¤ºå·¨å¤§çš„æ•°å€¼\næ‰€ä»¥goè¯­è¨€åœ¨å¤„ç†å¸¸é‡æ—¶çš„åšæ³•ä¸å¤„ç†å˜é‡æ—¶çš„åšæ³•å¹¶ä¸ç›¸åŒ.goè¯­è¨€ä¸ä¼šä¸ºå¸¸é‡æ¨æ–­ç±»å‹,è€Œæ˜¯ç›´æ¥å°†å…¶æ ‡è¯†ä¸ºæ— ç±»å‹untyped,è¿™æ ·å°±ä¸ä¼šå¼•å‘æº¢å‡ºé”™è¯¯.\nconst name = 1 //ä¸ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ ç±»å‹æ˜¯untyped //å­—é¢é‡å’Œå¸¸é‡åº•å±‚å°†ç”±bigåŒ…æä¾›æ”¯æŒ ä¸ä¼šä¸ºå¸¸é‡å’Œå­—é¢é‡æ¨æ–­ç±»å‹ //å¸¸é‡å’Œbigintæ— æ³•è½¬æ¢ const distance = 236000000000000000 const guangnian = 100000000 //b2 := new(big.Int) //setString, _ := b2.SetString(\u0026#34;236000000000000000\u0026#34;, 10) //setString.Div(setString,guangnian) fmt.Println(distance / guangnian) å¸¸é‡é€šè¿‡å…³é”®å­—constæ¥è¿›è¡Œå£°æ˜,é™¤æ­¤ä¹‹å¤–,ç¨‹åºé‡Œçš„æ¯ä¸ªå­—é¢é‡å€¼literal valueä¹Ÿéƒ½æ˜¯å¸¸é‡.\nå› ä¸ºgoçš„ç¼–è¯‘å™¨å°±æ˜¯ç”¨goè¯­è¨€ç¼–å†™çš„,å¹¶ä¸”åœ¨åº•å±‚å®ç°ä¸­,æ— ç±»å‹çš„æ•°å€¼å¸¸é‡å°†ç”±bigåŒ…æä¾›æ”¯æŒ.\nå˜é‡ä¹Ÿå¯ä»¥ä½¿ç”¨å¸¸é‡ä½œä¸ºå€¼,åªè¦å˜é‡çš„å¤§å°èƒ½å¤Ÿå®¹çº³å¸¸é‡å³å¯.\nå°½ç®¡goç¼–è¯‘å™¨ä½¿ç”¨bigåŒ…å¤„ç†æ— ç±»å‹çš„æ•°å€¼å¸¸é‡,ä½†å¸¸é‡å’Œbig.Intå€¼æ˜¯æ— æ³•äº’æ¢çš„\nå°ç»“ æ— ç±»å‹å¸¸é‡å¯ä»¥å­˜å‚¨éå¸¸å¤§çš„æ•°å€¼,å¹¶ä¸”æ‰€æœ‰æ•°å€¼å‹å­—é¢é‡éƒ½æ˜¯æ— ç±»å‹å¸¸é‡. æ— ç±»å‹å¸¸é‡åœ¨è¢«ç”¨ä½œå‡½æ•°å‚æ•°çš„æ—¶å€™,å¿…é¡»è½¬æ¢ä¸ºæœ‰ç±»å‹å˜é‡. å¤šè¯­è¨€æ–‡æœ¬ è®¡ç®—æœºåœ¨è¡¨ç¤ºæ–‡æœ¬çš„æ—¶å€™ä½¿ç”¨äº†ä¸€äº›ç‰¹æ®ŠæŠ€å·§,ä»è€Œä½¿è¿™ç§è¡¨ç¤ºæ—¢èŠ‚çœå­˜å‚¨ç©ºé—´åˆè¶³å¤Ÿçµæ´».\nå¦‚æœä½ å£°æ˜äº†ä¸€ä¸ªå˜é‡,ä½†æ˜¯æ²¡æœ‰ä¸ºå®ƒèµ‹å€¼,é‚£ä¹ˆgoè¯­è¨€å°†ä½¿ç”¨å˜é‡ç±»å‹çš„é›¶å€¼å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–,è€Œstringç±»å‹çš„é›¶å€¼å°±æ˜¯ç©ºå­—ç¬¦ä¸²\u0026quot;\u0026quot;\nåŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«è½¬ä¹‰å­—ç¬¦,å¯ä»¥ä½¿ç”¨åå¼•å·`è€Œä¸æ˜¯åŒå¼•å·æ¥åŒ…å›´æ–‡æœ¬\nåŸå§‹å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åœ¨ä»£ç é‡Œè·¨è¶Šå¤šä¸ªæ–‡æœ¬è¡Œ\n//ä½¿ç”¨åå¼•å·åŒ…å›´çš„å«åšåŸå§‹å­—ç¬¦å­—é¢é‡ fmt.Printf(\u0026#34;hello world \\t\\t\u0026#34;) fmt.Printf(`hello world \\t\\t`) å­—ç¬¦/ä»£ç ç‚¹/ç¬¦æ–‡å’Œå­—èŠ‚ goè¯­è¨€æä¾›äº†rune(ç¬¦æ–‡)ç±»å‹,è¯¥ç±»å‹æ˜¯int32çš„åˆ«å,æ­¤å¤–goè¯­è¨€è¿˜æä¾›äº†uint8ç±»å‹çš„åˆ«åbyte,è¿™ç§ç±»å‹å¯ä»¥å¾ˆå¥½åœ°è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®,ä¹Ÿå¯ä»¥è¡¨ç¤ºASCIIçš„è‹±æ–‡å­—ç¬¦,åˆšå¥½128ä¸ª\n**ç±»å‹åˆ«å:\t**å› ä¸ºç±»å‹åˆ«åå®é™…ä¸Šå°±æ˜¯åŒä¸€ç±»å‹çš„ä¸åŒåå­—,æ‰€ä»¥runeå’Œint32æ˜¯å¯ä»¥äº’æ¢çš„,å½“ç„¶,ç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªè¡Œå£°æ˜ç±»å‹åˆ«å\ntype byte = uint8 ä½¿ç”¨æ ¼å¼åŒ–å˜é‡%cæ¥æ‰“å°å­—ç¬¦è€Œä¸æ˜¯æ•°å­—æœ¬èº«\nfmt.Printf(\u0026#34;\\n%c\u0026#34;, 65) fmt.Printf(\u0026#34;\\n%c\u0026#34;, 128515) var rune = 65 fmt.Printf(\u0026#34;\\n%c\u0026#34;, rune) fmt.Println(strconv.Atoi(string(\u0026#39;ğŸ˜ƒ\u0026#39;))) //è¿™æ ·ä¸è¡Œ åªèƒ½ç»™stringè¿›è¡Œè½¬æ¢æˆint æ¯”å¦‚\u0026#34;110\u0026#34;-\u0026gt;110 fmt.Printf(\u0026#34;%d\\n\u0026#34;, \u0026#39;ğŸ˜ƒ\u0026#39;) A ğŸ˜ƒ A0 strconv.Atoi: parsing \u0026#34;ğŸ˜ƒ\u0026#34;: invalid syntax 128515 **æç¤º:\t**è™½ç„¶ä»»æ„ä¸€ç§æ•´æ•°ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨æ ¼å¼åŒ–å˜é‡%c,ä½†æ˜¯é€šè¿‡ä½¿ç”¨åˆ«åruneå¯ä»¥è¡¨æ˜æ•°å­—960çš„ç”¨é€”æ˜¯ç”¨æ¥è¡¨ç¤ºå­—ç¬¦çš„,è€Œä¸æ˜¯ç”¨æ¥è¡¨ç¤ºæ•°å­—.\ngoæä¾›äº†ç›¸åº”çš„å­—ç¬¦å­—é¢é‡å¥æ³•,ç”¨æˆ·åªéœ€è¦å‘\u0026rsquo;A\u0026rsquo;è¿™æ ·ä½¿ç”¨å•å¼•å·å°†å­—ç¬¦åŒ…å›´èµ·æ¥,å°±å¯ä»¥å–å¾—è¯¥å­—ç¬¦çš„ä»£ç ç‚¹.å¦‚æœç”¨æˆ·å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦å­—é¢é‡å´æ²¡æœ‰ä¸ºå…¶æŒ‡å®šç±»å‹,é‚£ä¹ˆgoå°†æ¨æ–­è¯¥å˜é‡çš„ç±»å‹ä¸ºrune\nè™½ç„¶runeç±»å‹ä»£è¡¨çš„æ˜¯ä¸€ä¸ªå­—ç¬¦,ä½†å®ƒå®é™…ä¸Šå­˜å‚¨çš„ä»ç„¶æ˜¯æ•°å­—å€¼.\nå­—ç¬¦ä¸²æ“ä½œ goçš„å­—ç¬¦ä¸²å¹¶ä¸å®¹æ˜“è¢«æ“çºµ.æˆ‘ä»¬å¯ä»¥å°†ä¸åŒå­—ç¬¦ä¸²èµ‹å€¼ç»™åŒä¸€ä¸ªå˜é‡,ä½†æ˜¯æ— æ³•å¯¹å­—ç¬¦ä¸²æœ¬èº«è¿›è¡Œä¿®æ”¹\nå¯ä»¥é€šè¿‡æ–¹æ‹¬å·[]æŒ‡å®šæŒ‡å‘å­—ç¬¦ä¸²çš„ç´¢å¼•,ä½†æ˜¯ä¸èƒ½ä¿®æ”¹è¿™äº›å­—ç¬¦\nRubyä¸­çš„å­—ç¬¦ä¸²å’ŒCçš„å­—ç¬¦æ•°ç»„å…è®¸è¢«ä¿®æ”¹,è€Œgoä¸­çš„å­—ç¬¦ä¸²ä¸python/java/jsä¸­çš„å­—ç¬¦ä¸²ä¸€æ ·,éƒ½æ˜¯ä¸å¯å˜çš„,ä½ ä¸èƒ½ä¿®æ”¹goä¸­çš„å­—ç¬¦ä¸².\ns := \u0026#34;shalom\u0026#34; for _, c := range s { fmt.Printf(\u0026#34;%d\\n\u0026#34;, c) } fmt.Println(\u0026#39;A\u0026#39; - \u0026#39;a\u0026#39;) fmt.Printf(\u0026#34;%c\\n\u0026#34;, \u0026#39;x\u0026#39;+3-26) 115 104 97 108 111 109 -32 a å°†å­—ç¬¦ä¸²è§£ç ä¸ºç¬¦æ–‡ ä»¥å¾€æˆ‘ä»¬è®¿é—®å­—ç¬¦ä¸²é€šå¸¸éƒ½æ˜¯è®¿é—®å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—èŠ‚(8ä½),ä½†æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°å„ä¸ªå­—ç¬¦å¯èƒ½ä¼šç”±å¤šä¸ªå­—èŠ‚ç»„æˆ(å¦‚16ä½æˆ–32ä½),ä¾‹å¦‚ä¸­æ–‡/éŸ©æ–‡/æ—¥è¯­ç­‰.æ‰€ä»¥å¤„ç†å­—ç¬¦ä¸²å‰,å…ˆå°†ä»–ä»¬è§£ç ä¸ºruneç±»å‹,ä¹Ÿå°±æ˜¯4å­—èŠ‚32ä½.\n**æ³¨æ„:\t**goè¯­è¨€å’Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸åŒçš„ä¸€ç‚¹åœ¨äº,goå…è®¸å‡½æ•°è¿”å›å¤šä¸ªå€¼\nforrangeå…³é”®å­—å¯ä»¥è¿­ä»£å„ç§ä¸åŒçš„æ”¶é›†å™¨,è¿˜å¯ä»¥è§£ç UTF-8ç¼–ç çš„å­—ç¬¦ä¸²,è€Œforiå°±ä¸è¡Œ.\nä¸éœ€è¦æŸä¸ªè¿”å›å€¼çš„æ—¶å€™,ä½¿ç”¨_æ¥çœç•¥å³å¯.\n//forrangeå¯ä»¥è§£æUTF-8çš„ç¼–ç  æ‰€ä»¥è¿™é‡Œéå†æ˜¯æ²¡æœ‰é—®é¢˜çš„ for _, v := range \u0026#34;é•œä¸­èŠ±,æ°´ä¸­æœˆ\u0026#34; { fmt.Printf(\u0026#34;%c %[1]T \\n\u0026#34;, v) } //foriä¸èƒ½è§£æUTF-8ç¼–ç  æ±‚lençš„æ—¶å€™å°±å·²ç»å‡ºé—®é¢˜äº† shi := \u0026#34;é•œä¸­èŠ±,æ°´ä¸­æœˆ\u0026#34; for i := 0; i \u0026lt; len(shi); i++ { fmt.Printf(\u0026#34;%c %[1]T \\n\u0026#34;, shi[i]) } fmt.Println(len(\u0026#34;é•œä¸­èŠ±,æ°´ä¸­æœˆ\u0026#34;)) //lenè¿”å›çš„æ˜¯å­—ç¬¦ä¸²å ä½çš„å­—èŠ‚é•¿åº¦ è¿™é‡Œè¿”å›19 é•œ int32 ä¸­ int32 èŠ± int32 , int32 æ°´ int32 ä¸­ int32 æœˆ int32 Ã© uint8 Ã¤ uint8 Â¸ uint8 Â­ uint8 Ã¨ uint8 Â± uint8 , uint8 Ã¦ uint8 Â° uint8 Â´ uint8 Ã¤ uint8 Â¸ uint8 Â­ uint8 Ã¦ uint8 19 æ­¤å¤–,å¯ä»¥ä½¿ç”¨utf8åŒ…çš„å‡½æ•°æ¥å¤„ç†å­—ç¬¦ä¸²\n//ä½¿ç”¨utf8åŒ…å’Œå‡½æ•° //è§£æç¬¬ä¸€ä¸ªå­—å å‡ å­—èŠ‚ å…·ä½“å€¼æ˜¯å¤šå°‘ decodeRune, size := utf8.DecodeRune([]byte(shi)) fmt.Println(size) fmt.Printf(\u0026#34;%c \\n\u0026#34;, decodeRune) //æŸ¥çœ‹ä¸€å…±è§£æäº†å‡ ä¸ªå­— inString := utf8.RuneCountInString(shi) fmt.Println(inString) //è§£æç¬¬ä¸€ä¸ªå­—å å‡ å­—èŠ‚ å…·ä½“å€¼æ˜¯å¤šå°‘ runeInString, size1 := utf8.DecodeRuneInString(shi) fmt.Printf(\u0026#34;%c %d bytes\\n\u0026#34;, runeInString, size1) s3 := \u0026#34;abcdefghijklmnopqrstuvwxyz\u0026#34; decodeRuneInString, i := utf8.DecodeRuneInString(s3) fmt.Println(decodeRuneInString, \u0026#34; \u0026#34;, i) //åˆ¤æ–­å®ƒå äº†å‡ ä¸ªå­—èŠ‚ r, size2 := utf8.DecodeRuneInString(\u0026#34;Â¿\u0026#34;) fmt.Println(r, \u0026#34; \u0026#34;, size2) //goä½¿ç”¨UTF-8å¯å˜é•¿åº¦ç¼–ç ,æ¯ä¸ªå­—ç¬¦æ ¹æ®éœ€è¦å ç”¨1-4ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ //å¯èƒ½ä¼šé—®foriå’Œforrçš„åŒºåˆ«å§ 3 é•œ 7 é•œ 3 bytes 97 1 191 2 å°ç»“ ä½¿ç”¨åå¼•å·` å¯ä»¥åŒ…å›´åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡,åƒ\\nè¿™æ ·çš„è½¬ä¹‰å­—ç¬¦å°†åŸæ ·ä¿ç•™ å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„,å¯ä»¥ç‹¬ç«‹è®¿é—®å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦,ä½†æ˜¯ä¸èƒ½ä¿®æ”¹ä»–ä»¬ å­—ç¬¦ä¸²ä½¿ç”¨UTF-8å¯å˜é•¿åº¦ç¼–ç ,æ¯ä¸ªå­—ç¬¦éœ€è¦å ç”¨1-4ä¸ªå­—èŠ‚å†…å­˜ç©ºé—´ byteæ˜¯uint8ç±»å‹çš„åˆ«å,è€Œruneæ˜¯int32ç±»å‹çš„åˆ«å å…³é”®å­—rangeå¯ä»¥å°†UTF-8ç¼–ç çš„å­—ç¬¦ä¸²è§£ç ä¸ºç¬¦æ–‡ ç±»å‹è½¬æ¢ å­¦ä¼šåœ¨æ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ä¹‹é—´å®æ–½ç±»å‹è½¬æ¢ ç±»å‹ä¸èƒ½æ··åˆä½¿ç”¨ å¦‚æœå°è¯•æ‹¼æ¥æ•°å€¼å’Œå­—ç¬¦ä¸²,é‚£ä¹ˆgoç¼–è¯‘å™¨å°†æŠ¥å‘Šä¸€ä¸ªé”™è¯¯(æ— æ•ˆæ“ä½œ:ä¸åŒ¹é…çš„ç±»å‹)\nåœ¨å…¶ä»–è¯­è¨€ä¸­æ··åˆä½¿ç”¨å¤šç§ç±»å‹ æœ‰äº›ç¼–ç¨‹è¯­è¨€åœ¨ç¨‹åºå‘˜åŒæ—¶ç»™å®šä¸¤ç§æˆ–å¤šç§ä¸åŒç±»å‹çš„å€¼æ—¶,ä¼šå°½å¯èƒ½çŒœæµ‹ç¨‹åºå‘˜çš„æ„å›¾.å¯¹äºå®æ–½éšå¼ç±»å‹è½¬æ¢çš„è¯­è¨€æ¥è¯´,ä¸èƒ½ç†Ÿè®°å„ç§éšå¼è½¬æ¢è§„åˆ™çš„äººå°†éš¾ä»¥é¢„æµ‹ä»£ç è¡Œä¸º.å¯¹goç¼–è¯‘å™¨è€Œè¨€,å®ƒä¸ä¼šè¿™æ ·,åªä¼šå¼•å‘ä¸€ä¸ªç±»å‹ä¸åŒ¹é…çš„é”™è¯¯.\næ··åˆä½¿ç”¨æ•´æ•°ç±»å‹å’Œæµ®ç‚¹ç±»å‹åŒæ ·ä¼šå¼•å‘ç±»å‹ä¸åŒ¹é…çš„é”™è¯¯.\ngoä¸ä¼šå¯¹ä½ çš„æ„å›¾åšä»»ä½•çš„å‡è®¾,ä½ å¿…é¡»é€šè¿‡æ˜¾å¼çš„ç±»å‹è½¬æ¢æ¥è§£å†³è¿™ä¸ªé—®é¢˜.\næ•°å­—ç±»å‹è½¬æ¢ è™½ç„¶goè¯­è¨€ä¸å…è®¸æ··åˆä½¿ç”¨ä¸åŒç±»å‹çš„å˜é‡,ä½†æ˜¯é€šè¿‡ç±»å‹è½¬æ¢,å¯ä»¥é¡ºåˆ©è¿è¡Œ.\nå°†æµ®ç‚¹è½¬ä¸ºæ•´æ•°,å°†ç›´æ¥è¢«æˆªæ–­è€Œä¸ä¼šåšä»»ä½•èˆå…¥æ“ä½œ.\næ­¤å¤–,å„ç§é•¿åº¦ä¸åŒçš„ç±»å‹ä¹‹é—´çš„è½¬æ¢.ä»å–å€¼èŒƒå›´å°çš„ç±»å‹è½¬æ¢ä¸ºå–å€¼èŒƒå›´è¾ƒå¤§çš„ç±»å‹æ€»æ˜¯å®‰å…¨çš„,ä½†å…¶ä»–æ–¹å¼çš„ç±»å‹è½¬æ¢åˆ™å­˜åœ¨é£é™©.\nç±»å‹è½¬æ¢çš„å±é™©ä¹‹å¤„ ä¹‹æ‰€ä»¥goå¸Œæœ›æˆ‘ä»¬è¿›è¡Œæ˜¾å¼çš„ç±»å‹è½¬æ¢,å°±æ˜¯è®©æˆ‘ä»¬ä¸‰æ€è€Œåè¡Œ,æ€è€ƒç±»å‹è½¬æ¢å¯èƒ½å¼•å‘çš„åæœ.\nä¾‹å¦‚æ•´æ•°ç±»å‹å˜é‡è½¬åŒ–çš„æ—¶å€™ä¼šä¸ä¼šå‡ºç°æ•°å€¼è¿‡å¤§äº§ç”Ÿå›ç»•è¡Œä¸º.\næˆ‘ä»¬å¯ä»¥é€šè¿‡mathåŒ…æä¾›çš„æœ€å°å¸¸é‡å’Œæœ€å¤§å¸¸é‡,æ¥æ£€æµ‹å€¼çš„è½¬æ¢æ˜¯å¦å¾—åˆ°äº†æ— æ•ˆå€¼.\nvar bh float64 = 32768 if bh \u0026gt; math.MaxInt16 || bh \u0026lt; math.MinInt16 { fmt.Println(bh \u0026gt; math.MaxInt16 || bh \u0026lt; math.MinInt16) } **æ³¨æ„:\t**å› ä¸ºmathåŒ…æä¾›çš„æœ€å°å¸¸é‡å’Œæœ€å¤§å¸¸é‡éƒ½æ˜¯æ— ç±»å‹çš„,æ‰€ä»¥ç¨‹åºå¯ä»¥ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°bhå»è·Ÿæ•´æ•°maxint16åšæ¯”è¾ƒ.\nå­—ç¬¦ä¸²è½¬æ¢ å°†runeæˆ–è€…byteè½¬æ¢ä¸ºstring,å’Œä½¿ç”¨æ ¼å¼åŒ–å˜é‡%cå°†ç¬¦æ–‡å’Œå­—èŠ‚æ˜¾ç¤ºæˆå­—ç¬¦å¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„\nvar pi rune = 960 var alpha rune = 940 var omega rune = 969 var bang byte = 33 //ç›´æ¥å¯¹æ•°å­—æ‰§è¡Œstring ä¸ä¼šæŠŠ33=\u0026gt;\u0026#34;33\u0026#34; è€Œæ˜¯ä¼šæŠŠ33ä»£è¡¨çš„å­—ç¬¦charæ‰¾å‡ºæ¥ fmt.Println(string(pi), string(alpha), string(omega), string(bang)) fmt.Printf(\u0026#34;%c %c %c %c \\n\u0026#34;, pi, alpha, omega, bang) Ï€ Î¬ Ï‰ ! Ï€ Î¬ Ï‰ ! å¦‚å‰æ‰€è¿°,æ•°å­—ä»£ç ç‚¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•å®é™…å±±é€‚ç”¨äºæ‰€æœ‰æ•´æ•°ç±»å‹\ncountdown := 10 //å°†æ•°å­—ç›´æ¥å˜æˆå­—ç¬¦ä¸² è€Œä¸æ˜¯char ä½¿ç”¨itoaæˆ–è€…sprint fmt.Println(\u0026#34;launch in T minus \u0026#34; + strconv.Itoa(countdown) + \u0026#34; seconds.\u0026#34;) fmt.Println(\u0026#34;launch in T minus \u0026#34; + fmt.Sprintf(\u0026#34;%v\u0026#34;, countdown) + \u0026#34; seconds.\u0026#34;) å¦å¤–,å¦‚æœæˆ‘ä»¬éœ€è¦æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼,é‚£ä¹ˆå¯ä»¥ä½¿ç”¨strconvåŒ…æä¾›çš„atoiå‡½æ•°.éœ€è¦æ³¨æ„çš„æ˜¯,å› ä¸ºå­—ç¬¦ä¸²é‡Œé¢å¯èƒ½å«æœ‰æ— æ³•è½¬æ¢ä¸ºæ•°å­—çš„å¥‡æ€ªæ–‡å­—,æˆ–è€…éå¸¸å¤§ä»¥è‡³äºæ— æ³•ç”¨æ•´æ•°ç±»å‹è¡¨ç¤ºçš„æ•°å­—,é‚£ä¹ˆatoiä¼šè¿”å›ä¸€ä¸ªé”™è¯¯,æˆ‘ä»¬éœ€è¦å¯¹é”™è¯¯è¿›è¡Œå¤„ç†.\né™æ€ç±»å‹ åœ¨goä¸­,å˜é‡ä¸€æ—¦è¢«å£°æ˜,å°±æœ‰äº†ç±»å‹å¹¶ä¸”æ— æ³•æ”¹å˜å®ƒçš„ç±»å‹,è¿™ç§æœºåˆ¶æˆä¸ºé™æ€ç±»å‹.å°è¯•åœ¨goä¸­ä½¿ç”¨åŒä¸€ä¸ªå˜é‡æ“çºµå¤šä¸ªä¸åŒç±»å‹çš„å€¼,å°†å¼•å‘goç¼–è¯‘å™¨æŠ¥å‘Šé”™è¯¯.\nä¸é™æ€ç±»å‹ç›¸å,js/python/rubyç­‰è¯­è¨€éƒ½é‡‡ç”¨äº†åä¸ºåŠ¨æ€ç±»å‹çš„æœºåˆ¶.\ngoä¹Ÿæä¾›äº†ä¸€äº›ç‰¹æ®Šçš„æœºåˆ¶æ¥åº”å¯¹ç±»å‹ä¸ç¡®å®šçš„æƒ…å†µ.æˆ‘çŒœçš„,ä¾‹å¦‚åå°„,æ–­è¨€,ç©ºæ¥å£ç±»å‹.\nè½¬æ¢å¸ƒå°”å€¼ åœ¨goè¯­è¨€ä¸­,å¸ƒå°”å€¼å¹¶æ²¡æœ‰ä¸ä¹‹ç›¸ç­‰çš„æ•°å­—å€¼æˆ–å­—ç¬¦ä¸²å€¼,å› æ­¤å°è¯•ä½¿ç”¨string(false) int(false)huozhe bool(1) bool(\u0026ldquo;yes\u0026rdquo;) éƒ½ä¼šå¯¼è‡´ç¼–è¯‘å™¨æŠ¥é”™.\nå°ç»“ æ˜¾å¼çš„ç±»å‹è½¬æ¢èƒ½å¤Ÿé¿å…ç¼–ç¨‹ä¸­çš„æ­§ä¹‰ ","date":"2021-10-11T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/go%E8%B6%A3%E5%AD%A6%E6%8C%87%E5%8D%97/","title":"Goè¶£å­¦æŒ‡å—"},{"content":"mysqlå­¦ä¹ æ–‡æ¡£ ä¸€ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“ äºŒ æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ DBMS DB SQL\nä¸‰ æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ å›› åˆå§‹mysql mysqläº§å“çš„ä»‹ç»\nmysqläº§å“çš„å®‰è£…\nmysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢\nmysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º\nmysqlçš„å¸¸è§å‘½ä»¤å’Œè¯­æ³•è§„èŒƒ\näº”DQLè¯­è¨€çš„å­¦ä¹  åŸºç¡€æŸ¥è¯¢\næ¡ä»¶æŸ¥è¯¢\næ’åºæŸ¥è¯¢\nå¸¸è§å‡½æ•°\nåˆ†ç»„æŸ¥è¯¢\nè¿æ¥æŸ¥è¯¢\nå­æŸ¥è¯¢\nåˆ†é¡µæŸ¥è¯¢\nunionè”åˆæŸ¥è¯¢\nå…­ DMLè¯­è¨€çš„å­¦ä¹  æ’å…¥è¯­å¥\nä¿®æ”¹è¯­å¥\nåˆ é™¤è¯­å¥\nä¸ƒ DDLè¯­è¨€çš„å­¦ä¹  åº“å’Œè¡¨çš„ç®¡ç†\nå¸¸è§æ•°æ®ç±»å‹ä»‹ç»\nå¸¸è§çº¦æŸ\nä¿å­˜æ•°æ®çš„å®¹å™¨:\næ•°ç»„ é›†åˆ å†…å­˜æ•°æ® æ–­ç”µå°±æ²¡äº†\næ–‡ä»¶ ä½†æ˜¯æ–‡ä»¶ä¸å¥½æŸ¥æ‰¾\nå› æ­¤æŠŠæ–‡ä»¶åšæˆæ–¹ä¾¿å¢åˆ æ”¹æŸ¥çš„è½¯ä»¶ å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ è¿™æ ·çš„è½¯ä»¶å°±å«åšæ•°æ®åº“\næ•°æ®åº“çš„å¥½å¤„ å®ç°æ•°æ®æŒä¹…åŒ– ä½¿ç”¨å®Œæ•´çš„ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†,æ˜“äºæŸ¥è¯¢ æ•°æ®åº“çš„æ¦‚å¿µ DB æ•°æ®åº“ database:å­˜å‚¨æ•°æ®çš„ä»“åº“,ä¿å­˜äº†ä¸€ç³»åˆ—æœ‰ç»„ç»‡çš„æ•°æ®.\nDBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ database management system æ•°æ®åº“æ˜¯é€šè¿‡dbmsåˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨\nå¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysql oracle db2 sqlserver\nSQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ structure query language :ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€\nsqlçš„ä¼˜ç‚¹:\nä¸æ˜¯æŸä¸ªç‰¹å®šæ•°æ®åº“ä¾›åº”å•†ä¸“æœ‰çš„è¯­è¨€,å‡ ä¹æ‰€æœ‰DBMSéƒ½æ”¯æŒsql ç®€å•æ˜“å­¦ è™½ç„¶ç®€å•,ä½†å®é™…ä¸Šæ˜¯ä¸€ç§å¼ºæœ‰åŠ›çš„è¯­è¨€,çµæ´»ä½¿ç”¨å…¶è¯­è¨€å…ƒç´ ,å¯ä»¥è¿›è¡Œéå¸¸å¤æ‚å’Œé«˜çº§çš„æ•°æ®åº“æ“ä½œ ç±»ä¼¼äºç®¡å®¶ ç®¡ç† æ–‡ä»¶æŸœ DBMS ç®¡ç† DB\næ•°æ®åº“çš„ç‰¹ç‚¹ å°†æ•°æ®æ”¾åˆ°è¡¨ä¸­,è¡¨å†æ”¾åˆ°åº“ä¸­ ä¸€ä¸ªæ•°æ®åº“ä¸­å¤Ÿå¯ä»¥æœ‰å¤šä¸ªè¡¨,æ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„åå­—,ç”¨æ¥æ ‡è¯†è‡ªå·±,è¡¨åå…·æœ‰å”¯ä¸€æ€§ è¡¨å…·æœ‰ä¸€äº›ç‰¹æ€§,è¿™äº›ç‰¹æ€§å®šä¹‰äº†æ•°æ®åœ¨è¡¨ä¸­å¦‚ä½•å­˜å‚¨,ç±»ä¼¼javaä¸­ç±»çš„è®¾è®¡ è¡¨ç”±åˆ—ç»„æˆ,æˆ‘ä»¬ä¹Ÿç§°ä¸ºå­—æ®µ.æ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„,æ¯ä¸ªåˆ—ç±»ä¼¼javaä¸­çš„å±æ€§ è¡¨ä¸­çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„,æ¯ä¸€è¡Œç±»ä¼¼äºjavaä¸­çš„å¯¹è±¡ Mysqläº§å“çš„ç‰¹ç‚¹ mysqlæ•°æ®åº“éš¶å±äºmysqlabå…¬å¸,æ€»éƒ¨ä½äºç‘å…¸,åè¢«oracleæ”¶è´­ ä¼˜ç‚¹ æˆæœ¬ä½:å¼€æ”¾æºä»£ç ,ä¸€èˆ¬å¯ä»¥å…è´¹ä½¿ç”¨ æ€§èƒ½é«˜:æ‰§è¡Œå¾ˆå¿« ç®€å•:å¾ˆå®¹æ˜“å®‰è£…å’Œä½¿ç”¨ DBMSåˆ†ä¸ºä¸¤ç±» åŸºäºå…±äº«æ–‡ä»¶ç³»ç»Ÿçš„DBMS ä¾‹å¦‚ access åŸºäºå®¢æˆ·æœº\u0026mdash;æœåŠ¡å™¨çš„DBMS ä¾‹å¦‚ mysql oracle sqlserver mysqlç‰ˆæœ¬ ç¤¾åŒºç‰ˆ å…è´¹ ä¼ä¸šç‰ˆ æ”¶è´¹ mysqlå¸è½½ å…ˆæ§åˆ¶é¢æ¿å¸è½½\nç„¶ååœ¨å®‰è£…ç›®å½•ä¸‹åˆ é™¤æ–‡ä»¶å¤¹\nç„¶ååœ¨programdataä¸­åˆ é™¤æ®‹ä½™æ–‡ä»¶\næ¸…ç†æ³¨å†Œè¡¨\nimage-20210919154523464\rmy.ini é…ç½®æ–‡ä»¶ image-20210919160841225\rç«¯å£å· å®‰è£…ä½ç½® æ•°æ®å­˜æ”¾ä½ç½® å­—ç¬¦é›† é»˜è®¤å­˜å‚¨å¼•æ“ è¯­æ³•æ¨¡å¼ æœ€å¤§è¿æ¥æ•°\næ”¹å®ŒæœåŠ¡éœ€è¦é‡å¯\nmysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢ image-20210919161439996\rmysqlæœåŠ¡ç«¯çš„ç™»é™†å’Œé€€å‡º ä½¿ç”¨mysql command line client ä¸å»ºè®® åªé€‚ç”¨äºrootç”¨æˆ· image-20210919161620401\rimage-20210919161637466\r2.å‘½ä»¤è¡Œ pè¾“å…¥å¯†ç ä¸èƒ½æœ‰ç©ºæ ¼ -h ä¸»æœºå -P ç«¯å£å· -u ç”¨æˆ·å -på¯†ç \nimage-20210919161848290\rç®€åŒ–å‘½ä»¤ é€€å‡ºexit æˆ–è€… ctrl+C\nimage-20210919161938321\råŸºæœ¬å‘½ä»¤\nshow databases ; use tset ; //è¿›å…¥æ•°æ®åº“ image-20210919163057930\rshow tables ; //æŸ¥çœ‹æ•°æ®åº“é‡Œçš„è¡¨ åœ¨å½“å‰ç”¨æˆ·è¿›å…¥çš„æ•°æ®åº“ä¸­æŸ¥çœ‹ show tables from sys ; //æŸ¥çœ‹æ•°æ®åº“é‡Œçš„è¡¨ å¯ä»¥åœ¨å½“å‰æ•°æ®åº“ä¸­æŸ¥çœ‹åˆ«çš„æ•°æ®åº“ä¸­çš„è¡¨ select database() ; //æŸ¥çœ‹å½“å‰å¤„äºä»€ä¹ˆä½ç½® ç±»ä¼¼äºlinuxä¸­çš„ pwd create table ... //åˆ›å»ºè¡¨ image-20210919163334648\rdesc stuInfo ; //æŸ¥çœ‹è¡¨stuInfoä¸­çš„å­—æ®µ insert into stuInfo(id,name) value (1,\u0026#39;ljs\u0026#39;) ; delete from stuInfo where id = 1; update stuInfo set name =\u0026#39;jwt\u0026#39; where id =1; select * from stuInfo ; #å¢åˆ æ”¹æŸ¥ image-20210919163430191\rç»ƒä¹ \nimage-20210919164509494\rsql select version() ; //æŸ¥çœ‹ç‰ˆæœ¬å· sqlä¸­ cmd mysql --version mysql -V mysqlçš„è¯­æ³•è§„èŒƒ ä¸åŒºåˆ†å¤§å°å†™,ä½†å»ºè®®å…³é”®å­—å¤§å†™,è¡¨å åˆ—åå°å†™ æ¯æ¡å‘½ä»¤ç”¨åˆ†å·ç»“å°¾ æ¯æ¡å‘½ä»¤æ ¹æ®éœ€è¦,å¯ä»¥è¿›è¡Œç¼©è¿›æˆ–è€…æ¢è¡Œ æ³¨é‡Š å•è¡Œæ³¨é‡Š #æ³¨é‡Šæ–‡å­— \u0026ndash; æ³¨é‡Šæ–‡å­— (å¿…é¡»è¦æœ‰ç©ºæ ¼) å¤šè¡Œæ³¨é‡Š /* lkdfjasldfj */ åŸºç¡€æŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å\næŸ¥è¯¢åˆ—è¡¨å¯ä»¥æ˜¯:è¡¨ä¸­çš„å­—æ®µ / å¸¸é‡å€¼ / è¡¨è¾¾å¼ / å‡½æ•° æŸ¥è¯¢çš„ç»“æœå¯ä»¥æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨æ ¼ æŸ¥è¯¢å•ä¸ªå­—æ®µ\næŸ¥è¯¢å¤šä¸ªå­—æ®µ\næŸ¥è¯¢æ‰€æœ‰å­—æ®µ\nselect * ä¸èƒ½æ§åˆ¶å­—æ®µçš„æ˜¾ç¤ºé¡ºåº\nä¹‹æ‰€ä»¥ç”¨`` ç€é‡å· ç¬¬ä¸€ä¸ºäº†ç›´ç™½,ç¬¬äºŒä¸ºäº†åŒºåˆ†å…³é”®å­— é˜²æ­¢ä¸å…³é”®å­—é‡å\næŸ¥è¯¢å¸¸é‡\næŸ¥è¯¢è¡¨è¾¾å¼\næŸ¥è¯¢å‡½æ•°\nimage-20210919202609756\rselect 100 ; select \u0026#39;join\u0026#39; ; select 100*98 ; select database () ; select version () ; show tables ; èµ·åˆ«å æ–¹ä¾¿ç†è§£ å¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µæœ‰é‡åçš„æƒ…å†µ,ä½¿ç”¨åˆ«åå¯ä»¥åŒºåˆ†å¼€æ¥\næ–¹å¼ä¸€: ä½¿ç”¨as\næ–¹å¼äºŒ: ç›´æ¥ä¸ç”¨as\nselect last_name as å§“ ,first_name as å from employees ; select last_name å§“ ,first_name å from employees ; # é˜²æ­¢æ­§ä¹‰ åŒå¼•å·ä¹Ÿè¡Œ å•å¼•å·ä¹Ÿå¯ä»¥ select salary as `out put` from employees ; å»é‡\nselect database() ; show tables ; desc employees ; select distinct department_id from employees ; image-20210919203515527\r+å·çš„ä½œç”¨\nå§“åè¿æ¥æˆä¸€ä¸ªå­—æ®µ , æ˜¾ç¤ºä¸ºå§“å\nä»¥ä¸‹é”™è¯¯\nimage-20210919203805417\rjavaä¸­çš„+å·:\nè¿ç®—ç¬¦ , æ“ä½œæ•°ä¸ºæ•°å€¼å‹ è¿æ¥ç¬¦, åªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå­—ç¬¦ä¸² mysqlä¸­çš„+å·:\nä»…ä»…åªæœ‰ä¸€ä¸ªåŠŸèƒ½:è¿ç®—ç¬¦ select 100+90 ;\nselect \u0026lsquo;123\u0026rsquo; +90 ; å…¶ä¸­ä¸€æ–¹ä¸ºå­—ç¬¦å‹,è§†å›¾å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢ä¸ºæ•°å€¼å‹, å¦‚æœè½¬æ¢æˆåŠŸ,åˆ™ç»§ç»­åšåŠ æ³•è¿ç®—\nselect \u0026lsquo;james\u0026rsquo; + 90 ; å¦‚æœè½¬æ¢å¤±è´¥,åˆ™å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢æˆ0\nselect null +10 ; åªè¦å…¶ä¸­ä¸€æ–¹ä¸ºnull , åˆ™ç»“æœè‚¯å®šä¸ºnull image-20210919204251938\ræ‰€ä»¥éœ€è¦ä½¿ç”¨å‡½æ•° concat() ;\n#è¿™æ˜¯é”™è¯¯çš„ç”¨æ³• , åŠ ä¸Šäº†å•å¼•å· , æ— æ³•è§£æ select concat (\u0026#39;last_name\u0026#39; , \u0026#39;first_name\u0026#39;) å§“å from employees ; #è¿™æ˜¯æ­£ç¡®çš„ select concat (last_name , first_name) å§“å from employees ; æ˜¾ç¤ºå‡ºè¡¨employeesä¸­çš„å…¨éƒ¨åˆ—,å„ä¸ªåˆ—ä¹‹é—´ç”¨é€—å·è¿æ¥,åˆ—å¤´æ˜¾ç¤ºæˆout_put #æŸ¥çœ‹æŸè¡¨åˆ—å select column_name fuck_name from information_schema.columns where table_schema = \u0026#39;myemployees\u0026#39; and table_name = \u0026#39;employees\u0026#39; ; #æ²¡é—®é¢˜ å› ä¸ºä¸å­˜åœ¨null select concat (employee_id ,\u0026#39;,\u0026#39;,first_name ) from employees ; #æœ‰é—®é¢˜ å› ä¸ºå­˜åœ¨null , å¯¼è‡´é‚£è¡Œéƒ½å˜æˆnull äº† select concat (employee_id ,\u0026#39;,\u0026#39;,first_name,\u0026#39;,\u0026#39;,commission_pct ) from employees ; +----------------------------------------------------------+ | concat (employee_id ,\u0026#39;,\u0026#39;,first_name,\u0026#39;,\u0026#39;,commission_pct ) | +----------------------------------------------------------+ | NULL | | NULL | | NULL | | NULL | | NULL | å¼•å…¥å‡½æ•° IFNULL select IFNULL(a,b) select ifnull(commission_pct,0) as å¥–é‡‘ç‡, commission_pct from employees ; mysql\u0026gt; select ifnull(commission_pct,0) as å¥–é‡‘ç‡, commission_pct from employees ; +--------+----------------+ | å¥–é‡‘ç‡ | commission_pct | +--------+----------------+ | 0.00 | NULL | | 0.00 | NULL | | 0.00 | NULL | | 0.00 | NULL | | 0.00 | NULL | | 0.00 | NULL | | 0.40 | 0.40 | | 0.30 | 0.30 | | 0.30 | 0.30 | #è¿™æ˜¯æ­£ç¡®çš„ select concat (employee_id ,\u0026#39;,\u0026#39;,first_name,\u0026#39;,\u0026#39;,ifnull(commission_pct,0) ) from employees ; +--------------------------------------------------------------------+ | concat (employee_id ,\u0026#39;,\u0026#39;,first_name,\u0026#39;,\u0026#39;,ifnull(commission_pct,0) ) | +--------------------------------------------------------------------+ | 142,Curtis,0.00 | | 143,Randall,0.00 | | 144,Peter,0.00 | | 161,Sarath,0.25 | | 169,Harrison,0.20 | | 170,Tayler,0.20 | | 171,William,0.15 | æ¡ä»¶æŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å where ç­›é€‰æ¡ä»¶ ; å…ˆæŸ¥è¡¨åæœ‰æ²¡æœ‰åœ¨,å†ç­›é€‰,å†æŸ¥è¯¢\nåˆ†ç±»\næŒ‰æ¡ä»¶è¡¨è¾¾å¼ç­›é€‰ æ¡ä»¶è¿ç®—ç¬¦ \u0026gt; \u0026lt; = \u0026lt;\u0026gt;(ä¸ç­‰äº) æŒ‰é€»è¾‘è¡¨è¾¾å¼ç­›é€‰ ä½œç”¨ç”¨äºè¿æ¥æ¡ä»¶è¡¨è¾¾å¼ \u0026amp;\u0026amp; || ! and or not æ¨¡ç³ŠæŸ¥è¯¢ like between and in is null #æ¡ä»¶è¿ç®—ç¬¦ select * from employees where salary \u0026gt;12000 ; #é€»è¾‘è¿ç®—ç¬¦ select first_name , department_id from employees where department_id \u0026lt;\u0026gt; 90 ; #é€»è¾‘è¡¨è¾¾å¼ç­›é€‰ select first_name , salary , commission_pct from employees where salary \u0026gt;10000 and salary \u0026lt;20000 ; #å¥½åƒä¸‰ä¸ªä¸å¤ªä¸€æ · select * from employees where not(department_id between 90 and 120) or salary \u0026gt;15000 ; select * from employees where department_id not in(90, 120) or salary \u0026gt;15000 ; select * from employees where department_id not in(department_id between 90 and 120) or salary \u0026gt;15000 ; æ¨¡ç³ŠæŸ¥è¯¢\nlike ä¸€èˆ¬å’Œé€šé…ç¬¦ä½¿ç”¨ % 0åˆ°ä»»æ„ä¸ªå­—ç¬¦ _ ä»»æ„ä¸€ä¸ªå­—ç¬¦ between and in is null | is not null #æ¨¡ç³ŠæŸ¥è¯¢ select * from employees where first_name like \u0026#39;%a%\u0026#39; ; select first_name , salary from employees where first_name like \u0026#39;__e_a%\u0026#39; ; #å¦‚æœä¸æƒ³ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ , ç¬¬äºŒä¸ªå­—ç¬¦å°±æ˜¯_ è€Œä¸æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦çš„è¯ mysql\u0026gt; select last_name from employees where last_name like \u0026#39;_\\_%\u0026#39; ; +-----------+ | last_name | +-----------+ | K_ing | | K_ing | +-----------+ 2 rows in set (0.00 sec) #æˆ–è€…ä½¿ç”¨ä»¥ä¸‹è¿™ç§ ä½¿ç”¨ESCAPE æ¥å–æ¶ˆè½¬ä¹‰ mysql\u0026gt; select last_name from employees where last_name like \u0026#39;_$_%\u0026#39; escape \u0026#39;$\u0026#39; ; +-----------+ | last_name | +-----------+ | K_ing | | K_ing | +-----------+ 2 rows in set (0.00 sec) mysql\u0026gt; select last_name from employees where last_name like \u0026#39;_h_%\u0026#39; escape \u0026#39;h\u0026#39; ; +-----------+ | last_name | +-----------+ | K_ing | | K_ing | +-----------+ 2 rows in set (0.00 sec) between and æé«˜è¯­å¥ç®€æ´åº¦ å·¦å³éƒ½åŒ…å«ä¸´ç•Œå€¼ ä¸èƒ½é¢ å€’é¡ºåº #å·¦é—­å³é—­ select * from employees where employee_id between 100 and 120 ; in åˆ¤æ–­æŸå­—æ®µçš„å€¼æ˜¯å¦å±äºinåˆ—è¡¨ä¸­çš„æŸä¸€é¡¹ ä½¿ç”¨ in æé«˜è¯­å¥çš„ç®€æ´åº¦\nin åˆ—è¡¨çš„å€¼ç±»å‹å¿…é¡»ä¸€è‡´æˆ–å…¼å®¹\nin ä¸æ”¯æŒé€šé…ç¬¦ æ¯•ç«Ÿä¸æ˜¯likeå…³é”®å­—\nselect employee_id , job_id from employees where job_id in(\u0026#39;IT_PROG\u0026#39;,\u0026#39;AD_VP\u0026#39;,\u0026#39;AD_PRES\u0026#39;) ; is null = æˆ– \u0026lt;\u0026gt; ä¸èƒ½ç”¨äºåˆ¤æ–­nullå€¼ select first_name , commission_pct from employees where commission_pct is null ; is not null å®‰å…¨ç­‰äº \u0026lt;=\u0026gt; #å®‰å…¨ç­‰äºå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸ºç©º select first_name , commission_pct from employees where commission_pct \u0026lt;=\u0026gt; null ; #å®‰å…¨ç­‰äºä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯æŸä¸ªæ•°å€¼ mysql\u0026gt; select last_name , salary from employees where salary \u0026lt;=\u0026gt; 12000 ; +-----------+----------+ | last_name | salary | +-----------+----------+ | Greenberg | 12000.00 | | Errazuriz | 12000.00 | | Higgins | 12000.00 | +-----------+----------+ 3 rows in set (0.00 sec) å®‰å…¨ç­‰äºå’Œis null çš„åŒºåˆ« is null ä»…ä»…å¯ä»¥åˆ¤æ–­nullå€¼ , å¯è¯»æ€§è¾ƒé«˜ , å»ºè®®ä½¿ç”¨\n\u0026lt;=\u0026gt; æ—¢å¯ä»¥åˆ¤æ–­nullå€¼,åˆå¯ä»¥åˆ¤æ–­æ™®é€šçš„æ•°å€¼\nå¤ä¹ ä¸€ä¸‹ mysql ä¸mysqlçš„ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦ æ•°æ®åº“çš„å¥½å¤„ æŒä¹…åŒ–æ•°æ®åˆ°æœ¬åœ° ç»“æ„åŒ–æŸ¥è¯¢ æ•°æ®åº“çš„å¸¸è§æ¦‚å¿µ DB æ•°æ®åº“,å­˜å‚¨æ•°æ®çš„å®¹å™¨ DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ, åˆç§°ä¸ºæ•°æ®åº“è½¯ä»¶æˆ–æ•°æ®åº“äº§å“,ç”¨äºåˆ›å»ºæˆ–ç®¡ç†DB SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ ,ç”¨äºå’Œæ•°æ®åº“é€šä¿¡çš„è¯­è¨€,ä¸æ˜¯æŸä¸ªæ•°æ®åº“è½¯ä»¶ç‰¹æœ‰çš„,è€Œæ˜¯å‡ ä¹æ‰€æœ‰çš„ä¸»æµæ•°æ®åº“è½¯ä»¶é€šç”¨çš„è¯­è¨€ æ•°æ®åº“å­˜å‚¨çš„ç‰¹ç‚¹ æ•°æ®å­˜æ”¾åˆ°è¡¨ä¸­,ç„¶åè¡¨å†å­˜æ”¾åˆ°åº“ä¸­ ä¸€ä¸ªåº“ä¸­å¯ä»¥æœ‰å¤šå¼ è¡¨,æ¯å¼ è¡¨å…·æœ‰å”¯ä¸€çš„è¡¨åç”¨ä»¥æ ‡è¯†è‡ªå·± è¡¨æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—,åˆ—åˆç§°ä¸ºå­—æ®µ,ç›¸å½“äºjavaä¸­çš„å±æ€§ è¡¨ä¸­çš„æ¯ä¸€è¡Œæ•°æ®,ç›¸å½“äºjavaä¸­çš„å¯¹è±¡ å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysq oracle db2 sqlserver\nmysqlçš„ä»‹ç» mysqlçš„èƒŒæ™¯ å‰èº«å±äºç‘å…¸çš„ä¸€å®¶å…¬å¸ mysql ab , 08è¢«sunæ”¶è´­ , 09å¹´è¢«oracleæ”¶è´­\nmysqlçš„ä¼˜ç‚¹ å¼€æºå…è´¹æˆæœ¬ä½ æ€§èƒ½é«˜ , ç§»æ¤æ€§å¥½ ä½“ç§¯å°,ä¾¿äºå®‰è£… mysqlçš„å®‰è£… å±äºc/sæ¶æ„çš„è½¯ä»¶,ä¸€èˆ¬æ¥è®²æ˜¯å®‰è£…æœåŠ¡ç«¯\nä¼ä¸šç‰ˆ/ç¤¾åŒºç‰ˆ\nç¯å¢ƒå˜é‡é…ç½®\nmysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢ net start mysql\nå›¾å½¢åŒ–ç•Œé¢é‡Œå¼€æœåŠ¡\nmysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º mysql -h localhost -P 3306 -u root -p123456\nexitæˆ–è€…ctrl+C\nDQLè¯­è¨€ åŸºç¡€æŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å\nç‰¹ç‚¹\næŸ¥è¯¢åˆ—è¡¨å¯ä»¥æ˜¯å­—æ®µ/å¸¸é‡ / è¡¨è¾¾å¼/ å‡½æ•°/ ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª æŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ ç¤ºä¾‹\næŸ¥è¯¢å•ä¸ªå­—æ®µ select å­—æ®µå from è¡¨å ;\næŸ¥è¯¢å¤šä¸ªå­—æ®µ select å­—æ®µå , å­—æ®µå from è¡¨å ;\næŸ¥è¯¢æ‰€æœ‰å­—æ®µ select * from è¡¨å ;\næŸ¥è¯¢å¸¸é‡ select å¸¸é‡ as \u0026hellip; ;\næ³¨æ„:å­—ç¬¦å‹å’Œæ—¥æœŸå‹çš„å¸¸é‡å€¼å¿…é¡»ç”¨å•å¼•å·å¼•èµ·æ¥,æ•°å€¼å‹ä¸éœ€è¦\næŸ¥è¯¢å‡½æ•° select å‡½æ•°å(å®å‚åˆ—è¡¨) ;\næŸ¥è¯¢è¡¨è¾¾å¼ select 100%98 ;\nèµ·åˆ«å as ç©ºæ ¼ å»é‡ distinct åªèƒ½ç»™ä¸€ä¸ªå‚æ•°ç”¨\n+å·çš„ä½œç”¨ åªèƒ½åšåŠ æ³•è¿ç®—\nselect æ•°å€¼+æ•°å€¼ ; ç›´æ¥è¿ç®—\nselect å­—ç¬¦ +æ•°å€¼ ; å°è¯•éšå¼è½¬æ¢ç„¶åè¿ç®— , æˆåŠŸå°±æˆåŠŸ,ä¸æˆåŠŸå°±æ˜¯0+æ•°å€¼\nselect null + æ•°å€¼; è¿”å›null\nconcatå‡½æ•° æ‹¼æ¥å­—ç¬¦\nselect concat (å­—ç¬¦1 , å­—ç¬¦2 , å­—ç¬¦3 \u0026hellip;) ;\nifnullå‡½æ•° åˆ¤æ–­æŸè‡ªå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnull , å¦‚æœä¸ºnull è¿”å›æŒ‡å®šçš„å€¼, å¦åˆ™è¿”å›åŸæœ¬çš„å€¼\nselect ifnull(commission_pct,0) from employees ; å¦‚æœæ˜¯nullåˆ™è¿”å›0 , å¦‚æœä¸æ˜¯null , åˆ™è¿”å›åŸå€¼\nisnullå‡½æ•° åˆ¤æ–­æ˜¯ä¸æ˜¯null , æ˜¯çš„è¯è¿”å›1 , å¦çš„è¯å°±è¿”å›0\næ¡ä»¶æŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å where ç­›é€‰æ¡ä»¶\nç­›é€‰æ¡ä»¶çš„åˆ†ç±»\nç®€å•æ¡ä»¶è¿ç®—ç¬¦ \u0026gt; \u0026lt; = \u0026lt;\u0026gt; \u0026lt;=\u0026gt; \u0026gt;= \u0026lt;= é€»è¾‘è¿ç®—ç¬¦ || \u0026amp;\u0026amp; ! and or not æ¨¡ç³ŠæŸ¥è¯¢ like in is null is not null between and\nlike :ä¸€èˆ¬æ­é…é€šé…ç¬¦ä½¿ç”¨, ç”¨äºåˆ¤æ–­å­—ç¬¦å‹æ•°å€¼, åœ¨5.5ç‰ˆæœ¬ä¹‹å , ä¹Ÿå¯ä»¥åˆ¤æ–­intç±»å‹çš„ , % å’Œ _ åŒºåˆ«\nmysql\u0026gt; select * from employees where department_id like \u0026#39;1__\u0026#39; ; +-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+ | 108 | Nancy | Greenberg | NGREENBE | 515.124.4569 | FI_MGR | 12000.00 | NULL | 101 | 100 | 1998-03-03 00:00:00 | | 109 | Daniel | Faviet | DFAVIET | 515.124.4169 | FI_ACCOUNT | 9000.00 | NULL | 108 | 100 | 1998-03-03 00:00:00 | | 110 | John | Chen | JCHEN | 515.124.4269 | FI_ACCOUNT | 8200.00 | NULL | 108 | 100 | 2000-09-09 00:00:00 | | 111 | Ismael | Sciarra | ISCIARRA | 515.124.4369 | FI_ACCOUNT | 7700.00 | NULL | 108 | 100 | 2000-09-09 00:00:00 | | 112 | Jose Manuel | Urman | JMURMAN | 515.124.4469 | FI_ACCOUNT | 7800.00 | NULL | 108 | 100 | 2000-09-09 00:00:00 | | 113 | Luis | Popp | LPOPP | 515.124.4567 | FI_ACCOUNT | 6900.00 | NULL | 108 | 100 | 2000-09-09 00:00:00 | | 205 | Shelley | Higgins | SHIGGINS | 515.123.8080 | AC_MGR | 12000.00 | NULL | 101 | 110 | 2016-03-03 00:00:00 | | 206 | William | Gietz | WGIETZ | 515.123.8181 | AC_ACCOUNT | 8300.00 | NULL | 205 | 110 | 2016-03-03 00:00:00 | +-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+ 8 rows in set (0.00 sec) is null å’Œ\u0026lt;=\u0026gt; çš„åŒºåˆ« is null åªä¼šåˆ¤æ–­null\n\u0026lt;=\u0026gt; ä¸ä»…åˆ¤æ–­null è¿˜å¯ä»¥æ™®é€šç±»å‹çš„æ•°å€¼\næ’åºæŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ where ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨ asc|desc\né»˜è®¤æ˜¯asc å‡åº\næ”¯æŒå•ä¸ªå­—æ®µ/å¤šä¸ªå­—æ®µ/è¡¨è¾¾å¼/å‡½æ•°/åˆ«å\norder by ä¸€èˆ¬æ˜¯æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€åé¢ limitå­å¥é™¤å¤–\næŒ‰è¡¨è¾¾å¼æ’åº æŒ‰å­—æ®µæ’åº æŒ‰åˆ«åæ’åº æŒ‰å‡½æ•°æ’åº æŒ‰å¤šå­—æ®µæ’åº select * from employees order by salary desc ; select * from employees order by salary asc ; #é»˜è®¤å‡åº asc select * from employees where department_id \u0026gt;=90 order by hiredate desc ; # *å¿…é¡»æ”¾åœ¨å‰é¢ å¯ä»¥æŒ‰ç…§è¡¨è¾¾å¼æ’åº ä¹Ÿå¯ä»¥æŒ‰ç…§åˆ«åæ’åº select * , salary*12*(1+ifnull(commission_pct,0))as å¹´è–ª from employees order by å¹´è–ª desc; # æŒ‰ç…§å‡½æ•°æ’åº select last_name , salary from employees order by length(last_name) desc ; #åŒé‡æ’åº å…ˆæŒ‰ç…§å·¥èµ„å‡åºæ’ , å†æŒ‰ç…§å‘˜å·¥ç¼–å·é™åºæ’ select * from employees order by salary asc , employee_id desc ; ç»ƒä¹ \nselect last_name , department_id , salary * 12 * (1+ifnull(commission_pct,0)) as å¹´è–ª from employees order by å¹´è–ª desc , length(last_name) asc ; #ä»¥ä¸‹ç”¨æ³• é”™è¯¯ between and ä¸èƒ½ æŒ‰ç…§ åˆ«åæ¥ select last_name , salary as å·¥èµ„ from employees where not(å·¥èµ„ between 8000 and 17000) order by å·¥èµ„ ; #ä»¥ä¸‹ç”¨æ³• æ­£ç¡® select last_name , salary as å·¥èµ„ from employees where not(salary between 8000 and 17000) order by å·¥èµ„ ; #å¯ä»¥è¿™æ · ç›´æ¥ not between and select last_name , salary as å·¥èµ„ from employees where salary not between 8000 and 17000 order by å·¥èµ„ select * from employees where email like \u0026#39;%e%\u0026#39; order by length(email) desc , department_id ; å¸¸è§å‡½æ•° åŠŸèƒ½:ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•,å°†ä¸€ç»„é€»è¾‘è¯­å¥å°è£…åœ¨æ–¹æ³•ä½“ä¸­,å¯¹å¤–æš´éœ²æ–¹æ³•å\nå¥½å¤„:1.éšè—äº†å®ç°ç»†èŠ‚ 2.æé«˜ä»£ç çš„é‡ç”¨æ€§\nè°ƒç”¨: select å‡½æ•°å(å®å‚åˆ—è¡¨) [from è¡¨] ;\nç‰¹ç‚¹:\nå«ä»€ä¹ˆ å‡½æ•°å å¹²ä»€ä¹ˆ å‡½æ•°åŠŸèƒ½ åˆ†ç±»ï¼š\nå•è¡Œå‡½æ•° å­—ç¬¦å‡½æ•° length concat substr substring replace lpad rpad upper lower instr trim æ•°å­¦å‡½æ•° mod floor round ceil truncate æ—¥æœŸå‡½æ•° now curdate curtime year month monthname day hour minute second date_format str_to_date å…¶ä»–å‡½æ•° æµç¨‹æ§åˆ¶å‡½æ•° concat / length / ifnull ç­‰ åˆ†ç»„å‡½æ•° åšç»Ÿè®¡ä½¿ç”¨ åˆç§°ä¸ºç»Ÿè®¡å‡½æ•°ã€èšåˆå‡½æ•°ã€ç»„å‡½æ•° #æŸ¥çœ‹å­—èŠ‚é•¿åº¦ mysql\u0026gt; select length(\u0026#39;lalala\u0026#39;) ; +------------------+ | length(\u0026#39;lalala\u0026#39;) | +------------------+ | 6 | +------------------+ 1 row in set (0.00 sec) #æŸ¥çœ‹å­—èŠ‚é•¿åº¦ mysql\u0026gt; select length (\u0026#39;æ—å¥æ ‘\u0026#39;) ; +-------------------+ | length (\u0026#39;æ—å¥æ ‘\u0026#39;) | +-------------------+ | 6 | +-------------------+ 1 row in set (0.00 sec) #å±•ç¤ºå­—ç¬¦é›† mysql\u0026gt; show variables like \u0026#39;%char%\u0026#39; ; +--------------------------+---------------------------------------------------------+ | Variable_name | Value | +--------------------------+---------------------------------------------------------+ | character_set_client | gbk | | character_set_connection | gbk | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | gbk | | character_set_server | utf8mb4 | | character_set_system | utf8mb3 | | character_sets_dir | C:\\Program Files\\MySQL\\MySQL Server 8.0\\share\\charsets\\ | +--------------------------+---------------------------------------------------------+ #æ‹¼æ¥å­—ç¬¦ select concat(last_name , \u0026#39;_\u0026#39; , first_name ) from employees ; # upper / lower select upper(\u0026#39;aaabbbccc\u0026#39;) ; select lower(\u0026#39;aBc\u0026#39;) ; #å‡½æ•°åµŒå¥— select concat(lower(last_name),\u0026#39;_\u0026#39;,upper(first_name)) from employees ; #substr / substring #sqlä¸­ç´¢å¼•ä»1å¼€å§‹ mysql\u0026gt; select substring(\u0026#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ\u0026#39;,7) out_put ; +---------+ | out_put | +---------+ | é™†å±•å…ƒ | +---------+ 1 row in set (0.00 sec) #å‡½æ•°çš„é‡è½½ ä»æŒ‡å®šç´¢å¼•å‡ºæŒ‡å®šå­—ç¬¦é•¿åº¦çš„å­—ç¬¦ mysql\u0026gt; select SUBSTRING(\u0026#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ\u0026#39;,1,3) ; +-------------------------------------+ | SUBSTRING(\u0026#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ\u0026#39;,1,3) | +-------------------------------------+ | æè«æ„ | +-------------------------------------+ 1 row in set (0.00 sec) select concat(concat(upper(substring(first_name,1,1)),substr(first_name,2)),\u0026#39;_\u0026#39;,last_name) from employees ; #instr åˆ¤æ–­æ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­ #è¿”å›çš„æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼• ç´¢å¼•ä»ç„¶ä»1å¼€å§‹ , å¦‚æœæ‰¾ä¸åˆ°è¿”å›0 mysql\u0026gt; select instr(\u0026#39;æ¨ä¸æ‚”çˆ±ä¸Šäº†å°¹æŸ³éœ\u0026#39;,\u0026#39;å°¹æŸ³éœ\u0026#39;) ; +--------------------------------------+ | instr(\u0026#39;æ¨ä¸æ‚”çˆ±ä¸Šäº†å°¹æŸ³éœ\u0026#39;,\u0026#39;å°¹æŸ³éœ\u0026#39;) | +--------------------------------------+ | 7 | +--------------------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select instr(\u0026#39;æ¨ä¸æ‚”å°¹æŸ³éœçˆ±ä¸Šäº†å°¹æŸ³éœ\u0026#39;,\u0026#39;å°¹æŸ³éœ\u0026#39;) out_put ; +---------+ | out_put | +---------+ | 4 | +---------+ 1 row in set (0.00 sec) #trim å»ç©ºæ ¼ mysql\u0026gt; select length(\u0026#39; å¼ ç¿ å±± \u0026#39;) , length (trim(\u0026#39; å¼ ç¿ å±± \u0026#39;)) ; +------------------------+--------------------------------+ | length(\u0026#39; å¼ ç¿ å±± \u0026#39;) | length (trim(\u0026#39; å¼ ç¿ å±± \u0026#39;)) | +------------------------+--------------------------------+ | 12 | 6 | +------------------------+--------------------------------+ 1 row in set (0.00 sec) #trim å¯ä»¥å»æ‰æŒ‡å®šçš„å­—ç¬¦æˆ–è€…å­—ç¬¦ä¸² ä¸­é—´ä¸ä¼šå»æ‰çš„ mysql\u0026gt; select trim(\u0026#39;a\u0026#39; from \u0026#39;aabbaaccaa\u0026#39;) as out_put ; +---------+ | out_put | +---------+ | bbaacc | +---------+ 1 row in set (0.00 sec) #trim åªæ˜¯æŒ‰ç…§å•ä½å»å»çš„ mysql\u0026gt; select trim(\u0026#39;aa\u0026#39; from \u0026#39;aaabbaaccaaa\u0026#39;) as out_put ; +----------+ | out_put | +----------+ | abbaacca | +----------+ 1 row in set (0.00 sec) #lpad ç”¨æŒ‡å®šçš„å­—ç¬¦æ¥å®ç°å·¦å¡«å……æŒ‡å®šé•¿åº¦ mysql\u0026gt; select lpad(\u0026#39;æ®·ç´ ç´ \u0026#39;,10,\u0026#39;*\u0026#39;) ; +-----------------------+ | lpad(\u0026#39;æ®·ç´ ç´ \u0026#39;,10,\u0026#39;*\u0026#39;) | +-----------------------+ | *******æ®·ç´ ç´  | +-----------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select lpad(\u0026#39;97\u0026#39;,3,\u0026#39;0\u0026#39;) ; +------------------+ | lpad(\u0026#39;97\u0026#39;,3,\u0026#39;0\u0026#39;) | +------------------+ | 097 | +------------------+ 1 row in set (0.00 sec) #lpad å¦‚æœé•¿åº¦è¶…è¿‡äº† åè€Œä¼šå‘ç”Ÿæˆªæ–­ ä»å·¦è¾¹å¼€å§‹å‘å³è¾¹æˆªæ–­ mysql\u0026gt; select lpad(\u0026#39;101\u0026#39;,2,\u0026#39;0\u0026#39;) ; +-------------------+ | lpad(\u0026#39;101\u0026#39;,2,\u0026#39;0\u0026#39;) | +-------------------+ | 10 | +-------------------+ 1 row in set (0.00 sec) #RpadåŒç† #replaceæ›¿æ¢ mysql\u0026gt; select replace(\u0026#39;å¼ æ— å¿Œçˆ±ä¸Šäº†å‘¨èŠ·è‹¥\u0026#39;,\u0026#39;å‘¨èŠ·è‹¥\u0026#39;,\u0026#39;èµµæ•\u0026#39;) as out_put ; +------------------+ | out_put | +------------------+ | å¼ æ— å¿Œçˆ±ä¸Šäº†èµµæ• | +------------------+ 1 row in set (0.00 sec) #replace å‡¡æ˜¯æœ‰çš„å…¨éƒ¨æ›¿æ¢å–” mysql\u0026gt; select replace(\u0026#39;å‘¨èŠ·è‹¥å¼ æ— å¿Œçˆ±ä¸Šäº†å‘¨èŠ·è‹¥\u0026#39;,\u0026#39;å‘¨èŠ·è‹¥\u0026#39;,\u0026#39;èµµæ•\u0026#39;) as out_put ; +----------------------+ | out_put | +----------------------+ | èµµæ•å¼ æ— å¿Œçˆ±ä¸Šäº†èµµæ• | +----------------------+ 1 row in set (0.00 sec) æ•°å­¦å‡½æ•° round å››èˆäº”å…¥\n#round å››èˆäº”å…¥ mysql\u0026gt; select round(4.65) ; +-------------+ | round(4.65) | +-------------+ | 5 | +-------------+ 1 row in set (0.00 sec) #round ä¸¤ä¸ªå‚æ•°æ—¶,åé¢çš„å‚æ•°æ˜¯å€¼æŒ‰å°æ•°ç‚¹åå‡ ä½æ¥å››èˆäº”å…¥ mysql\u0026gt; select round(4.65,1) ; +---------------+ | round(4.65,1) | +---------------+ | 4.7 | +---------------+ mysql\u0026gt; select round(4.65,0) ; +---------------+ | round(4.65,0) | +---------------+ | 5 | +---------------+ 1 row in set (0.00 sec) #ceil å‘ä¸Šå–æ•´ mysql\u0026gt; select ceil(1.001) ; +-------------+ | ceil(1.001) | +-------------+ | 2 | +-------------+ 1 row in set (0.00 sec) #floor å‘ä¸‹å–æ•´ mysql\u0026gt; select floor(-1.01) ; +--------------+ | floor(-1.01) | +--------------+ | -2 | +--------------+ 1 row in set (0.00 sec) #truncate æˆªæ–­ ä¿ç•™å°æ•°ç‚¹åå‡ ä½ mysql\u0026gt; select truncate(1.6999,2) ; +--------------------+ | truncate(1.6999,2) | +--------------------+ | 1.69 | +--------------------+ 1 row in set (0.00 sec) #mod å–ä½™è¿ç®— a-a/b*b a/bä¼šå‘ç”Ÿæˆªæ–­çš„å¯èƒ½ æ‰€ä»¥è¿™ä¸ªç­‰å¼æ²¡æ¯›ç—… # -10 mod -3 = -1 -10 mod 3 = -1 10 mod -3 = 1 åªè¦è¢«é™¤æ•°æ˜¯- å°±æ˜¯- mysql\u0026gt; select mod(10,-3) ; +------------+ | mod(10,-3) | +------------+ | 1 | +------------+ 1 row in set (0.00 sec) æ—¥æœŸå‡½æ•° # now è¿”å›å½“å‰ç³»ç»Ÿæ—¥æœŸ åŒ…å«æ—¶é—´ mysql\u0026gt; select now() ; +---------------------+ | now() | +---------------------+ | 2021-09-20 16:00:28 | +---------------------+ 1 row in set (0.00 sec) # curdate è¿”å›å½“å‰æ—¥æœŸ ä¸åŒ…å«æ—¶é—´ mysql\u0026gt; select curdate() ; +------------+ | curdate() | +------------+ | 2021-09-20 | +------------+ 1 row in set (0.00 sec) # curtime è¿”å›å½“å‰æ—¶é—´ ä¸åŒ…å«æ—¥æœŸ mysql\u0026gt; select curtime() ; +-----------+ | curtime() | +-----------+ | 16:01:21 | +-----------+ 1 row in set (0.00 sec) #è·å–æŒ‡å®šçš„éƒ¨åˆ† , å¹´ æœˆ æ—¥ æ—¶ åˆ† ç§’ mysql\u0026gt; select year(now()) å¹´ , month (\u0026#39;1998-1-1\u0026#39;) æœˆ, day(curdate())æ—¥ ; +------+------+------+ | å¹´ | æœˆ | æ—¥ | +------+------+------+ | 2021 | 1 | 20 | +------+------+------+ 1 row in set (0.00 sec) # è·å–æœˆä»½çš„è‹±æ–‡ mysql\u0026gt; select monthname(hiredate) æœˆä»½è‹±æ–‡, year(hiredate) from employees ; +-----------+----------------+ | æœˆä»½è‹±æ–‡ | year(hiredate) | +-----------+----------------+ | April | 1992 | | April | 1992 | # æ—¥æœŸè½¬æ¢å‡½æ•° str_to_date() date_format() mysql\u0026gt; select str_to_date (\u0026#39;9--10--2021\u0026#39;,\u0026#39;%m--%d--%Y\u0026#39;) as out_put ; +------------+ | out_put | +------------+ | 2021-09-10 | +------------+ 1 row in set (0.00 sec) mysql\u0026gt; select date_format(\u0026#39;2021-09-20\u0026#39;,\u0026#39;%yå¹´%mæœˆ%dæ—¥\u0026#39;) as out_put ; +--------------+ | out_put | +--------------+ | 21å¹´09æœˆ20æ—¥ | +--------------+ 1 row in set (0.00 sec) # å‰ç«¯ä¼ è¿›æ¥çš„æ˜¯å­—ç¬¦ä¸² è€Œä¸”æ ¼å¼ä¸ä¸€ æˆ‘ä»¬è¦ä½¿ç”¨å‡½æ•°æ¥å°†å­—ç¬¦ä¸²åšå¤„ç† è§£ææˆæƒ³è¦çš„æ ¼å¼ ç„¶åå†åˆ°æ•°æ®åº“ä¸­æŸ¥æ‰¾ mysql\u0026gt; select hiredate from employees where hiredate = str_to_date(\u0026#39;4-3 1992\u0026#39;,\u0026#39;%c-%d %Y\u0026#39;) ; +---------------------+ | hiredate | +---------------------+ | 1992-04-03 00:00:00 | | 1992-04-03 00:00:00 | | 1992-04-03 00:00:00 | | 1992-04-03 00:00:00 | | 1992-04-03 00:00:00 | +---------------------+ 5 rows in set (0.00 sec) #æ•°æ®åº“è¿™è¾¹ä¹Ÿéœ€è¦åšå¥½ç›¸åº”çš„å¤„ç† å°†æ—¥æœŸå¤„ç†æˆå¯¹åº”æ ¼å¼å­—ç¬¦ä¸²ç„¶åè¿”å›å›å» mysql\u0026gt; select last_name ,date_format(hiredate,\u0026#39;%mæœˆ/%dæ—¥ %yå¹´\u0026#39;) as å…¥èŒæ—¥æœŸ from employees where commission_pct \u0026lt;=\u0026gt; null ; +-------------+----------------+ | last_name | å…¥èŒæ—¥æœŸ | +-------------+----------------+ | K_ing | 04æœˆ/03æ—¥ 92å¹´ | | Kochhar | 04æœˆ/03æ—¥ 92å¹´ | image-20210920161042293\rimage-20210920161613677\rå…¶ä»–å‡½æ•° mysql\u0026gt; select version() ; +-----------+ | version() | +-----------+ | 8.0.24 | +-----------+ 1 row in set (0.00 sec) mysql\u0026gt; select database() ; +-------------+ | database() | +-------------+ | myemployees | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; select user() ; +----------------+ | user() | +----------------+ | root@localhost | +----------------+ 1 row in set (0.00 sec) æµç¨‹æ§åˆ¶å‡½æ•° # IFå‡½æ•° trueå°±æ˜¯ç¬¬äºŒä¸ªå‚æ•° falseå°±æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•° mysql\u0026gt; select commission_pct , if(isnull(commission_pct)=0,\u0026#39;æ²¡å¥–é‡‘ å‘µå‘µ\u0026#39;,\u0026#39;æœ‰å¥–é‡‘ å˜»å˜»\u0026#39;) å¤‡æ³¨ from employees ; +----------------+-------------+ | commission_pct | å¤‡æ³¨ | +----------------+-------------+ | NULL | æœ‰å¥–é‡‘ å˜»å˜» | | NULL | æœ‰å¥–é‡‘ å˜»å˜» | # mysqlä¸­é»˜è®¤ 0å°±æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•° 1å°±æ˜¯ç¬¬äºŒä¸ªå‚æ•° mysql\u0026gt; select commission_pct , if(isnull(commission_pct),\u0026#39;æ²¡å¥–é‡‘ å‘µå‘µ\u0026#39;,\u0026#39;æœ‰å¥–é‡‘ å˜»å˜»\u0026#39;) å¤‡æ³¨ from employees ; +----------------+-------------+ | commission_pct | å¤‡æ³¨ | +----------------+-------------+ | NULL | æ²¡å¥–é‡‘ å‘µå‘µ | | NULL | æ²¡å¥–é‡‘ å‘µå‘µ | mysql\u0026gt; select commission_pct , if(isnull(commission_pct),concat(\u0026#39;æ²¡å¥–é‡‘ å‘µå‘µ \u0026#39;,0),concat(\u0026#39;æœ‰å¥–é‡‘ å˜»å˜» \u0026#39;,commission_pct)) å¤‡æ³¨ from employees ; +----------------+------------------+ | commission_pct | å¤‡æ³¨ | +----------------+------------------+ | NULL | æ²¡å¥–é‡‘ å‘µå‘µ 0 | | NULL | æ²¡å¥–é‡‘ å‘µå‘µ 0 | #case å‡½æ•° ç›¸å½“äº switch caseçš„æ•ˆæœ /* case è¦åˆ¤æ–­çš„å­—æ®µæˆ–è€…è¡¨è¾¾å¼ when å¸¸é‡1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1 when å¸¸é‡2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2 ... else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n end */ mysql\u0026gt; select salary åŸå§‹å·¥èµ„ , department_id éƒ¨é—¨, case department_id when 30 then salary*1.1 when 40 then salary*1.2 when 50 then salary*1.3 else salary end as æ–°å·¥èµ„ from employees ; +----------+------+----------+ | åŸå§‹å·¥èµ„ | éƒ¨é—¨ | æ–°å·¥èµ„ | +----------+------+----------+ | 24000.00 | 90 | 24000.00 | | 17000.00 | 90 | 17000.00 | #case å¤šé‡ifç±»ä¼¼äº /* case when æ¡ä»¶1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1 when æ¡ä»¶2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2 ... else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n end */ mysql\u0026gt; select salary , case when salary \u0026gt;20000 then \u0026#39;A\u0026#39; when salary \u0026gt;15000 then \u0026#39;B\u0026#39; when salary \u0026gt;10000 then \u0026#39;C\u0026#39; else \u0026#39;D\u0026#39; end as å·¥èµ„çº§åˆ« from employees ; +----------+----------+ | salary | å·¥èµ„çº§åˆ« | +----------+----------+ | 24000.00 | A | | 17000.00 | B | | 17000.00 | B | ç»ƒä¹ \nselect employee_id , last_name , salary , salary * 1.2 as `new salary` from employees ; mysql\u0026gt; select last_name , substr(last_name , 1,1) as szm ,length(last_name) `length` from employees order by szm ; +-------------+------+--------+ | last_name | szm | length | +-------------+------+--------+ | Austin | A | 6 | | Atkinson | A | 8 | mysql\u0026gt; select concat(last_name,\u0026#39; earns \u0026#39; ,salary ,\u0026#39; monthly but wants \u0026#39;, salary*3 ) `Dream Salary` from employees ; +-----------------------------------------------------+ | Dream Salary | +-----------------------------------------------------+ | K_ing earns 24000.00 monthly but wants 72000.00 | | Kochhar earns 17000.00 monthly but wants 51000.00 | mysql\u0026gt; select job_id as job , case job_id when \u0026#39;AD_PRES\u0026#39; then \u0026#39;A\u0026#39; when \u0026#39;ST_MAN\u0026#39; then \u0026#39;B\u0026#39; when \u0026#39;IT_PROG\u0026#39; then \u0026#39;C\u0026#39;end grade from employees ; +------------+-------+ | job | grade | +------------+-------+ | AC_ACCOUNT | NULL | | AC_MGR | NULL | åˆ†ç»„å‡½æ•° åŠŸèƒ½:ç”¨ä½œç»Ÿè®¡ä½¿ç”¨,åˆç§°ä¸ºèšåˆå‡½æ•°æˆ–ç»Ÿè®¡å‡½æ•°æˆ–ç»„å‡½æ•°\nåˆ†ç±»:\nsum æ±‚å’Œ avgå¹³å‡å€¼ maxæœ€å¤§å€¼ minæœ€å°å€¼ countè®¡ç®—ä¸ªæ•°\nmysql\u0026gt; select sum(salary) from employees ; +-------------+ | sum(salary) | +-------------+ | 691400.00 | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; select avg(salary) from employees ; +-------------+ | avg(salary) | +-------------+ | 6461.682243 | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; select min(salary) from employees ; +-------------+ | min(salary) | +-------------+ | 2100.00 | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; select max(salary) from employees ; +-------------+ | max(salary) | +-------------+ | 24000.00 | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(salary) from employees ; +---------------+ | count(salary) | +---------------+ | 107 | +---------------+ 1 row in set (0.00 sec) mysql\u0026gt; select sum(salary) å’Œ , round(avg(salary),2) å¹³å‡ , min(salary) æœ€ä½ , max(salary) æœ€é«˜,count(salary) ä¸ªæ•° from employees ; +-----------+---------+---------+----------+------+ | å’Œ | å¹³å‡ | æœ€ä½ | æœ€é«˜ | ä¸ªæ•° | +-----------+---------+---------+----------+------+ | 691400.00 | 6461.68 | 2100.00 | 24000.00 | 107 | +-----------+---------+---------+----------+------+ #å‚æ•°æ”¯æŒå“ªäº›ç±»å‹ #sum avg ä¸æ”¯æŒå­—ç¬¦å‹ mysql\u0026gt; select sum(last_name) , avg(last_name) from employees ; +----------------+----------------+ | sum(last_name) | avg(last_name) | +----------------+----------------+ | 0 | 0 | +----------------+----------------+ # max min æ”¯æŒå­—ç¬¦å‹/æ—¥æœŸå‹ åªè¦èƒ½å¤Ÿæ’åº max å’Œ minå°±èƒ½æ”¯æŒ mysql\u0026gt; select max(last_name) , min(last_name) from employees ; +----------------+----------------+ | max(last_name) | min(last_name) | +----------------+----------------+ | Zlotkey | Abel | +----------------+----------------+ mysql\u0026gt; select max(hiredate) , min(hiredate) from employees ; +---------------------+---------------------+ | max(hiredate) | min(hiredate) | +---------------------+---------------------+ | 2016-03-03 00:00:00 | 1992-04-03 00:00:00 | +---------------------+---------------------+ 1 row in set (0.00 sec) #countæ”¯æŒè®¡æ•° è®¡çš„æ˜¯énullçš„æ•° mysql\u0026gt; select count(last_name) from employees ; +------------------+ | count(last_name) | +------------------+ | 107 | +------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(commission_pct)from employees ; +-----------------------+ | count(commission_pct) | +-----------------------+ | 35 | +-----------------------+ #åˆ¤æ–­æ˜¯å¦å¿½ç•¥nullæ¥è®¡ç®— è¿™é‡Œè¯´æ˜sumè‚¯å®šæ˜¯æ²¡å‚ä¸ å› ä¸ºå¦‚æœæœ‰null null+ä»»ä½•éƒ½æ˜¯null ä¸å¯èƒ½æœ‰å€¼ #avgä¹Ÿæ²¡æœ‰å‚ä¸ æ‰€ä»¥avgä¸å°†nullçš„é¡¹åŠ å…¥è¿ç®— mysql\u0026gt; select sum(commission_pct)æ€»è®¡ , avg(commission_pct) å¹³å‡å€¼, sum(commission_pct)/35 æ²¡å‚ä¸ , sum(commission_pct)/107 å‚ä¸äº† from employees ; +------+----------+----------+----------+ | æ€»è®¡ | å¹³å‡å€¼ | æ²¡å‚ä¸ | å‚ä¸äº† | +------+----------+----------+----------+ | 7.80 | 0.222857 | 0.222857 | 0.072897 | +------+----------+----------+----------+ 1 row in set (0.00 sec) #min å’Œ max ä¹Ÿå¿½ç•¥äº†null å¦åˆ™è‚¯å®šä¼šåœ¨ä¸€å¤´å‡ºç°çš„ mysql\u0026gt; select max(commission_pct) max , min(commission_pct) min from employees ; +------+------+ | max | min | +------+------+ | 0.40 | 0.10 | +------+------+ 1 row in set (0.00 sec) #å¯ä»¥å’Œdistinct åŒ¹é…ä½¿ç”¨ mysql\u0026gt; select sum(distinct salary) å»é‡, sum(salary) ä¸å»é‡ from employees ; +-----------+-----------+ | å»é‡ | ä¸å»é‡ | +-----------+-----------+ | 397900.00 | 691400.00 | +-----------+-----------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(distinct(salary)) å‡ ç§å·¥èµ„ from employees ; +----------+ | å‡ ç§å·¥èµ„ | +----------+ | 57 | +----------+ 1 row in set (0.00 sec) # count 1 å’Œ 2 æ„æ€æ˜¯åŠ äº†ä¸€åˆ— é‚£ä¹ˆå½“ç„¶å°±ç­‰åŒäºç»Ÿè®¡è¡Œæ•°è¾£ mysql\u0026gt; select count(*) from employees ; +----------+ | count(*) | +----------+ | 107 | +----------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(1) from employees ; +----------+ | count(1) | +----------+ | 107 | +----------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(2) from employees ; +----------+ | count(2) | +----------+ | 107 | +----------+ 1 row in set (0.00 sec) æ‰€æœ‰çš„åˆ†ç»„å‡½æ•° éƒ½å¿½ç•¥nullå€¼\nå¯ä»¥å’Œdistinctæ­é…\ncountå‡½æ•°çš„è¯¦ç»†ä»‹ç»\næ•ˆç‡:\nMYISAM å­˜å‚¨å¼•æ“ä¸‹, count(*) çš„æ•ˆç‡é«˜\nINNODBå­˜å‚¨å¼•æ“ä¸‹, count(*) å’Œ count(1) çš„æ•ˆç‡å·®ä¸å¤š,æ¯”count(å­—æ®µ) è¦é«˜ä¸€ç‚¹å„¿\nå’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µæœ‰é™åˆ¶\n#å·²ç»ä¸å­˜åœ¨é€»è¾‘æ„ä¹‰äº† mysql\u0026gt; select avg(salary) , employee_id from employees ; +-------------+-------------+ | avg(salary) | employee_id | +-------------+-------------+ | 6461.682243 | 100 | +-------------+-------------+ 1 row in set (0.00 sec) å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µè¦æ±‚æ˜¯group by åçš„å­—æ®µ\nç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; select datediff(max(hiredate),min(hiredate)) from employees ; +---------------------------------------+ | datediff(max(hiredate),min(hiredate)) | +---------------------------------------+ | 8735 | +---------------------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select datediff(now(),\u0026#39;1997-11-21\u0026#39;) æ´»äº†å¤šä¹…äº† ; +------------+ | æ´»äº†å¤šä¹…äº† | +------------+ | 8705 | +------------+ 1 row in set (0.00 sec) mysql\u0026gt; select count(*) from employees where department_id = 90 ; +----------+ | count(*) | +----------+ | 3 | +----------+ 1 row in set (0.00 sec) åˆ†ç»„æŸ¥è¯¢ select åˆ†ç»„å‡½æ•°, åˆ—(è¦æ±‚å‡ºç°åœ¨group byçš„åé¢) from è¡¨ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„çš„åˆ—è¡¨ order by å­å¥\n**æ³¨æ„:\t**æŸ¥è¯¢åˆ—è¡¨å¿…é¡»ç‰¹æ®Š,è¦æ±‚æ˜¯åˆ†ç»„å‡½æ•°å’Œgroup by åå‡ºç°çš„å­—æ®µ\ngroup byå¯ä»¥ä½¿ç”¨åˆ«å oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ\nhaving å¯ä»¥ä½¿ç”¨åˆ«å oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ\norder by å¯ä»¥ä½¿ç”¨åˆ«å oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ\nwhere ä¸å¯ä»¥ä½¿ç”¨åˆ«å\nmysql\u0026gt; select max(salary) æœ€é«˜å·¥èµ„ , job_id å·¥ç§ from employees group by å·¥ç§ ; +----------+------------+ | æœ€é«˜å·¥èµ„ | å·¥ç§ | +----------+------------+ | 8300.00 | AC_ACCOUNT | | 12000.00 | AC_MGR | | 4400.00 | AD_ASST | mysql\u0026gt; select count(*) éƒ¨é—¨ä¸ªæ•° , location_id ä½ç½® from departments group by ä½ç½®; +----------+------+ | éƒ¨é—¨ä¸ªæ•° | ä½ç½® | +----------+------+ | 1 | 1400 | | 1 | 1500 | mysql\u0026gt; select avg(salary) å¹³å‡å·¥èµ„,department_id éƒ¨é—¨ç¼–å· from employees where email like \u0026#39;%a%\u0026#39; group by éƒ¨é—¨ç¼–å· ; +--------------+----------+ | å¹³å‡å·¥èµ„ | éƒ¨é—¨ç¼–å· | +--------------+----------+ | 7000.000000 | NULL | | 4400.000000 | 10 | +--------------+----------+ 11 rows in set (0.00 sec) #æŸ¥è¯¢æœ‰å¥–é‡‘çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹å‘˜å·¥çš„æœ€é«˜å·¥èµ„ å¾ˆå¥‡æ€ª mysql\u0026gt; select max(salary)æœ€é«˜å·¥èµ„,manager_id é¢†å¯¼ from employees where commission_pct \u0026lt;=\u0026gt; null group by manager_id ; +----------+------+ | æœ€é«˜å·¥èµ„ | é¢†å¯¼ | +----------+------+ | 24000.00 | NULL | | 17000.00 | 100 | | 9000.00 | 102 | | 6000.00 | 103 | | 12000.00 | 101 | | 9000.00 | 108 | | 3100.00 | 114 | | 3200.00 | 120 | | 4200.00 | 121 | | 3800.00 | 122 | | 4000.00 | 123 | | 3500.00 | 124 | | 6000.00 | 201 | | 8300.00 | 205 | +----------+------+ 14 rows in set (0.00 sec) mysql\u0026gt; select max(salary)æœ€é«˜å·¥èµ„,manager_id é¢†å¯¼ from employees where commission_pct is not null group by manager_id ; +----------+------+ | æœ€é«˜å·¥èµ„ | é¢†å¯¼ | +----------+------+ | 14000.00 | 100 | | 10000.00 | 145 | | 10000.00 | 146 | | 10500.00 | 147 | | 11500.00 | 148 | | 11000.00 | 149 | +----------+------+ 6 rows in set (0.00 sec) #æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•° å…¶å®å°±æ˜¯having åœ¨æ¯ä¸ªgroupä¹‹ä¸‹çš„ç­›é€‰ mysql\u0026gt; select department_id éƒ¨é—¨ , count(*)å‘˜å·¥ä¸ªæ•° from employees group by éƒ¨é—¨ having å‘˜å·¥ä¸ªæ•°\u0026gt;2 ; +------+----------+ | éƒ¨é—¨ | å‘˜å·¥ä¸ªæ•° | +------+----------+ | 30 | 6 | | 50 | 45 | | 60 | 5 | | 80 | 34 | | 90 | 3 | | 100 | 6 | +------+----------+ 6 rows in set (0.00 sec) #æŸ¥è¯¢æ¯ä¸ªå·¥ç§æœ‰å¥–é‡‘çš„å‘˜å·¥çš„æœ€é«˜å·¥èµ„\u0026gt;12000çš„å·¥ç§ç¼–å·å’Œæœ€é«˜å·¥èµ„ mysql\u0026gt; select max(salary) æœ€é«˜å·¥èµ„ , job_id å·¥ç§ç¼–å· from employees where commission_pct is not null group by å·¥ç§ç¼–å· having æœ€é«˜å·¥èµ„\u0026gt;12000 ; +----------+----------+ | æœ€é«˜å·¥èµ„ | å·¥ç§ç¼–å· | +----------+----------+ | 14000.00 | SA_MAN | +----------+----------+ 1 row in set (0.00 sec) #æŸ¥è¯¢é¢†å¯¼ç¼–å·\u0026gt;102çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹çš„æœ€ä½å·¥èµ„\u0026gt;5000çš„é¢†å¯¼ç¼–å·æ˜¯é‚£ä¸ª,ä»¥åŠå…¶æœ€ä½å·¥èµ„ mysql\u0026gt; select min(salary) æœ€ä½å·¥èµ„ , manager_id é¢†å¯¼ç¼–å· from employees where manager_id\u0026gt;102 group by é¢†å¯¼ç¼–å· having æœ€ä½å·¥èµ„\u0026gt;5000 ; +----------+----------+ | æœ€ä½å·¥èµ„ | é¢†å¯¼ç¼–å· | +----------+----------+ | 6900.00 | 108 | | 7000.00 | 145 | ç‰¹ç‚¹ åˆ†ç»„æŸ¥è¯¢ä¸­çš„ç­›é€‰æ¡ä»¶åˆ†ä¸ºä¸¤ç±» åˆ†ç»„å‰ç­›é€‰ æ¥æºäºåŸå§‹è¡¨ æ”¾åœ¨group by å­å¥çš„å‰é¢ ä½¿ç”¨whereå…³é”®å­— åˆ†ç»„åç­›é€‰ æ¥æºäºåˆ†ç»„åçš„ç»“æœé›† æ”¾åœ¨group byå­å¥çš„åé¢ ä½¿ç”¨havingå…³é”®å­— åˆ†ç»„å‡½æ•° min max count avg ä½œä¸ºæ¡ä»¶è‚¯å®šæ˜¯æ”¾åœ¨havingå­å¥ä¸­ èƒ½ç”¨åˆ†ç»„å‰ç­›é€‰çš„,å°±ä¼˜å…ˆè€ƒè™‘æ”¾åœ¨åˆ†ç»„å‰é¢,è€ƒè™‘åˆ°æ€§èƒ½ group by å­å¥æ”¯æŒå•ä¸ªå­—æ®µåˆ†ç»„,å¤šä¸ªå­—æ®µåˆ†ç»„(å¤šä¸ªå­—æ®µä¹‹é—´ç”¨é€—å·éš”å¼€,æ²¡æœ‰é¡ºåºä¹‹åˆ†),ä¹Ÿæ”¯æŒè¡¨è¾¾å¼æˆ–å‡½æ•°(è¾ƒå°‘) ä¹Ÿå¯ä»¥æ·»åŠ æ’åº(æ’åºæ”¾åœ¨æ•´ä¸ªåˆ†ç»„æŸ¥è¯¢çš„æœ€å) æŒ‰è¡¨è¾¾å¼æˆ–å‡½æ•°åˆ†ç»„ #æŒ‰å‘˜å·¥å§“åçš„é•¿åº¦åˆ†ç»„,æŸ¥è¯¢æ¯ä¸€ç»„çš„å‘˜å·¥ä¸ªæ•°,ç­›é€‰åŒå­¦ä¸ªæ•°\u0026gt;5çš„æœ‰å“ªäº› mysql\u0026gt; select length(last_name) å§“åé•¿åº¦ , count(*) å‘˜å·¥ä¸ªæ•° from employees group by length(last_name) having å‘˜å·¥ä¸ªæ•°\u0026gt;5 ; +----------+----------+ | å§“åé•¿åº¦ | å‘˜å·¥ä¸ªæ•° | +----------+----------+ | 5 | 29 | | 7 | 15 | æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„ #æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨æ¯ä¸ªå·¥ç§çš„å‘˜å·¥çš„å¹³å‡å·¥èµ„ äº¤æ¢group by çš„é¡ºåºä¸å½±å“ mysql\u0026gt; select avg(salary) å¹³å‡å·¥èµ„, department_id éƒ¨é—¨ç¼–å· , job_id å·¥ç§ç¼–å· from employees group by éƒ¨é—¨ç¼–å· , å·¥ç§ç¼–å· ; +--------------+----------+------------+ | å¹³å‡å·¥èµ„ | éƒ¨é—¨ç¼–å· | å·¥ç§ç¼–å· | +--------------+----------+------------+ | 24000.000000 | 90 | AD_PRES | | 17000.000000 | 90 | AD_VP | | 5760.000000 | 60 | IT_PROG | åˆ†ç»„åæ·»åŠ æ’åº mysql\u0026gt; select avg(salary) å¹³å‡å·¥èµ„, department_id éƒ¨é—¨ç¼–å· , job_id å·¥ç§ç¼–å· from employees group by éƒ¨é—¨ç¼–å· , å·¥ç§ç¼–å· order by å¹³å‡å·¥èµ„ asc ; +--------------+----------+------------+ | å¹³å‡å·¥èµ„ | éƒ¨é—¨ç¼–å· | å·¥ç§ç¼–å· | +--------------+----------+------------+ | 2780.000000 | 30 | PU_CLERK | | 2785.000000 | 50 | ST_CLERK | ç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; select job_id å·¥ç§, max(salary) æœ€å¤§ ,min(salary) æœ€å° ,avg(salary) å¹³å‡ ,sum(salary) æ€»å’Œ from employees group by å·¥ç§ order by å·¥ç§ asc ; +------------+----------+----------+--------------+-----------+ | å·¥ç§ | æœ€å¤§ | æœ€å° | å¹³å‡ | æ€»å’Œ | +------------+----------+----------+--------------+-----------+ | AC_ACCOUNT | 8300.00 | 8300.00 | 8300.000000 | 8300.00 | | AC_MGR | 12000.00 | 12000.00 | 12000.000000 | 12000.00 | mysql\u0026gt; select max(salary)-min(salary) DIFFERENCE from employees ; +------------+ | DIFFERENCE | +------------+ | 21900.00 | +------------+ mysql\u0026gt; select manager_id é¢†å¯¼ç¼–å·, employee_id å‘˜å·¥ç¼–å·, min(salary) æœ€ä½å·¥èµ„ from employees where salary \u0026gt;=6000 and manager_id is not null group by é¢†å¯¼ç¼–å· ; +----------+----------+----------+ | é¢†å¯¼ç¼–å· | å‘˜å·¥ç¼–å· | æœ€ä½å·¥èµ„ | +----------+----------+----------+ | 100 | 101 | 6500.00 | | 102 | 103 | 9000.00 | mysql\u0026gt; select department_id éƒ¨é—¨ç¼–å· , count(*) å‘˜å·¥æ•°é‡ , avg(salary) å¹³å‡å·¥èµ„ from employees group by éƒ¨é—¨ç¼–å· order by å¹³å‡å·¥èµ„ desc ; +----------+----------+--------------+ | éƒ¨é—¨ç¼–å· | å‘˜å·¥æ•°é‡ | å¹³å‡å·¥èµ„ | +----------+----------+--------------+ | 90 | 3 | 19333.333333 | | 110 | 2 | 10150.000000 | mysql\u0026gt; select job_id å·¥ç§ , count(*)äººæ•° from employees group by å·¥ç§ ; +------------+------+ | å·¥ç§ | äººæ•° | +------------+------+ | AC_ACCOUNT | 1 | | AC_MGR | 1 | è¿æ¥æŸ¥è¯¢ å«ä¹‰:åˆç§°ä¸ºå¤šè¡¨æŸ¥è¯¢,å½“æŸ¥è¯¢çš„å­—æ®µæ¥è‡ªäºå¤šä¸ªè¡¨æ—¶,å°±ä¼šç”¨åˆ°è¿æ¥æŸ¥è¯¢\nç¬›å¡å°”ç§¯ç°è±¡: è¡¨1 æœ‰mè¡Œ è¡¨2 æœ‰nè¡Œ ç»“æœæœ‰m*nè¡Œ\nå‘ç”ŸåŸå› :æ²¡æœ‰æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶\nå¦‚ä½•é¿å…:æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶\nimage-20210921141653473\ræ¯ä¸ªéƒ½åŒ¹é…äº†ä¸€é , è¿™ä¸å¥½ ,éƒ½æ˜¯æˆ‘çš„\nmysql\u0026gt; select name , boyName from beauty , boys where beauty.boyfriend_id =boys.id ; +------------+---------+ | name | boyName | +------------+---------+ | Angelababy | é»„æ™“æ˜ | | çƒ­å·´ | é¹¿æ™— | | å‘¨èŠ·è‹¥ | å¼ æ— å¿Œ | | å°æ˜­ | å¼ æ— å¿Œ | | ç‹è¯­å«£ | æ®µèª‰ | | èµµæ• | å¼ æ— å¿Œ | +------------+---------+ åˆ†ç±»:\næŒ‰ç…§å¹´ä»£åˆ†ç±» sql92æ ‡å‡† ä»…ä»…æ”¯æŒå†…è¿æ¥ sql99æ ‡å‡† [æ¨è] æ”¯æŒå†…è¿æ¥+å¤–è¿æ¥(å·¦å¤–+å³å¤–)+äº¤å‰è¿æ¥ æŒ‰åŠŸèƒ½åˆ†ç±» å†…è¿æ¥ ç­‰å€¼è¿æ¥ éç­‰å€¼è¿æ¥ è‡ªè¿æ¥ å¤–è¿æ¥ å·¦å¤–è¿æ¥ å³å¤–è¿æ¥ å…¨å¤–è¿æ¥ äº¤å‰è¿æ¥ #ä»¥ä¸‹æ˜¯sql92æ ‡å‡†çš„ç­‰å€¼è¿æ¥ç”¨æ³• mysql\u0026gt; select last_name , department_name from employees , departments where employees.department_id =departments.department_id ; +-------------+-----------------+ | last_name | department_name | +-------------+-----------------+ | K_ing | Exe | | Kochhar | Exe | #ä¸ºè¡¨èµ·åˆ«å æé«˜è¯­å¥çš„ç®€æ´åº¦ åŒºåˆ†å¤šä¸ªé‡åçš„å­—æ®µ mysql\u0026gt; select last_name , e.job_id , job_title from employees e , jobs where e.job_id = jobs.job_id ; +-------------+------------+---------------------------------+ | last_name | job_id | job_title | +-------------+------------+---------------------------------+ | Gietz | AC_ACCOUNT | Public Accountant | | Higgins | AC_MGR | Accounting Manager | #äº¤æ¢è¡¨çš„å‡ºç°é¡ºåºæ˜¯å¯ä»¥çš„ #åŠ ä¸Šç­›é€‰æ¡ä»¶ mysql\u0026gt; select last_name , commission_pct , department_name from employees e ,departments d where commission_pct is not null and e.department_id = d.department_id ; +------------+----------------+-----------------+ | last_name | commission_pct | department_name | +------------+----------------+-----------------+ | Russell | 0.40 | Sal | | Partners | 0.30 | Sal | mysql\u0026gt; select department_name , city from departments d ,locations l where d.location_id = l.location_id and city like \u0026#39;_o%\u0026#39; ; +-----------------+---------------------+ | department_name | city | +-----------------+---------------------+ | IT | Southlake | | Shi | South San Francisco | #æŸ¥è¯¢æ¯ä¸ªåŸå¸‚çš„éƒ¨é—¨ä¸ªæ•° mysql\u0026gt; select city , count(*) éƒ¨é—¨ä¸ªæ•° from departments d , locations l where d.location_id = l.location_id group by city ; +---------------------+----------+ | city | éƒ¨é—¨ä¸ªæ•° | +---------------------+----------+ | Southlake | 1 | | South San Francisco | 1 | | Seattle | 21 | mysql\u0026gt; select d.department_id , department_name , d.manager_id , min(salary) æœ€ä½å·¥èµ„ from employees e , departments d where e.department_id = d.department_id and commission_pct is not null group by department_id ; +---------------+-----------------+------------+----------+ | department_id | department_name | manager_id | æœ€ä½å·¥èµ„ | +---------------+-----------------+------------+----------+ | 80 | Sal | 145 | 6100.00 | +---------------+-----------------+------------+----------+ mysql\u0026gt; select job_title , count(*) å‘˜å·¥ä¸ªæ•° from employees e , jobs j where e.job_id = j.job_id group by j.job_id order by å‘˜å·¥ä¸ªæ•° desc ; +---------------------------------+----------+ | job_title | å‘˜å·¥ä¸ªæ•° | +---------------------------------+----------+ | Sales Representative | 30 | | Shipping Clerk | 20 | #ä¸‰è¡¨è¿æ¥ mysql\u0026gt; select last_name , department_name , city from employees e , departments d , locations l where e.department_id = d.department_id and d.location_id = l.location_id ; +-------------+-----------------+---------------------+ | last_name | department_name | city | +-------------+-----------------+---------------------+ | Whalen | Adm | Seattle | | Hartstein | Mar | Toronto | æ³¨æ„:å¦‚æœä¸ºè¡¨èµ·äº†åˆ«å,åˆ™æŸ¥è¯¢çš„å­—æ®µå°±ä¸èƒ½ä½¿ç”¨åŸæ¥çš„è¡¨åå»é™å®šäº†\nsql92æ ‡å‡† ç­‰å€¼è¿æ¥ å¤šè¡¨ç­‰å€¼è¿æ¥çš„ç»“æœä¸ºå¤šè¡¨çš„äº¤é›†éƒ¨åˆ† nè¡¨è¿æ¥,è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶ å¤šè¡¨çš„é¡ºåºæ²¡æœ‰è¦æ±‚ ä¸€èˆ¬éœ€è¦ä¸ºè¡¨å…¶åˆ«å å¯ä»¥æ­é…å‰é¢ä»‹ç»çš„æ‰€æœ‰å­å¥ä½¿ç”¨,æ¯”å¦‚æ’åº/ç­›é€‰/åˆ†ç»„ éç­‰å€¼è¿æ¥ #éç­‰å€¼è¿æ¥ ä¹Ÿå¯ä»¥åŠ ä¸Šæ’åº/ç­›é€‰/åˆ†ç»„ mysql\u0026gt; select salary , grade_level from employees e , job_grades g where salary between lower_sal and highest_sal ; +----------+-------------+ | salary | grade_level | +----------+-------------+ | 24000.00 | E | | 17000.00 | E | â€‹\t3.è‡ªè¿æ¥\n# mysql\u0026gt; select a.last_name å‘˜å·¥å ,b.last_name é¢†å¯¼åç§° from employees a , employees b where a.manager_id =b.employee_id ; +-------------+-----------+ | å‘˜å·¥å | é¢†å¯¼åç§° | +-------------+-----------+ | Kochhar | K_ing | | De Haan | K_ing | ç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; select max(salary) , min(salary) from employees ; +-------------+-------------+ | max(salary) | min(salary) | +-------------+-------------+ | 24000.00 | 2100.00 | +-------------+-------------+ mysql\u0026gt; select employee_id , job_id , last_name from employees order by department_id desc , salary asc ; +-------------+------------+-------------+ | employee_id | job_id | last_name | +-------------+------------+-------------+ | 206 | AC_ACCOUNT | Gietz | | 205 | AC_MGR | Higgins | mysql\u0026gt; select job_id from employees where job_id like \u0026#39;%a%e%\u0026#39; order by job_id ; +---------+ | job_id | +---------+ | AD_PRES | | SA_REP | mysql\u0026gt; select substr(\u0026#39;aabbcc\u0026#39;,3) ; +--------------------+ | substr(\u0026#39;aabbcc\u0026#39;,3) | +--------------------+ | bbcc | +--------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select trim( \u0026#39;aa\u0026#39; from \u0026#39;aaabbbcccaaa\u0026#39;) ; +---------------------------------+ | trim( \u0026#39;aa\u0026#39; from \u0026#39;aaabbbcccaaa\u0026#39;) | +---------------------------------+ | abbbccca | +---------------------------------+ 1 row in set (0.00 sec) å¤ä¹ ä¸€ä¸‹ è¯­æ³•\nselect æŸ¥è¯¢åˆ—è¡¨ from è¡¨ where ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨ asc|desc\nç‰¹ç‚¹\nasc å‡åº é»˜è®¤ desc é™åº\næ’åºåˆ—è¡¨ æ”¯æŒ å•ä¸ªå­—æ®µ å¤šä¸ªå­—æ®µ å‡½æ•° è¡¨è¾¾å¼ åˆ«å\norder by ä½ç½®ä¸€èˆ¬æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å(é™¤äº†limitè¯­å¥ä¹‹å¤–)\nå¸¸è§å‡½æ•°\nåŠŸèƒ½:ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•\nå¥½å¤„:æé«˜é‡ç”¨æ€§å’Œéšè—å®ç°ç»†èŠ‚\nè°ƒç”¨:select å‡½æ•°å(å®å‚åˆ—è¡¨) ;\nå•è¡Œå‡½æ•°\nå­—ç¬¦å‡½æ•° length concat substr substring upper lower instr replace trim lpad rpad æ•°å­¦å‡½æ•° truncate round ceil mod floor rand(è·å–éšæœºæ•° 0-1) æ—¥æœŸå‡½æ•° curdate curtime now year month monthname day hour minute second date_format str_to_date timediff datediff å…¶ä»–å‡½æ•° version user database ifnull isnull md5(è‡ªåŠ¨å°†å­—ç¬¦åŠ å¯†æˆmdæ ¼å¼å¯†æ–‡) æµç¨‹æ§åˆ¶å‡½æ•° if case when then else end mysql\u0026gt; select MD5(\u0026#39;lalala123\u0026#39;) ; +----------------------------------+ | MD5(\u0026#39;lalala123\u0026#39;) | +----------------------------------+ | 24500fa6ecaeb8300905727802af3081 | +----------------------------------+ 1 row in set (0.00 sec) æµç¨‹æ§åˆ¶å‡½æ•°\nif(æ¡ä»¶è¡¨è¾¾å¼, è¡¨è¾¾å¼1 , è¡¨è¾¾å¼2) å¦‚æœæ¡ä»¶è¡¨è¾¾å¼æˆç«‹, è¿”å›è¡¨è¾¾å¼1 , å¦åˆ™è¿”å›è¡¨è¾¾å¼2 #case æƒ…å†µ1 case å˜é‡æˆ–è¡¨è¾¾å¼æˆ–å­—æ®µ when å¸¸é‡1 then å€¼1 when å¸¸é‡2 then å€¼2 else å€¼n end #case æƒ…å†µ2 case when æ¡ä»¶1 then å€¼1 when æ¡ä»¶2 then å€¼2 else å€¼n end åˆ†ç»„å‡½æ•° åˆ†ç±»\nmax min avg sum count\nç‰¹ç‚¹\nselect max(å­—æ®µ) from è¡¨å\næ”¯æŒçš„ç±»å‹\nsum å’Œ avg ä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹\nmax min count å¯ä»¥å¤„ç†ä»»ä½•æ•°æ®ç±»å‹\nä»¥ä¸Šåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥null\néƒ½å¯ä»¥æ­é…distinctä½¿ç”¨,å®ç°å»é‡çš„ç»Ÿè®¡\nselect sum(distinct å­—æ®µ) from è¡¨ ;\ncountå‡½æ•°\ncount(å­—æ®µ) ç»Ÿè®¡è¯¥å­—æ®µéç©ºå€¼çš„ä¸ªæ•°\ncount(*) ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•°\ncount(1) ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•°\næ•ˆç‡ä¸Š:\nmyisam å­˜å‚¨å¼•æ“ count(*) æœ€é«˜\ninnodb å­˜å‚¨å¼•æ“ count(*)å’Œcount(1) æ•ˆç‡\u0026gt;count(å­—æ®µ)\nå’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µ,è¦æ±‚æ˜¯group byåé¢å‡ºç°çš„å­—æ®µ\nåˆ†ç»„æŸ¥è¯¢ select åˆ†ç»„å‡½æ•°, åˆ†ç»„åçš„å­—æ®µ from è¡¨ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„çš„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨\nåˆ†ç»„å‰ç­›é€‰ where åŸå§‹è¡¨ group byçš„å‰é¢\nåˆ†ç»„åç­›é€‰ having åˆ†ç»„åçš„ç»“æœ group byçš„åé¢\nè¿æ¥æŸ¥è¯¢ å«ä¹‰ å½“æŸ¥è¯¢ä¸­æ¶‰åŠåˆ°äº†å¤šä¸ªè¡¨çš„å­—æ®µ,éœ€è¦ä½¿ç”¨å¤šè¡¨è¿æ¥\nselect å­—æ®µ1 , å­—æ®µ2 from è¡¨1 , è¡¨2\nç¬›å¡å„¿ä¹˜ç§¯:å½“æŸ¥è¯¢å¤šä¸ªè¡¨æ—¶,æ²¡æœ‰æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶,å¯¼è‡´å¤šä¸ªè¡¨æ‰€æœ‰è¡Œå®ç°å®Œå…¨è¿æ¥\nå¦‚ä½•è§£å†³:æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶\nåˆ†ç±» æŒ‰å¹´ä»£åˆ†ç±» sql92 ç­‰å€¼ éç­‰å€¼ è‡ªè¿æ¥ ä¹Ÿæ”¯æŒä¸€éƒ¨åˆ†å¤–è¿æ¥ ç”¨äºoracle sqlserver , mysqlä¸æ”¯æŒ sql99 [æ¨èä½¿ç”¨] å†…è¿æ¥ ç­‰å€¼ éç­‰å€¼ è‡ªè¿æ¥ å¤–è¿æ¥ å·¦å¤– å³å¤– å…¨å¤–(mysql ä¸æ”¯æŒ) äº¤å‰è¿æ¥ ç­‰å€¼è¿æ¥: select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å, è¡¨2 åˆ«å where è¡¨1.key = è¡¨2.key and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ\nç‰¹ç‚¹:\nä¸€èˆ¬ä¸ºè¡¨èµ·åˆ«å å¤šè¡¨é¡ºåºå¯ä»¥è°ƒæ¢ nè¡¨è¿æ¥è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶ ç­‰å€¼è¿æ¥çš„ç»“æœæ˜¯å¤šè¡¨çš„äº¤é›†éƒ¨åˆ† éç­‰å€¼è¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å, è¡¨2 åˆ«å where éç­‰å€¼è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ\nè‡ªè¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ åˆ«å1, è¡¨ åˆ«å2 where ç­‰å€¼è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ\nç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; select last_name , e.department_id , department_name from employees e , departments d where e.department_id = d.department_id ; +-------------+---------------+-----------------+ | last_name | department_id | department_name | +-------------+---------------+-----------------+ | Whalen | 10 | Adm | | Hartstein | 20 | Mar | mysql\u0026gt; select job_id , d.location_id from employees e , departments d where d.department_id = 90 and e.department_id = d.department_id ; +---------+-------------+ | job_id | location_id | +---------+-------------+ | AD_PRES | 1700 | | AD_VP | 1700 | mysql\u0026gt; select last_name , department_name , d.location_id , city from employees e , departments d ,locations l where e.department_id = d.department_id and d.location_id = l.location_id and commission_pct is not null ; +------------+-----------------+-------------+--------+ | last_name | department_name | location_id | city | +------------+-----------------+-------------+--------+ | Russell | Sal | 2500 | Oxford | | Partners | Sal | 2500 | Oxford | mysql\u0026gt; select last_name , job_id , d.department_id , department_name from employees e ,departments d , locations l where e.department_id = d.department_id and d.location_id = l.location_id and city =\u0026#39;Toronto\u0026#39; ; +-----------+--------+---------------+-----------------+ | last_name | job_id | department_id | department_name | +-----------+--------+---------------+-----------------+ | Hartstein | MK_MAN | 20 | Mar | | Fay | MK_REP | 20 | Mar | +-----------+--------+---------------+-----------------+\\ #æŸ¥è¯¢æ¯ä¸ªå·¥ç§ æ¯ä¸ªéƒ¨é—¨çš„éƒ¨é—¨å å·¥ç§å å’Œæœ€ä½å·¥èµ„ mysql\u0026gt; select department_name , job_title ,min(salary) from employees e , departments d,jobs j where e.department_id = d.department_id and j.job_id = e.job_id group by j.job_title , d.department_name ; +-----------------+---------------------------------+-------------+ | department_name | job_title | min(salary) | +-----------------+---------------------------------+-------------+ | Acc | Public Accountant | 8300.00 | | Acc | Accounting Manager | 12000.00 | #æŸ¥è¯¢æ¯ä¸ªå›½å®¶ä¸‹çš„éƒ¨é—¨ä¸ªæ•°å¤§äº2çš„å›½å®¶ç¼–å· mysql\u0026gt; select country_id,count(*) éƒ¨é—¨ä¸ªæ•° from locations l , departments d where l.location_id = d.location_id group by country_id having éƒ¨é—¨ä¸ªæ•°\u0026gt;2 ; +------------+----------+ | country_id | éƒ¨é—¨ä¸ªæ•° | +------------+----------+ | US | 23 | +------------+----------+ #é€‰æ‹©æŒ‡å®šå‘˜å·¥çš„å§“å å‘˜å·¥å· ä»¥åŠä»–çš„ç®¡ç†è€…çš„å§“åå’Œå‘˜å·¥å· ç»“æœç±»ä¼¼äºä¸‹é¢çš„æ ¼å¼ mysql\u0026gt; select a.last_name employees , a.employee_id Emp , b.last_name manager , b.employee_id Mgr from employees a , employees b where a.manager_id = b.employee_id ; +-------------+-----+-----------+-----+ | employees | Emp | manager | Mgr | +-------------+-----+-----------+-----+ | Kochhar | 101 | K_ing | 100 | | De Haan | 102 | K_ing | 100 | sql99è¯­æ³• è¯­æ³•:\nselect æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å è¿æ¥ç±»å‹ join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„æ¡ä»¶ having ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨\nåˆ†ç±»:\nå†…è¿æ¥: inner\nå¤–è¿æ¥:\nâ€‹\tå·¦å¤–:left outer\nâ€‹\tå³å¤–:right outer\nâ€‹\tå…¨å¤–:full outer\näº¤å‰è¿æ¥ :cross\nå†…è¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ \u0026hellip;\nåˆ†ç±»:\nç­‰å€¼è¿æ¥ éç­‰å€¼è¿æ¥ è‡ªè¿æ¥ #è°ƒæ¢é¡ºåºæ˜¯å¯ä»¥çš„ mysql\u0026gt; select last_name , department_name from employees e inner join departments d on e.department_id = d.department_id ; +-------------+-----------------+ | last_name | department_name | +-------------+-----------------+ | Whalen | Adm | mysql\u0026gt; select last_name , job_title from employees e inner join jobs j on e.job_id = j.job_id where last_name like \u0026#39;%e%\u0026#39; ; +-------------+---------------------------------+ | last_name | job_title | +-------------+---------------------------------+ | De Haan | Administration Vice President | | Ernst | Programmer | mysql\u0026gt; select last_name , job_title from employees e inner join jobs j on e.job_id = j.job_id where e.last_name like \u0026#39;%e%\u0026#39; ; +-------------+---------------------------------+ | last_name | job_title | +-------------+---------------------------------+ | De Haan | Administration Vice President | | Ernst | Programmer | #æŸ¥è¯¢éƒ¨é—¨ä¸ªæ•°\u0026gt;3çš„åŸå¸‚åå’Œéƒ¨é—¨ä¸ªæ•° mysql\u0026gt; select city , count(*) éƒ¨é—¨ä¸ªæ•° from departments d join locations l on d.location_id = l.location_id group by l.location_id having éƒ¨é—¨ä¸ªæ•°\u0026gt;3 ; +---------+----------+ | city | éƒ¨é—¨ä¸ªæ•° | +---------+----------+ | Seattle | 21 | +---------+----------+ #æŸ¥è¯¢å“ªä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°\u0026gt;3çš„éƒ¨é—¨åå’Œå‘˜å·¥ä¸ªæ•°,å¹¶æŒ‰ä¸ªæ•°é™åº mysql\u0026gt; select department_name , count(*) å‘˜å·¥ä¸ªæ•° from departments d inner join employees e on e.department_id = d.department_id group by e.department_id having count(*)\u0026gt;3 order by count(*) desc; +-----------------+----------+ | department_name | å‘˜å·¥ä¸ªæ•° | +-----------------+----------+ | Shi | 45 | | Sal | 34 | | Pur | 6 | #å¤šè¡¨è¿æ¥ æ˜¯æœ‰é¡ºåºçš„ ç¬¬ä¸€ä¸ªè¡¨å’Œç¬¬äºŒä¸ªè¡¨åœ¨è¿æ¥çš„æ—¶å€™å½¢æˆäº†æ–°çš„è¡¨ ç„¶åæ–°çš„è¡¨é‡Œçš„å­—æ®µå’Œç¬¬ä¸‰ä¸ªè¡¨é‡Œçš„å­—æ®µå†è¿æ¥ æ‰€ä»¥æ˜¯æœ‰é¡ºåºä¹‹åˆ†çš„ è¿™ä¸ªå’Œä¸¤è¡¨è¿æ¥æœ‰å·®åˆ« mysql\u0026gt; select last_name , department_name , job_title from employees e join departments d on e.department_id = d.department_id join jobs j on j.job_id = e.job_id order by department_name desc ; +-------------+-----------------+---------------------------------+ | last_name | department_name | job_title | +-------------+-----------------+---------------------------------+ | Taylor | Shi | Shipping Clerk | | Fleaur | Shi | Shipping Clerk | ç‰¹ç‚¹:\næ·»åŠ æ’åº/åˆ†ç»„/ç­›é€‰ innerå¯ä»¥çœç•¥ ç­›é€‰æ¡ä»¶æ”¾åœ¨whereåé¢ , è¿æ¥æ¡ä»¶æ”¾åœ¨onåé¢, æé«˜åˆ†ç¦»æ€§, ä¾¿äºé˜…è¯» inner joinç­‰å€¼è¿æ¥å’Œsql92ä¸­çš„ç­‰å€¼è¿æ¥æ•ˆæœæ˜¯ä¸€æ ·çš„,éƒ½æ˜¯æŸ¥è¯¢å¤šè¡¨çš„äº¤é›† éç­‰å€¼è¿æ¥ #éç­‰å€¼è¿æ¥ mysql\u0026gt; select salary , grade_level from employees e join job_grades g on e.salary between g.lower_sal and g.highest_sal ; +----------+-------------+ | salary | grade_level | +----------+-------------+ | 24000.00 | E | | 17000.00 | E | #æŸ¥è¯¢å·¥èµ„çº§åˆ«çš„ä¸ªæ•°\u0026gt;2å¹¶ä¸”æŒ‰å·¥èµ„çº§åˆ«é™åº mysql\u0026gt; select count(*) çº§åˆ«ä¸ªæ•° , grade_level from employees e join job_grades g on e.salary between g.lower_sal and g.highest_sal group by g.grade_level having çº§åˆ«ä¸ªæ•°\u0026gt;2 order by g.grade_level ; +----------+-------------+ | çº§åˆ«ä¸ªæ•° | grade_level | +----------+-------------+ | 24 | A | | 26 | B | | 38 | C | è‡ªè¿æ¥ #è‡ªè¿æ¥ #æŸ¥è¯¢å‘˜å·¥å§“åå’Œä»–çš„é¢†å¯¼çš„å§“å mysql\u0026gt; select a.last_name , b.last_name from employees a join employees b on a.manager_id = b.employee_id ; +-------------+-----------+ | last_name | last_name | +-------------+-----------+ | Kochhar | K_ing | | De Haan | K_ing | å¤–è¿æ¥ åº”ç”¨åœºæ™¯ ç”¨äºæŸ¥è¯¢ä¸€ä¸ªè¡¨ä¸­æœ‰,å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰çš„è®°å½•\nç‰¹ç‚¹\nå¤–è¿æ¥çš„æŸ¥è¯¢ç»“æœä¸ºä¸»è¡¨ä¸­çš„æ‰€æœ‰è®°å½• å¦‚æœä»è¡¨ä¸­æœ‰å’Œä»–åŒ¹é…çš„,åˆ™æ˜¾ç¤ºåŒ¹é…çš„å€¼ å¦‚æœä»è¡¨ä¸­æ²¡æœ‰å’Œä»–åŒ¹é…çš„,åˆ™æ˜¾ç¤ºnull å¤–è¿æ¥æŸ¥è¯¢ç»“æœ=å†…è¿æ¥ç»“æœ+ä¸»è¡¨ä¸­æœ‰è€Œä»è¡¨ä¸­æ²¡æœ‰çš„è®°å½• å·¦å¤–è¿æ¥,left joinå·¦è¾¹çš„æ˜¯ä¸»è¡¨ å³å¤–è¿æ¥,right joinå³è¾¹çš„æ˜¯ä¸»è¡¨ äº¤æ¢ä¸¤è¡¨çš„é¡ºåºå’Œå…³é”®å­—,å¯ä»¥å®ç°åŒæ ·çš„ç»“æœ #æŸ¥è¯¢æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥å #è¿™æ ·çš„è¯å°±æ˜¯å†…è¿æ¥ å†…è¿æ¥æ˜¯å–çš„äº¤é›† æ²¡æœ‰ç”¨æŸ¥ä¸åˆ° mysql\u0026gt; select name,b.id from beauty g join boys b on g.boyfriend_id = b.id ; +------------+----+ | name | id | +------------+----+ | Angelababy | 3 | | çƒ­å·´ | 2 | #è¿™æ ·çš„è¯å°±æ˜¯å¤–è¿æ¥ å¤–è¿æ¥å…¨å–äº† è¦åŠ ç­›é€‰æ¡ä»¶ mysql\u0026gt; select name,b.id from beauty g left join boys b on g.boyfriend_id = b.id ; +------------+------+ | name | id | +------------+------+ | æŸ³å²© | NULL | | è‹è€å¸ˆ | NULL | | Angelababy | 3 | #è¿™æ ·æ²¡é”™ mysql\u0026gt; select name,b.id from beauty g left join boys b on g.boyfriend_id = b.id where b.id is null ; +--------+------+ | name | id | +--------+------+ | æŸ³å²© | NULL | | è‹è€å¸ˆ | NULL | #æŸ¥è¯¢é‚£ä¸ªéƒ¨é—¨æ²¡æœ‰å‘˜å·¥ mysql\u0026gt; select d.department_id ,department_name from departments d left join employees e on d.department_id = e.department_id where e.department_id is null ; +---------------+-----------------+ | department_id | department_name | +---------------+-----------------+ | 120 | Tre | | 130 | Cor | å…¨å¤–è¿æ¥ å¥½åƒä¸æ”¯æŒ å…¨å¤–è¿æ¥=å†…è¿æ¥çš„ç»“æœ+è¡¨1ä¸­æœ‰ä½†è¡¨2æ²¡æœ‰çš„+è¡¨2ä¸­æœ‰ä½†è¡¨1æ²¡æœ‰çš„ äº¤å‰è¿æ¥ #äº¤å‰åš ç¬›å¡å°”ä¹˜ç§¯ mysql\u0026gt; select beauty.* , boys.* from beauty cross join boys ; +----+------------+------+---------------------+-------------+--------------+--------------+----+---------+--------+ | id | name | sex | borndate | phone | photo | boyfriend_id | id | boyName | userCP | +----+------------+------+---------------------+-------------+--------------+--------------+----+---------+--------+ | 1 | æŸ³å²© | å¥³ | 1988-02-03 00:00:00 | 18209876577 | NULL | 8 | 4 | æ®µèª‰ | 300 | | 1 | æŸ³å²© | å¥³ | 1988-02-03 00:00:00 | sql92å’Œsql99çš„åŒºåˆ« åŠŸèƒ½:sql99 æ”¯æŒçš„è¾ƒå¤š\nå¯è¯»æ€§:sql99å®ç°è¿æ¥æ¡ä»¶å’Œç­›é€‰æ¡ä»¶çš„åˆ†ç¦»,å¯è¯»æ€§è¾ƒé«˜\nimage-20210923202009215\rimage-20210923202111351\r#æŸ¥è¯¢ç¼–å·\u0026gt;3çš„å¥³ç”Ÿçš„ç”·æœ‹å‹ä¿¡æ¯,å¦‚æœæœ‰åˆ™åˆ—å‡º,å¦‚æœæ²¡æœ‰å°±nullå¡«å…… mysql\u0026gt; select g.id å¥³ç”Ÿid,g.name ,b.* from beauty g left join boys b on g.boyfriend_id = b.id where g.id\u0026gt;3 ; +--------+--------+------+---------+--------+ | å¥³ç”Ÿid | name | id | boyName | userCP | +--------+--------+------+---------+--------+ | 4 | çƒ­å·´ | 2 | é¹¿æ™— | 800 | | 5 | å‘¨å†¬é›¨ | NULL | NULL | NULL | | 6 | å‘¨èŠ·è‹¥ | 1 | å¼ æ— å¿Œ | 100 | #æŸ¥è¯¢å“ªä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨ mysql\u0026gt; select city è¿™ä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨ from locations l left join departments d on l.location_id = d.location_id where department_id is null ; +------------------+ | è¿™ä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨ | +------------------+ | Roma | | Venice | å­æŸ¥è¯¢ å«ä¹‰:å‡ºç°åœ¨å…¶ä»–è¯­å¥ä¸­çš„eslectè¯­å¥,ç§°ä¸ºå­æŸ¥è¯¢æˆ–å†…æŸ¥è¯¢\nå¤–éƒ¨çš„æŸ¥è¯¢è¯­å¥,ç§°ä¸ºä¸»æŸ¥è¯¢æˆ–å¤–æŸ¥è¯¢\nåˆ†ç±»:\næŒ‰å­æŸ¥è¯¢å‡ºç°çš„ä½ç½® selectåé¢ ä¸€èˆ¬åªæ”¯æŒæ ‡é‡å­æŸ¥è¯¢ fromåé¢ æ”¯æŒè¡¨å­æŸ¥è¯¢ where æˆ–è€… having åé¢**(é‡è¦)** æ”¯æŒæ ‡é‡å­æŸ¥è¯¢/åˆ—å­æŸ¥è¯¢/è¡Œå­æŸ¥è¯¢ exists åé¢ (ç›¸å…³å­æŸ¥è¯¢) è¡¨å­æŸ¥è¯¢ æŒ‰åŠŸèƒ½(ç»“æœé›†çš„è¡Œåˆ—ä¹¦ä¸åŒ) æ ‡é‡å­æŸ¥è¯¢(ç»“æœé›†åªæœ‰ä¸€è¡Œä¸€åˆ—) åˆ—å­æŸ¥è¯¢(ç»“æœé›†ä¸­åªæœ‰ä¸€åˆ—å¤šè¡Œ) è¡Œå­æŸ¥è¯¢(ç»“æœé›†æœ‰ä¸€è¡Œå¤šåˆ—) è¡¨å­æŸ¥è¯¢(ç»“æœç»“ä¸€èˆ¬ä¸ºå¤šè¡Œå¤šåˆ—) whereæˆ–havingåé¢çš„å­æŸ¥è¯¢ æ”¯æŒæ ‡é‡å­æŸ¥è¯¢ / åˆ—å­æŸ¥è¯¢ / è¡Œå­æŸ¥è¯¢(å¤šåˆ—å¤šè¡Œ)\nç‰¹ç‚¹:\nå­æŸ¥è¯¢æ”¾åœ¨å°æ‹¬å·å†… ä¸€èˆ¬æ”¾åœ¨æ¡ä»¶çš„å³ä¾§ æ ‡é‡å­æŸ¥è¯¢,ä¸€èˆ¬æ­é…ç€å•è¡Œæ“ä½œç¬¦ä½¿ç”¨ \u0026gt; \u0026lt; \u0026gt;= \u0026lt;= \u0026lt;\u0026gt; åˆ—å­æŸ¥è¯¢,ä¸€èˆ¬æ­é…ç€å¤šè¡Œæ“ä½œç¬¦ä½¿ç”¨ in any/some all å­æŸ¥è¯¢çš„æ‰§è¡Œé¡ºåºä¼˜å…ˆäºä¸»æŸ¥è¯¢æ‰§è¡Œ,ä¸»æŸ¥è¯¢çš„æ¡ä»¶ç”¨åˆ°äº†å­æŸ¥è¯¢çš„ç»“æœ æ ‡é‡å­æŸ¥è¯¢ #è°çš„å·¥èµ„æ¯”Abelé«˜ mysql\u0026gt; select last_name , salary from employees where salary\u0026gt;(select salary from employees where last_name = \u0026#39;Abel\u0026#39;) ; +-----------+----------+ | last_name | salary | +-----------+----------+ | K_ing | 24000.00 | | Kochhar | 17000.00 | mysql\u0026gt; select last_name , job_id ,salary from employees where employee_id=141 and salary \u0026gt;(select salary from employees where employee_id =143) ; +-----------+----------+---------+ | last_name | job_id | salary | +-----------+----------+---------+ | Rajs | ST_CLERK | 3500.00 | +-----------+----------+---------+ #æŸ¥è¯¢ job_id å’Œ 141å·å‘˜å·¥çš„job_idç›¸åŒçš„,salaryæ¯”143å·å‘˜å·¥å¤šçš„å‘˜å·¥ mysql\u0026gt; select last_name , job_id ,salary from employees where job_id=(select job_id from employees where employee_id =141) and salary \u0026gt;(select salary from employees where employee_id =143) ; +-------------+----------+---------+ | last_name | job_id | salary | +-------------+----------+---------+ | Nayer | ST_CLERK | 3200.00 | | Mikkilineni | ST_CLERK | 2700.00 | | Bissot | ST_CLERK | 3300.00 | #æŸ¥è¯¢å…¬å¸å·¥èµ„æœ€å°‘çš„å‘˜å·¥çš„last_name , job_id, å’Œsalary mysql\u0026gt; select last_name , job_id , salary from employees where salary = (select min(salary) from employees ) ; +-----------+----------+---------+ | last_name | job_id | salary | +-----------+----------+---------+ | Olson | ST_CLERK | 2100.00 | +-----------+----------+---------+ 1 row in set (0.00 sec) #æŸ¥è¯¢æœ€ä½å·¥èµ„å¤§äº50å·éƒ¨é—¨çš„æœ€ä½å·¥èµ„çš„éƒ¨é—¨idå’Œå…¶æœ€ä½å·¥èµ„ mysql\u0026gt; select department_id , min(salary) æœ€ä½å·¥èµ„ from employees group by department_id having min(salary) \u0026gt;(select min(salary) from employees where department_id = 50) ; +---------------+----------+ | department_id | æœ€ä½å·¥èµ„ | +---------------+----------+ | NULL | 7000.00 | | 10 | 4400.00 | æ ‡é‡å­æŸ¥è¯¢å¯èƒ½å‡ºç°çš„é—®é¢˜ å­æŸ¥è¯¢é‡ŒæŸ¥åˆ°çš„å…ƒç´ ä¸ªæ•°ä¸æ­¢ä¸€ä¸ª å­æŸ¥è¯¢é‡Œå‹æ ¹æ²¡æŸ¥åˆ°ä»»ä½•å…ƒç´  åˆ—å­æŸ¥è¯¢ image-20210923211703043\ranyå°±æ˜¯å¤§äºæœ€å°å€¼å°äºæœ€å¤§å€¼ allå°±æ˜¯å¤§äºæœ€å¤§å€¼å°äºæœ€å°å€¼\n#æŸ¥è¯¢location_idæ˜¯1400æˆ–1700çš„éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥å§“å mysql\u0026gt; select last_name from employees e where department_id in (select distinct department_id from departments where location_id in (1400,1700)); +------------+ | last_name | +------------+ | Hunold | | Ernst | | Austin | #è¿”å›æ¯”job_idä¸ºIT_PROGéƒ¨é—¨ä»»æ„å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·/å§“å/job_idä»¥åŠsalary mysql\u0026gt; select employee_id , last_name , job_id , salary from employees where salary \u0026lt; any(select salary from employees where job_id=\u0026#39;IT_PROG\u0026#39;) ; +-------------+-------------+------------+---------+ | employee_id | last_name | job_id | salary | +-------------+-------------+------------+---------+ | 104 | Ernst | IT_PROG | 6000.00 | | 105 | Austin | IT_PROG | 4800.00 | #ä¹Ÿå¯ä»¥ä½¿ç”¨maxæˆ–è€…minæ¥ä»£æ›¿any mysql\u0026gt; select employee_id , last_name , job_id , salary from employees where salary \u0026lt; any(select salary from employees where job_id=\u0026#39;IT_PROG\u0026#39;) order by employee_id; +-------------+-------------+------------+---------+ | employee_id | last_name | job_id | salary | +-------------+-------------+------------+---------+ | 104 | Ernst | IT_PROG | 6000.00 | | 105 | Austin | IT_PROG | 4800.00 | #allä¹Ÿæ˜¯åŒæ ·çš„ #in å’Œ =Anyä¹Ÿæ˜¯ä¸€æ ·çš„ #not in å’Œ \u0026lt;\u0026gt;Allä¹Ÿæ˜¯ä¸€æ ·çš„ è¡Œå­æŸ¥è¯¢ #æŸ¥è¯¢å‘˜å·¥ç¼–å·æœ€å°å¹¶ä¸”å·¥èµ„æœ€é«˜çš„å‘˜å·¥ä¿¡æ¯ (ä¸ä¸€å®šå­˜åœ¨) #ç®€å•ç²—æš´çš„åšæ³• mysql\u0026gt; select * from employees where employee_id = (select min(employee_id) from employees ) and salary = (select max(salary) from employees ) ; +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | 100 | Steven | K_ing | SKING | 515.123.4567 | AD_PRES | 24000.00 | NULL | NULL | 90 | 1992-04-03 00:00:00 | +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ 1 row in set (0.00 sec) #è¡Œå­æŸ¥è¯¢ æœ‰å±€é™æ€§ mysql\u0026gt; select * from employees where (employee_id,salary)=(select min(employee_id),max(salary) from employees) ; +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | 100 | Steven | K_ing | SKING | 515.123.4567 | AD_PRES | 24000.00 | NULL | NULL | 90 | 1992-04-03 00:00:00 | +-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+ 1 row in set (0.00 sec) æ”¾åœ¨selectåé¢çš„å­æŸ¥è¯¢ ä»…ä»…æ”¯æŒæ ‡é‡å­æŸ¥è¯¢\n#æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•° #é€šè¿‡å­æŸ¥è¯¢æ¥åš mysql\u0026gt; select d.* ,(select count(*) from employees where department_id=d.department_id) from departments d ; +---------------+-----------------+------------+-------------+----------------------------------------------------------------------+ | department_id | department_name | manager_id | location_id | (select count(*) from employees where department_id=d.department_id) | +---------------+-----------------+------------+-------------+----------------------------------------------------------------------+ | 10 | Adm | 200 | 1700 | 1 | | 20 | Mar | 201 | 1800 | 2 | #ä¹Ÿå¯ä»¥é€šè¿‡å·¦å³è¿æ¥æ¥åš mysql\u0026gt; select d.* , count(*) from employees e right join departments d on e.department_id = d.department_id group by d.department_id ; +---------------+-----------------+------------+-------------+----------+ | department_id | department_name | manager_id | location_id | count(*) | +---------------+-----------------+------------+-------------+----------+ | 10 | Adm | 200 | 1700 | 1 | | 20 | Mar | 201 | 1800 | 2 | | 30 | Pur | 114 | 1700 | 6 | #æŸ¥è¯¢å‘˜å·¥å·=102çš„éƒ¨é—¨å mysql\u0026gt; select employee_id ,(select department_name from departments where department_id =e.department_id) from employees e where e.employee_id =102; +-------------+--------------------------------------------------------------------------------+ | employee_id | (select department_name from departments where department_id =e.department_id) | +-------------+--------------------------------------------------------------------------------+ | 102 | Exe | +-------------+--------------------------------------------------------------------------------+ 1 row in set (0.00 sec) fromåé¢ ç‰¹ç‚¹ï¼šå°†å­æŸ¥è¯¢å……å½“ä¸€å¼ è¡¨ è¦æ±‚å¿…é¡»èµ·åˆ«å\n#æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„çš„å·¥èµ„ç­‰çº§ #sql92è¯­æ³• mysql\u0026gt; select department_id ,grade_level,av from (select department_id , avg(salary) av from employees group by department_id) a,job_grades where av between lower_sal and highest_sal ; +---------------+-------------+--------------+ | department_id | grade_level | av | +---------------+-------------+--------------+ | NULL | C | 7000.000000 | | 10 | B | 4400.000000 | #sql99è¯­æ³• mysql\u0026gt; select av.department_id , grade_level from (select e.department_id , avg(salary) avs from employees e group by e.department_id) av join job_grades j on av.avs between j.lower_sal and j.highest_sal ; +---------------+-------------+ | department_id | grade_level | +---------------+-------------+ | NULL | C | | 10 | B | | 20 | C | existsåé¢ï¼ˆå­æŸ¥è¯¢ï¼‰ select exists(select employee_id from employees)\nè¯­æ³•:\nexists(å®Œæ•´çš„æŸ¥è¯¢è¯­å¥) ç»“æœæ˜¯1/0\n#å›é¡¾ mysql\u0026gt; select last_name , (select department_name from departments where department_id = e.department_id )éƒ¨é—¨ from employees e; +-------------+------+ | last_name | éƒ¨é—¨ | +-------------+------+ | K_ing | Exe | | Kochhar | Exe | #æŸ¥è¯¢æœ‰å‘˜å·¥çš„éƒ¨é—¨å mysql\u0026gt; select d.department_id , d.department_name from departments d where exists(select d.department_id from employees e where d.department_id = e.department_id); +---------------+-----------------+ | department_id | department_name | +---------------+-----------------+ | 10 | Adm | | 20 | Mar | #å¯ä»¥ç”¨inæ¥ä»£æ›¿ mysql\u0026gt; select d.department_id , d.department_name from departments d where d.department_id in (select distinct e.department_id from employees e ) ; +---------------+-----------------+ | department_id | department_name | +---------------+-----------------+ | 10 | Adm | | 20 | Mar | #æŸ¥è¯¢æ²¡æœ‰å¥³æœ‹å‹çš„ç”·ç”Ÿä¿¡æ¯ mysql\u0026gt; select b.* from boys b where not exists(select boyfriend_id from beauty where boyfriend_id =b.id) ; +----+---------+--------+ | id | boyName | userCP | +----+---------+--------+ | 4 | æ®µèª‰ | 300 | +----+---------+--------+ 1 row in set (0.00 sec) ç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; select last_name , salary from employees where department_id = (select department_id from employees where last_name = \u0026#39;Zlotkey\u0026#39;) ; +------------+----------+ | last_name | salary | +------------+----------+ | Russell | 14000.00 | | Partners | 13500.00 | mysql\u0026gt; select last_name , salary from employees where salary \u0026gt; (select avg(salary) from employees ) ; +------------+----------+ | last_name | salary | +------------+----------+ | K_ing | 24000.00 | | Kochhar | 17000.00 | #æŸ¥è¯¢å„éƒ¨é—¨ä¸­å·¥èµ„æ¯”æœ¬éƒ¨é—¨å¹³å‡å·¥èµ„ä¸­æçš„å‘˜å·¥å’Œå‘˜å·¥å·,å§“åå’Œå·¥èµ„ mysql\u0026gt; select e.department_id , e.employee_id , e.last_name , e.salary from employees e where salary \u0026gt;(select avg(salary) from employees where department_id = e.department_id ) ; +---------------+-------------+-----------+----------+ | department_id | employee_id | last_name | salary | +---------------+-------------+-----------+----------+ | 90 | 100 | K_ing | 24000.00 | | 60 | 103 | Hunold | 9000.00 | mysql\u0026gt; select department_id , employee_id , last_name from employees where department_id in (select department_id from employees where last_name like \u0026#39;%u%\u0026#39;) ; +---------------+-------------+-------------+ | department_id | employee_id | last_name | +---------------+-------------+-------------+ | 60 | 103 | Hunold | | 60 | 104 | Ernst | #æŸ¥è¯¢éƒ¨é—¨çš„location_idæ˜¯1700çš„éƒ¨é—¨å·¥ä½œçš„å‘˜å·¥çš„å‘˜å·¥å· mysql\u0026gt; select e.employee_id , e.department_id from employees e where e.department_id in (select department_id from departments where location_id =1700) ; +-------------+---------------+ | employee_id | department_id | +-------------+---------------+ | 200 | 10 | | 114 | 30 | mysql\u0026gt; select last_name , salary from employees where manager_id in (select employee_id from employees where last_name = \u0026#39;K_ing\u0026#39;) ; +-----------+----------+ | last_name | salary | +-----------+----------+ | Kochhar | 17000.00 | | De Haan | 17000.00 | #æŸ¥è¯¢æœ€é«˜å·¥èµ„çš„å‘˜å·¥çš„å§“å,è¦æ±‚first_nameå’Œlast_nameæ˜¾ç¤ºä¸ºä¸€åˆ—,åˆ—åä¸ºå§“å mysql\u0026gt; select concat(a.å§“ , a.å)å§“å from (select first_name å§“,last_name å from employees where salary = (select max(salary) from employees)) a ; +-------------+ | å§“å | +-------------+ | StevenK_ing | +-------------+ 1 row in set (0.00 sec) åˆ†é¡µæŸ¥è¯¢ åº”ç”¨åœºæ™¯:å½“è¦æ˜¾ç¤ºçš„æ•°æ®,ä¸€é¡µæ˜¾ç¤ºä¸å…¨,éœ€è¦åˆ†é¡µæäº¤sqlè¯·æ±‚çš„æ—¶å€™\nè¯­æ³•:select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ inner join è¡¨2 on è¿æ¥æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåçš„å­—æ®µ limit offset,size ;\noffsetè¦æ˜¾ç¤ºæ¡ç›®çš„èµ·å§‹ç´¢å¼•(èµ·å§‹ç´¢å¼•ä»0å¼€å§‹)\nsizeè¦æ˜¾ç¤ºçš„æ¡ç›®ä¸ªæ•°\nç‰¹ç‚¹:\nlimitè¯­å¥æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å å…¬å¼ è¦æ˜¾ç¤ºçš„é¡µæ•° page æ¯é¡µçš„æ¡ç›®æ•°size , é‚£ä¹ˆå°±æ˜¯limit (page-1)*size,size mysql\u0026gt; select * from employees limit 0,5 ; +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | 100 | Steven | K_ing | SKING | 515.123.4567 | AD_PRES | 24000.00 | NULL | NULL | 90 | 1992-04-03 00:00:00 | | 101 | Neena | Kochhar | NKOCHHAR | 515.123.4568 | AD_VP | 17000.00 | NULL | 100 | 90 | 1992-04-03 00:00:00 | | 102 | Lex | De Haan | LDEHAAN | 515.123.4569 | AD_VP | 17000.00 | NULL | 100 | 90 | 1992-04-03 00:00:00 | | 103 | Alexander | Hunold | AHUNOLD | 590.423.4567 | IT_PROG | 9000.00 | NULL | 102 | 60 | 1992-04-03 00:00:00 | | 104 | Bruce | Ernst | BERNST | 590.423.4568 | IT_PROG | 6000.00 | NULL | 103 | 60 | 1992-04-03 00:00:00 | +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ 5 rows in set (0.00 sec) #å¦‚æœä»ç¬¬ä¸€æ¡å¼€å§‹çš„è¯,é‚£ä¹ˆè¿™æ ·å¯ä»¥çœç•¥å‰ä¸€ä¸ªæ•°å­— mysql\u0026gt; select * from employees limit 5 ; +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ | 100 | Steven | K_ing | SKING | 515.123.4567 | AD_PRES | 24000.00 | NULL | NULL | 90 | 1992-04-03 00:00:00 | | 101 | Neena | Kochhar | NKOCHHAR | 515.123.4568 | AD_VP | 17000.00 | NULL | 100 | 90 | 1992-04-03 00:00:00 | | 102 | Lex | De Haan | LDEHAAN | 515.123.4569 | AD_VP | 17000.00 | NULL | 100 | 90 | 1992-04-03 00:00:00 | | 103 | Alexander | Hunold | AHUNOLD | 590.423.4567 | IT_PROG | 9000.00 | NULL | 102 | 60 | 1992-04-03 00:00:00 | | 104 | Bruce | Ernst | BERNST | 590.423.4568 | IT_PROG | 6000.00 | NULL | 103 | 60 | 1992-04-03 00:00:00 | +-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+ 5 rows in set (0.00 sec) #ç¬¬11åˆ°ç¬¬25æ¡ mysql\u0026gt; select * from employees limit 10,15 ; mysql\u0026gt; select * from employees where commission_pct is not null order by salary*(1+commission_pct) desc limit 0,10 ; ç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; select substr(email,1,instr(email,\u0026#39;@\u0026#39;)-1) from stuinfo ; mysql\u0026gt; select count(*) ä¸ªæ•° , sex from stuinfo group by sex ; mysql\u0026gt; select min(age) , (select gradeName , id from grade where id = stuinfo.gradeid) from stuinfo group by gradeId ; mysql\u0026gt; select min(age) , (select gradeName , id from grade where id = stuinfo.id) from stuinfo group by gradeId having min(age)\u0026gt;20; æŸ¥è¯¢è¯­å¥ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰å…³é”®å­—,ä»¥åŠæ‰§è¡Œå…ˆåé¡ºåº. select æŸ¥è¯¢åˆ—è¡¨ â‘¦\nfrom è¡¨ â‘  é”å®šæ•°æ®æº\nè¿æ¥ç±»å‹ join è¡¨2 â‘¡æ‹¼æ¥æ•°æ®æº ç¬›å¡å°”å„¿ä¹˜ç§¯\non è¿æ¥æ¡ä»¶ â‘¢ç¼©å°æ•°æ®æº éç¬›å¡å°”ä¹˜ç§¯\nwhere ç­›é€‰æ¡ä»¶ â‘£ç¼©å°æ•°æ®èŒƒå›´\ngroup by åˆ†ç»„åˆ—è¡¨ â‘¤\nhaving åˆ†ç»„åçš„ç­›é€‰ â‘¥åˆ†ç»„åç­›é€‰\norder by æ’åºåˆ—è¡¨ â‘§\nlimit åç§»,æ¡ç›®æ•°; â‘¨\nsql99è¯­æ³• å†…è¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„åˆ—è¡¨ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨ limitå­å¥\nç‰¹ç‚¹:\nè¡¨çš„é¡ºåºå¯ä»¥è°ƒæ¢\nå†…è¿æ¥çš„ç»“æœ=å¤šè¡¨çš„äº¤é›†\nnè¡¨è¿æ¥è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶\nåˆ†ç±»: ç­‰å€¼è¿æ¥ éç­‰å€¼è¿æ¥ è‡ªè¿æ¥\nå¤–è¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å left|right|full outer join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶\nwhere ç­›é€‰æ¡ä»¶ group by åˆ†ç»„åˆ—è¡¨ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨ limit å­å¥;\nç‰¹ç‚¹:\næŸ¥è¯¢çš„ç»“æœ=ä¸»è¡¨ä¸­æ‰€æœ‰çš„è¡Œ,å…¶ä¸­ä»è¡¨å’Œä»–åŒ¹é…çš„å°†æ˜¾ç¤ºåŒ¹é…è¡Œ,å¦‚æœä»è¡¨æ²¡æœ‰åŒ¹é…çš„åˆ™æ˜¾ç¤ºnull\nleft join å·¦è¾¹çš„å°±æ˜¯ä¸»è¡¨,right joinå³è¾¹çš„å°±æ˜¯ä¸»è¡¨\nfull join ä¸¤è¾¹éƒ½æ˜¯ä¸»è¡¨\nä¸€èˆ¬ç”¨äºæŸ¥è¯¢é™¤äº†äº¤é›†éƒ¨åˆ†çš„å‰©ä½™çš„ä¸åŒ¹é…çš„è¡Œ\näº¤å‰è¿æ¥ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å cross join è¡¨2 åˆ«å ;\n**ç‰¹ç‚¹:\t**\nç±»ä¼¼äºç¬›å¡å°”ä¹˜ç§¯\nå­æŸ¥è¯¢ åµŒå¥—åœ¨å…¶ä»–è¯­å¥å†…éƒ¨çš„selectè¯­å¥ç§°ä¸ºå­æŸ¥è¯¢æˆ–å†…æŸ¥è¯¢\nå¤–é¢çš„è¯­å¥å¯ä»¥æ˜¯insert update select delete ç­‰ç­‰,ä¸€èˆ¬select ä½œä¸ºå¤–é¢è¯­å¥è¾ƒå¤š\nå¤–é¢å¦‚æœä¸ºselectè¯­å¥,åˆ™æ­¤è¯­å¥æˆä¸ºå¤–æŸ¥è¯¢æˆ–ä¸»æŸ¥è¯¢\n**åˆ†ç±»:\t**\næŒ‰å‡ºç°çš„ä½ç½®\nselect åé¢ ä»…ä»…æ”¯æŒæ ‡é‡å­æŸ¥è¯¢ from åé¢ è¡¨å­æŸ¥è¯¢ whereæˆ–havingåé¢ æ ‡é‡å­æŸ¥è¯¢ / åˆ—å­æŸ¥è¯¢ / è¡Œå­æŸ¥è¯¢ existsåé¢ æ ‡é‡å­æŸ¥è¯¢ åˆ—å­æŸ¥è¯¢ è¡Œå­æŸ¥è¯¢ è¡¨å­æŸ¥è¯¢ æŒ‰ç»“æœé›†çš„è¡Œåˆ—\næ ‡é‡å­æŸ¥è¯¢(å•è¡Œå­æŸ¥è¯¢):ç»“æœé›†ä¸ºä¸€è¡Œä¸€åˆ— åˆ—å­æŸ¥è¯¢(å¤šè¡Œå­æŸ¥è¯¢):ç»“æœé›†ä¸ºå¤šè¡Œä¸€åˆ— è¡Œå­æŸ¥è¯¢(ç»“æœé›†ä¸ºå¤šè¡Œå¤šåˆ—) è¡¨å­æŸ¥è¯¢(ç»“æœé›†ä¸ºå¤šè¡Œå¤šåˆ—) ç¤ºä¾‹\næ ‡é‡å­æŸ¥è¯¢\næŸ¥è¯¢æœ€ä½å·¥èµ„çš„å‘˜å·¥å§“åå’Œå·¥èµ„\nmysql\u0026gt; select last_name , salary from employees where salary=(select min(salary) from employees) ; +-----------+---------+ | last_name | salary | +-----------+---------+ | Olson | 2100.00 | +-----------+---------+ 1 row in set (0.00 sec) åˆ—å­æŸ¥è¯¢\næŸ¥è¯¢æ‰€æœ‰æ˜¯é¢†å¯¼çš„å‘˜å·¥å§“å\nmysql\u0026gt; select last_name from employees where employee_id in (select manager_id from employees) ; +-----------+ | last_name | +-----------+ | K_ing | | De Haan | åˆ†é¡µæŸ¥è¯¢ å½“è¦æŸ¥è¯¢çš„æ¡ç›®æ•°å¤ªå¤š,ä¸€é¡µæ˜¾ç¤ºä¸å…¨\nè¯­æ³•\nselect æŸ¥è¯¢åˆ—è¡¨ from è¡¨ limit offset,size\n**æ³¨æ„\t** offsetä»£è¡¨çš„æ˜¯èµ·å§‹çš„æ¡ç›®ç´¢å¼•,é»˜è®¤æ˜¯ä»0å¼€å§‹ sizeä»£è¡¨çš„æ˜¯è¦æ˜¾ç¤ºçš„æ¡ç›®æ•°\nå…¬å¼ limit (page-1)*size , size\nç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; select last_name from employees where employee_id in (select manager_id from employees) ; +-----------+ | last_name | +-----------+ | K_ing | | De Haan | #æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯ ç›´æ¥ä½¿ç”¨order by å¹³å‡å·¥èµ„ asc å†limit 1 mysql\u0026gt; select d.* from departments d where d.department_id = (select department_id from employees group by department_id order by avg(salary) asc limit 1); +---------------+-----------------+------------+-------------+ | department_id | department_name | manager_id | location_id | +---------------+-----------------+------------+-------------+ | 50 | Shi | 121 | 1500 | +---------------+-----------------+------------+-------------+ #æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯å’Œå®ƒçš„å¹³å‡å·¥èµ„ mysql\u0026gt; select d.*,a.avgsalary from departments d join (select department_id,avg(salary) avgsalary from employees group by department_id order by avg(salary) asc limit 1) a on d.department_id = a.department_id; +---------------+-----------------+------------+-------------+-------------+ | department_id | department_name | manager_id | location_id | avgsalary | +---------------+-----------------+------------+-------------+-------------+ | 50 | Shi | 121 | 1500 | 3475.555556 | +---------------+-----------------+------------+-------------+-------------+ 1 row in set (0.00 sec) #æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€é«˜çš„jobä¿¡æ¯ mysql\u0026gt; select j.* from jobs j where j.job_id =(select job_id from employees group by job_id order by avg(salary) desc limit 1); +---------+-----------+------------+------------+ | job_id | job_title | min_salary | max_salary | +---------+-----------+------------+------------+ | AD_PRES | President | 20000 | 40000 | +---------+-----------+------------+------------+ mysql\u0026gt; select avg(salary),department_id from employees group by department_id having avg(salary) \u0026gt; (select avg(salary) from employees ) ; +--------------+---------------+ | avg(salary) | department_id | +--------------+---------------+ | 7000.000000 | NULL | | 9500.000000 | 20 | | 6500.000000 | 40 | | 10000.000000 | 70 | | 8955.882353 | 80 | | 19333.333333 | 90 | | 8600.000000 | 100 | | 10150.000000 | 110 | +--------------+---------------+ mysql\u0026gt; select * from employees where employee_id in (select manager_id from employees ) ; +-------------+------------+-----------+----------+--------------------+---------+----------+----------------+------------+---------------+---------------------+ | employee_id | first_name | last_name | email | phone_number | job_id | salary | commission_pct | manager_id | department_id | hiredate | +-------------+------------+-----------+----------+--------------------+---------+----------+----------------+------------+---------------+---------------------+ | 100 | Steven | K_ing | SKING | 515.123.4567 | AD_PRES | 24000.00 | NULL | NULL | 90 | 1992-04-03 00:00:00 | | 102 | Lex | De Haan | LDEH #æŸ¥è¯¢å„ä¸ªéƒ¨é—¨ä¸­æœ€é«˜å·¥èµ„ä¸­æœ€ä½çš„é‚£ä¸ªéƒ¨é—¨çš„æœ€ä½å·¥èµ„æ˜¯å¤šå°‘ mysql\u0026gt; select min(salary) from employees where department_id =(select department_id from (select max(salary),department_id from employees group by department_id order by max(salary) asc limit 1) a ); +-------------+ | min(salary) | +-------------+ | 4400.00 | +-------------+ 1 row in set (0.00 sec) #æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€é«˜çš„éƒ¨é—¨çš„managerçš„è¯¦ç»†ä¿¡æ¯:last_name , department_id , email , salary mysql\u0026gt; select last_name , department_id , email , salary from employees where employee_id =(select manager_id from departments where department_id = (select department_id from employees group by department_id order by avg(salary) desc limit 1)) ; +-----------+---------------+-------+----------+ | last_name | department_id | email | salary | +-----------+---------------+-------+----------+ | K_ing | 90 | SKING | 24000.00 | +-----------+---------------+-------+----------+ ç»ƒä¹ ä¸€ä¸‹\nmysql\u0026gt; select count(*)ä¸ªæ•° , (select majorid from major where majorid = s.majorid)ä¸“ä¸šå· from student s group by majorid ; +------+--------+ | ä¸ªæ•° | ä¸“ä¸šå· | +------+--------+ | 8 | 1 | | 3 | 2 | mysql\u0026gt; select avg(score),max(score) from result group by studentno ; +--------------------+------------+ | avg(score) | max(score) | +--------------------+------------+ | 100 | 100 | | 90 | 90 | #æŸ¥è¯¢å§“å¼ çš„æ¯ä¸ªå­¦ç”Ÿçš„æœ€ä½åˆ†å¤§äº60çš„å­¦å·å§“å å…¶å®å¯ä»¥ç”¨join å°±ä¸ç”¨é‚£ä¹ˆéº»çƒ¦äº† mysql\u0026gt; select min(score) æœ€ä½åˆ†,r.studentno,(select s.studentname from student s where s.studentno=r.studentno and s.studentname like\u0026#39;å¼ %\u0026#39;) a from result r group by r.studentno having æœ€ä½åˆ†\u0026gt;60 and a is not null ; +--------+-----------+--------+ | æœ€ä½åˆ† | studentno | a | +--------+-----------+--------+ | 100 | s001 | å¼ ä¸‰å° | | 70 | s004 | å¼ ç¿ å±± | +--------+-----------+--------+ #å¯ä»¥ä½¿ç”¨diffå‡½æ•° å’Œ join mysql\u0026gt; select s.studentname,(select majorname from major where majorid = s.majorid) ä¸“ä¸šåç§° from student s where s.borndate \u0026gt; \u0026#39;1998-1-1\u0026#39; ; +-------------+----------+ | studentname | ä¸“ä¸šåç§° | +-------------+----------+ | å¼ æ— å¿Œ | html5 | | èµµæ• | javaee | +-------------+----------+ 2 rows in set (0.00 sec) mysql\u0026gt; select s.studentname from student s join major m on s.majorid = m.majorid where datediff(s.borndate,\u0026#39;1998-1-1\u0026#39;)\u0026gt;0 ; +-------------+ | studentname | +-------------+ | å¼ æ— å¿Œ | | èµµæ• | +-------------+ 2 rows in set (0.00 sec) #æŸ¥è¯¢æ¯ä¸ªä¸“ä¸šçš„ç”·ç”Ÿäººæ•°å’Œå¥³ç”Ÿäººæ•°åˆ†åˆ«æ˜¯å¤šå°‘ åœ¨è¿™é‡Œs.majorid=s1.majorid s1ä¸€å®šä¸èƒ½çœç•¥ mysql\u0026gt; select s1.majorid,(select count(*) from student s where s.majorid=s1.majorid and s.sex =\u0026#39;ç”·\u0026#39;)ç”·ç”Ÿ,(select count(*) from student s where s.majorid=s1.majorid and s.sex=\u0026#39;å¥³\u0026#39;) å¥³ç”Ÿ from student s1 group by s1.majorid ; +---------+------+------+ | majorid | ç”·ç”Ÿ | å¥³ç”Ÿ | +---------+------+------+ | 1 | 5 | 3 | | 2 | 2 | 1 | | 3 | 2 | 2 | +---------+------+------+ 3 rows in set (0.00 sec) #æŸ¥è¯¢ä¸“ä¸šå’Œå¼ ç¿ å±±ä¸€æ ·çš„å­¦ç”Ÿçš„æœ€ä½åˆ† mysql\u0026gt; select min(score) from result where studentno in (select s.studentno from student s where majorid =(select majorid from student where studentname =\u0026#39;å¼ ç¿ å±±\u0026#39;) and studentname \u0026lt;\u0026gt;\u0026#39;å¼ ç¿ å±±\u0026#39;) group by studentno; +------------+ | min(score) | +------------+ | 100 | | 90 | +------------+ 2 rows in set (0.00 sec) #æŸ¥è¯¢å¤§äº60åˆ†çš„å­¦ç”Ÿçš„å§“å å¯†ç  ä¸“ä¸šå mysql\u0026gt; select s.studentname , s.loginpwd , (select majorname from major where majorid = s.majorid) from student s where s.studentno in (select distinct studentno from result where score \u0026gt;60) ; +-------------+----------+---------------------------------------------------------+ | studentname | loginpwd | (select majorname from major where majorid = s.majorid) | +-------------+----------+---------------------------------------------------------+ | å¼ ä¸‰å° | 8888 | javaee | | æ®·å¤©æ­£ | 8888 | javaee | | å‘¨ä¼¯é€š | 8888 | html5 | | å¼ ç¿ å±± | 8888 | javaee | | å°å°å¼  | 8888 | android | | å¼ æ— å¿Œ | 8888 | html5 | +-------------+----------+---------------------------------------------------------+ #æŒ‰é‚®ç®±çš„ä½æ•°åˆ†ç»„,å¹¶æŸ¥è¯¢ä¸ªæ•° mysql\u0026gt; select count(*)ä¸ªæ•°, length(s.email) from student s group by length(s.email) ; +------+-----------------+ | ä¸ªæ•° | length(s.email) | +------+-----------------+ | 1 | 20 | | 2 | 19 | | 2 | 18 | | 6 | NULL | | 2 | 17 | | 2 | 15 | +------+-----------------+ #æŸ¥è¯¢å­¦ç”Ÿå ä¸“ä¸šå åˆ†æ•° è¿™æ˜¯é”™è¯¯çš„ å¦‚æœä½¿ç”¨joinæ˜¯å–å®Œå…¨äº¤é›† mysql\u0026gt; select s.studentname ,m.majorname , r.score from student s join major m on s.majorid = m.majorid join result r on s.studentno = r.studentno ; +-------------+-----------+-------+ | studentname | majorname | score | +-------------+-----------+-------+ | å¼ ç¿ å±± | javaee | 70 | | æ®·å¤©æ­£ | javaee | 90 | #æŸ¥è¯¢å­¦ç”Ÿå ä¸“ä¸šå åˆ†æ•° è¿™æ˜¯é”™è¯¯çš„ åº”è¯¥ä½¿ç”¨left joiné˜²æ­¢å‡ºç°scoreä¸ºnullçš„æƒ…å†µ mysql\u0026gt; select s.studentname ,m.majorname , r.score from student s join major m on s.majorid = m.majorid left join result r on s.studentno = r.studentno ; +-------------+-----------+-------+ | studentname | majorname | score | +-------------+-----------+-------+ | å¼ ä¸‰å° | javaee | 100 | | æ®·å¤©æ­£ | javaee | 90 | | å‘¨ä¼¯é€š | html5 | 80 | mysql\u0026gt; select s.studentname ,m.majorname , r.score from student s join major m on s.majorid = m.majorid left join result r on s.studentno = r.studentno ; #æŸ¥è¯¢æ²¡æœ‰æˆç»©çš„å­¦ç”Ÿäººæ•° mysql\u0026gt; select * from (select distinct s.studentno å­¦å·,(select score from result where studentno =s.studentno limit 1 )a from student s) b where b.a is null ; +------+------+ | å­¦å· | a | +------+------+ | S007 | NULL | | S008 | NULL | | S009 | NULL | mysql\u0026gt; select count(*) from (select distinct s.studentno å­¦å·,(select score from result where studentno =s.studentno limit 1 )a from student s) b where b.a is null ; +----------+ | count(*) | +----------+ | 9 | +----------+ è”åˆæŸ¥è¯¢ union è”åˆ åˆå¹¶:å°†å¤šæ¡æŸ¥è¯¢è¯­å¥çš„ç»“æœåˆå¹¶æˆä¸€ä¸ªç»“æœ\næŸ¥è¯¢è¯­å¥1 union æŸ¥è¯¢è¯­å¥2 union æŸ¥è¯¢è¯­å¥3 \u0026hellip;\næŸ¥è¯¢éƒ¨é—¨ç¼–å·\u0026gt;90 æˆ– é‚®ç®±åŒ…å«açš„å‘˜å·¥ä¿¡æ¯\nåº”ç”¨åœºæ™¯\nä¿è¯ä¸¤ä¸ªè¡¨çš„åˆ—æ•°ä¸€è‡´ , å¹¶ä¸è¦æ±‚ä¸¤ä¸ªè¡¨çš„åˆ—åä¸€è‡´ ,å°±å¯ä»¥ä½¿ç”¨è”åˆæŸ¥è¯¢\nè¦æŸ¥è¯¢çš„ç»“æœæ¥æºäºå¤šä¸ªè¡¨,ä¸”å¤šä¸ªè¡¨æ²¡æœ‰ç›´æ¥çš„è¿æ¥å…³ç³»,ä½†æŸ¥è¯¢çš„ä¿¡æ¯ä¸€è‡´æ—¶\nä¾‹å¦‚å…¨ç«™æœç´¢ ,è‚¯å®šä¸å¯èƒ½æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªè¡¨é‡Œ , æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦union\næ³¨æ„\nunion ä¼šé»˜è®¤å»é‡\nunion all å¯ä»¥åŒ…å«é‡å¤é¡¹\nmysql\u0026gt; select * from employees where department_id \u0026gt;90 or email like\u0026#39;%a%\u0026#39; ; mysql\u0026gt; select * from employees where department_id \u0026gt;90 union select * from employees where email like\u0026#39;%a%\u0026#39; ; DMLè¯­è¨€ æ•°æ®æ“ä½œè¯­è¨€ æ’å…¥ insert\næ›´æ–° update\nåˆ é™¤ delete\næ’å…¥è¯­å¥ æ–¹å¼ä¸€\nè¯­æ³•:\ninsert into è¡¨å(åˆ—å, \u0026hellip;) values(å€¼, \u0026hellip;) ;\næ³¨æ„\næ’å…¥çš„å€¼çš„ç±»å‹è¦ä¸åˆ—çš„ç±»å‹ä¸€ç›´æˆ–å…¼å®¹ ä¸å¯ä»¥ä¸ºnullçš„åˆ—å¿…é¡»æ’å…¥å€¼,å¯ä»¥ä¸ºnullçš„åˆ—å¦‚ä½•æ’å…¥å€¼ æ’å…¥null æˆ–è€…åœ¨ into beauty(å°‘ä¸€ç‚¹å­—æ®µ) åˆ—çš„é¡ºåºå¯ä»¥è°ƒæ¢ åˆ—å’Œå€¼çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´ å¯ä»¥çœç•¥åˆ—å,é»˜è®¤æ‰€æœ‰åˆ—å,è€Œä¸”åˆ—çš„é¡ºåºå’Œè¡¨ä¸­åˆ—çš„é¡ºåºä¸€ç›´ #ç»å…¸å‹ insert mysql\u0026gt; insert into beauty(id,name,sex,borndate,phone,photo,boyfriend_id) values(13,\u0026#39;å”è‰ºæ˜•\u0026#39;,\u0026#39;å¥³\u0026#39;,\u0026#39;1990-4-23\u0026#39;,\u0026#39;18988888\u0026#39;,null,2); Query OK, 1 row affected (0.00 sec) mysql\u0026gt; insert into beauty(id,name,sex,phone) values(14,\u0026#39;é‡‘æ˜Ÿ\u0026#39;,\u0026#39;å¥³\u0026#39;,\u0026#39;13888888\u0026#39;); Query OK, 1 row affected (0.00 sec) mysql\u0026gt; insert into beauty values(18,\u0026#39;å¼ é£\u0026#39;,\u0026#39;å¥³\u0026#39;,\u0026#39;1990-4-23\u0026#39;,\u0026#39;119\u0026#39;,null,null); Query OK, 1 row affected (0.00 sec) **æ–¹å¼äºŒ\t**\nè¯­æ³•\ninsert into è¡¨å set åˆ—å = å€¼ , åˆ—å = å€¼ \u0026hellip;\nmysql\u0026gt; insert into beauty set id = 19 , name = \u0026#39;æ–‡æ¶›\u0026#39; , phone = \u0026#39;999\u0026#39; ; Query OK, 1 row affected (0.00 sec) **ä¸¤ç§æ–¹å¼çš„åŒºåˆ«\t**\næ–¹å¼ä¸€æ”¯æŒå¤šè¡Œæ’å…¥,æ–¹å¼äºŒä¸æ”¯æŒ æ–¹å¼ä¸€æ”¯æŒå­æŸ¥è¯¢,æ–¹å¼äºŒä¸æ”¯æŒ #æ–¹å¼ä¸€ æ”¯æŒå­æŸ¥è¯¢ mysql\u0026gt; insert into beauty(id,name,phone) select 26,\u0026#39;å®‹è¥¿\u0026#39;,\u0026#39;11809866\u0026#39;; Query OK, 1 row affected (0.01 sec) Records: 1 Duplicates: 0 Warnings: 0 #æ–¹å¼ä¸€ æ”¯æŒå¤šè¡Œæ’å…¥ mysql\u0026gt; insert into beauty(id,name,phone) select id , boyname,\u0026#39;120\u0026#39; from boys where id\u0026lt;3; ERROR 1062 (23000): Duplicate entry \u0026#39;1\u0026#39; for key \u0026#39;beauty.PRIMARY\u0026#39; ä¿®æ”¹è¯­å¥ ä¿®æ”¹å•è¡¨çš„è®°å½•(é‡è¦)\nupdate è¡¨å set åˆ—=æ–°å€¼ , åˆ—=æ–°å€¼ where ç­›é€‰æ¡ä»¶ ;\nupdate beauty set phone = \u0026#39;11010011\u0026#39; where name like \u0026#39;å”%\u0026#39; ; update boys set boyname = \u0026#39;å¼ é£\u0026#39; ,userCp = 10 where id = 2 ; ä¿®æ”¹å¤šè¡¨çš„è®°å½•(è¡¥å……)\nsql92è¯­æ³•\nupdate è¡¨1 åˆ«å , è¡¨2 åˆ«å\nset åˆ—=å€¼ , \u0026hellip; where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ;\nsql99è¯­æ³•\nupdate è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ set åˆ—=å€¼, \u0026hellip; where ç­›é€‰æ¡ä»¶\n#ä¿®æ”¹å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„æ‰‹æœºå·ä¸º114 mysql\u0026gt; update beauty b join boys on b.boyfriend_id = boys.id set phone = \u0026#39;114\u0026#39; where boys.boyname =\u0026#39;å¼ æ— å¿Œ\u0026#39; ; Query OK, 3 rows affected (0.00 sec) Rows matched: 3 Changed: 3 Warnings: 0 #ä¹Ÿå¯ä»¥ä½¿ç”¨ä¿®æ”¹å•è¡¨ ä½¿ç”¨å­æŸ¥è¯¢ mysql\u0026gt; update beauty b set phone = \u0026#39;115\u0026#39; where b.boyfriend_id = (select id from boys where boyname =\u0026#39;å¼ æ— å¿Œ\u0026#39;) ; Query OK, 3 rows affected (0.00 sec) Rows matched: 3 Changed: 3 Warnings: 0 #ä¿®æ”¹æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥çš„ç”·æœ‹å‹ç¼–å·éƒ½ä¸º2å· #å…ˆselect mysql\u0026gt; select b.name ,b.boyfriend_id,boyname from beauty b left join boys on b.boyfriend_id = boys.id where boyfriend_id is not null and boyname is null; +--------+--------------+---------+ | name | boyfriend_id | boyname | +--------+--------------+---------+ | æŸ³å²© | 8 | NULL | | è‹è€å¸ˆ | 9 | NULL | | å‘¨å†¬é›¨ | 9 | NULL | | å²³çµçŠ | 9 | NULL | | åŒå„¿ | 9 | NULL | | å¤é›ª | 9 | NULL | +--------+--------------+---------+ 6 rows in set (0.00 sec) #å†update mysql\u0026gt; update beauty b left join boys on b.boyfriend_id = boys.id set b.boyfriend_id =2 where boyfriend_id is not null and boyname is null; Query OK, 6 rows affected (0.00 sec) Rows matched: 6 Changed: 6 Warnings: 0 #å†æŸ¥ä¸€ä¸‹ mysql\u0026gt; select b.name ,b.boyfriend_id,boyname from beauty b left join boys on b.boyfriend_id = boys.id where boyfriend_id is not null and boyname is null; Empty set (0.00 sec) åˆ é™¤è¯­å¥ æ–¹å¼ä¸€ delete\næ–¹å¼äºŒ truncate\nè¯­æ³•:truncate table è¡¨å (åˆ é™¤çš„æ˜¯æ‰€æœ‰çš„ ä¸èƒ½åŠ ç­›é€‰æ¡ä»¶)\nå•è¡¨çš„åˆ é™¤\nè¯­æ³•:delete from è¡¨å where ç­›é€‰æ¡ä»¶\nå¤šè¡¨çš„åˆ é™¤\nè¯­æ³•:\nsql92è¯­æ³•\ndelete è¡¨1çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ; //åˆ é™¤çš„æ˜¯è¡¨1çš„æ•°æ®å†…å®¹\ndelete è¡¨2çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ; //åˆ é™¤çš„æ˜¯è¡¨2çš„æ•°æ®å†…å®¹\ndelete è¡¨1çš„åˆ«å, è¡¨2çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ; //åˆ é™¤çš„æ˜¯è¡¨1å’Œè¡¨2çš„æ•°æ®å†…å®¹\nsql99è¯­æ³•\ndelete è¡¨1çš„åˆ«å,è¡¨2çš„åˆ«å from è¡¨1 åˆ«å join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶\n#å•è¡¨çš„åˆ é™¤ delete from beauty where phone like \u0026#39;%9\u0026#39; ; #åˆ é™¤å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„ä¿¡æ¯ #å¤šè¡¨åˆ é™¤ mysql\u0026gt; delete b from beauty b join boys boy on b.boyfriend_id = boy.id where boy.boyname = \u0026#39;å¼ æ— å¿Œ\u0026#39; ; Query OK, 3 rows affected (0.01 sec) #åˆ é™¤é»„æ™“æ˜å’Œä»–å¥³æœ‹å‹çš„ä¿¡æ¯ mysql\u0026gt; delete g , b from beauty g join boys b on g.boyfriend_id = b.id where b.boyname = \u0026#39;é»„æ™“æ˜\u0026#39; ; Query OK, 2 rows affected (0.00 sec) æ–¹å¼äºŒ truncateè¯­å¥\nç›´æ¥æ¸…ç©º truncate table boys ;\ndeleteå’Œtruncateçš„åŒºåˆ« deleteå¯ä»¥åŠ whereæ¡ä»¶ , truncateä¸èƒ½åŠ  truncate åˆ é™¤, æ•ˆç‡é«˜ä¸€ä¸¢ä¸¢ å‡å¦‚è¦åˆ é™¤çš„è¡¨ä¸­æœ‰è‡ªå¢é•¿åˆ—,å¦‚æœç”¨deleteåˆ é™¤å,å†æ’å…¥æ•°æ®,è‡ªå¢é•¿åˆ—çš„å€¼ä¾æ—§æ˜¯ä»æ–­ç‚¹å¼€å§‹,è€Œå¦‚æœtruncateåˆ é™¤å,å†æ’å…¥æ•°æ®,è‡ªå¢é•¿åˆ—çš„å€¼ä»1å¼€å§‹ truncateåˆ é™¤æ²¡æœ‰è¿”å›å€¼,deleteåˆ é™¤æœ‰è¿”å›å€¼ truncateåˆ é™¤å›æ»š,deleteåˆ é™¤å¯ä»¥å›æ»š ç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; desc users ; +---------------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +---------------+-------------+------+-----+---------+-------+ | id | int | YES | | NULL | | | userid | varchar(10) | YES | | NULL | | | department_id | int | YES | | NULL | | +---------------+-------------+------+-----+---------+-------+ mysql\u0026gt; insert into my_employees(First_name,Last_name,Userid,salary) values (\u0026#39;patel\u0026#39;,\u0026#39;Ralph\u0026#39;,\u0026#39;Rpatel\u0026#39;, 895),(\u0026#39;Dance\u0026#39; , \u0026#39;Betty\u0026#39; , \u0026#39;Bdancs\u0026#39; , 860),(\u0026#39;Biri\u0026#39;,\u0026#39;Ben\u0026#39;,\u0026#39;Bbiri\u0026#39;, 1100),(\u0026#39;Newman\u0026#39;,\u0026#39;Chad\u0026#39;,\u0026#39;Cnewman\u0026#39;,750),(\u0026#39;Ropeburn\u0026#39;,\u0026#39;Audrey\u0026#39; ,\u0026#39;Aropebur\u0026#39;,1150); Query OK, 5 rows affected (0.01 sec) Records: 5 Duplicates: 0 Warnings: 0 #ä¹Ÿå¯ä»¥è¿™æ · mysql\u0026gt; insert into my_employees(First_name,Last_name,Userid,salary) select \u0026#39;patel\u0026#39;,\u0026#39;Ralph\u0026#39;,\u0026#39;Rpatel\u0026#39;, 895 union select \u0026#39;Dance\u0026#39; , \u0026#39;Betty\u0026#39; , \u0026#39;Bdancs\u0026#39; , 860 union select \u0026#39;Biri\u0026#39;,\u0026#39;Ben\u0026#39;,\u0026#39;Bbiri\u0026#39;, 1100 union select \u0026#39;Newman\u0026#39;,\u0026#39;Chad\u0026#39;,\u0026#39;Cnewman\u0026#39;,750 union select \u0026#39;Ropeburn\u0026#39;,\u0026#39;Audrey\u0026#39; ,\u0026#39;Aropebur\u0026#39;,1150; mysql\u0026gt; insert into users(userid,id) values(\u0026#39;Rpatel\u0026#39;,10),(\u0026#39;Bdancs\u0026#39;,10),(\u0026#39;Bbiri\u0026#39;,20),(\u0026#39;Chewman\u0026#39;,30),(\u0026#39;Aropebur\u0026#39;,40); Query OK, 5 rows affected (0.01 sec) Records: 5 Duplicates: 0 Warnings: 0 mysql\u0026gt; update my_employees set last_name = \u0026#39;drelxer\u0026#39; where id =3 ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; update my_employees set salary = 1000 where salary \u0026lt;900 ; Query OK, 3 rows affected (0.00 sec) Rows matched: 3 Changed: 3 Warnings: 0 mysql\u0026gt; delete me , u from my_employees me join users u on me.userid = u.userid where u.userid = \u0026#39;Bbiri\u0026#39;; Query OK, 2 rows affected (0.00 sec) mysql\u0026gt; truncate table users ; DDL æ•°æ®å®šä¹‰è¯­è¨€\nåº“å’Œè¡¨çš„ç®¡ç†\nåº“çš„ç®¡ç† åˆ›å»º/ä¿®æ”¹/åˆ é™¤\nè¡¨çš„ç®¡ç† åˆ›å»º/ä¿®æ”¹/åˆ é™¤\nåˆ›å»º:create\nä¿®æ”¹:alter\nåˆ é™¤:drop\nåº“çš„ç®¡ç† åº“çš„åˆ›å»º è¯­æ³• create database [if not exists] åº“å ;\n#å¦‚æœå·²å­˜åœ¨ è¿™æ ·æ‰§è¡Œä¼šæŠ¥é”™ mysql\u0026gt; create database books ; Query OK, 1 row affected (0.01 sec) #ä¼šå…ˆåˆ¤æ–­ä¸€ä¸‹ mysql\u0026gt; create database if not exists books ; Query OK, 1 row affected, 1 warning (0.00 sec) åº“çš„ä¿®æ”¹ æ›´æ”¹åº“çš„å­—ç¬¦é›†\nalter database books character set gbk ; åº“çš„åˆ é™¤ drop database books ; drop database if exists books ; è¡¨çš„ç®¡ç† è¡¨çš„åˆ›å»º create table è¡¨å ( åˆ—å åˆ—çš„ç±»å‹[(é•¿åº¦) çº¦æŸ], åˆ—å åˆ—çš„ç±»å‹[(é•¿åº¦) çº¦æŸ], åˆ—å åˆ—çš„ç±»å‹[(é•¿åº¦) çº¦æŸ], åˆ—å åˆ—çš„ç±»å‹[(é•¿åº¦) çº¦æŸ], åˆ—å åˆ—çš„ç±»å‹[(é•¿åº¦) çº¦æŸ], ... ) mysql\u0026gt; select database() ; +-------------+ | database() | +-------------+ | myemployees | +-------------+ 1 row in set (0.00 sec) mysql\u0026gt; use books ; Database changed mysql\u0026gt; create table book( id int , bName varchar(20) , price double , authorId int ,publishDate datetime) ; Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; desc book ; +-------------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------------+-------------+------+-----+---------+-------+ | id | int | YES | | NULL | | | bName | varchar(20) | YES | | NULL | | | price | double | YES | | NULL | | | authorId | int | YES | | NULL | | | publishDate | datetime | YES | | NULL | | +-------------+-------------+------+-----+---------+-------+ 5 rows in set (0.00 sec) mysql\u0026gt; create table author (id int, au_name varchar(20) , nation varchar(10)) ; Query OK, 0 rows affected (0.02 sec) è¡¨çš„ä¿®æ”¹ alter table è¡¨å add column / drop column / change column /modify column /raname to åˆ—å/åˆ—ç±»å‹/è¡¨å\nä¿®æ”¹åˆ—å ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–çº¦æŸ æ·»åŠ æ–°åˆ— åˆ é™¤åˆ— ä¿®æ”¹è¡¨å #ä¿®æ”¹åˆ—å mysql\u0026gt; alter table book change column publishDate pbDate datetime; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–çº¦æŸ mysql\u0026gt; alter table book modify column pbdate timestamp; Query OK, 0 rows affected (0.05 sec) Records: 0 Duplicates: 0 Warnings: 0 #æ·»åŠ æ–°åˆ— mysql\u0026gt; alter table author add column annual double ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #åˆ é™¤åˆ— mysql\u0026gt; alter table book drop column annual ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 #ä¿®æ”¹è¡¨å mysql\u0026gt; alter table author rename to book_author ; Query OK, 0 rows affected (0.01 sec) è¡¨çš„åˆ é™¤ drop table è¡¨\ndrop table if exist è¡¨\né€šç”¨çš„å†™æ³•:\ndrop database if exists æ—§åº“å ;\ncreate database åº“å ;\ndrop table if exists æ—§è¡¨å;\ncreate table è¡¨å (\u0026hellip;) ;\nè¡¨çš„å¤åˆ¶ ä»…ä»…å¤åˆ¶è¡¨çš„ç»“æ„ mysql\u0026gt; create table copy like author ; Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; select * from copy ; Empty set (0.00 sec) å¤åˆ¶è¡¨çš„ç»“æ„å’Œæ•°æ® #å­æŸ¥è¯¢ mysql\u0026gt; create table copy2 select * from author ; Query OK, 4 rows affected (0.02 sec) Records: 4 Duplicates: 0 Warnings: 0 mysql\u0026gt; select * from copy2 ; +------+----------+--------+ | id | au_name | nation | +------+----------+--------+ | 1 | æ‘ä¸Šæ˜¥æ ‘ | æ—¥æœ¬ | | 2 | è«è¨€ | ä¸­å›½ | | 3 | å†¯å” | ä¸­å›½ | | 4 | é‡‘åº¸ | ä¸­å›½ | +------+----------+--------+ 4 rows in set (0.00 sec) åªå¤åˆ¶éƒ¨åˆ†æ•°æ® #æ ¹æ®ä¸€å¼ è¡¨çš„éƒ¨åˆ†æ•°æ® å»ºç«‹å¦ä¸€å¼ è¡¨ mysql\u0026gt; create table copy3 select id,au_name from author where nation =\u0026#39;ä¸­å›½\u0026#39; ; Query OK, 3 rows affected (0.02 sec) Records: 3 Duplicates: 0 Warnings: 0 mysql\u0026gt; select * from copy3 ; +------+---------+ | id | au_name | +------+---------+ | 2 | è«è¨€ | | 3 | å†¯å” | | 4 | é‡‘åº¸ | +------+---------+ 3 rows in set (0.00 sec) ä»…ä»…å¤åˆ¶æŸäº›å­—æ®µ #è¿™æ ·å°±åªä¼šå¤åˆ¶å­—æ®µ,å¹¶ä¸”ä¸æ»¡è¶³æ¡ä»¶ä¸æºå¸¦ä»»ä½•ä¸€æ¡æ•°æ®è¿‡æ¥ mysql\u0026gt; create table copy4 select id from author where 0 ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; select * from copy4 ; Empty set (0.00 sec) ç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; create database test ; Query OK, 1 row affected (0.01 sec) mysql\u0026gt; create table dept1(id int(7),name varchar(25)); Query OK, 0 rows affected, 1 warning (0.03 sec) #å°†departmentsä¸­çš„æ•°æ®æ’å…¥æ–°è¡¨ mysql\u0026gt; create table dept2 select * from myemployees.departments ; Query OK, 27 rows affected (0.02 sec) Records: 27 Duplicates: 0 Warnings: 0 mysql\u0026gt; create table emp5 (id int(7),first_name varchar(25),last_name varchar(25),dept_id int(7)) ; Query OK, 0 rows affected, 2 warnings (0.02 sec) #è¿™æ ·æ˜¯ä¿®æ”¹åˆ—åå’Œç±»å‹çš„ mysql\u0026gt; alter table emp5 change column last_name last_name varchar(50); Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #è¿™æ ·åªæ˜¯ä¿®æ”¹ç±»å‹çš„ mysql\u0026gt; alter table emp5 modify column last_name varchar(50) ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #å¤åˆ¶ç»“æ„ mysql\u0026gt; create table employees2 like myemployees.employees ; Query OK, 0 rows affected, 2 warnings (0.03 sec) mysql\u0026gt; drop table emp5 ; Query OK, 0 rows affected (0.02 sec) #ä¿®æ”¹è¡¨çš„åå­— mysql\u0026gt; alter table employees2 rename to emp5 ; Query OK, 0 rows affected (0.02 sec) #å¢åŠ åˆ— mysql\u0026gt; alter table dept1 add column test_column int ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; alter table emp5 add column test_column int ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #åˆ é™¤åˆ— mysql\u0026gt; alter table emp5 drop column department_id ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 å¸¸è§çš„æ•°æ®ç±»å‹ æ•°å€¼å‹\næ•´å½¢ å°æ•° å®šç‚¹æ•° æµ®ç‚¹æ•° å­—ç¬¦å‹\nè¾ƒçŸ­çš„æ–‡æœ¬ char varchar è¾ƒé•¿çš„æ–‡æœ¬ text blob(è¾ƒé•¿çš„äºŒè¿›åˆ¶æ•°æ®) æ—¥æœŸå‹:\næ•´å½¢\nimage-20210926214209015\råˆ†ç±»\ntinyint smallint mediumin int/interger bigint\n1 2 3 4 8\nç‰¹ç‚¹\nå¦‚æœä¸è®¾ç½®æ— ç¬¦å·è¿˜æ˜¯æœ‰ç¬¦å·ï¼Œé»˜è®¤æ˜¯æœ‰ç¬¦å·ï¼Œå¦‚æœæƒ³è®¾ç½®æ— ç¬¦å·ï¼Œéœ€è¦æ·»åŠ unsignedå…³é”®å­— å¦‚æœæ’å…¥çš„æ•°å€¼è¶…å‡ºäº†ç±»å‹çš„èŒƒå›´,ä¼šæŠ¥out of rangeå¼‚å¸¸ ,ä½†æ˜¯ä¸mysql5.0ä¸åŒçš„æ˜¯,ç°åœ¨ä¸ä¼šæ’å…¥æ•°æ®äº†,mysql5.0ä¼šæ’å…¥ä¸´ç•Œå€¼ å¦‚æœä¸è®¾ç½®é•¿åº¦,ä¼šæœ‰é»˜è®¤çš„é•¿åº¦ å¦‚ä½•è®¾ç½®æ— ç¬¦å·å’Œæœ‰ç¬¦å·\nmysql\u0026gt; desc tab_int ; +-------+------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------+------+-----+---------+-------+ | t1 | int | YES | | NULL | | +-------+------+------+-----+---------+-------+ 1 row in set (0.01 sec) #è¯´æ˜èƒ½å¤Ÿæ’å…¥è´Ÿæ•° è¯´æ˜é»˜è®¤çš„intæ˜¯æœ‰ç¬¦å·çš„int mysql\u0026gt; insert into tab_int values(-123456) ; Query OK, 1 row affected (0.01 sec) # mysql\u0026gt; drop table if exists tab_int ; Query OK, 0 rows affected (0.02 sec) #æ’å…¥æ— ç¬¦å·intç±»å‹ mysql\u0026gt; create table tab_int ( t1 int , t2 int unsigned) ; Query OK, 0 rows affected (0.02 sec) #æƒ³ç»™æ— ç¬¦å·æ•´æ•°æ’å…¥è´Ÿæ•°çš„è¯ä¼šæŠ¥é”™ 0è¡Œä¸€å…± ä½†æ˜¯åœ¨mysql5.5ä¼šæ’å…¥ ç„¶åé»˜è®¤å¡«å……0 mysql\u0026gt; insert into tab_int values(-123456,-123456) ; ERROR 1264 (22003): Out of range value for column \u0026#39;t2\u0026#39; at row 1 mysql\u0026gt; select * from tab_int ; Empty set (0.00 sec) #zerofill é»˜è®¤é•¿åº¦ä¸å¤Ÿä»¥0å¡«å…… é»˜è®¤æ˜¯æ— ç¬¦å·æ•° int(7)ä¸æ˜¯2çš„7ä½,ä»£è¡¨çš„æ˜¯æ˜¾ç¤ºçš„æœ€å¤§å®½åº¦ mysql\u0026gt; create table int_zeroFill (t1 int(7) zerofill , t2 int(7) zerofill); Query OK, 0 rows affected, 4 warnings (0.02 sec) mysql\u0026gt; desc int_zeroFill ; +-------+--------------------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+--------------------------+------+-----+---------+-------+ | t1 | int(7) unsigned zerofill | YES | | NULL | | | t2 | int(7) unsigned zerofill | YES | | NULL | | +-------+--------------------------+------+-----+---------+-------+ 2 rows in set (0.01 sec) mysql\u0026gt; insert into int_zerofill values (123,123); Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from int_zerofill ; +---------+---------+ | t1 | t2 | +---------+---------+ | 0000123 | 0000123 | +---------+---------+ 1 row in set (0.00 sec) å°æ•° image-20210929224058024\ræµ®ç‚¹å‹\nfloat(M,D)\ndouble(M,D)\nå®šç‚¹å‹\ndec(M,D)\ndecimal(M,D)\nç‰¹ç‚¹:\nMå’ŒDä»€ä¹ˆæ„æ€ mæ˜¯å°æ•°éƒ¨ä½+æ•´æ•°éƒ¨ä½ dæ˜¯å°æ•°éƒ¨ä½ å¦‚æœè¶…è¿‡èŒƒå›´, åˆ™æ’å…¥ä¸´ç•Œå€¼ må’Œdéƒ½å¯ä»¥çœç•¥ å¦‚æœæ˜¯decimal , åˆ™mé»˜è®¤ä¸º10,dé»˜è®¤ä¸º0 å¦‚æœæ˜¯floatå’Œdouble,åˆ™ä¼šæ ¹æ®æ’å…¥çš„æ•°å€¼çš„ç²¾åº¦æ¥å†³å®šç²¾åº¦ å®šç‚¹å‹å’Œæµ®ç‚¹å‹çš„åŒºåˆ« å®šç‚¹å‹çš„ç²¾ç¡®åº¦è¾ƒé«˜,å¦‚æœè¦æ±‚æ’å…¥æ•°å€¼çš„ç²¾åº¦è¾ƒé«˜å¦‚è´§å¸è¿ç®—ç­‰åˆ™è€ƒè™‘ä½¿ç”¨ #å°æ•° mysql\u0026gt; create table tab_float (f1 float(5,2) ,f2 double(5,2) ,f3 decimal(5,2)) ; Query OK, 0 rows affected, 2 warnings (0.02 sec) mysql\u0026gt; insert into tab_float values (123.45,123.45,123.45) ; Query OK, 1 row affected (0.01 sec) #ä¼šè¢«æˆªå– ä½æ•°å¤ªé•¿çš„è¯ mysql\u0026gt; insert into tab_float values (123.456,123.456,123.456) ; Query OK, 1 row affected, 1 warning (0.00 sec) #çŸ­äº†å°±è‡ªåŠ¨å¡«å…… mysql\u0026gt; insert into tab_float values (123.4 , 123.4 , 123.4) ; Query OK, 1 row affected (0.00 sec) #(5,2) 2ä»£è¡¨å°æ•°åå‡ ä½ mysql\u0026gt; select * from tab_float ; +--------+--------+--------+ | f1 | f2 | f3 | +--------+--------+--------+ | 123.45 | 123.45 | 123.45 | | 123.46 | 123.46 | 123.46 | | 123.40 | 123.40 | 123.40 | +--------+--------+--------+ 3 rows in set (0.00 sec) #è¶…å‡ºä½æ•°äº† è¶…å‡ºçš„è¯mysql8.0å°†ä¸ä¼šæ’å…¥ (5,2) 5ä»£è¡¨ä¸€å…±å¤šå°‘ä½æ•° , å¦‚æœå°æ•°ä½2ä½,é‚£æ•´æ•°ä½æœ€å¤š3ä½,æ‰€ä»¥æ•´æ•°æœ€å¤š999 mysql5.0ä¼šæ’å…¥æœ€å¤§å€¼ mysql\u0026gt; insert into tab_float values(1523.4,1523.4,1523.4); ERROR 1264 (22003): Out of range value for column \u0026#39;f1\u0026#39; at row 1 mysql\u0026gt; select * from tab_float ; +--------+--------+--------+ | f1 | f2 | f3 | +--------+--------+--------+ | 123.45 | 123.45 | 123.45 | | 123.46 | 123.46 | 123.46 | | 123.40 | 123.40 | 123.40 | +--------+--------+--------+ 3 rows in set (0.00 sec) #å¦‚æœä¸å¡«å†™ må’Œd decimalé»˜è®¤æ˜¯(10,0) å°æ•°åé¢æ˜¯0ä½ mysql\u0026gt; create table tab_float_default (f1 float , f2 double , f3 decimal) ; Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; desc tab_float_default ; +-------+---------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+---------------+------+-----+---------+-------+ | f1 | float | YES | | NULL | | | f2 | double | YES | | NULL | | | f3 | decimal(10,0) | YES | | NULL | | +-------+---------------+------+-----+---------+-------+ 3 rows in set (0.01 sec) #å¦‚æœæ’å…¥äº†å¤šäº†,ä¼šè‡ªåŠ¨æˆªæ–­ mysql\u0026gt; insert into tab_float_default values (123.456,123.456,123.456) ; Query OK, 1 row affected, 1 warning (0.01 sec) mysql\u0026gt; select * from tab_float_default ; +---------+---------+------+ | f1 | f2 | f3 | +---------+---------+------+ | 123.456 | 123.456 | 123 | +---------+---------+------+ 1 row in set (0.00 sec) é€‰æ‹©ç±»å‹çš„åŸåˆ™ æ‰€é€‰æ‹©çš„ç±»å‹è¶Šç®€å•è¶Šå¥½,èƒ½ä¿å­˜æ•°å€¼çš„ç±»å‹è¶Šå°è¶Šå¥½\nå­—ç¬¦å‹ è¾ƒçŸ­çš„æ–‡æœ¬:\nchar\nvarchar\nè¾ƒé•¿çš„æ–‡æœ¬:\ntext\nblob(è¾ƒå¤§çš„äºŒè¿›åˆ¶)\nå…¶ä»–:\nbinaryå’Œvarbinaryç”¨äºä¿å­˜è¾ƒçŸ­çš„äºŒè¿›åˆ¶æ•°æ®\nenumç”¨äºä¿å­˜æšä¸¾\nsetç”¨äºä¿å­˜é›†åˆ\nimage-20210929230011199\rç‰¹ç‚¹:\nchar char(m) mä»£è¡¨æœ€å¤§çš„å­—ç¬¦æ•°,å¯ä»¥çœç•¥,é»˜è®¤ä¸º1 ä»£è¡¨å›ºå®šé•¿åº¦çš„å­—ç¬¦ æ•ˆç‡é«˜ä¸€ç‚¹ varchar varchar(m) mä»£è¡¨æœ€å¤§çš„å­—ç¬¦æ•°,ä¸å¯ä»¥çœç•¥ å¯å˜é•¿åº¦çš„å­—ç¬¦ æ¯”è¾ƒèŠ‚çœ æ•ˆç‡ä½ä¸€ç‚¹ image-20210929230312590\r#ç±»å‹ä¸ºenumçš„å­—æ®µ mysql\u0026gt; create table tab_char(c1 enum(\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;)); Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; desc tab_char ; +-------+-------------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------------+------+-----+---------+-------+ | c1 | enum(\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;) | YES | | NULL | | +-------+-------------------+------+-----+---------+-------+ 1 row in set (0.01 sec) mysql\u0026gt; insert into tab_char values(\u0026#39;a\u0026#39;) ; Query OK, 1 row affected (0.01 sec) #ä¸åŒºåˆ†å¤§å°å†™ mysql\u0026gt; insert into tab_char values(\u0026#39;A\u0026#39;); Query OK, 1 row affected (0.00 sec) #æ²¡æœ‰å®šä¹‰çš„æ’å…¥ä¸è¿›å» mysql\u0026gt; insert into tab_char values (\u0026#39;m\u0026#39;); ERROR 1265 (01000): Data truncated for column \u0026#39;c1\u0026#39; at row 1 mysql\u0026gt; select * from tab_char ; +------+ | c1 | +------+ | a | | a | +------+ 2 rows in set (0.00 sec) image-20210929230732259\rå¯ä»¥ä»åœ¨ä¸€ä¸ªå­—æ®µé‡Œæ’å…¥å¤šä¸ªå…ƒç´ è¾£\n#åˆ›å»ºç±»å‹ä¸ºsetçš„å­—æ®µ mysql\u0026gt; create table tab_set(s1 set(\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;,\u0026#39;d\u0026#39;)); Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; insert into tab_set values(\u0026#39;a\u0026#39;); Query OK, 1 row affected (0.01 sec) mysql\u0026gt; insert into tab_set values(\u0026#39;a,B\u0026#39;); Query OK, 1 row affected (0.00 sec) #ä¸ç¬¦åˆçš„ä¸ä¼šæ’å…¥ mysql\u0026gt; insert into tab_set values (\u0026#39;a,m\u0026#39;); ERROR 1265 (01000): Data truncated for column \u0026#39;s1\u0026#39; at row 1 mysql\u0026gt; select * from tab_set ; +------+ | s1 | +------+ | a | | a,b | +------+ 2 rows in set (0.00 sec) æ—¥æœŸå‹ åˆ†ç±»:\ndateåªä¿å­˜æ—¥æœŸ\ntimeåªä¿å­˜æ—¶é—´\nyearåªä¿å­˜å¹´\ndatetime ä¿å­˜æ—¥æœŸ+æ—¶é—´\ntimestamp ä¿å­˜æ—¥æœŸ+æ—¶é—´\nç‰¹ç‚¹:\ndatetime å­—èŠ‚ 8 èŒƒå›´ 1000-9999 ä¸å—æ—¶åŒºå½±å“\ntimastamp å­—èŠ‚ 4 èŒƒå›´ 1970-2038 å—æ—¶åŒºå½±å“\nimage-20210929233916597\rimage-20210929234007359\rmysql\u0026gt; select * from tab_date ; +---------------------+---------------------+ | t1 | t2 | +---------------------+---------------------+ | 2021-09-29 23:40:53 | 2021-09-29 23:40:53 | +---------------------+---------------------+ 1 row in set (0.00 sec) #æ—¶åŒº å¦‚æœå°†æ—¶åŒºæ”¹æˆå…¶ä»–æ—¶åŒº , timestampå¯ä»¥æ›´åŠ çœŸå®åœ°åæ˜ å½“å‰æ—¶åŒºçš„çœŸå®æ—¶é—´ è€Œä¸æ˜¯ä¸å˜ mysql\u0026gt; show variables like \u0026#39;time_zone\u0026#39; ; +---------------+--------+ | Variable_name | Value | +---------------+--------+ | time_zone | SYSTEM | +---------------+--------+ 1 row in set, 1 warning (0.00 sec) å¤ä¹ ä¸€ä¸‹ è”åˆæŸ¥è¯¢\nunion è”åˆ , å°†å¤šæ¬¡æŸ¥è¯¢ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªç»“æœ\næŸ¥è¯¢è¯­å¥1 union [all] æŸ¥è¯¢è¯­å¥2 \u0026hellip;\n**æ„ä¹‰\t**\nå°†ä¸€æ¡æ¯”è¾ƒå¤æ‚çš„æŸ¥è¯¢è¯­å¥æ‹†åˆ†ä¸ºå¤šæ¡è¯­å¥ é€‚ç”¨äºæŸ¥è¯¢å¤šä¸ªè¡¨çš„æ—¶å€™,æŸ¥è¯¢çš„åˆ—åŸºæœ¬æ˜¯ä¸€è‡´çš„ ç‰¹ç‚¹\nè¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢åˆ—æ•°å¿…é¡»ä¸€è‡´ è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„å„åˆ—ç±»å‹/é¡ºåºæœ€å¥½ä¸€è‡´ ä¸ä¸€è‡´ä¼šè§†å›¾éšå¼è½¬æ¢ unionä¼šé»˜è®¤å»é‡ å’Œ union all å¯ä»¥åŒ…å«é‡å¤é¡¹ æŸ¥è¯¢çš„è¯­æ³•:\nselect * â‘¦\nfrom è¡¨1 åˆ«å â‘ \njoin è¡¨2 åˆ«å â‘¡\non è¿æ¥æ¡ä»¶ â‘¢\nwhere ç­›é€‰æ¡ä»¶ â‘£\ngroup by åˆ†ç»„æ¡ä»¶ â‘¤\nhaving åˆ†ç»„åç­›é€‰æ¡ä»¶ â‘¥\norder by æ’åºæ¡ä»¶ â‘§\nlimit(èµ·å§‹ç´¢å¼•,æ¡ç›®æ•°)é€‰å¤šå°‘ä¸ª â‘¨\nunion \u0026hellip;\nDMLè¯­è¨€ æ’å…¥\ninsert into è¡¨å (å­—æ®µå , \u0026hellip;) values (\u0026hellip;) //ä¸€ä¸€å¯¹åº”\nç‰¹ç‚¹\nè¦æ±‚å€¼çš„ç±»å‹å’Œå­—æ®µçš„ç±»å‹è¦ä¸€è‡´æˆ–å…¼å®¹ å­—æ®µçš„ä¸ªæ•°å’Œé¡ºåºä¸ä¸€å®šä¸åŸå§‹è¡¨ä¸­çš„å­—æ®µçš„ä¸ªæ•°å’Œé¡ºåºä¸€è‡´,ä½†å¿…é¡»ä¿è¯å€¼å’Œå­—æ®µä¸€ä¸€å¯¹åº” å‡å¦‚å¯ä»¥ä¸ºnullçš„å­—æ®µ,æ³¨æ„å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ’å…¥nullå€¼ å­—æ®µå’Œå€¼éƒ½çœç•¥ å­—æ®µå†™ä¸Š,ç„¶åå€¼ä¹Ÿä½¿ç”¨nullæ’å…¥ å­—æ®µå’Œå€¼çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´ å­—æ®µåå¯ä»¥çœç•¥,ä½†æ˜¯é»˜è®¤ä¸ºæ‰€æœ‰åˆ— æ’å…¥2\ninsert into è¡¨å set å­—æ®µå = å€¼ , å­—æ®µå = å€¼ \u0026hellip;\nä¸¤ç§æ–¹å¼çš„åŒºåˆ«\næ–¹å¼ä¸€æ”¯æŒå­æŸ¥è¯¢\ninsert into è¡¨å (select * from è¡¨å where \u0026hellip;) æ–¹å¼ä¸€æ”¯æŒä¸€æ¬¡æ’å…¥å¤šè¡Œ,æ–¹å¼äºŒä¸æ”¯æŒ\ninsert into è¡¨å values (\u0026hellip;),(\u0026hellip;) \u0026hellip; ä¿®æ”¹å•è¡¨çš„è®°å½• update è¡¨å set å­—æ®µ=å€¼ , å­—æ®µ= å€¼ where ç­›é€‰æ¡ä»¶\nä¿®æ”¹å¤šè¡¨çš„è®°å½• update è¡¨å åˆ«å join è¡¨å åˆ«å on è¿æ¥æ¡ä»¶ set å­—æ®µ=å€¼ , å­—æ®µ = å€¼ where ç­›é€‰è¯­å¥\nåˆ é™¤ æ–¹å¼ä¸€ä½¿ç”¨delete åˆ é™¤å•è¡¨çš„è®°å½•\ndelete from è¡¨å where ç­›é€‰æ¡ä»¶ [limit æ¡ç›®æ•°]\nmysql\u0026gt; select * from copy_girls ; +----+--------+------+---------------------+-------------+--------------+--------------+ | id | name | sex | borndate | phone | photo | boyfriend_id | +----+--------+------+---------------------+-------------+--------------+--------------+ | 1 | æŸ³å²© | å¥³ | 1988-02-03 00:00:00 | 18209876577 | NULL | 2 | | 2 | è‹è€å¸ˆ | å¥³ | 1987-12-30 00:00:00 | 18219876577 | NULL | 2 | | 4 | çƒ­å·´ | å¥³ | 1993-02-03 00:00:00 | 18209876579 | NULL | 2 | | 5 | å‘¨å†¬é›¨ | å¥³ | 1992-02-03 00:00:00 | 18209179577 | NULL | 2 | mysql\u0026gt; delete from copy_girls limit 1 ; Query OK, 1 row affected (0.01 sec) mysql\u0026gt; select * from copy_girls ; +----+--------+------+---------------------+-------------+--------------+--------------+ | id | name | sex | borndate | phone | photo | boyfriend_id | +----+--------+------+---------------------+-------------+--------------+--------------+ | 2 | è‹è€å¸ˆ | å¥³ | 1987-12-30 00:00:00 | 18219876577 | NULL | 2 | | 4 | çƒ­å·´ | å¥³ | 1993-02-03 00:00:00 | 18209876579 | NULL | 2 | åˆ é™¤å¤šè¡¨çš„è®°å½•\ndelete è¡¨1 åˆ«å1, è¡¨2 åˆ«å2 from è¡¨å åˆ«å join è¡¨å åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶\næ–¹å¼äºŒä½¿ç”¨truncate\nä¸¤ç§æ–¹å¼çš„åŒºåˆ«\ndeleteä¸ä¼šè®©è‡ªå¢åˆ—å½’é›¶,ä»æ–­ç‚¹å¼€å§‹,truncateä¼šè®©è‡ªå¢åˆ—å½’é›¶\ndeleteå¯ä»¥åŠ ç­›é€‰æ¡ä»¶,truncate ä¸èƒ½åŠ ç­›é€‰æ¡ä»¶\ntruncate æ•ˆç‡è¾ƒé«˜\ntruncate æ²¡æœ‰è¿”å›å€¼,deleteå¯ä»¥è¿”å›å—å½±å“çš„è¡Œæ•°\ntruncateä¸å¯ä»¥å›æ»š,deleteå¯ä»¥å›æ»š\nDDLè¯­è¨€ åº“çš„ç®¡ç† åˆ›å»ºåº“\ncreate database [if not exists] åº“å [character set å­—ç¬¦é›†å] ;\nä¿®æ”¹åº“\nalter database åº“å character set å­—ç¬¦é›†å ;\nä¿®æ”¹åº“åå¾ˆå°‘ç”¨,ä¸è¡Œå°±æ¢ä¸ªåº“å‘—ä½•å¿…å‘¢,å¦‚æœå®åœ¨è¦æ”¹,å°±å…ˆnet stop mysql80 ç„¶ååˆ°mysql8.0ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­é‡å‘½åæŸä¸ªæ•°æ®åº“å,ç„¶ånet start mysql80 ,åˆ·æ–°æ•°æ®åº“ç®¡ç†å·¥å…·\nåˆ é™¤åº“\ndrop database [if exists] åº“å ;\nè¡¨çš„ç®¡ç†\nåˆ›å»ºè¡¨\ncreate table [if not exists] è¡¨å(å­—æ®µå ç±»å‹ [çº¦æŸ], å­—æ®µå ç±»å‹ [çº¦æŸ] \u0026hellip;) ;\nä¿®æ”¹è¡¨\næ·»åŠ åˆ—\nalter table è¡¨å add column åˆ—å åˆ—çš„ç±»å‹ [first|after å­—æ®µå];\nmysql\u0026gt; create table test_add_column ( -\u0026gt; t1 int , -\u0026gt; t2 int , -\u0026gt; t3 int ); Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; desc test_add_column ; +-------+------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------+------+-----+---------+-------+ | t1 | int | YES | | NULL | | | t2 | int | YES | | NULL | | | t3 | int | YES | | NULL | | +-------+------+------+-----+---------+-------+ 3 rows in set (0.01 sec) mysql\u0026gt; alter table test_add_column add column t11 bigint first ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; desc test_add_column ; +-------+--------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+--------+------+-----+---------+-------+ | t11 | bigint | YES | | NULL | | | t1 | int | YES | | NULL | | | t2 | int | YES | | NULL | | | t3 | int | YES | | NULL | | +-------+--------+------+-----+---------+-------+ ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–è€…çº¦æŸ\nalter table è¡¨å modify column åˆ—å æ–°ç±»å‹[æ–°çº¦æŸ] ;\nä¿®æ”¹åˆ—å\nalter table è¡¨å change column æ—§åˆ—å æ–°åˆ—å ç±»å‹;\nåˆ é™¤åˆ—å\nalter table è¡¨å drop column åˆ—å ;\nä¿®æ”¹è¡¨å\nalter table è¡¨å rename to æ–°è¡¨å\nåˆ é™¤è¡¨\ndrop table [if exists] è¡¨å;\nå¤åˆ¶è¡¨ å¯ä»¥è·¨åº“\nä»…ä»…å¤åˆ¶è¡¨çš„ç»“æ„ create table è¡¨å like åŸè¡¨ ;\nå¤åˆ¶è¡¨çš„ç»“æ„+æ•°æ®\ncreate table è¡¨å select * from åŸè¡¨ ;\ncreate table è¡¨å select ç‰¹å®šå­—æ®µ from åŸè¡¨ where ç­›é€‰æ¡ä»¶\næ•°æ®ç±»å‹ æ•°å€¼å‹\næ•´å‹ tinyint smallint mediumint int integer bigint 1 2 3 4 8 ç‰¹ç‚¹ éƒ½å¯ä»¥è®¾ç½®æ— ç¬¦å·å’Œæœ‰ç¬¦å· é»˜è®¤æ˜¯æœ‰ç¬¦å· ,é€šè¿‡ unsignedè®¾ç½®æ— ç¬¦å· å¦‚æœè¶…å‡ºèŒƒå›´,out of range å¼‚å¸¸,mysql5.0 å’Œ 8.0 ä¸åŒ é•¿åº¦å¯ä»¥ä¸æŒ‡å®š,é»˜è®¤ä¼šæœ‰ä¸€ä¸ªé•¿åº¦ é•¿åº¦ä»£è¡¨çš„æ˜¯æ˜¾ç¤ºçš„æœ€å¤§å®½åº¦,è€Œä¸æ˜¯åªæœ‰2çš„é•¿åº¦ä½é‚£ä¸ªèŒƒå›´,ä½†éœ€è¦æ­é…zerofill,æ­é…ä¹‹åå°†é»˜è®¤å˜ä¸ºæ— ç¬¦å·æ•´å‹ æµ®ç‚¹å‹ å®šç‚¹æ•° decimal(m,d) é»˜è®¤ä¸º(10,0) æµ®ç‚¹æ•° float(m,d) 4ä½å­—èŠ‚ double(m,d) 8ä½å­—èŠ‚ é»˜è®¤ä¸ºå¯å˜çš„ ç‰¹ç‚¹ mä»£è¡¨æ•´æ•°+å°æ•°éƒ¨ä½çš„ä¸ªæ•°,dä»£è¡¨å°æ•°éƒ¨ä½ å¦‚æœè¶…å‡ºèŒƒå›´,åˆ™æŠ¥out of rangeå¼‚å¸¸,å¹¶ä¸”æ’å…¥ä¸´ç•Œå€¼ må’Œdéƒ½å¯ä»¥çœç•¥,ä½†å¯¹äºå®šç‚¹æ•°,mé»˜è®¤ä¸º10,dé»˜è®¤ä¸º0 å¦‚æœç²¾åº¦è¦æ±‚è¾ƒé«˜,åˆ™æœ‰é™è€ƒè™‘ä½¿ç”¨å®šç‚¹æ•° å­—ç¬¦å‹\nchar varchar binary varbinary enum set text blob\nchar:å›ºå®šé•¿åº¦çš„å­—ç¬¦,å†™æ³•ä¸ºchar(M) ,æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡M ,å…¶ä¸­Må¯ä»¥çœç•¥,é»˜è®¤ä¸º1\nvarchar:å¯å˜é•¿åº¦çš„å­—ç¬¦ å†™æ³•varchar(M),æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡M,å…¶ä¸­Mä¸å¯ä»¥çœç•¥\næ—¥æœŸå‹\nyear å¹´\ndate æ—¥æœŸ\ndatetime æ—¥æœŸ+æ—¶é—´ 8\ntime æ—¶é—´\ntimestamp æ—¶é—´æˆ³ 4 1970-2038 æ¯”è¾ƒå®¹æ˜“å—åˆ°æ—¶åŒº,è¯­æ³•æ¨¡å¼,ç‰ˆæœ¬çš„å½±å“,æ›´èƒ½åæ˜ å½“å‰æ—¶åŒºçš„çœŸå®æ—¶é—´\næ–°çš„ä¸€æ°å…‹ å¸¸è§çº¦æŸ å«ä¹‰ : ä¸€ç§é™åˆ¶ , ç”¨äºé™åˆ¶è¡¨ä¸­çš„æ•°æ®,ä¸ºäº†ä¿è¯è¡¨ä¸­çš„æ•°æ®çš„å‡†ç¡®å’Œå¯é æ€§\nåˆ†ç±» å…­å¤§çº¦æŸ\nNOT NULL éç©º ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼ä¸èƒ½ä¸ºç©º æ¯”å¦‚å§“å/å­¦å·ç­‰ç­‰\ndefault é»˜è®¤ , ç”¨äºä¿è¯è¯¥å­—æ®µæœ‰é»˜è®¤å€¼\nPRIMARY KEY ä¸»é”® ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§,å¹¶ä¸”éç©º,å¦‚å­¦å·,å·¥å·\nUNIQUE å”¯ä¸€,ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§,å¯ä»¥ä¸ºç©º å¦‚åº§ä½å·/è€å©†\nCHECK æ£€æŸ¥çº¦æŸ [mysql ä¸æ”¯æŒ] æ¯”å¦‚æ€§åˆ« åªèƒ½ç”·å’Œå¥³ æˆ–è€…é’å¹´äººå¹´é¾„\nFOREIGN KEY å¤–é”®,ç”¨äºé™åˆ¶ä¸¤ä¸ªè¡¨çš„å…³ç³»,ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å¿…é¡»æ¥è‡ªäºä¸»è¡¨çš„å…³è”åˆ—çš„å€¼ åœ¨ä»è¡¨æ·»åŠ å¤–é”®çº¦æŸ,ç”¨äºå¼•ç”¨ä¸»è¡¨ä¸­çš„æŸåˆ—çš„å€¼ ä¾‹å¦‚å­¦ç”Ÿè¡¨çš„ä¸“ä¸šç¼–å·,å‘˜å·¥è¡¨çš„éƒ¨é—¨ç¼–å·,å‘˜å·¥è¡¨çš„å·¥ç§ç¼–å·\næ·»åŠ çº¦æŸçš„æ—¶æœº:\nåˆ›å»ºè¡¨æ—¶ ä¿®æ”¹è¡¨æ—¶ çº¦æŸçš„æ·»åŠ åˆ†ç±»:\nåˆ—çº§çº¦æŸ NOT NULL DEFAULT PRIMARY KEY UNIQUE CHECK FOREIGN KEY å…­å¤§çº¦æŸè¯­æ³•ä¸Šéƒ½æ”¯æŒ,ä½†æ˜¯å¤–é”®çº¦æŸæ²¡æœ‰æ•ˆæœ è¡¨çº§çº¦æŸ é™¤äº†éç©º/é»˜è®¤,å…¶ä»–çš„éƒ½æ”¯æŒ create table è¡¨( å­—æ®µå å­—æ®µç±»å‹ åˆ—çº§çº¦æŸ, å­—æ®µå\tå­—æ®µç±»å‹, è¡¨çº§çº¦æŸ ) åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ\næ·»åŠ åˆ—çº§çº¦æŸ\nè¯­æ³•:ç›´æ¥åœ¨å­—æ®µåå’Œç±»å‹åé¢è¿½åŠ çº¦æŸç±»å‹å³å¯\nåªæ”¯æŒ:é»˜è®¤/éç©º/ä¸»é”®\nmysql\u0026gt; create database students ; Query OK, 1 row affected (0.01 sec) mysql\u0026gt; use students ; Database changed #åˆ›å»ºåˆ—çº§çº¦æŸ mysql\u0026gt; create table stuinfo ( id int primary key , stuName varchar(20) not null , gender char(1) check(gender=\u0026#39;ç”·\u0026#39; or gender=\u0026#39;å¥³\u0026#39;) ,seat int unique,age int default 18,majorId int references major(id)); Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; desc stuinfo ; +---------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +---------+-------------+------+-----+---------+-------+ | id | int | NO | PRI | NULL | | | stuName | varchar(20) | NO | | NULL | | | gender | char(1) | YES | | NULL | | | seat | int | YES | UNI | NULL | | | age | int | YES | | 18 | | | majorId | int | YES | | NULL | | +---------+-------------+------+-----+---------+-------+ 6 rows in set (0.00 sec) #æŸ¥çœ‹ç´¢å¼• å”¯ä¸€/ä¸»é”®/å¤–é”®éƒ½å¯ä»¥æŸ¥çœ‹ mysql\u0026gt; show index from stuinfo ; æ·»åŠ è¡¨çº§çº¦æŸ\nè¯­æ³•:åœ¨å„ä¸ªå­—æ®µçš„æœ€ä¸‹é¢\n[constraint çº¦æŸå] çº¦æŸç±»å‹(å­—æ®µå) \u0026hellip;\nmysql\u0026gt; create table stuinfo(id int , stuname varchar(20),gender char(1),seat int , age int ,majorid int ,constraint pk primary key(id),constraint uq unique(seat) , constraint ck check(gender in (\u0026#39;ç”·\u0026#39;,\u0026#39;å¥³\u0026#39;)),constraint fk_stuinfo_major foreign key(majorid) references major(id)) ; Query OK, 0 rows affected (0.04 sec) mysql\u0026gt; show index from stuinfo ; image-20211001160138048\rconstraint çº¦æŸå å¯ä»¥å»æ‰\nmysql\u0026gt; create table stuinfo(id int , stuname varchar(20),gender char(1),seat int , age int ,majorid int ,primary key(id),unique(seat),check(gender in (\u0026#39;ç”·\u0026#39;,\u0026#39;å¥³\u0026#39;)),foreign key(majorid) references major(id)) ; Query OK, 0 rows affected (0.06 sec) image-20211001160643505\ré€šç”¨å†™æ³•\ncrete table if not exists stuinfo( id int primary key , stuname varchar(20) not null , sex char(1) age int default 18, seat int unique , majorid int , constraint fk_stuinfo_major foreign key(majroid) references major(id) ) ä¸»é”®å’Œå”¯ä¸€çš„å¤§å¯¹æ¯”\nä¿è¯å”¯ä¸€æ€§ æ˜¯å¦å…è®¸ä¸ºç©º ä¸€ä¸ªè¡¨ä¸­å¯ä»¥æœ‰å‡ ä¸ª æ˜¯å¦å…è®¸ç»„åˆé”® ä¸»é”® å¯¹ ä¸å¯¹ ä¸€ä¸ªè¡¨ä¸­è‡³å¤šæœ‰ä¸€ä¸ª æ˜¯,ä½†ä¸æ¨è å”¯ä¸€ å¯¹ å¯¹ å¯ä»¥æœ‰å¤šä¸ª æ˜¯,ä½†ä¸æ¨è primar key (id,stuname) unique (seat,majorid) å¤–é”®:\nè¦æ±‚åœ¨ä»è¡¨è®¾ç½®å¤–é”®å…³ç³» ä»è¡¨çš„å¤–é”®åˆ—çš„ç±»å‹å’Œä¸»è¡¨çš„å…³è”åˆ—ä¸€è‡´æˆ–å…¼å®¹,åç§°æ— æ‰€è°“ ä¸»è¡¨çš„å…³è”å’§å¿…é¡»æ˜¯ä¸€ä¸ªkeyæˆ–è€…å”¯ä¸€é”® æ’å…¥æ•°æ®æ—¶,å…ˆæ’å…¥ä¸»è¡¨,å†æ’å…¥ä»è¡¨ åˆ é™¤æ•°æ®æ—¶,å…ˆåˆ é™¤ä»è¡¨,å†åˆ é™¤ä¸»è¡¨ ä¿®æ”¹è¡¨æ—¶æ·»åŠ çº¦æŸ\næ·»åŠ åˆ—çº§çº¦æŸ alter table è¡¨å mofidy column å­—æ®µå å­—æ®µç±»å‹ æ–°çº¦æŸ ; æ·»åŠ è¡¨çº§çº¦æŸ alter table è¡¨å add [constraint çº¦æŸå] çº¦æŸç±»å‹(å­—æ®µå) [å¤–é”®çš„å¼•ç”¨] ; æ·»åŠ éç©ºçº¦æŸ\næ·»åŠ åˆ—çº§çº¦æŸ\nmysql\u0026gt; drop table if exists stuinfo ; Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; create table stuinfo(id int,stuname varchar(20),gender char(1),seat int,age int,majorid int); Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; alter table stuinfo modify column stuname varchar(20) not null ; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; desc stuinfo; +---------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +---------+-------------+------+-----+---------+-------+ | id | int | YES | | NULL | | | stuname | varchar(20) | NO | | NULL | | | gender | char(1) | YES | | NULL | | | seat | int | YES | | NULL | | | age | int | YES | | NULL | | | majorid | int | YES | | NULL | | +---------+-------------+------+-----+---------+-------+ 6 rows in set (0.00 sec) mysql\u0026gt; alter table stuinfo modify column age int defeault 18 ; mysql\u0026gt; alter table stuinfo modify column age int default 18 ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; alter table stuinfo modify column id int primary key ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 æ·»åŠ è¡¨çº§çº¦æŸ\nmysql\u0026gt; alter table stuinfo add unique(seat); Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 æ·»åŠ å¤–é”®\nmysql\u0026gt; alter table stuinfo add constraint fk_studentinfo_major foreign key(majorid) references major (id) ; Query OK, 0 rows affected (0.05 sec) Records: 0 Duplicates: 0 Warnings: 0 ä¿®æ”¹è¡¨æ—¶åˆ é™¤çº¦æŸ\n#å–æ¶ˆéç©ºçº¦æŸ mysql\u0026gt; alter table stuinfo modify column stuname varchar(20) null ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 #å–æ¶ˆé»˜è®¤çº¦æŸ mysql\u0026gt; alter table stuinfo modify column age int ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 #åˆ é™¤ä¸»é”® mysql\u0026gt; alter table stuinfo drop primary key ; Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 #åˆ é™¤å”¯ä¸€é”® mysql\u0026gt; alter table stuinfo drop index seat ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; show index from stuinfo ; +---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | stuinfo | 1 | fk_studentinfo_major | 1 | majorid | A | 0 | NULL | NULL | YES | BTREE | | | YES | NULL | +---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ 1 row in set (0.01 sec) #åˆ é™¤å¤–é”® mysql\u0026gt; alter table stuinfo drop foreign key fk_studentinfo_major ; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 ç»ƒä¹ ä¸€ä¸‹ #æ·»åŠ ä¸»é”®çº¦æŸ mysql\u0026gt; create table emp2 (id int,constraint my_emp_id_pk primary key(id)); Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; use test ; Database changed #æ·»åŠ ä¸»é”®çº¦æŸ mysql\u0026gt; alter table dept2 add constraint my_dept_id_pk primary key(department_id); Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0 #æ‹·è´æ•°æ®å’Œç»“æ„ mysql\u0026gt; create table emp2 select * from students.emp2 ; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql\u0026gt; show tables ; +-------------------+ | Tables_in_test | +-------------------+ | dept1 | | dept2 | | emp2 | | emp5 | | int_zerofill | | tab_char | | tab_date | | tab_float | | tab_float_default | | tab_int | | tab_set | | test_add_column | +-------------------+ 12 rows in set (0.00 sec) mysql\u0026gt; alter table emp2 add column dept_id int ; Query OK, 0 rows affected (0.02 sec) Records: 0 Duplicates: 0 Warnings: 0 #æ·»åŠ å¤–é”®çº¦æŸ mysql\u0026gt; alter table emp2 add foreign key(dept_id) references dept2(department_id); Query OK, 0 rows affected (0.04 sec) Records: 0 Duplicates: 0 Warnings: 0 è¡¨çº§çº¦æŸå’Œåˆ—çº§çº¦æŸçš„åŒºåˆ«\nâ€‹\tä½ç½®\tæ”¯æŒçš„çº¦æŸç±»å‹\tæ˜¯å¦å¯ä»¥èµ·çº¦æŸå\nåˆ—çº§çº¦æŸ åˆ—çš„åé¢ æ”¯æŒæ‰€æœ‰è¯­æ³•,ä½†æ˜¯å¤–é”®æ²¡æœ‰æ•ˆæœ\tä¸å¯ä»¥èµ·çº¦æŸå\nè¡¨çº§çº¦æŸ æ‰€æœ‰åˆ—çš„ä¸‹é¢ é»˜è®¤å’Œéç©ºä¸æ”¯æŒ,å…¶ä»–æ”¯æŒ\tå¯ä»¥èµ·çº¦æŸå\næ ‡è¯†åˆ— åˆç§°ä¸ºè‡ªå¢é•¿åˆ—\nå¯ä»¥ä¸ç”¨æ‰‹åŠ¨çš„æ’å…¥å€¼ï¼Œç³»ç»Ÿæä¾›é»˜è®¤çš„åºåˆ—å€¼\nåˆ›å»ºè¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—\nç‰¹ç‚¹\næ ‡è¯†åˆ—å¿…é¡»å’Œä¸»é”®æ­é…å—ï¼Ÿä¸ä¸€å®šï¼Œä½†è¦æ±‚æ˜¯ä¸€ä¸ªkey ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šå°‘ä¸ªæ ‡è¯†åˆ—ï¼Ÿè‡³å¤šä¸€ä¸ª æ ‡è¯†åˆ—çš„ç±»å‹åªèƒ½æ˜¯æ•°å€¼å‹ ä¸€èˆ¬æ˜¯int æ ‡è¯†åˆ—å¯ä»¥é€šè¿‡ set auto_increment =3 ;è®¾ç½®æ­¥é•¿ æ ‡è¯†åˆ—å¯ä»¥é€šè¿‡æ‰‹åŠ¨çš„æ–¹å¼è®¾ç½®èµ·å§‹å€¼ mysql\u0026gt; create table tab_identity(id int primary key , name varchar(20) ) ; Query OK, 0 rows affected (0.02 sec) mysql\u0026gt; insert into tab_identity value (1,\u0026#39;john\u0026#39;) ; Query OK, 1 row affected (0.01 sec) #ä¸æ˜¯è‡ªå¢çš„è¯ï¼Œæä¸å®š ä¼šä¸»é”®é‡å¤çš„ mysql\u0026gt; insert into tab_identity value (1,\u0026#39;john\u0026#39;) ; ERROR 1062 (23000): Duplicate entry \u0026#39;1\u0026#39; for key \u0026#39;tab_identity.PRIMARY\u0026#39; mysql\u0026gt; drop table if exists tab_identity ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; create table tab_identity (id int primary key auto_increment , name varchar(20)) ; Query OK, 0 rows affected (0.02 sec) #å¯ä»¥ç»™ä»–ä¸è®¾ç½®åˆ—å€¼ mysql\u0026gt; insert into tab_identity(name) values (\u0026#39;john\u0026#39;) ; Query OK, 1 row affected (0.01 sec) #æˆ–è€…å¯ä»¥ç»™ä»–è®¾ç½®ä¸ºnullå°±å¥½äº† mysql\u0026gt; insert into tab_identity values (null , \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; insert into tab_identity values (null , \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; insert into tab_identity values (null , \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from tab_identity ; +----+------+ | id | name | +----+------+ | 1 | john | | 2 | jwt | | 3 | jwt | | 4 | jwt | +----+------+ 4 rows in set (0.00 sec) mysqlä¸æ”¯æŒè®¾ç½®èµ·å§‹çš„æ•°å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å–å·§çš„åŠæ³•æ‰‹åŠ¨è®¾ç½®\n#æŸ¥çœ‹è‡ªå¢é•¿å˜é‡ mysql\u0026gt; show variables like \u0026#39;%auto_increment%\u0026#39; ; +--------------------------+-------+ | Variable_name | Value | +--------------------------+-------+ | auto_increment_increment | 1 | | auto_increment_offset | 1 | +--------------------------+-------+ 2 rows in set, 1 warning (0.00 sec) #è®¾ç½®è‡ªå¢é•¿çš„æ­¥é•¿ mysql\u0026gt; set auto_increment_increment = 3 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; show variables like \u0026#39;%auto_increment%\u0026#39; ; +--------------------------+-------+ | Variable_name | Value | +--------------------------+-------+ | auto_increment_increment | 3 | | auto_increment_offset | 1 | +--------------------------+-------+ 2 rows in set, 1 warning (0.00 sec) mysql\u0026gt; insert into tab_identity values (null , \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from tab_identity ; +----+------+ | id | name | +----+------+ | 1 | john | | 2 | jwt | | 3 | jwt | | 4 | jwt | | 7 | jwt | +----+------+ 5 rows in set (0.00 sec) #æ‰‹åŠ¨è®¾ç½®èµ·å§‹å€¼ è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ•ˆæœäº† mysql\u0026gt; insert into tab_identity values (100, \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from tab_identity ; +-----+------+ | id | name | +-----+------+ | 1 | john | | 2 | jwt | | 3 | jwt | | 4 | jwt | | 7 | jwt | | 100 | jwt | +-----+------+ 6 rows in set (0.00 sec) mysql\u0026gt; insert into tab_identity values (null , \u0026#39;jwt\u0026#39;) ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from tab_identity ; +-----+------+ | id | name | +-----+------+ | 1 | john | | 2 | jwt | | 3 | jwt | | 4 | jwt | | 7 | jwt | | 100 | jwt | | 103 | jwt | +-----+------+ 7 rows in set (0.00 sec) ä¿®æ”¹è¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—\nalter table tab_identity modify column id int primary key auto_increment ; ä¿®æ”¹è¡¨æ—¶åˆ é™¤æ ‡è¯†åˆ—\nalter table tab_identity modify column id int ; TCL Transaction Control Languaue äº‹åŠ¡æ§åˆ¶è¯­è¨€\näº‹åŠ¡ ä¸€ä¸ªæˆ–è€…ä¸€ç»„sqlè¯­å¥ç»„æˆä¸€ä¸ªæ‰§è¡Œå•å…ƒ,è¿™ä¸ªæ‰§è¡Œå•å…ƒè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ\näº‹åŠ¡çš„ç‰¹ç‚¹\nACID\nåŸå­æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸å¯å†åˆ†å‰²,è¦ä¹ˆæ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ ä¸€è‡´æ€§ ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¼šä½¿æ•°æ®ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€ æŒä¹…æ€§ ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸å—å…¶ä»–äº‹åŠ¡çš„å¹²æ‰° éš”ç¦»æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤,åˆ™ä¼šæ°¸ä¹…çš„æ”¹å˜æ•°æ®åº“çš„æ•°æ® æ¡ˆä¾‹ è½¬è´¦\näº‹åŠ¡:äº‹åŠ¡ç”±å•ç‹¬å•å…ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥ç»„æˆ,åœ¨è¿™ä¸ªå•å…ƒä¸­,æ¯ä¸ªmysqlè¯­å¥æ˜¯ç›¸äº’ä»¥æ¥çš„.è€Œæ•´ä¸ªå•ç‹¬å•å…ƒä½œä¸ºä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“,å¦‚æœå•å…ƒä¸­æŸæ¡sqlè¯­å¥ä¸€æ—¦æ‰§è¡Œå¤±è´¥æˆ–äº§ç”Ÿé”™è¯¯,æ•´ä¸ªå•å…ƒå°†ä¼šå›æ»š.æ‰€æœ‰å—åˆ°å½±å“çš„æ•°æ®å°†è¿”å›åˆ°äº‹åŠ¡å¼€å§‹ä»¥å‰çš„çŠ¶æ€;å¦‚æœå•å…ƒä¸­çš„æ‰€æœ‰sqlè¯­å¥å‡æ‰§è¡ŒæˆåŠŸ,åˆ™äº‹åŠ¡è¢«é¡ºåˆ©æ‰§è¡Œ.\nå­˜å‚¨å¼•æ“ æ¦‚å¿µ:åœ¨mysqlä¸­çš„æ•°æ®ç”¨å„ç§ä¸åŒçš„æŠ€æœ¯å­˜å‚¨åœ¨æ–‡ä»¶(æˆ–å†…å­˜)ä¸­ é€šè¿‡show engines æ¥æŸ¥çœ‹mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“ åœ¨mysqlä¸­ç”¨çš„æœ€å¤šçš„å­˜å‚¨å¼•æ“æœ‰ innodb myisam memory ç­‰ å…¶ä¸­innodbæ”¯æŒäº‹åŠ¡,è€Œmyisam/memoryç­‰ä¸æ”¯æŒäº‹åŠ¡ mysql\u0026gt; show engines ; +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | Engine | Support | Comment | Transactions | XA | Savepoints | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | MEMORY | YES | Hash based, stored in memory, useful for temporary tables | NO | NO | NO | | MRG_MYISAM | YES | Collection of identical MyISAM tables | NO | NO | NO | | CSV | YES | CSV storage engine | NO | NO | NO | | FEDERATED | NO | Federated MySQL storage engine | NULL | NULL | NULL | | PERFORMANCE_SCHEMA | YES | Performance Schema | NO | NO | NO | | MyISAM | YES | MyISAM storage engine | NO | NO | NO | | InnoDB | DEFAULT | Supports transactions, row-level locking, and foreign keys | YES | YES | YES | | BLACKHOLE | YES | /dev/null storage engine (anything you write to it disappears) | NO | NO | NO | | ARCHIVE | YES | Archive storage engine | NO | NO | NO | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ 9 rows in set (0.00 sec) äº‹åŠ¡çš„ACIDå±æ€§\nåŸå­æ€§A äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½,äº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿ,è¦ä¹ˆéƒ½ä¸å‘ç”Ÿ æŒä¹…æ€§D æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤,å®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„,æ¥ä¸‹æ¥çš„å…¶ä»–æ“ä½œå’Œæ•°æ®åº“æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ éš”ç¦»æ€§I äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°,å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å¹¶å‘çš„å…¶ä»–äº‹åŠ¡æ˜¯éš”ç¦»çš„,å¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰° ä¸€è‡´æ€§C äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ äº‹åŠ¡çš„åˆ›å»º\néšå¼äº‹åŠ¡:äº‹åŠ¡æ²¡æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸçš„æ ‡è®° æ¯”å¦‚insert / update / delete è¯­å¥\nmysql\u0026gt; show variables like \u0026#39;autocommit\u0026#39; ; +---------------+-------+ | Variable_name | Value | +---------------+-------+ | autocommit | ON | +---------------+-------+ 1 row in set, 1 warning (0.00 sec) æ˜¾å¼äº‹åŠ¡:äº‹åŠ¡å…·æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸæ ‡è®° å‰ææ˜¯å¿…é¡»å…ˆè®¾ç½®è‡ªåŠ¨æäº¤åŠŸèƒ½ä¸ºç¦ç”¨ #åªæ˜¯é’ˆå¯¹å½“å‰äº‹åŠ¡æœ‰æ•ˆ æ‰€ä»¥æ¯æ¬¡å¼€å¯æ˜¾å¼äº‹åŠ¡çš„æ—¶å€™éƒ½è¦æ‰‹åŠ¨çš„å…³é—­è‡ªåŠ¨æäº¤åŠŸèƒ½ set autocommit = 0 ; æ­¥éª¤1 : å¼€å¯äº‹åŠ¡\nset autocommit = 0\nstart transaction ; å¯é€‰çš„\næ­¥éª¤2 : ç¼–å†™äº‹åŠ¡ä¸­çš„sqlè¯­å¥ select insert update delete \u0026hellip;\nè¯­å¥1\nè¯­å¥2\n\u0026hellip;\næ­¥éª¤3 : ç»“æŸäº‹åŠ¡\ncommit ; æäº¤äº‹åŠ¡\nrollback ; å›æ»šäº‹åŠ¡\nsavepoint èŠ‚ç‚¹å ; è®¾ç½®ä¿å­˜ç‚¹\nmysql\u0026gt; create table account(id int primary key auto_increment , username varchar(20), balance double) ; Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; insert into account (username,balance) values (\u0026#39;å¼ æ— å¿Œ\u0026#39;,1000) , (\u0026#39;èµµæ•\u0026#39;,1000) ; Query OK, 2 rows affected (0.00 sec) Records: 2 Duplicates: 0 Warnings: 0 mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | å¼ æ— å¿Œ | 1000 | | 4 | èµµæ• | 1000 | +----+----------+---------+ 2 rows in set (0.00 sec) #ç¦ç”¨è‡ªåŠ¨æäº¤ å¼€å¯äº‹åŠ¡ mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) #å¼€å¯äº‹åŠ¡ mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; update account set balance =500 where username = \u0026#39;å¼ æ— å¿Œ\u0026#39; ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 #åœ¨navicaté‡ŒæŸ¥çœ‹å¥½åƒæ˜¯1000 1000 mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | å¼ æ— å¿Œ | 500 | | 4 | èµµæ• | 1000 | +----+----------+---------+ 2 rows in set (0.00 sec) #å›æ»šè¯•äº†è¯• mysql\u0026gt; rollback ; Query OK, 0 rows affected (0.00 sec) #æ˜¯å¯ä»¥çš„ mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | å¼ æ— å¿Œ | 1000 | | 4 | èµµæ• | 1000 | +----+----------+---------+ 2 rows in set (0.00 sec) #ä½“éªŒä¸€ä¸‹äº‹åŠ¡ mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; update account set balance = 500 where username = \u0026#39;å¼ æ— å¿Œ\u0026#39; ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; update account set balance = 1500 where username = \u0026#39;èµµæ•\u0026#39; ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 #æäº¤ mysql\u0026gt; commit ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | å¼ æ— å¿Œ | 500 | | 4 | èµµæ• | 1500 | +----+----------+---------+ 2 rows in set (0.00 sec) æ•°æ®åº“çš„éš”ç¦»çº§åˆ« å¯¹äºåŒæ—¶è¿è¡Œçš„å¤šä¸ªäº‹åŠ¡,å½“è¿™äº›äº‹åŠ¡è®¿é—®æ•°æ®åº“ä¸­ç›¸åŒçš„æ•°æ®æ—¶,å¦‚æœæ²¡æœ‰é‡‡å–å¿…è¦çš„éš”ç¦»æœºåˆ¶,å°±ä¼šå¯¼è‡´å„ç§å¹¶å‘é—®é¢˜\nè„è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 ,T1è¯»å–äº†å·²ç»è¢«T2æ›´æ–°,ä½†æ˜¯è¿˜æ²¡æœ‰è¢«æäº¤çš„å­—æ®µ,ä¹‹å,è‹¥T2å›æ»š,T1è¯»å–çš„å†…å®¹å°±æ˜¯ä¸´æ—¶ä¸”æ— æ•ˆçš„ ä¸å¯é‡å¤è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 , T1 è¯»å–äº†ä¸€ä¸ªå­—æ®µ,ç„¶åT2 æ›´æ–°äº†è¯¥å­—æ®µ.ä¹‹å,T1å†æ¬¡è¯»å–åŒä¸€ä¸ªå­—æ®µ,å€¼å°±ä¸åŒäº† å¹»è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 , T1ä»ä¸€ä¸ªè¡¨ä¸­è¯»å–äº†ä¸€ä¸ªå­—æ®µ,ç„¶åT2åœ¨è¯¥è¡¨ä¸­æ’å…¥äº†ä¸€äº›æ–°çš„è¡Œ.ä¹‹å,å¦‚æœT1å†æ¬¡è¯»å–åŒä¸€ä¸ªæ¡,å°±ä¼šå¤šå‡ºå‡ è¡Œ. æ•°æ®åº“äº‹åŠ¡çš„éš”ç¦»æ€§:æ•°æ®åº“ç³»ç»Ÿå¿…é¡»å…·æœ‰éš”ç¦»å¹¶å‘è¿è¡Œå„ä¸ªäº‹åŠ¡çš„èƒ½åŠ›,ä½¿ä»–ä»¬ä¸ä¼šäº’ç›¸å½±å“,é¿å…å„ç§å¹¶å‘é—®é¢˜.\nä¸€ä¸ªäº‹åŠ¡ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»çš„ç¨‹åº¦ç§°ä¸ºéš”ç¦»çº§åˆ«.æ•°æ®åº“è§„å®šäº†å¤šç§äº‹åŠ¡éš”ç¦»çº§åˆ«,ä¸åŒéš”ç¦»çº§åˆ«å¯¹åº”ä¸åŒçš„å¹²æ‰°ç¨‹åº¦,éš”ç¦»çº§åˆ«è¶Šé«˜,æ•°æ®ä¸€è‡´æ€§å°±è¶Šå¥½,ä½†å¹¶å‘æ€§å°±è¶Šå¼±\næ•°æ®åº“æä¾›çš„4ä¸­éš”ç¦»çº§åˆ«\nread uncommitted(è¯»æœªæäº¤æ•°æ®) å…è®¸äº‹åŠ¡è¯»å–æœªè¢«å…¶ä»–äº‹åŠ¡æäº¤çš„å˜æ›´.è„è¯»/ä¸å¯é‡å¤è¯»/å¹»è¯»çš„é—®é¢˜éƒ½ä¼šå‡ºç° read commit(è¯»å·²ç»æäº¤çš„æ•°æ®) åªå…è®¸äº‹åŠ¡è¯»å–å·²ç»è¢«å…¶ä»–äº‹åŠ¡æäº¤çš„å˜æ›´,å¯ä»¥é¿å…è„è¯»,ä½†ä¸å¯é‡å¤åº¦å’Œå¹»è¯»çš„é—®é¢˜ä»ç„¶å¯èƒ½å‡ºç° repeatable read(å¯é‡å¤è¯») ç¡®ä¿äº‹åŠ¡å¯ä»¥å¤šæ¬¡ä»ä¸€ä¸ªå­—æ®µä¸­è¯»å–ç›¸åŒçš„å€¼,åœ¨è¿™ä¸ªäº‹åŠ¡æŒç»­æœŸé—´,ç¦æ­¢å…¶ä»–äº‹åŠ¡å¯¹è¿™ä¸ªå­—æ®µè¿›è¡Œæ›´æ–°.å¯ä»¥é¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»,ä½†å¹»è¯»çš„é—®é¢˜ä»ç„¶å­˜åœ¨. serializable(ä¸²è¡ŒåŒ–) ç¡®ä¿äº‹åŠ¡å¯ä»¥ä»ä¸€ä¸ªè¡¨ä¸­è¯»å–ç›¸åŒçš„è¡Œ.åœ¨è¿™ä¸ªäº‹åŠ¡æŒç»­æœŸé—´,ç¦æ­¢å…¶ä»–äº‹åŠ¡å¯¹è¯¥è¡¨æ‰§è¡Œæ’å…¥,æ›´æ–°å’Œåˆ é™¤æ“ä½œ.æ‰€æœ‰å¹¶å‘é—®é¢˜éƒ½å¯ä»¥é¿å…,ä½†æ€§èƒ½ååˆ†ä½ä¸‹ oracleæ”¯æŒçš„2ç§äº‹åŠ¡éš”ç¦»çº§åˆ«:read commited , serializable . oracleé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º:read commited\nmysqlæ”¯æŒ4ç§äº‹åŠ¡éš”ç¦»çº§åˆ« mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º repeatable read\næµ‹è¯•ä¸€ä¸‹read uncommitted\n#é‡å¯æœåŠ¡å¯ä»¥ä¿è¯æ¢å¤é»˜è®¤çš„éš”ç¦»çº§åˆ«å§å¥½åƒ PS C:\\Users\\Administrator.YOURTREEDAD\u0026gt; net stop mysql 80 æ­¤å‘½ä»¤çš„è¯­æ³•æ˜¯: NET STOP service PS C:\\Users\\Administrator.YOURTREEDAD\u0026gt; net start mysql80 è¯·æ±‚çš„æœåŠ¡å·²ç»å¯åŠ¨ã€‚ è¯·é”®å…¥ NET HELPMSG 2182 ä»¥è·å¾—æ›´å¤šçš„å¸®åŠ©ã€‚ PS C:\\Users\\Administrator.YOURTREEDAD\u0026gt; mysql -u root -p Enter password: ****** #æŸ¥çœ‹éš”ç¦»çº§åˆ« mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | REPEATABLE-READ | +-------------------------+ 1 row in set (0.00 sec) #è®¾ç½®éš”ç¦»çº§åˆ«ä¸º read uncommitted è¯»æœªæäº¤æ•°æ® è¿™æ ·ä¼šå¯¼è‡´è„è¯»/ä¸å¯é‡å¤è¯»/å¹»è¯» mysql\u0026gt; set session transaction isolation level read uncommitted ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | READ-UNCOMMITTED | +-------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; set autocommit= 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) #çœ‹! è¿˜æ²¡æäº¤ mysql\u0026gt; update account set username = \u0026#39;john\u0026#39; where id = 1 ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql\u0026gt; åœ¨å¦ä¸€ä¸ªç•Œé¢æ‰“å¼€è®¾ç½®éš”ç¦»çº§åˆ«ä¸º read uncommitted\nå°±å¯ä»¥çœ‹åˆ°è„è¯»çš„æ•°æ®\nimage-20211002112133588\rå‡è‹¥åŸæ¥çš„å›æ»šäº†,é‚£å°±ç¦»è°±äº†\nmysql\u0026gt; rollback ; Query OK, 0 rows affected (0.00 sec) image-20211002112511055\ræ‰€ä»¥ä¼šå‡ºç°è„è¯»å¹»è¯»ä¸å¯é‡å¤è¯»éƒ½å¯èƒ½å‡ºç°åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹\næµ‹è¯•ä¸€ä¸‹ read committed\nmysql\u0026gt; set session transaction isolation level read committed ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; set autocommit =0 ; Query OK, 0 rows affected (0.00 sec) #è¿˜æ²¡æäº¤ mysql\u0026gt; update account set username =\u0026#39;john\u0026#39; where id = 1 ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 image-20211002113519057\rè¿™è¾¹ä¹Ÿç¡®å®åœ¨ç¬¬äºŒä¸ªäº‹åŠ¡ä¸­æ²¡æœ‰çœ‹åˆ°è¿˜æ²¡æäº¤çš„æ•°æ®\nä½†æ˜¯!!! ä½†æ˜¯ è¯´æ˜è¿™å¯ä»¥é¿å…è„è¯»,ä½†æ˜¯ä¸å¯é‡å¤è¯»å’Œå¹»è¯» å˜¿å˜¿!ä¸è¡Œ!\nimage-20211002113728187\r**æµ‹è¯•ä¸€ä¸‹ repeatable read **\nmysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | REPEATABLE-READ | +-------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | john | 500 | | 4 | èµµæ• | 1500 | +----+----------+---------+ 2 rows in set (0.01 sec) mysql\u0026gt; show variables like \u0026#39;autocommit\u0026#39; ; +---------------+-------+ | Variable_name | Value | +---------------+-------+ | autocommit | ON | +---------------+-------+ 1 row in set, 1 warning (0.01 sec) mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) #æ›´æ–°è¿˜æœªæäº¤ mysql\u0026gt; update account set username = \u0026#39;åˆ˜å¤‡\u0026#39; where id = 1 ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 image-20211002151741957\rå®Œå…¨æ²¡é—®é¢˜,é¿å…äº†è„è¯»\n#æäº¤ä¹‹ååœ¨çœ‹çœ‹ mysql\u0026gt; commit ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | åˆ˜å¤‡ | 500 | | 4 | èµµæ• | 1500 | +----+----------+---------+ 2 rows in set (0.00 sec) image-20211002151946236\rä¸‹é¢æ¼”ç¤ºä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™ç§éš”ç¦»çº§åˆ«ä¼šå‡ºç°å¹»è¯»\ncmdä¸­å¼€å¯äº‹åŠ¡,æ’å…¥ä¸€æ¡æ•°æ®\nimage-20211002152534283\rpowershellä¸­å¼€å¯äº‹åŠ¡,æŸ¥è¯¢æ•°æ®\nmysql\u0026gt; set autocommit =0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) #æš‚æ—¶æ²¡æŸ¥åˆ° mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | åˆ˜å¤‡ | 500 | | 4 | èµµæ• | 1500 | +----+----------+---------+ 2 rows in set (0.00 sec) cmdä¸­commitäº†\nimage-20211002152659690\r#sqlä¸­ä¹Ÿæ²¡æœ‰é—®é¢˜ ä¿è¯æ•°æ®ä¸€è‡´æ€§ æ‰€ä»¥ä¹ˆæœ‰å‡ºç°ä¸å¯é‡å¤è¯» ä¸ä¼šå¤šå‡ºæ¥åˆšåˆšæ’å…¥çš„é‚£æ¡æ•°æ® mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | åˆ˜å¤‡ | 500 | | 4 | èµµæ• | 1500 | +----+----------+---------+ 2 rows in set (0.00 sec) #ä½†æ˜¯ ! ä½†æ˜¯! ä¸‹é¢å‡ºé—®é¢˜äº† æœ¬æ¥å¸Œæœ›åœ¨äº‹åŠ¡çš„å¼€å§‹çš„æ—¶å€™,è¡¨é‡Œæœ‰ä¸¤æ¡æ•°æ®,æˆ‘å¸Œæœ›æŠŠä¸¤æ¡æ•°æ®çš„usernameæ”¹ä¸€ä¸‹,ä½†æ˜¯è¿™æ—¶å€™å¦ä¸€ä¸ªäº‹åŠ¡ä¸­æ’å…¥äº†ä¸€æ¡ åœ¨æ›´æ–°çš„æ—¶å€™æŠŠæ’å…¥çš„ä¹Ÿæ›´æ–°äº†username è¿™æ ·çš„è¯å°±è£‚å¼€äº† å‡ºç°å¹»è¯» mysql\u0026gt; update account set username = \u0026#39;mmm\u0026#39;; Query OK, 3 rows affected (0.00 sec) Rows matched: 3 Changed: 3 Warnings: 0 mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | mmm | 500 | | 4 | mmm | 1500 | | 5 | mmm | 1000 | +----+----------+---------+ 3 rows in set (0.00 sec) image-20211002153254274\ræµ‹è¯•ä¸€ä¸‹ serializable powershellä¸­å°è¯•å¼€å¯äº‹åŠ¡ å¹¶ä¸”æ›´æ–°æ•°æ®\nmysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; set session transaction isolation level serializable ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | SERIALIZABLE | +-------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | mmm | 500 | | 4 | mmm | 1500 | | 5 | mmm | 1000 | +----+----------+---------+ 3 rows in set (0.00 sec) mysql\u0026gt; update account set username =\u0026#39;www\u0026#39; ; è¿™æ—¶è¿˜æ²¡æœ‰æ›´æ–°,cmdä¸­å¼€å¯äº†ä¸€ä¸ªäº‹åŠ¡å°è¯•å¾€è¿™å¼ è¡¨ä¸­æ’å…¥æ•°æ®\nimage-20211002154329103\rè¿™å°±ä¼šå°†è¡¨é”ä½,å› ä¸ºä¸Šä¸€ä¸ªäº‹åŠ¡åœ¨ä½¿ç”¨è¿™å¼ è¡¨,ä¸ºäº†é˜²æ­¢æ•°æ®åº“å‡ºç°å¹»è¯»çš„æ“ä½œ,è¯¥éš”ç¦»çº§åˆ«å°†è¡¨é”ä½äº†,è¿™æ ·å­å®Œå…¨æ’å…¥ä¸äº†,åšæ›´æ–°çš„æ—¶å€™å°±å¯ä»¥ä¿è¯æ›´æ–°çš„æ•°æ®æ¡ç›®å’ŒæŸ¥å‡ºæ¥çš„æ•°æ®æ¡ç›®æ˜¯ä¸€è‡´çš„äº†.\nimage-20211002154520024\råœ¨mysqlä¸­è®¾ç½®éš”ç¦»çº§åˆ« æ¯å¯åŠ¨ä¸€ä¸ªmysqlç¨‹åº,å°±ä¼šè·å¾—ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åº“è¿æ¥.æ¯ä¸ªæ•°æ®åº“è¿æ¥éƒ½æœ‰ä¸€ä¸ªå…¨å±€å˜é‡@@tx_isolation,è¡¨ç¤ºå½“å‰çš„äº‹åŠ¡éš”ç¦»çº§åˆ« æŸ¥çœ‹å½“å‰çš„éš”ç¦»çº§åˆ«: select @@tx_isolation ; è®¾ç½®å½“å‰mysqlè¿æ¥çš„éš”ç¦»çº§åˆ«: set transaction isolation level read committed ; è®¾ç½®æ•°æ®åº“ç³»ç»Ÿçš„å…¨å±€çš„éš”ç¦»çº§åˆ«: set global transaction isolation level read committed ; äº‹åŠ¡çš„éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» read uncommitted ä¼š ä¼š ä¼š read committed ä¸ä¼š ä¼š ä¼š repeated read ä¸ä¼š ä¸ä¼š ä¼š serializable ä¸ä¼š ä¸ä¼š ä¸ä¼š mysqlä¸­é»˜è®¤çš„æ˜¯repeated read ;\noracleä¸­é»˜è®¤çš„æ˜¯read committed\næŸ¥çœ‹ select @@transaction_isolation ;\nè®¾ç½® set session/global transaction isolation level serilizable\u0026hellip;\ndeleteå’Œtruncateçš„åŒºåˆ« mysql\u0026gt; show variables like \u0026#39;autocommit\u0026#39;; +---------------+-------+ | Variable_name | Value | +---------------+-------+ | autocommit | OFF | +---------------+-------+ 1 row in set, 1 warning (0.00 sec) mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) #åˆ é™¤æ•°æ® mysql\u0026gt; delete from account ; Query OK, 3 rows affected (0.00 sec) #å›æ»š mysql\u0026gt; rollback ; Query OK, 0 rows affected (0.01 sec) #æ•°æ®è¿˜åœ¨ mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | mmm | 500 | | 4 | mmm | 1500 | | 5 | mmm | 1000 | +----+----------+---------+ 3 rows in set (0.00 sec) mysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) #åˆ é™¤æ•°æ® mysql\u0026gt; truncate account ; Query OK, 0 rows affected (0.03 sec) #å›æ»š mysql\u0026gt; rollback ; Query OK, 0 rows affected (0.00 sec) #æ— æ³•æ¢å¤ mysql\u0026gt; select * from account ; Empty set (0.01 sec) savepointçš„ä½¿ç”¨\nmysql\u0026gt; set autocommit = 0 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; start transaction ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; delete from account where id =1 ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; delete from account where id = 2; Query OK, 1 row affected (0.00 sec) #è®¾ç½®ä¿å­˜ç‚¹ mysql\u0026gt; savepoint a ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; delete from account where id =3 ; Query OK, 1 row affected (0.00 sec) #å›åˆ°ä¿å­˜ç‚¹ mysql\u0026gt; rollback to a ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 3 | å…³ç¾½ | 3000 | +----+----------+---------+ 1 row in set (0.00 sec) #è¿˜å¯ä»¥å†å›æ»š mysql\u0026gt; rollback ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select * from account ; +----+----------+---------+ | id | username | balance | +----+----------+---------+ | 1 | åˆ˜å¤‡ | 1000 | | 2 | å¼ é£ | 2000 | | 3 | å…³ç¾½ | 3000 | +----+----------+---------+ 3 rows in set (0.00 sec) è§†å›¾ è™šæ‹Ÿè¡¨,å’Œæ™®é€šè¡¨ä¸€æ ·ä½¿ç”¨,é€šè¿‡æ™®é€šè¡¨åŠ¨æ€ç”Ÿæˆçš„æ•°æ®\nmysql5.1å¼€å§‹æä¾›è§†å›¾åŠŸèƒ½.ä¸€ç§è™šæ‹Ÿå­˜åœ¨çš„è¡¨,è¡Œå’Œåˆ—çš„æ•°æ®æ¥è‡ªå®šä¹‰è§†å›¾çš„æŸ¥è¯¢ä¸­ä½¿ç”¨çš„è¡¨,å¹¶ä¸”æ˜¯åœ¨ä½¿ç”¨è§†å›¾æ—¶åŠ¨æ€ç”Ÿæˆçš„,åªä¿å­˜äº†sqlé€»è¾‘,ä¸ä¿å­˜æŸ¥è¯¢ç»“æœ\nåº”ç”¨åœºæ™¯ å¤šä¸ªåœ°æ–¹ç”¨åˆ°äº†åŒæ ·çš„æŸ¥è¯¢ç»“æœ è¯¥æŸ¥è¯¢ç»“æœä½¿ç”¨çš„sqlè¯­å¥è¾ƒä¸ºå¤æ‚ åˆ›å»ºè§†å›¾\nè¯­æ³• create view è§†å›¾å as æŸ¥è¯¢è¯­å¥\nmysql\u0026gt; create view info as select e.last_name,d.department_name,j.* from employees e join departments d on e.department_id = d.department_id join jobs j on j.job_id = e.job_id ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from info where last_name like \u0026#39;%a%\u0026#39;; +------------+-----------------+------------+---------------------------------+------------+------------+ | last_name | department_name | job_id | job_title | min_salary | max_salary | +------------+-----------------+------------+---------------------------------+------------+------------+ | Kochhar | Exe | AD_VP | Administration Vice President | 15000 | 30000 | | De Haan | Exe | AD_VP | Administration Vice President | 15000 | 30000 | #æŸ¥è¯¢å„éƒ¨é—¨çš„å¹³å‡å·¥èµ„çº§åˆ« mysql\u0026gt; select a.department_id , g.grade_level , a.å¹³å‡å·¥èµ„ from (select e.department_id , avg(salary) å¹³å‡å·¥èµ„ from employees e group by department_id )a join job_grades g on a.å¹³å‡å·¥èµ„ between lower_sal and highest_sal ; +---------------+-------------+--------------+ | department_id | grade_level | å¹³å‡å·¥èµ„ | +---------------+-------------+--------------+ | NULL | C | 7000.000000 | | 10 | B | 4400.000000 | | 20 | C | 9500.000000 | #å¦‚æœç”¨è§†å›¾æ¥åšç®€åŒ–ä¸€ç‚¹ç‚¹ mysql\u0026gt; create view myv2 as select e.department_id , avg(salary) å¹³å‡å·¥èµ„ from employees e group by e.department_id ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select m.*,j.grade_level from myv2 m join job_grades j on m.å¹³å‡å·¥èµ„ between j.lower_sal and j.highest_sal ; +---------------+--------------+-------------+ | department_id | å¹³å‡å·¥èµ„ | grade_level | +---------------+--------------+-------------+ | NULL | 7000.000000 | C | | 10 | 4400.000000 | B | #æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯ mysql\u0026gt; select * from departments d where d.department_id = (select department_id from employees e group by e.department_id order by avg(salary) asc limit 1); +---------------+-----------------+------------+-------------+ | department_id | department_name | manager_id | location_id | +---------------+-----------------+------------+-------------+ | 50 | Shi | 121 | 1500 | +---------------+-----------------+------------+-------------+ #ä½¿ç”¨è§†å›¾ mysql\u0026gt; select * from departments where department_id = (select department_id from myv2 order by å¹³å‡å·¥èµ„ limit 1); +---------------+-----------------+------------+-------------+ | department_id | department_name | manager_id | location_id | +---------------+-----------------+------------+-------------+ | 50 | Shi | 121 | 1500 | +---------------+-----------------+------------+-------------+ #å¯ä»¥ä½¿ç”¨è§†å›¾å¥—è§†å›¾ è§†å›¾çš„ä¼˜ç‚¹\né‡ç”¨sqlè¯­å¥ ç®€åŒ–å¤æ‚çš„sqlæ“ä½œ,ä¸çŸ¥é“ä»–çš„æŸ¥è¯¢ç»†èŠ‚ ä¿æŠ¤æ•°æ®,æé«˜å®‰å…¨æ€§ è§†å›¾çš„ä¿®æ”¹\næ–¹å¼ä¸€ create or replace view è§†å›¾å as æŸ¥è¯¢è¯­å¥ ;\næ–¹å¼äºŒ alter view è§†å›¾å as æŸ¥è¯¢è¯­å¥;\nè§†å›¾çš„åˆ é™¤\ndrop view è§†å›¾å,è§†å›¾å,\u0026hellip;\nmysql\u0026gt; drop view emp_v1,emp_v2,info,myv2 ; Query OK, 0 rows affected (0.01 sec) æŸ¥çœ‹è§†å›¾\ndesc è§†å›¾å ;\næŸ¥çœ‹å…·ä½“çš„è¿‡ç¨‹ show create view è§†å›¾å ;\nç»ƒä¹ ä¸€ä¸‹ mysql\u0026gt; create or replace view emp_v1 as select last_name , salary , email from employees where phone_number like \u0026#39;011%\u0026#39; ; Query OK, 0 rows affected (0.01 sec) #åˆ›å»ºè§†å›¾è¦æ±‚æŸ¥è¯¢éƒ¨é—¨çš„æœ€é«˜å·¥èµ„é«˜äº12000çš„éƒ¨é—¨ä¿¡æ¯ mysql\u0026gt; create or replace view emp_v2 as select d.* from departments d join employees e on e.department_id = d.department_id group by e.department_id having max(salary) \u0026gt;12000 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from emp_v2 ; +---------------+-----------------+------------+-------------+ | department_id | department_name | manager_id | location_id | +---------------+-----------------+------------+-------------+ | 90 | Exe | 100 | 1700 | | 80 | Sal | 145 | 2500 | | 20 | Mar | 201 | 1800 | +---------------+-----------------+------------+-------------+ è§†å›¾çš„æ›´æ–°\nè§†å›¾çš„æ’å…¥\nmysql\u0026gt; create or replace view myv1 as select last_name , email from employees; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from myv1 ; +-------------+----------+ | last_name | email | +-------------+----------+ | K_ing | SKING | | Kochhar | NKOCHHAR | #åŸå§‹è¡¨ä¹Ÿæ’å…¥äº†å¼ é£è¿™æ¡æ•°æ®äº† mysql\u0026gt; insert into myv1 values(\u0026#39;å¼ é£\u0026#39;, \u0026#39;101@qq.com\u0026#39;); Query OK, 1 row affected (0.01 sec) è§†å›¾çš„æ›´æ–°\nmysql\u0026gt; update myv1 set last_name = \u0026#39;å¼ æ— å¿Œ\u0026#39; where last_name = \u0026#39;å¼ é£\u0026#39; ; Query OK, 1 row affected (0.01 sec) Rows matched: 1 Changed: 1 Warnings: 0 #éƒ½ä¼šä¿®æ”¹åŸå§‹è¡¨ è§†å›¾çš„åˆ é™¤\nmysql\u0026gt; delete from myv1 where last_name = \u0026#39;å¼ æ— å¿Œ\u0026#39; ; Query OK, 1 row affected (0.01 sec) #éƒ½ä¼šä¿®æ”¹åŸå§‹è¡¨ é€šå¸¸æƒ…å†µä¸‹ä¸ä¼šå¯¹è§†å›¾è¿›è¡Œå¢åˆ æ”¹çš„æ“ä½œçš„\nå¤‡æ³¨: è§†å›¾çš„å¯æ›´æ–°æ€§å’Œè§†å›¾ä¸­æŸ¥è¯¢çš„å®šä¹‰æœ‰å…³ç³»,ä»¥ä¸‹ç±»å‹çš„è§†å›¾æ˜¯ä¸èƒ½æ›´æ–°çš„\nåŒ…å«ä»¥ä¸‹å…³é”®å­—çš„sqlè¯­å¥:åˆ†ç»„å‡½æ•°/distinct/group by/having/union/union all å¸¸é‡è§†å›¾ selectä¸­åŒ…å«å­æŸ¥è¯¢ join fromä¸€ä¸ªä¸èƒ½æ›´æ–°çš„è§†å›¾ whereå­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†fromå­å¥ä¸­çš„è¡¨ #å…³é”®å­—çš„sqlè¯­å¥çš„è§†å›¾ä¸å¯ä»¥è¢«æ›´æ–° mysql\u0026gt; create or replace view myv2 as select max(salary) m ,department_id from employees group by department_id ; Query OK, 0 rows affected (0.01 sec) #æƒ³æƒ³ä¹Ÿæ˜¯,æ€ä¹ˆèƒ½ç®€å•çš„æ›´æ–°ä¸€ä¸‹max(salary)å‘¢,èšåˆå‡½æ•°çš„å€¼æ˜¯ç®—å‡ºæ¥çš„ mysql\u0026gt; update myv2 set m =9000 where department_id = 10 ; ERROR 1288 (HY000): The target table myv2 of the UPDATE is not updatable #å¸¸é‡è§†å›¾ä¸èƒ½ä¿®æ”¹ mysql\u0026gt; create or replace view myv3 as select \u0026#39;john\u0026#39; name ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from myv3 ; +------+ | name | +------+ | john | +------+ 1 row in set (0.00 sec) mysql\u0026gt; update myv3 set name = \u0026#39;lucy\u0026#39; ; ERROR 1288 (HY000): The target table myv3 of the UPDATE is not updatable #selectä¸­åŒ…å«å­æŸ¥è¯¢çš„ä¸èƒ½ä¿®æ”¹è§†å›¾ mysql\u0026gt; create or replace view myv4 as select (select max(salary) from employees) æœ€é«˜å·¥èµ„ ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from myv4 ; +----------+ | æœ€é«˜å·¥èµ„ | +----------+ | 24000.00 | +----------+ 1 row in set (0.01 sec) mysql\u0026gt; update myv4 set æœ€é«˜å·¥èµ„ = 10000 ; ERROR 1288 (HY000): The target table myv4 of the UPDATE is not updatable #joinä¸­ä¸èƒ½æ›´æ–°è§†å›¾ mysql\u0026gt; create or replace view myv5 as select last_name ,department_name from employees e join departments d on e.department_id = d.department_id ; Query OK, 0 rows affected (0.01 sec) #å¯ä»¥æ›´æ–° mysql\u0026gt; update myv5 set last_name = \u0026#39;å¼ é£\u0026#39; where last_name= \u0026#39;Whalen\u0026#39; ; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 #ä¸èƒ½æ’å…¥ , å¯èƒ½æ˜¯å› ä¸ºä¸¤ä¸ªè§†å›¾ä¸­æœ‰ä¸€ä¸ªæ˜¯department_idæ˜¯ä¸»é”®å­ mysql\u0026gt; insert into myv5 values (\u0026#39;é™ˆçœŸ\u0026#39;,\u0026#39;xxxx\u0026#39;) ; ERROR 1394 (HY000): Can not insert into join view \u0026#39;myemployees.myv5\u0026#39; without fields list #ç”±ä¸€ä¸ªä¸å¯æ›´æ–°çš„è§†å›¾æ„æˆçš„è§†å›¾ä¸å¯æ›´æ–° mysql\u0026gt; create or replace view myv6 as select * from myv4 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from myv6 ; +----------+ | æœ€é«˜å·¥èµ„ | +----------+ | 24000.00 | +----------+ 1 row in set (0.01 sec) mysql\u0026gt; update myv6 set æœ€é«˜å·¥èµ„ = 20000 ; ERROR 1288 (HY000): The target table myv6 of the UPDATE is not updatable #whereå­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†fromå­å¥ä¸­çš„è¡¨ ç›¸å½“äºè‡ªè¿æ¥ mysql\u0026gt; create or replace view myv7 as select last_name , email , salary from employees where employee_id in(select manager_id from employees where manager_id is not null) ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select * from myv7 ; +-----------+----------+----------+ | last_name | email | salary | +-----------+----------+----------+ | K_ing | SKING | 24000.00 | | De Haan | LDEHAAN | 17000.00 | | Hunold | AHUNOLD | 9000.00 | | Kochhar | NKOCHHAR | 17000.00 | | Greenberg | NGREENBE | 12000.00 | | Raphaely | DRAPHEAL | 11000.00 | | Weiss | MWEISS | 8000.00 | | Fripp | AFRIPP | 8200.00 | | Kaufling | PKAUFLIN | 7900.00 | | Vollman | SVOLLMAN | 6500.00 | | Mourgos | KMOURGOS | 5800.00 | | Russell | JRUSSEL | 14000.00 | | Partners | KPARTNER | 13500.00 | | Errazuriz | AERRAZUR | 12000.00 | | Cambrault | GCAMBRAU | 11000.00 | | Zlotkey | EZLOTKEY | 10500.00 | | Hartstein | MHARTSTE | 13000.00 | | Higgins | SHIGGINS | 12000.00 | +-----------+----------+----------+ 18 rows in set (0.00 sec) mysql\u0026gt; update myv7 set salary =10000 where last_name = \u0026#39;K_ing\u0026#39; ; ERROR 1288 (HY000): The target table myv7 of the UPDATE is not updatable è§†å›¾å’Œè¡¨çš„å¯¹æ¯” åˆ›å»ºè¯­æ³•çš„å…³é”®å­— æ˜¯å¦å®é™…å ç”¨ç‰©ç†ç©ºé—´ ä½¿ç”¨ è§†å›¾ create view åªæ˜¯ä¿å­˜äº†sqlé€»è¾‘ å¢åˆ æ”¹æŸ¥,åªæ˜¯ä¸€èˆ¬ä¸èƒ½å¢åˆ æ”¹ è¡¨ create table ä¿å­˜äº†æ•°æ® å¢åˆ æ”¹æŸ¥ deleteå’Œtruncateåœ¨äº‹åŠ¡ä½¿ç”¨æ—¶çš„åŒºåˆ« deleteå¯ä»¥å›æ»š truncateä¸èƒ½å›æ»š ç»ƒä¹ ä¸€ä¸‹ #æ·»åŠ çº¦æŸ åˆ›å»ºè¡¨ ä½†æ˜¯è¿™æ · åˆ—çº§çº¦æŸä¸­å¤–é”®æ˜¯ä¸èµ·ä½œç”¨çš„ mysql\u0026gt; create table Book ( bid int primary key , bname varchar(200) not null unique , price float default(10),btypeId int references booktype(id)); Query OK, 0 rows affected (0.03 sec) #è¿™é‡Œå‘ç°ç´¢å¼•åªæœ‰ ä¸»é”®å’Œå”¯ä¸€é”® mysql\u0026gt; show index from book ; +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | book | 0 | PRIMARY | 1 | bid | A | 0 | NULL | NULL | | BTREE | | | YES | NULL | | book | 0 | bname | 1 | bname | A | 0 | NULL | NULL | | BTREE | | | YES | NULL | +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ 2 rows in set (0.01 sec) #æ‰€ä»¥è¦æ”¹æˆè¿™æ · mysql\u0026gt; create table Book ( bid int primary key , bname varchar(200) not null unique , price float default(10),btypeId int , foreign key(btypeId) references bookType(id)); Query OK, 0 rows affected (0.03 sec) mysql\u0026gt; show index from book ; +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | book | 0 | PRIMARY | 1 | bid | A | 0 | NULL | NULL | | BTREE | | | YES | NULL | | book | 0 | bname | 1 | bname | A | 0 | NULL | NULL | | BTREE | | | YES | NULL | | book | 1 | btypeId | 1 | btypeId | A | 0 | NULL | NULL | YES | BTREE | | | YES | NULL | +-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ 3 rows in set (0.01 sec) mysql\u0026gt; create or replace view myvbook as select bname , name from book b join booktype t on b.btypeid = t.id where price \u0026gt;100 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; create or replace view myvbook1 as select bname , price from book where price between 90 and 120 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; drop view myvbook , myvbook1 ; Query OK, 0 rows affected (0.01 sec) å¤ä¹ å‰ä¸€å¤©å†…å®¹ DDLè¯­è¨€\nå¸¸è§çš„çº¦æŸ\nNOT NULL éç©º,è¯¥å­—æ®µçš„å€¼å¿…å¡«\nDEFAULT é»˜è®¤,è¯¥å­—æ®µçš„å€¼ä¸ç”¨æ‰‹åŠ¨æ’å…¥æœ‰é»˜è®¤å€¼\nCHECK æ£€æŸ¥ mysqlä¸æ”¯æŒ\nPRIMARY KEY ä¸»é”® è¯¥å­—æ®µçš„å€¼ä¸å¯é‡å¤å¹¶ä¸”éç©º unique+not null\nFOREIGN KEY å¤–é”® è¯¥å­—æ®µçš„å€¼å¼•ç”¨äº†å¦å¤–çš„è¡¨çš„å­—æ®µ\nUNIQUE å”¯ä¸€ è¯¥å­—æ®µçš„å€¼ä¸å¯é‡å¤\nä¸»é”®å’Œå”¯ä¸€çš„åŒºåˆ«\nä¸€ä¸ªè¡¨è‡³å¤šæœ‰ä¸€ä¸ªä¸»é”® , ä½†å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€é”® ä¸»é”®ä¸å…è®¸ä¸ºç©º , å”¯ä¸€å¯ä»¥ä¸ºç©º éƒ½å…·æœ‰å”¯ä¸€æ€§,éƒ½æ”¯æŒç»„åˆé”® , ä½†ä¸æ¨è å¤–é”®\nç”¨äºé™åˆ¶ä¸¤ä¸ªè¡¨çš„å…³ç³»,ä»è¡¨çš„å­—æ®µå¼•ç”¨äº†ä¸»è¡¨çš„æŸå­—æ®µå€¼ è¦æ±‚å¤–é”®åˆ—å’Œä¸»è¡¨çš„è¢«å¼•ç”¨åˆ—è¦æ±‚ç±»å‹ä¸€è‡´,æ„ä¹‰ä¸€æ ·,åç§°æ— è¦æ±‚ ä¸»è¡¨çš„è¢«å¼•ç”¨åˆ—è¦æ±‚æ˜¯ä¸€ä¸ªkey(ä¸€èˆ¬å°±æ˜¯ä¸»é”®) æ’å…¥æ•°æ®,å…ˆæ’å…¥ä¸»è¡¨ åˆ é™¤æ•°æ®,å…ˆåˆ é™¤ä»è¡¨ çº§è”åˆ é™¤\nå®é™…ä¸Šå°±æ˜¯åœ¨åˆ é™¤ä¸»è¡¨é‡Œçš„æ•°æ®çš„æ—¶å€™,æŠŠä»è¡¨é‡Œç›¸å…³çš„å¸¦æœ‰è¯¥æ•°æ®çš„è¡Œä¹Ÿä¸€å¹¶åˆ é™¤\n#çº§è”åˆ é™¤ alter table stuinfo add constraint fk_stu_major foreign key(majorid) references major(id) on delete cascade ; çº§è”ç½®ç©º\nå®é™…ä¸Šå°±æ˜¯åœ¨åˆ é™¤ä¸»è¡¨é‡Œçš„æ•°æ®çš„æ—¶å€™,æŠŠä»è¡¨é‡Œç›¸å…³çš„å¸¦æœ‰è¯¥æ•°æ®çš„è¡Œçš„å¯¹åº”å­—æ®µç½®ä¸ºç©º\n#çº§è”ç½®ç©º alter table stuinfo add constraint fk_stu_major foreign key(majorid) references major(id) on delete set null ; åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ\ncreate table è¡¨å( å­—æ®µå å­—æ®µç±»å‹ not null , å­—æ®µå å­—æ®µç±»å‹ primary key , å­—æ®µå å­—æ®µç±»å‹ unique , å­—æ®µå å­—æ®µç±»å‹ default , constraint çº¦æŸå foreign key(å­—æ®µå) references ä¸»è¡¨(è¢«å¼•ç”¨åˆ—) ) **æ³¨æ„:\t**\næ”¯æŒç±»å‹ å¯ä»¥èµ·çº¦æŸåå­— åˆ—çº§çº¦æŸ é™¤äº†å¤–é”® ä¸å¯ä»¥ è¡¨çº§çº¦æŸ é™¤äº†é»˜è®¤,éç©º å¯ä»¥,ä½†æ˜¯å¯¹ä¸»é”®æ— æ•ˆ åˆ—çº§çº¦æŸå¯ä»¥åœ¨ä¸€ä¸ªå­—æ®µä¸Šè¿½åŠ å¤šä¸ª,ä¸­é—´ç”¨ç©ºæ ¼éš”å¼€,æ²¡æœ‰é¡ºåºè¦æ±‚\nä¿®æ”¹è¡¨æ—¶æ·»åŠ æˆ–åˆ é™¤çº¦æŸ\néç©º\nalter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ not null ;\nåˆ é™¤éç©º\nalter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ ;\né»˜è®¤\nalter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ default å€¼ ;\nåˆ é™¤é»˜è®¤\nalter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹;\nä¸»é”®\nalter table è¡¨å add primary key (å­—æ®µå) ;\nåˆ é™¤ä¸»é”®\nalter table è¡¨å drop primary key ;\nå”¯ä¸€\nalter table è¡¨å add unique (å­—æ®µå) ;\nåˆ é™¤\nalter table è¡¨å drop index ç´¢å¼•å ;\nå¤–é”®\nalter table è¡¨å add foreign key (å­—æ®µå) references ä¸»è¡¨ (è¢«å¼•ç”¨åˆ—) ;\nåˆ é™¤å¤–é”®\nalter table è¡¨å drop foreign key çº¦æŸå ;\nè‡ªå¢é•¿åˆ—\nç‰¹ç‚¹\nä¸ç”¨æ‰‹åŠ¨æ’å…¥å€¼ , å¯ä»¥è‡ªåŠ¨æä¾›åºåˆ—å€¼,é»˜è®¤ä»1å¼€å§‹,æ­¥é•¿ä¸º1 auto_increament_increment å¦‚æœè¦æ›´æ”¹èµ·å§‹å€¼:æ‰‹åŠ¨æ’å…¥å€¼ å¦‚æœè¦æ›´æ”¹æ­¥é•¿:æ›´æ”¹ç³»ç»Ÿå˜é‡ set auto_increment_increment = å€¼ ; ä¸€ä¸ªè¡¨è‡³å¤šæœ‰ä¸€ä¸ªè‡ªå¢é•¿åˆ— è‡ªå¢é•¿åˆ—åªèƒ½æ”¯æŒæ•°å€¼å‹ è‡ªå¢é•¿åˆ—å¿…é¡»ä¸ºä¸€ä¸ªkey åˆ›å»ºè¡¨æ—¶è®¾ç½®è‡ªå¢é•¿åˆ—\ncreate table è¡¨\nä¿®æ”¹è¡¨æ—¶è®¾ç½®è‡ªå¢é•¿åˆ—\ncreate table è¡¨ modify column å­—æ®µå å­—æ®µç±»å‹ çº¦æŸ auto_increment ;\nåˆ é™¤è‡ªå¢é•¿åˆ—\nalter table è¡¨ modify column å­—æ®µå å­—æ®µç±»å‹ çº¦æŸ\nTCLè¯­è¨€\näº‹åŠ¡:ä¸€æ¡æˆ–å¤šæ¡sqlè¯­å¥ç»„æˆä¸€ä¸ªæ‰§è¡Œå•ä½,ä¸€ç»„sqlå¥è¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ\nç‰¹ç‚¹(ACID)\nåŸå­æ€§ ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸å¯å†åˆ†å‰²çš„æ•´ä½“,è¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ ä¸€è‡´æ€§ ä¸€ä¸ªäº‹åŠ¡å¯ä»¥ä½¿æ•°æ®ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ éš”ç¦»æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸å—å…¶ä»–äº‹åŠ¡çš„å¹²æ‰°,å¤šä¸ªäº‹åŠ¡äº’ç›¸éš”ç¦»çš„ æŒä¹…æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤äº†,åˆ™æ°¸ä¹…çš„æŒä¹…åŒ–åˆ°æœ¬åœ° äº‹åŠ¡çš„ä½¿ç”¨æ­¥éª¤\näº†è§£:\néšå¼äº‹åŠ¡(è‡ªåŠ¨äº‹åŠ¡) æ²¡æœ‰æ˜æ˜¾çš„å¼€å§‹å’Œç»“æŸ,æœ¬äº‹å°±æ˜¯ä¸€æ¡äº‹åŠ¡å¯ä»¥è‡ªåŠ¨æäº¤,æ¯”å¦‚insert update delete æ˜¾å¼äº‹åŠ¡ å…·æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸ ä½¿ç”¨æ˜¾å¼äº‹åŠ¡\nå¼€å¯äº‹åŠ¡ set autocommit = 0 start transacton ; å¯ä»¥çœç•¥ ç¼–å†™é€»è¾‘sqlè¯­å¥ ä¸€æ¡æˆ–è€…å¤šæ¡ æ³¨æ„ ä¸åŒ…å«create alter drop åªæ”¯æŒinsert update delete select è®¾ç½®å›æ»šç‚¹ savepoint å›æ»šç‚¹å ; ç»“æŸäº‹åŠ¡ æäº¤ commit å›æ»š rollback å›æ»šç‚¹ rollback to å›æ»šç‚¹å; å¹¶å‘äº‹åŠ¡ äº‹åŠ¡çš„å¹¶å‘é—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„ å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®åº“çš„ç›¸åŒæ•°æ®æ—¶\nå¹¶å‘é—®é¢˜æœ‰å“ªäº› è„è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ® è¯»åˆ°çš„æ˜¯å…¶ä»–äº‹åŠ¡\u0026quot;æ›´æ–°\u0026quot;çš„æ•°æ® ä¸å¯é‡å¤è¯» ä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–ç»“æœä¸ä¸€æ · é‡å¤è¯»å–å¯èƒ½é€ æˆæ•°æ®ä¸ä¸€è‡´çš„ç°è±¡ å¹»è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ® åªæ˜¯è¯»åˆ°çš„æ˜¯ å…¶ä»–äº‹åŠ¡\u0026quot;æ’å…¥\u0026quot;çš„æ•°æ® å¦‚ä½•è§£å†³å¹¶å‘é—®é¢˜ é€šè¿‡è®¾ç½®éš”ç¦»çº§åˆ«æ¥è§£å†³ éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» read uncommitted è¯»æœªæäº¤ ä¼š ä¼š ä¼š read committed è¯»å·²æäº¤ ä¸ä¼š ä¼š ä¼š (oracleé»˜è®¤) repeatted read å¯é‡å¤è¯» ä¸ä¼š ä¸ä¼š ä¼š (msyqlé»˜è®¤) serializable ä¸²è¡ŒåŒ– ä¸ä¼š ä¸ä¼š ä¸ä¼š è§†å›¾ å«ä¹‰ mysql5.1ç‰ˆæœ¬å‡ºç°çš„æ–°ç‰¹æ€§ , æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨,æ˜¯é€šè¿‡è¡¨æ•°æ®åŠ¨æ€ç”Ÿæˆçš„,æŸ¥çœ‹æ—¶åŠ¨æ€ç”Ÿæˆ\nå¥½å¤„\nç®€åŒ–sqlè¯­å¥ å°è£…é‡ç”¨ ä¿æŠ¤äº†åŸºè¡¨çš„æ•°æ®,æé«˜äº†å®‰å…¨æ€§ åˆ›å»º\ncreate or replace view è§†å›¾å as select \u0026hellip;\u0026hellip;\nä¿®æ”¹\ncreate or replace view è§†å›¾å as select \u0026hellip;..\nalter view è§†å›¾å as select \u0026hellip;.\nåˆ é™¤\ndrop view è§†å›¾å,è§†å›¾å\u0026hellip;\næŸ¥çœ‹\ndesc è§†å›¾å\nshow create view è§†å›¾å\nä½¿ç”¨\ninsert delete update select\n**æ³¨æ„:\t**è§†å›¾ä¸€èˆ¬ç”¨äºæŸ¥è¯¢çš„,è€Œä¸æ˜¯æ›´æ–°çš„,æ‰€ä»¥å…·å¤‡ä»¥ä¸‹çš„è§†å›¾éƒ½ä¸å…è®¸æ›´æ–°\nå¸¦æœ‰ group by åˆ†ç»„å‡½æ•° union having whereåçš„å­æŸ¥è¯¢ç”¨åˆ°äº†fromä¸­çš„è¡¨ å¸¸é‡è§†å›¾ ä»ä¸å¯æ›´æ–°çš„è§†å›¾ä¸­ç”Ÿæˆçš„è§†å›¾ join è§†å›¾å’Œè¡¨çš„åŒºåˆ«\nview å’Œ table è§†å›¾å ç”¨è¾ƒå°‘ç‰©ç†ç©ºé—´ è¡¨å ç”¨å®é™…æ•°æ® è§†å›¾ä¸€èˆ¬ç”¨äºæŸ¥è¯¢ è¡¨ç”¨äºå¢åˆ æ”¹æŸ¥ å˜é‡ ç³»ç»Ÿå˜é‡ å…¨å±€å˜é‡ ä¼šè¯å˜é‡ è‡ªå®šä¹‰å˜é‡ ç”¨æˆ·å˜é‡ å±€éƒ¨å˜é‡ ç³»ç»Ÿå˜é‡ è¯´æ˜:å˜é‡ç”±ç³»ç»Ÿæä¾›,ä¸æ˜¯ç”¨æˆ·å®šä¹‰,å±äºæœåŠ¡å™¨å±‚é¢\nä½¿ç”¨çš„è¯­æ³•:\næŸ¥çœ‹æ‰€æœ‰çš„ç³»ç»Ÿå˜é‡ show golbal/session variables ; sessionæ˜¯é»˜è®¤çš„ æŸ¥çœ‹æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†ç³»ç»Ÿå˜é‡ show global/session variables like \u0026lsquo;%char%\u0026rsquo; ; æŸ¥çœ‹æŒ‡å®šçš„æŸä¸ªç³»ç»Ÿå˜é‡çš„å€¼ select @@global/session.ç³»ç»Ÿå˜é‡åå­— ; sessionæ˜¯é»˜è®¤çš„ ä¸ºæŸä¸ªç³»ç»Ÿå˜é‡èµ‹å€¼ æ–¹å¼ä¸€ set global/session ç³»ç»Ÿå˜é‡å = å€¼ ; æ–¹å¼äºŒ set @@global/session.ç³»ç»Ÿå˜é‡å = å€¼; show global variables ; mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | REPEATABLE-READ | +-------------------------+ 1 row in set (0.00 sec) æ³¨æ„\nå¦‚æœæ˜¯å…¨å±€çº§åˆ«,åˆ™éœ€è¦åŠ global , å¦‚æœæ˜¯ä¼šè¯çº§åˆ«,åˆ™éœ€è¦åŠ session , å¦‚æœä¸å†™, åˆ™é»˜è®¤\nå…¨å±€å˜é‡\nä½œç”¨åŸŸ:æœåŠ¡å™¨æ¯æ¬¡å¯åŠ¨å°†ä¸ºæ‰€æœ‰çš„å…¨å±€å˜é‡èµ‹åˆå§‹å€¼,é’ˆå¯¹æ‰€æœ‰çš„ä¼šè¯è¿æ¥æœ‰æ•ˆ,ä½†ä¸èƒ½è·¨é‡å¯\nshow gloabl variables ;\næŸ¥çœ‹éƒ¨åˆ†çš„å…¨å±€å˜é‡\nshow global variables ; show variables like \u0026lsquo;%char%\u0026rsquo; ;\næŸ¥çœ‹æŒ‡å®šçš„å…¨å±€å˜é‡çš„å€¼\nselect @@global.autocommit ;\nä¸ºæŸä¸ªæŒ‡å®šçš„å…¨å±€å˜é‡èµ‹å€¼\nmysql\u0026gt; set @@global.autocommit = 0 ; Query OK, 0 rows affected (0.00 sec)\nä¼šè¯å˜é‡\nä½œç”¨åŸŸ:ä»…ä»…é’ˆå¯¹äºå½“å‰ä¼šè¯(è¿æ¥)æœ‰æ•ˆ\næŸ¥çœ‹æ‰€æœ‰çš„ä¼šè¯å˜é‡\nshow session variables ;\nshow variables ;\næŸ¥çœ‹éƒ¨åˆ†çš„ä¼šè¯å˜é‡\nshow variables like \u0026lsquo;%char%\u0026rsquo; ;\nshow session variables like \u0026lsquo;%char%\u0026rsquo; ;\næŸ¥çœ‹æŒ‡å®šçš„æŸä¸ªä¼šè¯å˜é‡\nselect @@transaction_isolation ;\nselect @@session.transaction_isolation ;\nä¸ºæŸä¸ªä¼šè¯å˜é‡èµ‹å€¼\næ–¹å¼ä¸€\nmysql\u0026gt; set @@session.transaction_isolation = \u0026lsquo;read-committed\u0026rsquo; ; Query OK, 0 rows affected (0.00 sec)\næ–¹å¼äºŒ\nmysql\u0026gt; set session transaction isolation level read uncommitted ; Query OK, 0 rows affected (0.00 sec)\næ–¹å¼ä¸‰\nset session transaction_isolation = \u0026lsquo;serializable\u0026rsquo; ;\nmysql\u0026gt; show variables like \u0026#39;%char%\u0026#39; ; +--------------------------+---------------------------------------------------------+ | Variable_name | Value | +--------------------------+---------------------------------------------------------+ | character_set_client | gbk | | character_set_connection | gbk | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | gbk | | character_set_server | utf8mb4 | | character_set_system | utf8mb3 | | character_sets_dir | C:\\Program Files\\MySQL\\MySQL Server 8.0\\share\\charsets\\ | +--------------------------+---------------------------------------------------------+ 8 rows in set, 1 warning (0.00 sec) mysql\u0026gt; show session variables like \u0026#39;%char%\u0026#39; ; +--------------------------+---------------------------------------------------------+ | Variable_name | Value | +--------------------------+---------------------------------------------------------+ | character_set_client | gbk | | character_set_connection | gbk | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | gbk | | character_set_server | utf8mb4 | | character_set_system | utf8mb3 | | character_sets_dir | C:\\Program Files\\MySQL\\MySQL Server 8.0\\share\\charsets\\ | +--------------------------+---------------------------------------------------------+ 8 rows in set, 1 warning (0.00 sec) mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | REPEATABLE-READ | +-------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; select @@session.transaction_isolation ; +---------------------------------+ | @@session.transaction_isolation | +---------------------------------+ | REPEATABLE-READ | +---------------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; set session transaction isolation level read uncommitted ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; set @@session.transaction_isolation = \u0026#39;read-committed\u0026#39; ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select @@transaction_isolation ; +-------------------------+ | @@transaction_isolation | +-------------------------+ | READ-COMMITTED | +-------------------------+ 1 row in set (0.00 sec) mysql\u0026gt; set session transaction_isolation = \u0026#39;serializable\u0026#39; ; Query OK, 0 rows affected (0.00 sec) è‡ªå®šä¹‰å˜é‡ è¯´æ˜:å˜é‡æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„,ä¸æ˜¯ç”±ç³»ç»Ÿç”Ÿæˆçš„\nä½¿ç”¨æ­¥éª¤:å£°æ˜=\u0026gt;èµ‹å€¼=\u0026gt;ä½¿ç”¨(æŸ¥çœ‹/æ¯”è¾ƒ/è¿ç®—ç­‰)\nç”¨æˆ·å˜é‡\nä½œç”¨åŸŸ:é’ˆå¯¹å½“å‰ä¼šè¯(è¿æ¥)æœ‰æ•ˆ,åŒäºä¼šè¯å˜é‡çš„ä½œç”¨åŸŸ , åº”ç”¨åœ¨ä»»ä½•åœ°æ–¹,ä¹Ÿå°±æ˜¯begin endé‡Œé¢æˆ–è€…begin end å¤–é¢\nèµ‹å€¼æ“ä½œç¬¦ =æˆ–è€… :=\nå£°æ˜å¹¶åˆå§‹åŒ– set @ç”¨æˆ·å˜é‡å = å€¼ | set@ç”¨æˆ·å˜é‡å :=å€¼ | select @ç”¨æˆ·å˜é‡å:=å€¼\nèµ‹å€¼\næ–¹å¼ä¸€ set @ç”¨æˆ·å˜é‡å = å€¼ | set@ç”¨æˆ·å˜é‡å :=å€¼ | select @ç”¨æˆ·å˜é‡å:=å€¼ æ–¹å¼äºŒ é€šè¿‡ select into select å­—æ®µ into å˜é‡å from è¡¨ ä½¿ç”¨\nselect @ç”¨æˆ·å˜é‡å\nmysql\u0026gt; set @name := \u0026#39;ljs\u0026#39; ; Query OK, 0 rows affected (0.00 sec) #å¼±ç±»å‹ mysql\u0026gt; set @name = 1997 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; set @count = 1 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; use myemployees ; Database changed #æ–¹å¼äºŒ mysql\u0026gt; select count(*) into @count from employees ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select @name ; +-------+ | @name | +-------+ | 1997 | +-------+ 1 row in set (0.00 sec) mysql\u0026gt; select @count ; +--------+ | @count | +--------+ | 107 | +--------+ 1 row in set (0.00 sec) å±€éƒ¨å˜é‡ ä½œç”¨åŸŸ:ä»…ä»…åœ¨å®šä¹‰å®ƒçš„begin endä¸­æœ‰æ•ˆ\nåº”ç”¨åœ¨begin end ä¸­çš„ç¬¬ä¸€å¥è¯!!!\nå£°æ˜\ndeclare å˜é‡å ç±»å‹ ;\ndeclare å˜é‡å ç±»å‹ default å€¼;\nèµ‹å€¼\næ–¹å¼ä¸€\nset å±€éƒ¨å˜é‡å = å€¼;\næ–¹å¼äºŒ\nset å±€éƒ¨å˜é‡å := å€¼ ;\næ–¹å¼ä¸‰\nselect @å±€éƒ¨å˜é‡å := å€¼ ;\næ–¹å¼å››\nselect å€¼ into @å±€éƒ¨å˜é‡å from è¡¨ ;\nä½¿ç”¨\nselect å±€éƒ¨å˜é‡å ;\nå¯¹æ¯”ç”¨æˆ·å˜é‡å’Œå±€éƒ¨å˜é‡\nä½œç”¨åŸŸ å®šä¹‰å’Œä½¿ç”¨çš„ä½ç½® è¯­æ³• ç”¨æˆ·å˜é‡ å½“å‰ä¼šè¯ ä¼šè¯ä¸­çš„ä»»ä½•åœ°æ–¹ éœ€è¦åŠ ä¸Š@ç¬¦å·,ä¸ç”¨é™å®šç±»å‹ å±€éƒ¨å˜é‡ begin end ä¸­ åªèƒ½åœ¨begin endä¸­,ä¸”ä¸ºç¬¬ä¸€å¥è¯ ä¸€èˆ¬ä¸ç”¨åŠ ä¸Š@ç¬¦å·,é™¤éselect,éœ€è¦é™å®šç±»å‹ #ä½¿ç”¨ç”¨æˆ·å˜é‡ mysql\u0026gt; set @a := 1 ; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select b1 into @b from (select 1 b1)b ; Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select @b+@a ; +-------+ | @b+@a | +-------+ | 2 | +-------+ #åªèƒ½åœ¨begin endä¸­æ‰è¡Œ mysql\u0026gt; declare m int default 1 ; ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026#39;declare m int default 1\u0026#39; at line 1 å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•° å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°:ç±»ä¼¼ä¸javaä¸­çš„æ–¹æ³•\nå¥½å¤„:\næé«˜ä»£ç çš„é‡ç”¨æ€§ ç®€åŒ–æ“ä½œ å­˜å‚¨è¿‡ç¨‹\nå«ä¹‰:ä¸€ç»„é¢„å…ˆç¼–è¯‘è±ªçš„sqlè¯­å¥çš„é›†åˆ,ç†è§£æˆæ‰¹å¤„ç†è¯­å¥\nå¥½å¤„:\næé«˜äº†ä»£ç çš„é‡ç”¨æ€§ ç®€åŒ–æ“ä½œ å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°å¹¶å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥æ¬¡æ•°,æé«˜äº†æ•ˆç‡ åˆ›å»ºè¯­æ³•\ncreate procedure å­˜å‚¨è¿‡ç¨‹å(å‚æ•°åˆ—è¡¨)\nbegin\nâ€‹\tå­˜å‚¨è¿‡ç¨‹ä½“(ä¸€ç»„åˆæ³•çš„sqlè¯­å¥)\nend\næ³¨æ„:\nå‚æ•°åˆ—è¡¨åŒ…å«ä¸‰éƒ¨åˆ† å‚æ•°æ¨¡å¼ å‚æ•°å å‚æ•°ç±»å‹\nIN stuname varchar(20) å‚æ•°æ¨¡å¼ IN è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¾“å…¥,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°éœ€è¦è°ƒç”¨æ–¹ä¼ å…¥å€¼ OUT è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¾“å‡º,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼ INOUT è¯¥å‚æ•°æ—¢å¯ä»¥ä½œä¸ºè¾“å…¥åˆå¯ä»¥ä½œä¸ºè¾“å‡º,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°æ—¢éœ€è¦ä¼ å…¥å€¼,åˆå¯ä»¥è¿”å›å€¼ å¦‚æœå­˜å‚¨è¿‡ç¨‹ä½“ä»…ä»…åªæœ‰ä¸€å¥è¯ , begin end å¯ä»¥çœç•¥\nå­˜å‚¨è¿‡ç¨‹ä½“ä¸­çš„æ¯æ¡sqlè¯­å¥çš„ç»“å°¾è¦æ±‚å¿…é¡»åŠ åˆ†å·;\nå­˜å‚¨è¿‡ç¨‹çš„ç»“å°¾å¯ä»¥ä½¿ç”¨ DELIMITERé‡æ–°è®¾ç½®\nè¯­æ³•:\nDELIMITER ç»“æŸæ ‡è®°\nDELIMITER $\nè°ƒç”¨è¯­æ³•\nCALL å­˜å‚¨è¿‡ç¨‹å (å®å‚åˆ—è¡¨) ç»“æŸæ ‡è®°;\nç©ºå‚åˆ—è¡¨ #å®ç°æ‰¹é‡æ’å…¥æ•°æ® mysql\u0026gt; show procedure status like \u0026#39;myp1\u0026#39;; +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ | Db | Name | Type | Definer | Modified | Created | Security_type | Comment | character_set_client | collation_connection | Database Collation | +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ | girls | myp1 | PROCEDURE | root@localhost | 2021-10-10 10:19:11 | 2021-10-10 10:19:11 | DEFINER | | gbk | gbk_chinese_ci | utf8_general_ci | +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ 1 row in set (0.01 sec) mysql\u0026gt; use girls ; Database changed #å†™é”™äº† å°±æŠŠå­˜å‚¨è¿‡ç¨‹åˆ äº†é‡æ¥ mysql\u0026gt; drop procedure myp1 ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; show procedure status like \u0026#39;myp1\u0026#39; ; Empty set (0.01 sec) mysql\u0026gt; delimiter $ mysql\u0026gt; create procedure myp1() -\u0026gt; begin -\u0026gt; insert into admin(username ,password) -\u0026gt; values (\u0026#39;ljs\u0026#39;,\u0026#39;11\u0026#39;),(\u0026#39;jwt\u0026#39;,\u0026#39;22\u0026#39;),(\u0026#39;lje\u0026#39;,\u0026#39;33\u0026#39;),(\u0026#39;fyz\u0026#39;,\u0026#39;44\u0026#39;),(\u0026#39;wzr\u0026#39;,\u0026#39;55\u0026#39;) ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; show procedure status like \u0026#39;myp1\u0026#39; $; +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ | Db | Name | Type | Definer | Modified | Created | Security_type | Comment | character_set_client | collation_connection | Database Collation | +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ | girls | myp1 | PROCEDURE | root@localhost | 2021-10-10 11:33:35 | 2021-10-10 11:33:35 | DEFINER | | gbk | gbk_chinese_ci | utf8_general_ci | +-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+ 1 row in set (0.01 sec) #æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ mysql\u0026gt; CALL myp1() $ ; Query OK, 5 rows affected (0.00 sec) mysql\u0026gt; select * from admin $ ; +----+----------+----------+ | id | username | password | +----+----------+----------+ | 1 | john | 8888 | | 2 | lyt | 6666 | | 3 | ljs | 11 | | 4 | jwt | 22 | | 5 | lje | 33 | | 6 | fyz | 44 | | 7 | wzr | 55 | +----+----------+----------+ 7 rows in set (0.00 sec) åˆ›å»ºå¸¦INæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹ #æŸ¥çœ‹å¥³ç¥çš„ç”·æœ‹å‹ mysql\u0026gt; DELIMITER $ ; mysql\u0026gt; create procedure myp2 (IN girlName varchar(20)) -\u0026gt; begin -\u0026gt; select bo.* from boys bo right join beauty b on bo.id = b.boyfriend_id -\u0026gt; where b.name = girlName ; -\u0026gt; end $ ; Query OK, 0 rows affected (0.01 sec) -\u0026gt; $ ERROR 1065 (42000): Query was empty mysql\u0026gt; CALL myp2(\u0026#39;æŸ³å²©\u0026#39;); -\u0026gt; $ +------+---------+--------+ | id | boyName | userCP | +------+---------+--------+ | 2 | å¼ é£ | 10 | +------+---------+--------+ 1 row in set (0.01 sec) Query OK, 0 rows affected, 1 warning (0.01 sec) #ä¼ å…¥å¤šä¸ªå‚æ•°,åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†æˆåŠŸ æ–¹å¼ä¸€ mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp3(IN username varchar(20),IN password varchar(20)) -\u0026gt; begin -\u0026gt; select case when count(*) \u0026gt; 0 then \u0026#39;ç™»é™†æˆåŠŸ\u0026#39; else \u0026#39;æœªç™»é™†\u0026#39; end ç™»é™†çŠ¶æ€ from admin where admin.username =username and admin.password = password ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call myp3(\u0026#39;john\u0026#39;,\u0026#39;8888\u0026#39;)$; +----------+ | ç™»é™†çŠ¶æ€ | +----------+ | ç™»é™†æˆåŠŸ | +----------+ 1 row in set (0.00 sec) mysql\u0026gt; call myp3(\u0026#39;john\u0026#39;,\u0026#39;8887\u0026#39;)$; +----------+ | ç™»é™†çŠ¶æ€ | +----------+ | æœªç™»é™† | +----------+ 1 row in set (0.00 sec) #æ–¹å¼äºŒ ä½¿ç”¨å±€éƒ¨å˜é‡ mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp4(in username varchar(20) , in password varchar(20)) -\u0026gt; begin -\u0026gt; declare result varchar(20) default \u0026#39;\u0026#39;; -\u0026gt; select count(*) into result from admin where admin.username = username and admin.password = password ; -\u0026gt; select if(result =\u0026#39;0\u0026#39;,\u0026#39;æœªç™»é™†\u0026#39;,\u0026#39;ç™»é™†æˆåŠŸ\u0026#39;); -\u0026gt; end $ ; Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myp4(\u0026#39;john\u0026#39;,\u0026#39;8888\u0026#39;)$; +-------------------------------------+ | if(result =\u0026#39;0\u0026#39;,\u0026#39;æœªç™»é™†\u0026#39;,\u0026#39;ç™»é™†æˆåŠŸ\u0026#39;) | +-------------------------------------+ | ç™»é™†æˆåŠŸ | +-------------------------------------+ 1 row in set (0.00 sec) Query OK, 0 rows affected, 2 warnings (0.00 sec) mysql\u0026gt; CALL myp4(\u0026#39;john\u0026#39;,\u0026#39;88887\u0026#39;)$; +-------------------------------------+ | if(result =\u0026#39;0\u0026#39;,\u0026#39;æœªç™»é™†\u0026#39;,\u0026#39;ç™»é™†æˆåŠŸ\u0026#39;) | +-------------------------------------+ | æœªç™»é™† | +-------------------------------------+ 1 row in set (0.00 sec) Query OK, 0 rows affected (0.01 sec) åˆ›å»ºå¸¦outæ¨¡å¼çš„å­˜å‚¨è¿‡ç¨‹ #æ ¹æ®å¥³ç¥å,è¿”å›å¯¹åº”ç”·ç¥å mysql\u0026gt; DELIMITER $ mysql\u0026gt; CREATE procedure myp5(in beautyname varchar(20),out boyname varchar(20)) -\u0026gt; begin -\u0026gt; select bo.boyname into boyname from boys bo where bo.id in (select boyfriend_id from beauty where name = beautyname) ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) #ä¸ç”¨åˆå§‹åŒ–ä¹Ÿæ˜¯å¯ä»¥çš„ mysql\u0026gt; set @boyname := \u0026#39;\u0026#39;; -\u0026gt; call myp5(\u0026#39;æŸ³å²©\u0026#39;,@boyname)$; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select @boyname ; -\u0026gt; $ +----------+ | @boyname | +----------+ | å¼ é£ | +----------+ 1 row in set (0.00 sec) #å¤šä¸ªoutè¿”å›å€¼ , è¿”å›ç”·æœ‹å‹çš„åå­—å’Œé­…åŠ›å€¼ mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp6(in girlname char(20) , out boyname char(20) , out soulIndex int) -\u0026gt; begin -\u0026gt; select bo.boyname , bo.usercp into boyname , soulIndex from boys bo join beauty b on b.boyfriend_id = bo.id where b.name = girlname ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call myp6(\u0026#39;æŸ³å²©\u0026#39;,@boyname,@soulIndex)$; Query OK, 1 row affected, 2 warnings (0.00 sec) mysql\u0026gt; select @boyname $ +----------+ | @boyname | +----------+ | å¼ é£ | +----------+ 1 row in set (0.00 sec) mysql\u0026gt; select @soulIndex $ +------------+ | @soulIndex | +------------+ | 10 | +------------+ 1 row in set (0.00 sec) åˆ›å»ºå¸¦INOUTæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹ mysql\u0026gt; DELIMITER $ mysql\u0026gt; CREATE procedure myp7 (inout a int , inout b int ) -\u0026gt; begin -\u0026gt; set a = a*2 ; -\u0026gt; set b = b*2 ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; set @a:=1 ; -\u0026gt; set @b:=2 ; -\u0026gt; CALL myp7(@a,@b)$; Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; select @a,@b; -\u0026gt; $ +------+------+ | @a | @b | +------+------+ | 2 | 4 | +------+------+ 1 row in set (0.00 sec) ç»ƒä¹ ä¸€ä¸‹\n#ä¼ å…¥ç”¨æˆ·åå¯†ç ,æ’å…¥adminè¡¨ mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp8(in username varchar(20),in password varchar(20)) -\u0026gt; begin -\u0026gt; insert into admin(admin.username , admin.password ) values (username,password); -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myp8(\u0026#39;wlz\u0026#39;,\u0026#39;hellouu\u0026#39;)$ Query OK, 1 row affected, 2 warnings (0.00 sec) #æŸ¥è¯¢ä¼ å…¥å¥³ç¥ç¼–å· , è¿”å›å¥³ç¥åç§°å’Œå¥³ç¥ç”µè¯ mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp9(in id int , out girlname varchar(20) , out phone varchar(11)) -\u0026gt; begin -\u0026gt; select b.name , b.phone into girlname , phone from beauty b where b.id = id ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myp9(1,@girlname , @phone)$ Query OK, 1 row affected, 2 warnings (0.00 sec) mysql\u0026gt; select @girlname , @phone $ +-----------+-------------+ | @girlname | @phone | +-----------+-------------+ | æŸ³å²© | 18209876577 | +-----------+-------------+ 1 row in set (0.00 sec) #æ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸå¤§å° å¹¶è¿”å›å¤§å°å…³ç³» mysql\u0026gt; DELIMITER $ mysql\u0026gt; create procedure myp10(in birth1 datetime , in birth2 datetime , out result int ) -\u0026gt; begin -\u0026gt; select if(datediff(birth1,birth2)\u0026gt;0,1,if(datediff(birth1,birth2)\u0026lt;0,-1,0)) into result ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myp10(\u0026#39;1997-11-21\u0026#39;,\u0026#39;1998-11-21\u0026#39;,@result)$ Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select @result $ +---------+ | @result | +---------+ | -1 | +---------+ 1 row in set (0.00 sec) åˆ é™¤å­˜å‚¨è¿‡ç¨‹\ndrop procedure å­˜å‚¨è¿‡ç¨‹å ä¸€æ¬¡åªèƒ½åˆ é™¤ä¸€æ¬¡\næŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„ä¿¡æ¯\nshow create proceduce å­˜å‚¨è¿‡ç¨‹å\nä¿®æ”¹å­˜å‚¨è¿‡ç¨‹\næ¯”è¾ƒéº»çƒ¦,é€šå¸¸ä¸è¿™ä¹ˆåš\nç»ƒä¹ ä¸€ä¸‹\n#ä¼ å…¥æ—¥æœŸ,è½¬æ¢æˆxxå¹´xxæœˆxxæ—¥å¹¶è¿”å› mysql\u0026gt; create procedure myptest1(in mydate datetime , out strDate varchar(50)) -\u0026gt; begin -\u0026gt; select date_format(mydate,\u0026#39;%yå¹´%mæœˆ%dæ—¥\u0026#39;) into strDate ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myptest1(\u0026#39;1997-11-21\u0026#39;,@strDate); -\u0026gt; select @strDate $ Query OK, 1 row affected, 1 warning (0.00 sec) +--------------+ | @strDate | +--------------+ | 97å¹´11æœˆ21æ—¥ | +--------------+ 1 row in set (0.00 sec) #ä¼ å…¥å¥³ç¥åå­— è¾“å‡º å¥³ç¥åå­— and ç”·ç”Ÿåå­— æœ€å¥½ä½¿ç”¨å³è¿æ¥ å¦å¤–concatå’Œnullæ‹¼æ¥æ°¸è¿œéƒ½æ˜¯null æ‰€ä»¥è¦ç”¨ifnullçš„å‡½æ•°é˜²æ­¢å‡ºé—®é¢˜ mysql\u0026gt; delimiter $ mysql\u0026gt; create procedure myptest2(inout girlName varchar(50)) -\u0026gt; select concat(b.name ,\u0026#39; AND \u0026#39;,bo.boyName) into girlName from beauty b join boys bo on b.boyfriend_id = bo.id where b.name = girlName ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; set @name :=\u0026#39;æŸ³å²©\u0026#39; ; -\u0026gt; CALL MYPTEST2(@name); -\u0026gt; select @name $ Query OK, 0 rows affected (0.00 sec) Query OK, 1 row affected (0.00 sec) +---------------+ | @name | +---------------+ | æŸ³å²© AND å¼ é£ | +---------------+ 1 row in set (0.00 sec) #ä¼ å…¥æ¡ç›®æ•°å’Œèµ·å§‹ç´¢å¼•,æŸ¥è¯¢beautyè¡¨çš„è®°å½• limit offset,size æ˜¯ä»offsetçš„ä¸‹ä¸€æ¡å¼€å§‹çš„ mysql\u0026gt; delimiter $ mysql\u0026gt; create procedure myptest3(in size int , in startIndex int) -\u0026gt; begin -\u0026gt; select * from beauty limit startIndex,size ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; CALL myptest3(5,3) $ +----+--------+------+---------------------+-------------+--------------+--------------+ | id | name | sex | borndate | phone | photo | boyfriend_id | +----+--------+------+---------------------+-------------+--------------+--------------+ | 5 | å‘¨å†¬é›¨ | å¥³ | 1992-02-03 00:00:00 | 18209179577 | NULL | 2 | | 7 | å²³çµçŠ | å¥³ | 1987-12-30 00:00:00 | 18219876577 | NULL | 2 | | 9 | åŒå„¿ | å¥³ | 1993-02-03 00:00:00 | 18209876579 | NULL | 2 | | 11 | å¤é›ª | å¥³ | 1993-02-03 00:00:00 | 18209876579 | NULL | 2 | | 13 | å”è‰ºæ˜• | å¥³ | 1990-04-23 00:00:00 | 18988888 | NULL | 2 | +----+--------+------+---------------------+-------------+--------------+--------------+ 5 rows in set (0.00 sec) Query OK, 0 rows affected (0.02 sec) å‡½æ•° å«ä¹‰:ä¸€ç»„é¢„å…ˆç¼–è¯‘è±ªçš„sqlè¯­å¥çš„é›†åˆ,ç†è§£æˆæ‰¹å¤„ç†è¯­å¥\nå¥½å¤„:\næé«˜äº†ä»£ç çš„é‡ç”¨æ€§ ç®€åŒ–æ“ä½œ å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°å¹¶å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥æ¬¡æ•°,æé«˜äº†æ•ˆç‡ åŒºåˆ«:\nå­˜å‚¨è¿‡ç¨‹:å¯ä»¥æœ‰0ä¸ªè¿”å›,ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªè¿”å›,é€‚åˆåšæ‰¹é‡æ’å…¥/æ‰¹é‡æ›´æ–°\nå‡½æ•°:æœ‰ä¸”ä»…æœ‰1ä¸ªè¿”å›,é€‚åˆåšå¤„ç†æ•°æ®åè¿”å›ä¸€ä¸ªç»“æœ\nåˆ›å»ºè¯­æ³•\ncreate function å‡½æ•°å (å‚æ•°åˆ—è¡¨) return è¿”å›ç±»å‹\nbegin\nâ€‹\tå‡½æ•°ä½“\nend\næ³¨æ„:\nå‚æ•°åˆ—è¡¨ åŒ…å«ä¸¤éƒ¨åˆ†\nå‚æ•°å å‚æ•°ç±»å‹\nå‡½æ•°ä½“:è‚¯å®šä¼šæœ‰returnè¯­å¥,å¦‚æœæ²¡æœ‰ä¼šæŠ¥é”™\nå¦‚æœreturnè¯­å¥æ²¡æœ‰æ”¾åœ¨å‡½æ•°ä½“çš„æœ€åä¹Ÿä¸æŠ¥é”™,ä½†ä¸å»ºè®®\nreturn å€¼;\nå‡½æ•°ä½“ä¸­ä»…æœ‰ä¸€å¥è¯,åˆ™å¯ä»¥çœç•¥begin end\nä½¿ç”¨delimeterè¯­å¥ä½œä¸ºè®¾ç½®ç»“æŸæ ‡è®°\nè°ƒç”¨è¯­æ³•\nselect å‡½æ•°å(å‚æ•°åˆ—è¡¨)\næ— å‚æœ‰è¿”å›\n#è¿”å›å…¬å¸çš„å‘˜å·¥ä¸ªæ•° #å’Œå­˜å‚¨è¿‡ç¨‹ä¸ä¸€æ · è¿™é‡Œè¦å£°æ˜å±€éƒ¨å˜é‡ æœ€åä¸€å¥éœ€è¦returnä¸€ä¸‹ #mysqlä¸­è¦æ”¹ä¸€ä¸‹å…¨å±€å˜é‡ è¿™æ˜¯æˆ‘ä»¬å¼€å¯äº†bin-log, æˆ‘ä»¬å°±å¿…é¡»æŒ‡å®šæˆ‘ä»¬çš„å‡½æ•°æ˜¯å¦æ˜¯ mysql\u0026gt; set global log_bin_trust_function_creators=1; -\u0026gt; $ Query OK, 0 rows affected (0.00 sec) mysql\u0026gt; delimiter $ mysql\u0026gt; create function myf1() returns int -\u0026gt; begin -\u0026gt; declare count int default 0 ; -\u0026gt; select count(*) into count from employees ; -\u0026gt; return count ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) #ä½¿ç”¨çš„æ—¶å€™ç”¨selectå…³é”®å­— mysql\u0026gt; select myf1()$ +--------+ | myf1() | +--------+ | 107 | +--------+ 1 row in set (0.00 sec) æœ‰å‚æœ‰è¿”å›\n#æ ¹æ®å‘˜å·¥å,è¿”å›ä»–çš„å·¥èµ„ mysql\u0026gt; delimiter $ mysql\u0026gt; create function myf3(departmentname varchar(20)) returns double(10,2) -\u0026gt; begin -\u0026gt; set @avgsalary := 0 ; -\u0026gt; select avg(salary) into @avgsalary from employees group by department_id having department_id in (select department_id from departments where department_name = departmentname ); -\u0026gt; return @avgsalary ; -\u0026gt; end $ Query OK, 0 rows affected, 1 warning (0.01 sec) mysql\u0026gt; select myf3(\u0026#39;Adm\u0026#39;); -\u0026gt; $ +-------------+ | myf3(\u0026#39;Adm\u0026#39;) | +-------------+ | 4400.00 | +-------------+ 1 row in set (0.00 sec) æŸ¥çœ‹å‡½æ•° show create function myf3;\nåˆ é™¤å‡½æ•°\ndrop function myf3 ;\nå­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°éƒ½åœ¨information_schemaä¸­çš„routinesè¡¨ä¸­\nimage-20211010170437148\rç»ƒä¹ ä¸€ä¸‹\n#ä¼ å…¥ä¸¤ä¸ªfloatçš„å€¼ è¿”å›ä¸€ä¸ªå’Œ mysql\u0026gt; delimiter $ mysql\u0026gt; create function test_func1(a float , b float) returns float -\u0026gt; begin -\u0026gt; declare sum float default 0 ; -\u0026gt; set sum = a+b ; -\u0026gt; return sum ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; select test_func1(1,2) $ +-----------------+ | test_func1(1,2) | +-----------------+ | 3 | +-----------------+ 1 row in set (0.00 sec) mysql\u0026gt; select test_func1(1.1,-1.1) $ +----------------------+ | test_func1(1.1,-1.1) | +----------------------+ | 0 | +----------------------+ 1 row in set (0.00 sec) æµç¨‹æ§åˆ¶ç»“æ„ é¡ºåºç»“æ„:ç¨‹åºä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ\nåˆ†æ”¯ç»“æ„:ç¨‹åºä»ä¸¤æ¡æˆ–å¤šæ¡è·¯å¾„ä¸­é€‰æ‹©ä¸€æ¡å»æ‰§è¡Œ\nå¾ªç¯ç»“æ„:ç¨‹åºåœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶çš„åŸºç¡€ä¸Š,é‡å¤æ‰§è¡Œä¸€æ®µä»£ç \nåˆ†æ”¯ç»“æ„ ifå‡½æ•° åŠŸèƒ½:å®ç°ç®€å•çš„åŒåˆ†æ”¯\nè¯­æ³•:\nif(è¡¨è¾¾å¼1,è¡¨è¾¾å¼2,è¡¨è¾¾å¼3)\nå¦‚æœè¡¨è¾¾å¼1æˆç«‹,åˆ™ifå‡½æ•°è¿”å›è¡¨è¾¾å¼2çš„å€¼,å¦åˆ™è¿”å›è¡¨è¾¾å¼3çš„å€¼\nåº”ç”¨:ä»»ä½•åœ°æ–¹\ncaseç»“æ„ æƒ…å†µ1:ç±»ä¼¼äºjavaä¸­çš„switchè¯­å¥,ä¸€èˆ¬ç”¨äºå®ç°ç­‰å€¼åˆ¤æ–­\ncase è¡¨è¾¾å¼|å­—æ®µ|å˜é‡\nwhen è¦åˆ¤æ–­çš„å€¼ then \u0026hellip; æˆ–è¯­å¥1 ;\nwhen è¦åˆ¤æ–­çš„å€¼ then \u0026hellip; æˆ–è¯­å¥2 ;\nelse \u0026hellip; æˆ–è¯­å¥n ;\nend case ;\næƒ…å†µ2:ç±»ä¼¼äºjavaä¸­çš„å¤šé‡ifè¯­å¥,ä¸€èˆ¬ç”¨äºå®ç°åŒºé—´åˆ¤æ–­\ncase\nwhen è¦åˆ¤æ–­çš„æ¡ä»¶1 then \u0026hellip; æˆ–è¯­å¥1 ;\nwhen è¦åˆ¤æ–­çš„è¡¨è¾¾å¼2 then \u0026hellip; æˆ–è¯­å¥2 ;\nelse \u0026hellip; æˆ–è¯­å¥n ;\nend case ;\nç‰¹ç‚¹:\nå¯ä»¥ä½œä¸ºè¡¨è¾¾å¼,åµŒå¥—åœ¨å…¶ä»–è¯­å¥ä¸­ä½¿ç”¨,å¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹,begin end ä¸­æˆ–è€…begin end çš„å¤–é¢ å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„è¯­å¥å»ä½¿ç”¨,åªèƒ½æ”¾åœ¨begin end ä¸­ å¦‚æœwhenä¸­çš„å€¼æˆ–æ¡ä»¶æˆç«‹,åˆ™æ‰§è¡Œå¯¹åº”çš„thenåé¢çš„è¯­å¥,å¹¶ä¸”ç»“æŸcase å¦‚æœéƒ½ä¸æ»¡è¶³,åˆ™æ‰§è¡Œelseä¸­çš„è¯­å¥æˆ–å€¼ elseå¯ä»¥çœç•¥,å¦‚æœelseçœç•¥äº†,å¹¶ä¸”æ‰€æœ‰whenæ¡ä»¶éƒ½ä¸æ»¡è¶³,åˆ™è¿”å›null image-20211010203810756\rimage-20211010203829794\ræ¡ˆä¾‹\n#90-100 æ˜¾ç¤ºA 80-90 æ˜¾ç¤ºB 60-80æ˜¾ç¤ºC å…¶ä½™æ˜¾ç¤ºD mysql\u0026gt; create procedure test_case(in score int) -\u0026gt; begin -\u0026gt; case when score \u0026gt;=90 and score \u0026lt;=100 -\u0026gt; then select \u0026#39;A\u0026#39; ; -\u0026gt; when score \u0026gt;=80 and score \u0026lt;90 -\u0026gt; then select \u0026#39;B\u0026#39; ; -\u0026gt; when score \u0026gt;=60 and score \u0026lt;80 -\u0026gt; then select \u0026#39;C\u0026#39; ; -\u0026gt; else select \u0026#39;D\u0026#39; ; -\u0026gt; end case ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call test_case (95) $ +---+ | A | +---+ | A | +---+ 1 row in set (0.00 sec) Query OK, 0 rows affected (0.00 sec) ifç»“æ„ åŠŸèƒ½:å®ç°å¤šé‡åˆ†æ”¯\nè¯­æ³•:\nif æ¡ä»¶1 then è¯­å¥1 ;\nelse if æ¡ä»¶2 then è¯­å¥2 ;\n\u0026hellip;\nelse è¯­å¥n ;\nend if ;\nåº”ç”¨åœ¨begin end ä¸­\næ¡ˆä¾‹\n#90-100 è¿”å›A 80-90 è¿”å›B 60-80è¿”å›C å…¶ä½™è¿”å›D #æ–¹å¼ä¸€ å¯ä»¥è¿™æ ·ç›´æ¥return mysql\u0026gt; create function test_if(score int) returns varchar(20) -\u0026gt; begin -\u0026gt; if score \u0026gt;=90 and score \u0026lt;=100 -\u0026gt; then return \u0026#39;A\u0026#39; ; -\u0026gt; elseif score \u0026gt;80 -\u0026gt; then return \u0026#39;B\u0026#39; ; -\u0026gt; elseif score \u0026gt;60 -\u0026gt; then return \u0026#39;C\u0026#39; ; -\u0026gt; else -\u0026gt; return \u0026#39;D\u0026#39; ; -\u0026gt; end if ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) #æˆ–è€…ç”¨åŸå§‹çš„è¿™æ · è¿™é‡Œæ³¨æ„ end if ä¸€å®šè¦æœ‰å°å·!!!! mysql\u0026gt; create function test_id1(score int) returns varchar(20) -\u0026gt; begin -\u0026gt; set @grade :=\u0026#39;\u0026#39; ; -\u0026gt; if score \u0026gt;=90 and score \u0026lt;100 -\u0026gt; then set @grade = \u0026#39;A\u0026#39; ; -\u0026gt; elseif score \u0026gt;80 -\u0026gt; then set @grade = \u0026#39;B\u0026#39; ; -\u0026gt; elseif score \u0026gt;60 -\u0026gt; then set @grade = \u0026#39;C\u0026#39; ; -\u0026gt; else -\u0026gt; set @grade = \u0026#39;D\u0026#39; ; -\u0026gt; end if ; -\u0026gt; return @grade ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) å¾ªç¯ç»“æ„ åˆ†ç±»:\nwhile loop repeat å¾ªç¯æ§åˆ¶:\niterateç±»ä¼¼äºcontinue ,ç»“æŸæœ¬æ¬¡å¾ªç¯,ç»§ç»­ä¸‹ä¸€æ¬¡\nleave ç±»ä¼¼äº break , è·³å‡º,ç»“æŸå½“å‰æ‰€åœ¨çš„å¾ªç¯\nwhile [æ ‡ç­¾:] while å¾ªç¯æ¡ä»¶ do\nâ€‹\tå¾ªç¯ä½“\nend while [æ ‡ç­¾]\nloop [æ ‡ç­¾:] loop\nâ€‹\tå¾ªç¯ä½“\nend loop [æ ‡ç­¾]\nå¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿç®€å•çš„æ­»å¾ªç¯\nrepeat [æ ‡ç­¾:] repeat\nâ€‹\tå¾ªç¯ä½“\nuntil ç»“æŸå¾ªç¯çš„æ¡ä»¶\nend repeat [æ ‡ç­¾]\næ¡ˆä¾‹\n#æ‰¹é‡æ’å…¥ æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°adminä¸­å¤šæ¡è®°å½• mysql\u0026gt; create procedure pro_while1(in insertcount int ) -\u0026gt; begin -\u0026gt; declare i int default 0; -\u0026gt; while i\u0026lt;insertcount do -\u0026gt; insert into admin(id,username,password) values (null,concat(\u0026#39;rose\u0026#39;,i),666); -\u0026gt; set i = i+1 ; -\u0026gt; end while ; -\u0026gt; end $ Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call pro_while1(3) $ Query OK, 1 row affected (0.00 sec) mysql\u0026gt; select * from admin ; -\u0026gt; $ +----+----------+----------+ | id | username | password | +----+----------+----------+ | 1 | john | 8888 | | 2 | lyt | 6666 | | 9 | rose0 | 666 | | 10 | rose1 | 666 | | 11 | rose2 | 666 | +----+----------+----------+ 11 rows in set (0.00 sec) #æ·»åŠ leaveè¯­å¥ #æ‰¹é‡æ’å…¥ , æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°adminè¡¨ä¸­å¤šæ¡è®°å½• , å¦‚æœæ¬¡æ•°\u0026gt;20 å°±åœæ­¢ æ³¨æ„å®‰å…¨ ifè¯­å¥æ²¡å†™å¥½ ä¸€ç›´åœ¨å¾ªç¯æ’å…¥äº†300wæ¡æ•°æ® mysql\u0026gt; create procedure test_whileleave(in insertcount int ) -\u0026gt; begin -\u0026gt; declare i int default 0 ; -\u0026gt; a:while i \u0026lt; insertcount do -\u0026gt; if i=20 then leave a ; -\u0026gt; end if ; -\u0026gt; insert into admin(username,password) values (concat(\u0026#39;xiaohua\u0026#39;,i),\u0026#39;0000\u0026#39;) ; -\u0026gt; set i = i + 1 ; -\u0026gt; end while a ; -\u0026gt; end # Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call test_whileleave(30) # Query OK, 1 row affected (0.03 sec) #æ·»åŠ iterate ##æ‰¹é‡æ’å…¥ , æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°adminè¡¨ä¸­å¤šæ¡è®°å½• , å¹¶ä¸”æ’å…¥å¥‡æ•° mysql\u0026gt; create procedure test_iterate(in insertcount int) -\u0026gt; begin -\u0026gt; declare i int default 1 ; -\u0026gt; a:while i \u0026lt;= insertcount do -\u0026gt; if mod(i,2) !=1 then set i = i+ 1 ; iterate a ; -\u0026gt; else -\u0026gt; insert into admin (username, password) values (concat(\u0026#39;jishu\u0026#39;,i),\u0026#39;1111\u0026#39;); -\u0026gt; set i = i + 1; -\u0026gt; end if ; -\u0026gt; end while a ; -\u0026gt; end # Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call test_iterate(20) # Query OK, 1 row affected (0.02 sec) image-20211010222825964\rç»ƒä¹ ä¸€ä¸‹ #æ–°å»ºè¡¨ ç„¶ååƒè¯¥è¡¨æ’å…¥æŒ‡å®šä¸ªæ•°çš„ , éšæœºå­—ç¬¦ä¸² mysql\u0026gt; create table if not exists stringcontent (id int primary key auto_increment , content varchar(20)); Query OK, 0 rows affected, 1 warning (0.01 sec) mysql\u0026gt; create procedure test_randstr_insert(in insertcount int) -\u0026gt; begin -\u0026gt; declare i int default 0 ; -\u0026gt; declare str varchar(26) default \u0026#39;abcdefghijklmnopqrstuvwxyz\u0026#39;; -\u0026gt; declare startIndex int default 1 ; -\u0026gt; declare len int default 1 ; -\u0026gt; while i\u0026lt;insertcount do -\u0026gt; set startIndex = floor(rand()*26+1) ; -\u0026gt; set len = floor(rand()*(20-startindex+1)+1) ; -\u0026gt; insert into stringcontent(content) values (substr(str,startIndex,len)); -\u0026gt; set i = i + 1; -\u0026gt; end while ; -\u0026gt; end # Query OK, 0 rows affected (0.01 sec) mysql\u0026gt; call test_randstr_insert(10)# Query OK, 1 row affected (0.02 sec) mysql\u0026gt; select * from stringcontent # +----+--------------+ | id | content | +----+--------------+ | 1 | klm | | 2 | hijklmn | | 3 | pqr | | 4 | no | | 5 | rs | | 6 | abcde | | 7 | bcdefghijklm | | 8 | | | 9 | f | | 10 | lmn | +----+--------------+ 10 rows in set (0.00 sec) å¤ä¹ ä¸€ä¸‹ åˆ†ç±»:\nç³»ç»Ÿå˜é‡\nè¯´æ˜:å˜é‡ç”±ç³»ç»Ÿæä¾›çš„,ä¸ç”¨è‡ªå®šä¹‰\nè¯­æ³•:\næŸ¥çœ‹ç³»ç»Ÿå˜é‡ show global|session variables ;å¦‚æœæ²¡æœ‰æ˜¾å¼å£°æ˜,é‚£é»˜è®¤æ˜¯session æŸ¥çœ‹æŒ‡å®šçš„ç³»ç»Ÿå˜é‡çš„å€¼ select @@global|session.å˜é‡å ; ä¸ºç³»ç»Ÿå˜é‡èµ‹å€¼ set gloabl|session å˜é‡å = å€¼ ; set @@global.å˜é‡å = å€¼ ; set @@å˜é‡å = å€¼; å…¨å±€å˜é‡ æœåŠ¡å™¨å±‚é¢ä¸Šçš„,å¿…é¡»æ‹¥æœ‰superæƒé™æ‰èƒ½ä¸ºç³»ç»Ÿå˜é‡èµ‹å€¼,ä½œç”¨åŸŸä¸ºæ•´ä¸ªæœåŠ¡å™¨,ä¹Ÿå°±æ˜¯é’ˆå¯¹äºæ‰€æœ‰è¿æ¥(ä¼šè¯)æœ‰æ•ˆ,æœåŠ¡å™¨é‡å¯åå¤±æ•ˆ(é™¤éä¿®æ”¹é…ç½®) ä¼šè¯å˜é‡ æœåŠ¡å™¨ä¸ºæ¯ä¸€ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯éƒ½æä¾›äº†ç³»ç»Ÿå˜é‡,ä½œç”¨åŸŸä¸ºå½“å‰çš„è¿æ¥(ä¼šè¯) è‡ªå®šä¹‰å˜é‡\nè¯´æ˜:\nç”¨æˆ·å˜é‡\nä½œç”¨åŸŸï¼šé’ˆå¯¹äºå½“å‰è¿æ¥(ä¼šè¯)ç”Ÿæ•ˆ\nä½ç½®:begin end é‡Œé¢, ä¹Ÿå¯ä»¥æ”¾åœ¨å¤–é¢\nä½¿ç”¨\nå£°æ˜å¹¶èµ‹å€¼\nset @å˜é‡å = å€¼; set @å˜é‡å:= å€¼; select @å˜é‡å:=å€¼ ; æ›´æ–°å€¼\nset @å˜é‡å = å€¼; set @å˜é‡å:= å€¼; select @å˜é‡å:=å€¼ ; select xx into @å˜é‡å from è¡¨ ; ä½¿ç”¨\nselect @å˜é‡å ; å±€éƒ¨å˜é‡\nä½œç”¨åŸŸ:ä»…ä»…åœ¨å®šä¹‰å®ƒçš„begin end ä¸­æœ‰æ•ˆ ä½ç½®:åªèƒ½æ”¾åœ¨begin end ä¸­ï¼Œ è€Œä¸”åªèƒ½æ”¾åœ¨ç¬¬ä¸€å¥ create procedure pro1() begin declare i int default 1 ; \u0026hellip; end å£°æ˜ declare å˜é‡å ç±»å‹ default å€¼; èµ‹å€¼æˆ–æ›´æ–° set å˜é‡å=å€¼; set å˜é‡å:= å€¼; select @å˜é‡å := å€¼; select xx into å˜é‡å from è¡¨ ; ä½¿ç”¨ select å˜é‡å ; å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°\nè¯´æ˜:éƒ½ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•,å°†ä¸€ç»„å®Œæˆç‰¹å®šåŠŸèƒ½çš„é€»è¾‘è¯­å¥åŒ…è£…èµ·æ¥,å¯¹å¤–æš´éœ²åå­—\nå¥½å¤„:\næé«˜é‡ç”¨æ€§ sqlè¯­å¥ç®€å• å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„æ¬¡æ•°,æé«˜äº†æ•ˆç‡ åˆ›å»º\ncreate procedure å­˜å‚¨è¿‡ç¨‹å (å‚æ•°æ¨¡å¼ å‚æ•°å å‚æ•°ç±»å‹)\nbegin\nå­˜å‚¨è¿‡ç¨‹ä½“\nend\næ³¨æ„:å‚æ•°æ¨¡å¼ in out inout å…¶ä¸­INå¯ä»¥çœç•¥ å­˜å‚¨è¿‡ç¨‹ä½“ä¸­çš„æ¯ä¸€æ¡sqlè¯­å¥éƒ½éœ€è¦åˆ†å·ç»“å°¾ è°ƒç”¨\nCALL å­˜å‚¨è¿‡ç¨‹å(å®å‚åˆ—è¡¨)\nè°ƒç”¨inæ¨¡å¼çš„å‚æ•° call sp1(\u0026lsquo;å€¼\u0026rsquo;) ;\nè°ƒç”¨outæ¨¡å¼çš„å‚æ•° set @name :=\u0026quot;\u0026quot; ; call sp1(@name) ;\nè°ƒç”¨inoutæ¨¡å¼çš„å‚æ•° set @name = å€¼ ; call sp1(@name) ; select @name ;\næŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹\nshow create procedure å­˜å‚¨è¿‡ç¨‹å ;\nåˆ é™¤å­˜å‚¨è¿‡ç¨‹\ndrop procedure å­˜å‚¨è¿‡ç¨‹å ;\nå‡½æ•°\nåˆ›å»º\ncreate function å‡½æ•°å (å‚æ•°å å‚æ•°ç±»å‹) returns è¿”å›å€¼ç±»å‹\nbegin\ndeclare a int default 0 ;\n\u0026hellip;\nreturn a ;\nend\n**æ³¨æ„:\t**å‡½æ•°ä½“ä¸­è‚¯å®šéœ€è¦æœ‰returnè¯­å¥\nè°ƒç”¨\nselect å‡½æ•°å (å®å‚åˆ—è¡¨) ;\næŸ¥çœ‹ show create function å‡½æ•°å ;\nåˆ é™¤\ndrop functioon å‡½æ•°å ;\næµç¨‹æ§åˆ¶ç»“æ„\né¡ºåºç»“æ„ :ç¨‹åºä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ ;\nåˆ†æ”¯ç»“æ„:: ç¨‹åºæŒ‰æ¡ä»¶è¿›è¡Œé€‰æ‹©æ‰§è¡Œ, ä»ä¸¤æ¡æˆ–å¤šæ¡è·¯å¾„ä¸­é€‰æ‹©ä¸€æ¡æ‰§è¡Œ ;\nå¾ªç¯ç»“æ„: ç¨‹åºæ»¡è¶³ä¸€å®šæ¡ä»¶ä¸‹,é‡å¤æ‰§è¡Œä¸€ç»„è¯­å¥\nåˆ†æ”¯ç»“æ„\nifå‡½æ•° åŠŸèƒ½:ç®€å•å®ç°åŒåˆ†æ”¯ if(æ¡ä»¶, å€¼1 , å€¼2 ) ä½ç½®:ä»»ä½•ä½ç½® case ç»“æ„ åŠŸèƒ½:å®ç°å¤šåˆ†æ”¯ case è¡¨è¾¾å¼å­—æ®µ when å€¼1 then \u0026hellip; when å€¼2 then \u0026hellip; else \u0026hellip; end [case]; ä½ç½®:å¯ä»¥æ”¾åœ¨ä»»ä½•ä½ç½®, å¦‚æœæ”¾åœ¨begin end å¤–é¢,ä½œä¸ºè¡¨è¾¾å¼ç»“åˆç€å…¶ä»–è¯­å¥ä½¿ç”¨ , å¦‚æœæ”¾åœ¨begin end é‡Œé¢, ä¸€èˆ¬ä½œä¸ºç‹¬ç«‹çš„è¯­å¥ä½¿ç”¨ ifç»“æ„ åŠŸèƒ½:å®ç°å¤šåˆ†æ”¯ if æ¡ä»¶1 then \u0026hellip;; elseif æ¡ä»¶2 then \u0026hellip;; else then \u0026hellip; ; end if ; ä½ç½®: åªèƒ½æ”¾åœ¨begin endä¸­ å¾ªç¯ç»“æ„\næ³¨æ„:åªèƒ½æ”¾åœ¨begin end ä¸­\nç‰¹ç‚¹:éƒ½èƒ½å®ç°å¾ªç¯ç»“æ„\nå¯¹æ¯”:\nè¿™ä¸‰ç§å¾ªç¯éƒ½å¯ä»¥çœç•¥åç§°,ä½†å¦‚æœå¾ªç¯ä¸­æ·»åŠ äº†å¾ªç¯æ§åˆ¶è¯­å¥(leaveæˆ–iterate)åˆ™å¿…é¡»æ·»åŠ åç§° loop ä¸€èˆ¬ç”¨äºå®ç°ç®€å•çš„æ­»å¾ªç¯ whileå…ˆåˆ¤æ–­åæ‰§è¡Œ repeat å…ˆæ‰§è¡Œååˆ¤æ–­,æ— æ¡ä»¶è‡³å°‘æ‰§è¡Œä¸€æ¬¡ while\n[æ ‡ç­¾:] while å¾ªç¯æ¡ä»¶ do\nå¾ªç¯ä½“\nend while [æ ‡ç­¾] ;\nloop\n[æ ‡ç­¾:] loop\nå¾ªç¯ä½“\nend loop [æ ‡ç­¾]\nrepeat\n[æ ‡ç­¾:] repeat\nå¾ªç¯ä½“\nuntil ç»“æŸæ¡ä»¶\nend repeat [åç§°]\nå¾ªç¯æ§åˆ¶è¯­å¥\nleave:ç±»ä¼¼äº break , ç”¨äºè·³å‡ºæ‰€åœ¨çš„å¾ªç¯\niterate:ç±»ä¼¼äºcontinue , ç”¨äºç»“æŸæœ¬æ¬¡å¾ªç¯, ç»§ç»­ä¸‹ä¸€æ¬¡\nå®Œç»“æ’’èŠ±ğŸ˜‹ğŸ˜œğŸ’•ğŸ¤£\n","date":"2021-10-10T23:44:44+08:00","permalink":"https://linjianshu.github.io/p/mysql%E5%9F%BA%E7%A1%80/","title":"MysqlåŸºç¡€"},{"content":"è‡´ä¸­å±±æ¨µ â€‹\tæˆ‘æƒ³å‘Šè¯‰ä½ \nâ€‹\tä»»ä½•æ•…åœŸçš„æ¶ˆæ¯\nâ€‹\tå¥½ä¹Ÿç½¢åä¹Ÿç½¢\nâ€‹\tæˆ‘æƒ³å‘Šè¯‰ä½ \nâ€‹\tç¢§äº‘å¯ºçš„å½©å¡‘ä¾æ—§\nâ€‹\té’Ÿå±±å´å·²åˆç§‹\nâ€‹\tæˆ‘æƒ³å‘Šè¯‰ä½ \nâ€‹\tæ•…å›½çš„æ¶ˆæ¯\nâ€‹\té£ä¹Ÿå¥½é›¨ä¹Ÿå¥½\nâ€‹\tç¥–å›½å·²æ€å¿µå¥¹çš„æ¸¸å­å¤šæ—¶\nâ€‹\tæ®Šä¸çŸ¥ä½ å·²ä¸è¿™ç‰‡å¤§åœ°ç›¸æ¿¡ä»¥æ²«\nâ€‹\tæˆ‘æƒ³å‘Šè¯‰ä½ \nâ€‹\tæ‰äººçš„æ±¹æ¶Œ\nâ€‹\tå¦‚å±±é—´çš„æ¾æ¶›\nâ€‹\tä¸€å¹´èƒœè¿‡ä¸€å¹´\nâ€‹\tæˆ‘æƒ³å‘Šè¯‰ä½ \nâ€‹\tè¿™ç››ä¸–å·²å®š\nâ€‹\tä½ è‹¥åœ¨\nâ€‹\tå¤ªå®¹æ˜“æ³ªæ¹¿æ»¡è¥Ÿ\nâ€‹\tå§“å:æ—å¥æ ‘\nâ€‹\tå­¦é™¢:æœºæ¢°å·¥ç¨‹å­¦é™¢\nâ€‹\tå¹´çº§:20çº§033ç­\nâ€‹\tä¸“ä¸š:å·¥ä¸šå·¥ç¨‹ä¸ç®¡ç†\nâ€‹\tå­¦ç”Ÿç±»åˆ«:å…¨æ—¥åˆ¶\nğŸ˜œğŸ’–ğŸ’•ğŸ˜‹\n","date":"2021-10-09T10:57:55+08:00","permalink":"https://linjianshu.github.io/p/%E8%AE%B0%E8%BE%9B%E4%BA%A5%E9%9D%A9%E5%91%BD110%E5%91%A8%E5%B9%B4%E5%A4%A7%E4%BC%9A%E6%9C%89%E6%84%9F/","title":"è®°è¾›äº¥é©å‘½110å‘¨å¹´å¤§ä¼šæœ‰æ„Ÿ"},{"content":"Go webç¼–ç¨‹ Chapter_1 Go_And_Web_Application first_web_app package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; ) func handler(writer http.ResponseWriter, request *http.Request) { fmt.Fprintf(writer, \u0026#34;Hello World, %s!\u0026#34;, request.URL.Path[1:]) } func main() { http.HandleFunc(\u0026#34;/\u0026#34;, handler) http.ListenAndServe(\u0026#34;:8080\u0026#34;, nil) } ","date":"2021-10-01T12:11:37+08:00","permalink":"https://linjianshu.github.io/p/go-web%E7%BC%96%E7%A8%8B-chapter1/","title":"Go Webç¼–ç¨‹ Chapter1"},{"content":"æ•°æ®ç»“æ„ä¸ç®—æ³• è§£å†³é—®é¢˜æ–¹æ³•çš„æ•ˆç‡ï¼Œè·Ÿæ•°æ®çš„ç»„ç»‡æ–¹å¼æœ‰å…³ã€‚\nå¾ªç¯å’Œé€’å½’\nè§£å†³é—®é¢˜æ–¹æ³•çš„æ•ˆç‡ï¼Œè·Ÿç©ºé—´çš„åˆ©ç”¨æ•ˆç‡æœ‰å…³ã€‚\nimage-20210818161452286\rimage-20210818162018882\rè§£å†³é—®é¢˜æ–¹æ³•çš„æ•ˆç‡ï¼Œè·Ÿç®—æ³•çš„å·§å¦™ç¨‹åº¦æœ‰å…³\næ•°æ®ç»“æ„ æ•°æ®å¯¹è±¡åœ¨è®¡ç®—æœºä¸­çš„ç»„ç»‡æ–¹å¼\né€»è¾‘ç»“æ„ï¼šçº¿æ€§ç»“æ„å’Œæ ‘ç»“æ„ã€å›¾ç»“æ„ ç‰©ç†å­˜å‚¨ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ æ•°æ®å¯¹è±¡å¿…å®šä¸ä¸€ç³»åˆ—åŠ åœ¨å…¶ä¸Šçš„æ“ä½œç›¸å…³è”\nå®Œæˆè¿™äº›æ“ä½œæ‰€ç”¨çš„æ–¹æ³•å°±æ˜¯ç®—æ³•\næŠ½è±¡æ•°æ®ç±»å‹(Abstract Data Type) æ•°æ®ç±»å‹ æ•°æ®å¯¹è±¡é›† æ•°æ®é›†åˆç›¸å…³è”çš„æ“ä½œé›† æŠ½è±¡ï¼šæè¿°æ•°æ®ç±»å‹çš„æ–¹æ³•ä¸ä¾èµ–äºå…·ä½“å®ç° ä¸å­˜æ”¾æ•°æ®çš„æœºå™¨æ— å…³ ä¸æ•°æ®å­˜å‚¨çš„ç‰©ç†ç»“æ„æ— å…³ ä¸å®ç°æ“ä½œçš„ç®—æ³•å’Œç¼–ç¨‹è¯­è¨€å‡æ— å…³ åªæè¿°æ•°æ®å¯¹è±¡é›†å’Œç›¸å…³æ“ä½œé›†æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸æ¶‰åŠå¦‚ä½•åšåˆ°çš„é—®é¢˜\næŠ½è±¡ image-20210818163548512\rç®—æ³• ä¸€ä¸ªæœ‰é™æŒ‡ä»¤é›† æ¥æ”¶ä¸€äº›è¾“å…¥ï¼ˆæœ‰äº›æƒ…å†µä¸‹ä¸éœ€è¦è¾“å…¥ï¼‰ äº§ç”Ÿè¾“å‡º ä¸€å®šåœ¨æœ‰é™æ­¥éª¤ä¹‹åç»ˆæ­¢ æ¯ä¸€æ¡æŒ‡ä»¤å¿…é¡» æœ‰å……åˆ†æ˜ç¡®çš„ç›®æ ‡ï¼Œä¸å¯ä»¥æœ‰æ­§ä¹‰ è®¡ç®—æœºèƒ½å¤„ç†çš„èŒƒå›´ä¹‹å†… æè¿°åº”ä¸ä¾èµ–ä¸ä»»ä½•ä¸€ç§è®¡ç®—æœºè¯­è¨€ä»¥åŠå…·ä½“çš„å®ç°æ‰‹æ®µ image-20210818164049310\rä»€ä¹ˆæ˜¯å¥½ç®—æ³• ç©ºé—´å¤æ‚åº¦sn æ ¹æ®ç®—æ³•å†™æˆçš„ç¨‹åºåœ¨æ‰§è¡Œæ—¶å ç”¨å­˜å‚¨å•å…ƒçš„é•¿åº¦ã€‚è¿™ä¸ªé•¿åº¦å¾€å¾€ä¸è¾“å…¥æ•°æ®çš„è§„æ¨¡æœ‰å…³ã€‚ç©ºé—´å¤æ‚åº¦è¿‡é«˜çš„ç®—æ³•å¯èƒ½å¯¼è‡´ä½¿ç”¨çš„å†…å­˜è¶…é™ï¼Œé€ æˆç¨‹åºéæ­£å¸¸ä¸­æ–­ã€‚\næ—¶é—´å¤æ‚åº¦Tn æ ¹æ®ç®—æ³•å†™æˆçš„ç¨‹åºåœ¨æ‰§è¡Œæ—¶è€—è´¹æ—¶é—´çš„é•¿åº¦ã€‚è¿™ä¸ªé•¿åº¦å¾€å¾€ä¹Ÿä¸è¾“å…¥æ•°æ®çš„è§„æ¨¡æœ‰å…³ã€‚æ—¶é—´å¤æ‚åº¦è¿‡é«˜çš„ä½æ•ˆç®—æ³•å¯èƒ½å¯¼è‡´æˆ‘ä»¬åœ¨æœ‰ç”Ÿä¹‹å¹´éƒ½ç­‰ä¸åˆ°è¿è¡Œç»“æœã€‚\né€’å½’çš„æ—¶å€™ä¼šå ç”¨å†…å­˜ï¼Œå› ä¸ºé€’å½’ä¸‹ä¸€å±‚çš„æ—¶å€™è¦æš‚å­˜ä¸Šä¸€å±‚çš„ç»“æœ\nSn = C*N\nimage-20210818164648695\råŠ å‡æ¯”ä¹˜é™¤ç®—çš„å¿«\nimage-20210818164842726\råœ¨åˆ†æä¸€èˆ¬ç®—æ³•çš„æ•ˆç‡æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸å…³æ³¨ä¸‹é¢ä¸¤ç§å¤æ‚åº¦\næœ€åæƒ…å†µå¤æ‚åº¦T worst(n) å¹³å‡å¤æ‚åº¦T avg(n) åŸºæœ¬ä¸Šå°±æ˜¯ç¬¬ä¸€ç§ï¼šæœ€åæƒ…å†µå¤æ‚åº¦\nimage-20210818165255964\rimage-20210818165445992\rimage-20210818165457903\rimage-20210818165643710\rimage-20210818165759487\rimage-20210818191956566\rimage-20210818193405280\rimage-20210818193945679\rimage-20210818194726647\rä»€ä¹ˆæ˜¯çº¿æ€§è¡¨ å¤šé¡¹å¼è¡¨ç¤ºé—®é¢˜çš„å¯ç¤º åŒä¸€ä¸ªé—®é¢˜å¯ä»¥æœ‰ä¸åŒçš„è¡¨ç¤ºï¼ˆå­˜å‚¨ï¼‰æ–¹æ³• æœ‰ä¸€ç±»å…±æ€§é—®é¢˜ï¼šæœ‰åºçº¿æ€§åºåˆ—çš„ç»„ç»‡å’Œç®¡ç† çº¿æ€§è¡¨ ç”±åŒç±»å‹æ•°æ®å…ƒç´ æ„æˆæœ‰åºåºåˆ—çš„çº¿æ€§ç»“æ„\nè¡¨ä¸­å…ƒç´ ä¸ªæ•°æˆä¸ºçº¿æ€§è¡¨çš„é•¿åº¦ çº¿æ€§è¡¨æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºè¡¨ è¡¨èµ·å§‹ä½ç½®ç§°è¡¨å¤´ï¼Œè¡¨ç»“æŸä½ç½®ç§°è¡¨å°¾ image-20210818195144256\ré“¾å¼å­˜å‚¨å®ç°\nimage-20210818200032485\rå¹¿ä¹‰è¡¨ å¹¿ä¹‰è¡¨æ˜¯çº¿æ€§è¡¨çš„æ¨å¹¿ å¯¹äºçº¿æ€§è¡¨è€Œè¨€ï¼Œnä¸ªå…ƒç´ éƒ½æ˜¯åŸºæœ¬çš„å•å…ƒç´  å¹¿ä¹‰è¡¨ä¸­ï¼Œè¿™äº›å…ƒç´ ä¸ä»…å¯ä»¥æ˜¯å•å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªå¹¿ä¹‰è¡¨ image-20210818201230986\rå¤šé‡é“¾è¡¨ å¤šé‡é“¾è¡¨ï¼šé“¾è¡¨ä¸­çš„èŠ‚ç‚¹å¯èƒ½åŒæ—¶éš¶å±äºå¤šä¸ªé“¾\nå¤šé‡é“¾è¡¨ä¸­ç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¼šæœ‰å¤šä¸ªï¼Œå¦‚å‰é¢ä¾‹å­åŒ…å«äº†netxå’Œsublistä¸¤ä¸ªæŒ‡é’ˆåŸŸ ä½†åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆåŸŸçš„é“¾è¡¨å¹¶ä¸ä¸€å®šæ˜¯å¤šé‡é“¾è¡¨ï¼Œæ¯”å¦‚åœ¨åŒå‘é“¾è¡¨ä¸æ˜¯å¤šé‡é“¾è¡¨ å¤šé‡é“¾è¡¨æœ‰å¹¿æ³›çš„ç”¨é€”ï¼š\nåŸºæœ¬ä¸Šå¦‚æ ‘ã€å›¾è¿™æ ·ç›¸å¯¹å¤æ‚çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥é‡‡ç”¨å¤šé‡é“¾è¡¨æ–¹å¼å®ç°å­˜å‚¨\nå †æ ˆ image-20210818203628155\rå †æ ˆstack ï¼šå…·æœ‰ä¸€å®šæ“ä½œçº¦æŸçš„çº¿æ€§è¡¨\nåªæœ‰ä¸€ç«¯ï¼ˆæ ˆé¡¶ï¼Œtopï¼‰åšæ’å…¥ã€åˆ é™¤ æ’å…¥æ•°æ®ï¼špushå…¥æ ˆ åˆ é™¤æ•°æ®ï¼špopå‡ºæ ˆ åå…¥å…ˆå‡ºï¼šLIFO image-20210818203949646\rimage-20210818204030156\rä¸­ç¼€è¡¨è¾¾å¼è½¬æˆåç¼€è¡¨è¾¾å¼\nimage-20210818210009984\rå †æ ˆçš„å…¶ä»–åº”ç”¨ï¼š\nå‡½æ•°è°ƒç”¨åŠé€’å½’å®ç° æ·±åº¦ä¼˜å…ˆæœç´¢ å›æº¯ç®—æ³• é˜Ÿåˆ—åŠå®ç°\né˜Ÿåˆ—ï¼šqueueå…·æœ‰ä¸€å®šæ“ä½œçº¦æŸçš„çº¿æ€§è¡¨\næ’å…¥å’Œåˆ é™¤æ“ä½œï¼šåªèƒ½åœ¨ä¸€ç«¯æ’å…¥ï¼Œè€Œåœ¨å¦ä¸€ç«¯åˆ é™¤ æ•°æ®æ’å…¥ å…¥é˜Ÿåˆ— AddQ æ•°æ®åˆ é™¤ å‡ºé˜Ÿåˆ—DeleteQ å…ˆæ¥å…ˆæœåŠ¡ å…ˆè¿›å…ˆå‡º FIFO image-20210819200815843\rimage-20210819200925663\rimage-20210819201437552\rimage-20210819201758339\rimage-20210819202139270\rimage-20210819202326934\rimage-20210819203439780\rimage-20210819203707397\rä»€ä¹ˆæ˜¯æ ‘ åˆ†å±‚æ¬¡ç»„ç»‡åœ¨ç®¡ç†ä¸Šå…·æœ‰æ›´é«˜çš„æ•ˆç‡\næ•°æ®ç®¡ç†çš„åŸºæœ¬æ“ä½œä¹‹ä¸€ï¼šæŸ¥æ‰¾\nå¦‚ä½•å®ç°æœ‰æ•ˆç‡çš„æŸ¥æ‰¾\nsearching\nimage-20210819205601090\rimage-20210819205951769\räºŒåˆ†æŸ¥æ‰¾\nimage-20210819210521234\rimage-20210819211054628\rimage-20210819212247115\rimage-20210819212402458\rimage-20210819212620945\rimage-20210819212737409\rimage-20210819213128752\rimage-20210819213227642\rimage-20210819213322280\rimage-20210819213454497\rimage-20210819214643681\rimage-20210819214812719\rimage-20210819215245013\rimage-20210819215345900\rimage-20210819215519052\rimage-20210819220012636\rDBEFAGHCI\nimage-20210819220312388\rDEFBHGICA\nimage-20210819220547376\rè·¯çº¿æ˜¯ä¸€æ ·çš„ï¼Œ ç¬¬ä¸€æ¬¡ç¢°åˆ°å°±è¾“å‡ºçš„å«åšå…ˆåºã€ç¬¬äºŒæ¬¡çš„å«åšä¸­åºã€ç¬¬ä¸‰æ¬¡çš„å«åšååº\nimage-20210819220744178\rimage-20210822092825462\rimage-20210822093926951\râ€‹\timage-20210822094347290\rimage-20210822094920689\rimage-20210822095028474\rimage-20210822095125615\rimage-20210822095254235\rimage-20210822095400071\rimage-20210822095400133\rimage-20210822095600852\rimage-20210822095753944\rimage-20210822095955430\rimage-20210822100108869\rimage-20210822100248441\råˆ¤æ–­åŒæ„\nimage-20210822100435562\rimage-20210822100843208\rimage-20210822101301912\råˆ¤æ–­æœ‰æ²¡æœ‰å“ªä¸ªèŠ‚ç‚¹æ²¡æœ‰è¢«æŒ‡å‘ å“ªä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹\nä¾‹å¦‚231è¢«æŒ‡å‘äº†,é‚£ä¹ˆæ„æ€å°±æ˜¯0è¿™ä¸ªèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹\nimage-20210822101644943\rimage-20210822101656356\rimage-20210822102023363\rä½¿ç”¨checkæ¥åˆ¤æ–­æ ¹èŠ‚ç‚¹\nimage-20210822102155154\rimage-20210822102200845\rimage-20210822102407846\rimage-20210822102550689\rimage-20210822102618697\rimage-20210822102638201\rimage-20210822102736696\rå°¾é€’å½’å¯ä»¥ç”¨å¾ªç¯å®ç°\nimage-20210822102824536\ræŸ¥æ‰¾çš„æ•ˆç‡å†³å®šäºæ ‘çš„é«˜åº¦\nimage-20210822102911459\rimage-20210822102930132\rimage-20210822103127572\rimage-20210822103450196\râ€‹\timage-20210822103701343\rimage-20210822103721215\rimage-20210822103850804\rimage-20210822104154455\rimage-20210822104407357\rimage-20210822104658392\rimage-20210822105311867\rimage-20210822105726331\ræ‰€ä»¥èµ°å°é˜¶é—®é¢˜æˆ‘å¤§æ¦‚æ‡‚äº†\nåªèƒ½ä¸€æ¬¡èµ°ä¸€é˜¶å°é˜¶æˆ–è€…ä¸€æ¬¡èµ°ä¸¤é˜¶å°é˜¶\nä¸€é˜¶å°é˜¶æœ‰1ç§èµ°æ³•\näºŒé˜¶å°é˜¶æœ‰2ç§èµ°æ³•\né‚£ä¹ˆä¸‰é˜¶å°é˜¶æ— éå°±æ˜¯1é˜¶å°é˜¶çš„èµ°æ³•+èµ°2é˜¶çš„èµ°æ³•(2)\næˆ–è€…2é˜¶å°é˜¶çš„èµ°æ³•+èµ°1é˜¶çš„èµ°æ³•(1)\né‚£ä¹ˆå››é˜¶å°é˜¶æ— éå°±æ˜¯2é˜¶å°é˜¶çš„èµ°æ³•+èµ°2é˜¶çš„èµ°æ³•(2)\næˆ–è€…3é˜¶å°é˜¶çš„èµ°æ³•+èµ°1é˜¶çš„èµ°æ³•(1)\næ‰€ä»¥ä¹Ÿå°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æ€§è´¨\nF(n)=F(n-1)+1+F(n-2)+2\nimage-20210822110716637\rimage-20210822111522588\rimage-20210822112334232\rimage-20210822112657646\rå¿…é¡»ä¿è¯æ˜¯æŸ¥æ‰¾æ ‘ ä¹Ÿå°±æ˜¯å·¦è¾¹å°å³è¾¹å¤§\nimage-20210822113538123\rimage-20210822113732802\rimage-20210822113938703\rimage-20210822114002650\rimage-20210822114101318\rimage-20210822114324854\rimage-20210822114521287\rimage-20210822114826316\rimage-20210822115039320\rimage-20210822151804901\rimage-20210822151947780\rimage-20210822152334294\rimage-20210822152933725\rimage-20210822153108950\rimage-20210822153304689\rimage-20210822153425949\rimage-20210822153713250\rimage-20210822153929001\rå®ç°å †ç”¨å®Œå…¨äºŒå‰æ ‘\næ ¹èŠ‚ç‚¹æ˜¯æœ€å¤§çš„å®Œå…¨äºŒå‰æ ‘\nimage-20210822154053219\rimage-20210822154254474\rimage-20210822154337334\rimage-20210822154516519\rimage-20210822154705009\rimage-20210822154842548\ri/2å°±æ˜¯å®Œå…¨äºŒå‰æ ‘çš„çˆ¶èŠ‚ç‚¹\nimage-20210822155046618\rimage-20210822155243748\rå› ä¸ºæ˜¯å®Œå…¨äºŒå‰æ ‘,æ‰€ä»¥è¦ç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿è¡¥åˆ é™¤æ‰çš„é‚£ä¸ªå…ƒç´ ,æ‰èƒ½æ»¡è¶³å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨\nimage-20210822155357876\ræ—¶é—´å¤æ‚æ€§å°±æ˜¯æ ‘çš„é«˜åº¦ log2n\nimage-20210822160108019\rimage-20210822160408516\rimage-20210822160720461\rä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹å»ºç«‹å †,å»ºå®Œä¹‹åé€å±‚å¾€ä¸Šå»ºç«‹,\nimage-20210822160834924\rimage-20210822160855127\rimage-20210822161110159\rimage-20210822161247647\rimage-20210822161303788\rå¦‚ä½•æ ¹æ®èŠ‚ç‚¹ä¸åŒçš„æŸ¥æ‰¾æ•ˆç‡æ„é€ æ›´æœ‰æ•ˆçš„æœç´¢æ ‘\nimage-20210822161422536\rimage-20210822161529534\rimage-20210822161639103\rimage-20210822161818080\rimage-20210822161934722\rç”±äºåº¦ä¸º1çš„èŠ‚ç‚¹å°±æ˜¯åªæœ‰ä¸€ä¸ªå„¿å­çš„èŠ‚ç‚¹\næ²¡æœ‰åº¦ä¸º1çš„èŠ‚ç‚¹\né‚£ä¹ˆå°±æ˜¯n2+n1+n0=n0-1+0+n0=2n0-1\nimage-20210824222513996\rimage-20210824222657220\rç¬¬äºŒç§çš„æ„æ€æ˜¯, æˆ‘ç”¨2çš„ä¸‰æ¬¡æ–¹ä¹Ÿå°±æ˜¯8ç§ä¸åŒçš„ç¬¦å·æ¥è¡¨ç¤º7ä¸ªå­—ç¬¦ç»°ç»°æœ‰ä½™\nimage-20210824222809811\rimage-20210824222844586\rå½“æ‰€ä»¥çš„å€¼éƒ½åœ¨å¶èŠ‚ç‚¹ä¸Šçš„æ—¶å€™å°±ä¸å¯èƒ½å‡ºç°ä¸€ä¸ªå­—ç¬¦çš„ç¼–ç æ˜¯å¦ä¸€ä¸ªå­—ç¬¦çš„å‰ç¼€\nimage-20210824223228402\rimage-20210824223351755\rimage-20210824223520102\rimage-20210824223656627\rç”¨æ•°ç»„å®ç°\nimage-20210824223823443\rimage-20210824224033563\rimage-20210824224257684\rimage-20210824224312615\rè¿™æ ·åšä¼šå¯¼è‡´ä¸€è¾¹å€’,ä¼šè®©é«˜åº¦å¢åŠ  findæ“ä½œå¾ˆéš¾æ•ˆç‡æŸ¥\nå¯ä»¥å°è¯•æŠŠé›†åˆå°çš„æŒ‚åˆ°é›†åˆå¤§çš„ä¸‹é¢\nimage-20210824224547703\rimage-20210824225642477\rimage-20210824230108245\rimage-20210824230311976\rç›´æ¥ç®€åŒ–æˆæŠŠå€¼ä¸º3å¯¹åº”ä¸ºä¸‹æ ‡ä¸º3çš„æ•°ç»„ä¸­çš„,æ•°ç»„é‡Œå­˜çš„å€¼æ˜¯ä»–çš„çˆ¶èŠ‚ç‚¹\nimage-20210824230758030\rimage-20210824231016070\rimage-20210824231230324\rimage-20210824231506693\rimage-20210824231623358\rimage-20210824232012169\rimage-20210824232158793\rimage-20210824232344637\rimage-20210824232443313\rimage-20210824232956745\rimage-20210824233747366\rimage-20210824233929998\rimage-20210827150052047\rimage-20210827150132906\rimage-20210827150336396\ræ— å‘å›¾ å¯¹ç§° é‚£ä¹ˆä¼šä¸ä¼šç©ºé—´æµªè´¹å‘¢\nimage-20210827151040590\rimage-20210827161401937\rimage-20210827161523060\rimage-20210827161721941\rimage-20210827161814110\rimage-20210827162026003\rè®¿é—®å®Œæ‰€æœ‰çš„ä¹‹åä¸€å®šæ˜¯åŸè·¯è¿”å›\nimage-20210827162605593\råˆ©ç”¨å †æ ˆ\nimage-20210827163115572\ræ˜ç™½ä¸ºå•¥æ˜¯æ·±åº¦ä¼˜å…ˆäº†\nimage-20210827163414973\rä¼šèµ°çš„æ¯”è¾ƒæ·±\nä¸€åœˆä¸€åœˆçš„æœç´¢\nimage-20210827163440795\rimage-20210827163728923\rimage-20210827163907704\rimage-20210827164150229\rimage-20210827164252208\rimage-20210827164800507\rimage-20210827165034266\rimage-20210827165238415\rå…­åº¦ç©ºé—´\nimage-20210827165619918\rimage-20210827165905518\r","date":"2021-09-01T00:22:19+08:00","permalink":"https://linjianshu.github.io/p/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"æ•°æ®ç»“æ„ä¸ç®—æ³•å­¦ä¹ æ–‡æ¡£"},{"content":"Goè¯­è¨€å­¦ä¹  alt+enter\nctrl+space\nctrl+shift+space\nctrl+alt+L\nctrl+alt+Mé‡æ„\nF2æŸ¥çœ‹é”™è¯¯\nalt+6æŸ¥çœ‹é—®é¢˜\nctrl+shift+/\nalt+F8 è¯„ä¼°è¡¨è¾¾å¼\nctrl+F8 åˆ‡æ¢æ–­ç‚¹\nç¯å¢ƒæ­å»ºï¼Œç¼–è¯‘ä¹‹åç”Ÿæˆå¯æ‰§è¡Œexeæ–‡ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†\nimage-20210725102106105\rimage-20210725102139391\rç¼–è¯‘\nä½¿ç”¨ go build\n1.åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œgo build\n2.åœ¨å…¶ä»–è·¯å¾„ä¸‹æ‰§è¡Œgo build ï¼Œéœ€è¦åœ¨åé¢åŠ ä¸Šé¡¹ç›®çš„è·¯å¾„ï¼ˆé¡¹ç›®è·¯å¾„ä»gopath/srcåå¼€å§‹å†™èµ·ï¼Œç¼–è¯‘ä¹‹åçš„å¯æ‰§è¡Œæ–‡ä»¶å°±ä¿å­˜åœ¨å½“å‰ç›®å½•ä¸‹ï¼‰\n3.go build -o hello.exe\ngo run\nåƒæ‰§è¡Œè„šæœ¬æ–‡ä»¶ä¸€æ ·æ‰§è¡Œgoä»£ç \ngo install\nåˆ†ä¸ºä¸¤æ­¥ï¼š\n1.å…ˆç¼–è¯‘å¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶\n2.å°†å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°gopathçš„binç›®å½•\näº¤å‰ç¼–è¯‘ï¼Œå¯ä»¥è·¨å¹³å°è·‘ç¨‹åº\nä¾‹å¦‚åœ¨windowså¹³å°ç¼–è¯‘ä¸€ä¸ªèƒ½åœ¨linuxå¹³å°ä¸Šæ‰§è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶\nè¿™ä¸ªä¼¼ä¹è¦åœ¨æºæ–‡ä»¶ä½ç½®å¤„ä½¿ç”¨cmdå‘½ä»¤æ“ä½œ,å¹¶ä¸”è¦ç”¨å¤§å†™!!!\nE:\\project\\GOproject\\code.oldboyedu.com\\day1\u0026gt;SET CGO_ENABLE=0 E:\\project\\GOproject\\code.oldboyedu.com\\day1\u0026gt;SET GOOS=linux E:\\project\\GOproject\\code.oldboyedu.com\\day1\u0026gt;SET GOARCH=amd64 E:\\project\\GOproject\\code.oldboyedu.com\\day1\u0026gt;go build image-20210725103733683\rgoè¯­è¨€çš„åŸºæœ¬ç»“æ„\npackage main //å¯¼å…¥çš„åŒ… import \u0026#34;fmt\u0026#34; //ç¨‹åºçš„å…¥å£å‡½æ•° //å‡½æ•°å¤–éƒ¨åªèƒ½æ”¾ç½®æ ‡è¯†ç¬¦ï¼ˆå˜é‡ã€å¸¸é‡ã€å‡½æ•°ã€ç±»å‹ï¼‰çš„å£°æ˜ func main() { fmt.Println(\u0026#34;hello world\u0026#34;) } å˜é‡å’Œå¸¸é‡\ngoè¯­è¨€ä¸­çš„å˜é‡å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨\nvar s1 string :å£°æ˜ä¸€ä¸ªä¿å­˜å­—ç¬¦ä¸²æ•°æ®çš„å˜é‡\nvar name string\nvar age int\nvar isOk bool\npackage main import \u0026#34;fmt\u0026#34; var name string var age int var isOk bool //æ‰¹é‡å£°æ˜ var ( name1 string age1 int isOk1 bool ) func main() { fmt.Println(name1) fmt.Println(age1) fmt.Println(isOk1) name1 = \u0026#34;linjianshu\u0026#34; age1 = 16 isOk1 = true //goè¯­è¨€ä¸­æ¨èä½¿ç”¨é©¼å³°å‘½å //goè¯­è¨€ä¸­éå…¨å±€å˜é‡å£°æ˜å¿…é¡»ä½¿ç”¨ï¼Œä¸ç”¨å°±ç¼–è¯‘ä¸è¿‡å» fmt.Println(name1) fmt.Println(age1) fmt.Println(isOk1) fmt.Printf(\u0026#34;name:%s\u0026#34;,name1) //%så ä½ç¬¦ï¼Œä½¿ç”¨name1è¿™ä¸ªå˜é‡å»æ›¿æ¢è¿™ä¸ªå ä½ç¬¦ //å£°æ˜å˜é‡åŒæ—¶èµ‹å€¼ var studentName string = \u0026#34;ljs\u0026#34; //ç±»å‹æ¨å¯¼ var studentName1 = \u0026#34;ljs\u0026#34; fmt.Println(studentName) fmt.Println(studentName1) //ç®€çŸ­å˜é‡å£°æ˜ := åªèƒ½åœ¨å‡½æ•°é‡Œé¢ä½¿ç”¨ studentName2 := \u0026#34;jwt\u0026#34; fmt.Println(studentName2) x,_ :=foo() fmt.Println(x) x1 := 0 x1,_ =foo() fmt.Println(x1) } func foo() (int, string) { return 10,\u0026#34;ljs\u0026#34; } åŒ¿åå˜é‡ ç”¨_æ¥æ¥æ”¶ï¼Œè¡¨ç¤ºæˆ‘ä¸ç”¨è¿™ä¸ªå˜é‡ï¼ŒåŒ¿åå˜é‡ä¸å ç”¨å‘½åç©ºé—´ï¼Œä¸ä¼šåˆ†é…å†…å­˜ï¼Œæ‰€ä»¥åŒ¿åå˜é‡ä¸å­˜åœ¨é‡å¤å£°æ˜\næ³¨æ„ï¼š1.å‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹2.åŒä¸€ä¸ªä½œç”¨åŸŸ{}ä¸­ä¸èƒ½é‡å¤å£°æ˜åŒåçš„å˜é‡\nå¸¸é‡\niota\niotoæ˜¯goè¯­è¨€çš„å¸¸é‡è®¡æ•°å™¨ï¼Œåªèƒ½åœ¨å¸¸é‡è¡¨è¾¾å¼ä¸­ä½¿ç”¨\niotaåœ¨constå…³é”®å­—å‡ºç°çš„æ—¶å€™è¢«é‡ç½®ä¸º0. constä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿iotaè®¡æ•°ä¸€æ¬¡iotaå¯ç†è§£ä¸ºconstè¯­å¥å—ä¸­çš„è¡Œç´¢å¼• ä½¿ç”¨iotaèƒ½ç®€åŒ–å®šä¹‰ï¼Œåœ¨å®šä¹‰æšä¸¾æ—¶å¾ˆæœ‰ç”¨\npackage main import \u0026#34;fmt\u0026#34; //å¸¸é‡ const pi = 3.1415926 //å¸¸é‡å®šä¹‰äº†ä¹‹åä¸èƒ½ä¿®æ”¹ //åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜ //æ‰¹é‡å£°æ˜å¸¸é‡æ—¶ï¼Œå¦‚æœæŸä¸€è¡Œæ²¡æœ‰èµ‹å€¼ï¼Œé»˜è®¤å°±å’Œä¸Šä¸€è¡Œä¸€è‡´ const ( pi1 = pi pi2 pi3 ) const ( i1 = iota i2 i3 ) const ( n1 = iota n2 _ n3 ) //æ’é˜Ÿ const ( k1 = iota k2 = 100 k3 k4 =iota k5 ) const ( p1,p2 = iota+1,iota+2 p3,p4 = iota+1,iota+2 ) //å®šä¹‰æ•°é‡çº§ const ( _ = iota KB = 1\u0026lt;\u0026lt;(10 * iota) MB = 1\u0026lt;\u0026lt;(10 * iota) GB = 1\u0026lt;\u0026lt;(10 * iota) TB = 1\u0026lt;\u0026lt;(10 * iota) ) func main() { // ä¸å¯ä»¥ pi = 12.3 fmt.Println(\u0026#34;pi2:\u0026#34;,pi2) fmt.Println(\u0026#34;i1:\u0026#34;,i1) fmt.Println(\u0026#34;i2:\u0026#34;,i2) fmt.Println(\u0026#34;i3:\u0026#34;,i3) fmt.Println(\u0026#34;n1:\u0026#34;,n1) fmt.Println(\u0026#34;n2:\u0026#34;,n2) fmt.Println(\u0026#34;n3:\u0026#34;,n3) fmt.Println(\u0026#34;k1:\u0026#34;,k1) fmt.Println(\u0026#34;k2:\u0026#34;,k2) fmt.Println(\u0026#34;k3:\u0026#34;,k3) fmt.Println(\u0026#34;k4:\u0026#34;,k4) fmt.Println(\u0026#34;k5:\u0026#34;,k5) fmt.Println(\u0026#34;p1:\u0026#34;,p1) fmt.Println(\u0026#34;p2:\u0026#34;,p2) fmt.Println(\u0026#34;p3:\u0026#34;,p3) fmt.Println(\u0026#34;p4:\u0026#34;,p4) fmt.Println(\u0026#34;kb:\u0026#34;,KB) fmt.Println(\u0026#34;mb:\u0026#34;,MB) fmt.Println(\u0026#34;gb:\u0026#34;,GB) fmt.Println(\u0026#34;tb:\u0026#34;,TB) } å…³é”®å­—å’Œæ ‡è¯†ç¬¦\ngoè¯­è¨€æœ‰25ä¸ªå…³é”®å­—\nbreak default func interface select case defer go map struct chan else goto package switch const fallthrough if range type continue for import return var\nåŸºæœ¬æ•°æ®ç±»å‹\næ•´å‹\næ•´å‹åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§ç±»ï¼šæŒ‰é•¿åº¦åˆ†ä¸ºï¼šint8 , int16 , int32 ,int64 å¯¹åº”çš„æ— ç¬¦å·æ•´å‹ï¼šuint8 , uint16 ,uint32\nå…¶ä¸­ï¼Œuint8å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„byteå‹ï¼Œint16å¯¹åº”Cè¯­è¨€ä¸­çš„shortå‹ï¼Œint64å¯¹åº”Cè¯­è¨€ä¸­çš„longå‹\nç‰¹æ®Šæ•´å‹\nuintæ ¹æ®ç”µè„‘ä½æ•°æ¥æ\nintæ ¹æ®ç”µè„‘ä½æ•°æ¥æ\nuintptræ— ç¬¦å·æ•´æ•°ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ\npackage main import \u0026#34;fmt\u0026#34; func main() { i1 := 10 fmt.Printf(\u0026#34;%d\\n\u0026#34;,i1) fmt.Printf(\u0026#34;%o\\n\u0026#34;,i1) //æŠŠåè¿›åˆ¶è½¬æˆ8è¿›åˆ¶ fmt.Printf(\u0026#34;%b\\n\u0026#34;,i1) //æŠŠåè¿›åˆ¶è½¬æˆ2è¿›åˆ¶ fmt.Printf(\u0026#34;%x\\n\u0026#34;,i1) //æŠŠåè¿›åˆ¶è½¬æˆ16è¿›åˆ¶ //å…«è¿›åˆ¶ i2 := 077 fmt.Printf(\u0026#34;%d\\n\u0026#34;,i2) //åå…­è¿›åˆ¶ i3:= 0x123 fmt.Printf(\u0026#34;%d\\n\u0026#34;,i3) fmt.Printf(\u0026#34;%T\\n\u0026#34;,i1) //å£°æ˜ä¸€ä¸ªint8ç±»å‹çš„ è¦æ˜ç¡®æŒ‡å®šç±»å‹ï¼Œéƒ½åˆ™å°±æ˜¯intç±»å‹ i4:= int8(9) fmt.Println(i4) } æµ®ç‚¹å‹\npackage main import \u0026#34;fmt\u0026#34; //float func main() { //maxFloat32 := math.MaxFloat32 æœ€å¤§å€¼ f1:=1.23 //é»˜è®¤goè¯­è¨€ä¸­çš„å°æ•°éƒ½æ˜¯float64ç±»å‹ fmt.Printf(\u0026#34;%T\\n\u0026#34;,f1) //æ˜¾å¼å£°æ˜float32ç±»å‹ f2:=float32(1.23) fmt.Printf(\u0026#34;%T\\n\u0026#34;,f2) f1 = float64(f2) //ä¸èƒ½éšå¼è½¬æ¢ } å¸ƒå°”å€¼\ngoè¯­è¨€ä¸­ä»¥boolç±»å‹è¿›è¡Œå£°æ˜ï¼Œåªæœ‰trueå’Œfalse\næ³¨æ„ï¼š\nå¸ƒå°”ç±»å‹å˜é‡é»˜è®¤ä¸ºfalse goè¯­è¨€ä¸­ä¸å…è®¸å°†æ•´å‹å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å‹ å¸ƒå°”å‹æ— æ³•å‚ä¸æ•°å€¼è¿ç®—ï¼Œä¹Ÿæ— æ³•ä¸å…¶ä»–ç±»å‹è¿›è¡Œè½¬æ¢ package main import \u0026#34;fmt\u0026#34; func main() { //å¸ƒå°”å€¼ b:=true var b1 bool = false fmt.Printf(\u0026#34;%v\u0026#34;,b) fmt.Println() fmt.Printf(\u0026#34;%v\u0026#34;,b1) fmt.Println() fmt.Printf(\u0026#34;Type:%T,Value:%v\u0026#34;,b,b) } å¤ä¹ \npackage main import \u0026#34;fmt\u0026#34; func main() { //fmtå ä½ç¬¦ %s %d %x %o %b %T %v i :=2 fmt.Printf(\u0026#34;%T\\t\u0026#34;,i) fmt.Printf(\u0026#34;%v\\t\u0026#34;,i) fmt.Printf(\u0026#34;%b\\t\u0026#34;,i) fmt.Printf(\u0026#34;%d\\t\u0026#34;,i) fmt.Printf(\u0026#34;%o\\t\u0026#34;,i) fmt.Printf(\u0026#34;%x\\t\u0026#34;,i) s:=\u0026#34;linjianshu\u0026#34; fmt.Printf(\u0026#34;%s\\t\u0026#34;,s) fmt.Printf(\u0026#34;%v\\t\u0026#34;,s) fmt.Printf(\u0026#34;%#v\\t\u0026#34;,s) } å­—ç¬¦ä¸² goè¯­è¨€ä¸­å­—ç¬¦ä¸²æ˜¯ç”¨åŒå¼•å·åŒ…è£¹çš„ï¼\ngoè¯­è¨€ä¸­å•å¼•å·åŒ…è£¹çš„æ˜¯å­—ç¬¦ï¼ï¼\n//å­—ç¬¦ä¸² s:=\u0026#34;hello ljs\u0026#34; //å•ç‹¬çš„å­—æ¯ã€æ±‰å­—ã€ç¬¦å·è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ c1 := \u0026#39;h\u0026#39; c2 := \u0026#39;1\u0026#39; c3 := \u0026#39;å•¥\u0026#39; //å­—èŠ‚ï¼š1å­—èŠ‚=8Bitï¼ˆ8ä¸ªäºŒè¿›åˆ¶ä½ï¼‰ //ä¸€ä¸ªå­—ç¬¦ \u0026#39;A\u0026#39; = 1ä¸ªå­—èŠ‚ //ä¸€ä¸ªutf8ç¼–ç çš„æ±‰å­—â€˜å•¥â€™ = ä¸€èˆ¬å 3ä¸ªå­—èŠ‚ å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦\nGoè¯­è¨€çš„å­—ç¬¦ä¸²å¸¸è§è½¬ä¹‰ç¬¦åŒ…å«å›è½¦ã€æ¢è¡Œã€å•åŒå¼•å·ã€åˆ¶è¡¨ç¬¦ç­‰\n\\r \\n \\t ' \\\u0026quot; \\\\\npackage main import \u0026#34;fmt\u0026#34; func main() { //fmtå ä½ç¬¦ %s %d %x %o %b %T %v i :=2 fmt.Printf(\u0026#34;%T\\t\u0026#34;,i) fmt.Printf(\u0026#34;%v\\t\u0026#34;,i) fmt.Printf(\u0026#34;%b\\t\u0026#34;,i) fmt.Printf(\u0026#34;%d\\t\u0026#34;,i) fmt.Printf(\u0026#34;%o\\t\u0026#34;,i) fmt.Printf(\u0026#34;%x\\t\u0026#34;,i) s:=\u0026#34;linjianshu\u0026#34; fmt.Printf(\u0026#34;%s\\t\u0026#34;,s) fmt.Printf(\u0026#34;%v\\t\u0026#34;,s) fmt.Printf(\u0026#34;%#v\\t\u0026#34;,s) } å¤šè¡Œå­—ç¬¦ä¸²\ngoè¯­è¨€ä¸­è¦å®šä¹‰ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²æ—¶ï¼Œå°±å¿…é¡»ä½¿ç”¨åå¼•å· å­—ç¬¦``\ns:= ` a b c ` å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ\nlen(str) æ±‚é•¿åº¦ +æˆ–è€…fmt.Strintf æ‹¼æ¥å­—ç¬¦ä¸² strings.Split åˆ†å‰² strings.contains åˆ¤æ–­æ˜¯å¦åŒ…å« strings.HasPrefix, strings.HasSuffx å‰ç¼€ã€åç¼€åˆ¤æ–­ strings.Index(), strings.LastIndex å­ä¸²å‡ºç°çš„ä½ç½® strings.Join(a[] string , sep string) joinæ“ä½œ package main import ( fmt \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { path := \u0026#34;\\\u0026#34;C:\\\\Users\\\\Sweetie\\\\Desktop\\\\è½¦é—´çº§MES\\\u0026#34;\u0026#34; fmt.Printf(\u0026#34;%s\\t\u0026#34; , path) s := ` ä¸–æƒ…è–„ äººæƒ…æ¶ é›¨é€é»„æ˜èŠ±æ˜“è½ ` fmt.Printf(\u0026#34;%s\\r\u0026#34;,s) s3:=`C:\\Users\\Sweetie\\Desktop\\è½¦é—´çº§MES` fmt.Printf(\u0026#34;%s\\n\u0026#34;,s3) //å­—ç¬¦ä¸²ç›¸å…³æ“ä½œ fmt.Printf(\u0026#34;%d\\n\u0026#34;,len(s3)) //å­—ç¬¦ä¸²æ‹¼æ¥ name := \u0026#34;ljs\u0026#34; world := \u0026#34;shuaibi\u0026#34; describtion := name+world fmt.Printf(\u0026#34;%v\\n\u0026#34;,describtion) describtion1 := fmt.Sprintf(\u0026#34;%s%s\u0026#34;,name,world) fmt.Printf(\u0026#34;%s\\n\u0026#34;,describtion1) //åˆ†å‰² s1 := strings.Split(s3,\u0026#34;\\\\\u0026#34;) fmt.Println(s1) for i := 0; i \u0026lt; len(s1); i++ { fmt.Println(s1[i]) } //åŒ…å« fmt.Println(strings.Contains(describtion, name)) fmt.Printf(\u0026#34; \u0026#39;%s\u0026#39; Contains \u0026#39;%s\u0026#39; ? result:%v\u0026#34;,describtion1,name,strings.Contains(describtion, name)) fmt.Println() //å‰ç¼€ã€åç¼€ fmt.Println(strings.HasPrefix(describtion, \u0026#34;ljs\u0026#34;)) fmt.Println(strings.HasSuffix(describtion, \u0026#34;shuaibi\u0026#34;)) //ç´¢å¼• æŸ¥æ‰¾ s4:=\u0026#34;abcdeb\u0026#34; fmt.Println(strings.Index(s4,\u0026#34;b\u0026#34;)) fmt.Println(strings.LastIndex(s4,\u0026#34;b\u0026#34;)) //æ‹¼æ¥ var sJoin = strings.Join(s1,\u0026#34;+\u0026#34;) fmt.Println(sJoin) } byteå’Œruneç±»å‹\nç»„æˆæ¯ä¸ªå­—ç¬¦ä¸²çš„å…ƒç´ å«åšâ€˜å­—ç¬¦â€™ï¼Œå¯ä»¥é€šè¿‡éå†æˆ–è€…å•ä¸ªè·å–å­—ç¬¦ä¸²å…ƒç´ è·å¾—å­—ç¬¦ã€‚å­—ç¬¦ç”¨å•å¼•å·â€˜ åŒ…è£¹èµ·æ¥ï¼Œå¦‚ï¼š\nvar a:=\u0026lsquo;ä¸­\u0026rsquo;\nvar b:=\u0026lsquo;x\u0026rsquo;\nGoè¯­è¨€çš„å­—ç¬¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š\n1.uint8ç±»å‹ï¼Œæˆ–è€…å«byteå‹ï¼Œä»£è¡¨äº†asciiç çš„ä¸€ä¸ªå­—ç¬¦\n2.runeç±»å‹ï¼Œä»£è¡¨ä¸€ä¸ªutf-8å­—ç¬¦\nå½“éœ€è¦å¤„ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–è€…å…¶ä»–ç¬¦åˆå­—ç¬¦æ—¶ï¼Œåˆ™éœ€è¦ç”¨åˆ°runeç±»å‹ã€‚runeç±»å‹å®é™…æ˜¯ä¸€ä¸ªint32\nGoä½¿ç”¨äº†ç‰¹æ®Šçš„runeç±»å‹æ¥å¤„ç†unicodeï¼Œè®©åŸºäºunicodeçš„æ–‡æœ¬å¤„ç†æ›´æ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨byteå‹è¿›è¡Œé»˜è®¤å­—ç¬¦ä¸²å¤„ç†ï¼Œæ€§èƒ½å’Œæ‰©å±•æ€§éƒ½æœ‰ç…§é¡¾\nå› ä¸ºutf8ç¼–ç ä¸‹ä¸€ä¸ªä¸­æ–‡æ±‰å­—ç”±3-4ä¸ªå­—èŠ‚ç»„æˆï¼Œæ‰€æœ‰æˆ‘ä»¬ä¸èƒ½ç®€å•çš„æŒ‰ç…§å­—èŠ‚å»éå†ä¸€ä¸ªåŒ…å«ä¸­æ–‡çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ä¸Šé¢è¾“å‡ºä¸­çš„ç¬¬ä¸€è¡Œç»“æœ\nå­—ç¬¦ä¸²åº•å±‚æ˜¯ä¸€ä¸ªbyteæ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥å’Œ[]byte ç±»å‹ç›¸äº’è½¬æ¢ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸èƒ½ä¿®æ”¹çš„ å­—ç¬¦æ˜¯ç”±byteå­—èŠ‚ç»„æˆï¼Œæ‰€ä»¥å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯byteå­—èŠ‚çš„é•¿åº¦ runeç±»å‹ç”¨æ¥è¡¨ç¤ºutf8å­—ç¬¦ï¼Œä¸€ä¸ªruneå­—ç¬¦ç”±ä¸€ä¸ªæˆ–å¤šä¸ªbyteç»„æˆ\nä¿®æ”¹å­—ç¬¦ä¸²\nè¦ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢æˆ[]runeæˆ– []byte ï¼Œå®Œæˆåå†è½¬æ¢ä¸ºstring ï¼Œéƒ½ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œå¹¶å¤åˆ¶å­—èŠ‚æ•°ç»„\næ³¨:runeæ˜¯ä¸€ä¸ªåˆ«å å®é™…ä¸Šæ˜¯ç±»å‹int32 æ‰€ä»¥ \u0026lsquo;ä¸­\u0026rsquo;çš„ç±»å‹æ˜¯int32\nbyteæ˜¯ä¸€ä¸ªåˆ«å å®é™…ä¸Šæ˜¯ç±»å‹uint8 æ‰€ä»¥\u0026rsquo;c\u0026rsquo;çš„ç±»å‹æ˜¯uint8\nç±»å‹è½¬æ¢\nGoè¯­è¨€ä¸­åªæœ‰å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ã€‚è¯¥è¯­æ³•åªèƒ½åœ¨ä¸¤ä¸ªç±»å‹ä¹‹é—´æ”¯æŒç›¸äº’è½¬æ¢çš„æ—¶å€™ä½¿ç”¨ã€‚\nå¼ºåˆ¶ç±»å‹è½¬æ¢çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š\nT(è¡¨è¾¾å¼)\nå…¶ä¸­ï¼ŒTè¡¨ç¤ºè¦è½¬æ¢çš„ç±»å‹ã€‚è¡¨è¾¾å¼åŒ…æ‹¬å˜é‡ã€å¤æ‚ç®—å­å’Œå‡½æ•°è¿”å›å€¼ç­‰\næ¯”å¦‚è®¡ç®—ç›´è§’ä¸‰è§’å½¢çš„æ–œè¾¹é•¿ä½¿ç”¨mathåŒ…çš„sqrt()å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶çš„æ˜¯float64ç±»å‹çš„å‚æ•°ï¼Œè€Œå˜é‡aå’Œbéƒ½æ˜¯intç±»å‹ï¼Œè¿™ä¸ªæ—¶å€™å°±å°†aå’Œbå¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºfloat64ç±»å‹\næ€»ç»“ï¼š\ngoè¯­è¨€çš„åŸºæœ¬ç±»å‹ï¼š int8 int16 int32 int64 uint8 uint16 uint32 uint64 float32 float64 bool string\nifè¯­å¥\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { //if æ¡ä»¶åˆ¤æ–­ age:=19 if age\u0026gt;18 { fmt.Println(\u0026#34;æ€§æ„Ÿè·å®˜åœ¨çº¿å‘ç‰Œ\u0026#34;) }else { fmt.Println(\u0026#34;å¥½å¥½å­¦ä¹ ï¼Œä»¥åèµŒåš\u0026#34;) } if age \u0026gt;= 35 \u0026amp;\u0026amp; age \u0026lt; 80 { fmt.Println(\u0026#34;äººåˆ°ä¸­å¹´ï¼Œä¸å¾—ä¸æœ\u0026#34;) }else if age \u0026gt; 18 { fmt.Println(\u0026#34;å¹´è½»åŠ›å£®ï¼Œä¸æ€•å›°éš¾\u0026#34;) }else { fmt.Println(\u0026#34;å¥½å¥½å­¦ä¹ ï¼Œå°‘åƒç‚¹è‹¦\u0026#34;) } if name := \u0026#34;linjianshu\u0026#34;; strings.Contains(name, \u0026#34;lin\u0026#34;) { fmt.Println(\u0026#34;ç¡®å®ç¡®å®\u0026#34;) }else { fmt.Println(\u0026#34;ä¸æ•¢ä¸æ•¢\u0026#34;) }\t} for range(é”®å€¼å¾ªç¯)\ngoè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨for range éå†æ•°æ®ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€mapåŠé€šé“channel é€šè¿‡for range éå†è¿”å›å€¼æœ‰ä»¥ä¸‹è§„å¾‹ï¼š\næ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²è¿”å›ç´¢å¼•å’Œå€¼ mapè¿”å›é”®å’Œå€¼ é€šé“channel åªè¿”å›é€šé“å†…çš„å€¼ å†…å®¹å›é¡¾ goå®‰è£…\ngopath\ngo env\nimage-20210726100638960\rgopath/bin æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼šgo install å‘½åä¼šæŠŠç”Ÿæˆçš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°gopath/bin\ngo å‘½ä»¤ go build ç¼–è¯‘goç¨‹åº\ngo build -o \u0026ldquo;xxx.exe\u0026rdquo; æŒ‡å®šåç§°\ngo run main.go åƒæ‰§è¡Œè„šæœ¬ä¸€æ ·æ‰§è¡Œmai.go\ngo install å…ˆç¼–è¯‘åæ‹·è´\ngoè¯­è¨€æ–‡ä»¶åŸºç¡€è¯­æ³• å­˜æ”¾goæºä»£ç çš„æ–‡ä»¶åç¼€å .go\næ–‡ä»¶ç¬¬ä¸€è¡Œï¼špackage main å£°æ˜åŒ…å\nå¦‚æœè¦ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¿…é¡»è¦æœ‰mainåŒ…å’Œmainå‡½æ•°ï¼ˆå…¥å£å‡½æ•°ï¼‰\nå•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Š\ngoè¯­è¨€å‡½æ•°å¤–çš„è¯­å¥å¿…é¡»ä»¥å…³é”®å­—å¼€å¤´\nå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡å¿…é¡»ä½¿ç”¨\nå˜é‡ 3ç§å£°æ˜æ–¹å¼ï¼š\nvar name string name:=\u0026ldquo;ljs\u0026rdquo; var name = \u0026ldquo;ljs\u0026rdquo; å‡½æ•°å†…éƒ¨ä¸“å± åŒ¿åå˜é‡ï¼ˆå“‘å…ƒå˜é‡ï¼‰\nå½“æœ‰äº›æ•°æ®å¿…é¡»ç”¨å˜é‡æ¥æ”¶ä½†æ˜¯åˆä¸ä½¿ç”¨å®ƒæ—¶ï¼Œå°±å¯ä»¥ç”¨_ æ¥æ¥æ”¶è¿™ä¸ªå€¼\nå¸¸é‡ const PI = 3.1415926\nconst UserNotExistErr = 1000\niota å®ç°æšä¸¾ å®é™…ä¸Šå°±æ˜¯è¡Œç´¢å¼•\nä¸‰ä¸ªè¦ç‚¹ï¼š\nconstå…³é”®å­—å‡ºç°æ—¶é‡ç½®ä¸º0 æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜ï¼Œiotaç´¯åŠ 1 æµç¨‹æ§åˆ¶ if\nif æ¡ä»¶ { } else if æ¡ä»¶{ } else { } forå¾ªç¯\næ ‡å‡†forå¾ªç¯ å˜ç§æ²¡æœ‰iåˆå§‹ å˜ç§æ²¡æœ‰ié™å®š å˜ç§æ²¡æœ‰iå¢é‡ for i := 0; i \u0026lt; 10; i++ { fmt.Println(i) } i:=5 for ; i \u0026lt;10 ; i++ { fmt.Println(i) } fmt.Println(i) var i1 = 3 for i1\u0026lt;10 { fmt.Println(i1) i1++ } for\t{ fmt.Println(\u0026#34;hello world\u0026#34;) break } for i, v := range \u0026#34;hello world\u0026#34; { fmt.Printf(\u0026#34;index:%d\\t,value:%c\\n\u0026#34;,i,v) } s:=\u0026#34;hello world\u0026#34; for i, _ := range s { fmt.Printf(\u0026#34;index:%d\\t,value:%c\\n\u0026#34;,i,s[i]) } //å“‘å…ƒå˜é‡ï¼Œä¸æƒ³ç”¨åˆ°çš„éƒ½ç›´æ¥ç»™_ for _, v := range s { fmt.Printf(\u0026#34;%c\\n\u0026#34;,v) } for i := 1; i \u0026lt;10 ; i++ { for j := 1; j \u0026lt;=10-i ; j++ { fmt.Printf(\u0026#34;%d x %d = %d\\t\u0026#34; , i , j , i*j) } fmt.Println() } for i := 1; i \u0026lt; 10; i++ { for j := i; j \u0026gt;0; j-- { fmt.Printf(\u0026#34;%d x %d = %d\\t\u0026#34; , i,j,i*j) } fmt.Println() } åŸºæœ¬æ•°æ®ç±»å‹ æ•´å‹\nâ€‹\tæ— ç¬¦å·æ•´å‹ï¼šuint8 uint16 uint32 uint64\nâ€‹\tæœ‰ç¬¦å·æ•´å‹ï¼šint8 int16 int32 int64\nâ€‹\tuint int å…·ä½“æ˜¯32ä½è¿˜æ˜¯64ä½çœ‹æ“ä½œç³»ç»Ÿ\nâ€‹\tuintptr è¡¨ç¤ºæŒ‡é’ˆ\nå…¶ä»–è¿›åˆ¶æ•°\ngoè¯­è¨€ä¸­æ²¡åŠæ³•ç›´æ¥å®šä¹‰äºŒè¿›åˆ¶æ•°\nå…«è¿›åˆ¶æ•° %o\näºŒè¿›åˆ¶æ•° %b\nåå…­è¿›åˆ¶æ•° %x\næµ®ç‚¹å‹ float32 float64 é»˜è®¤64ä½ï¼Œè½¬æˆ32éœ€è¦å¼ºåˆ¶è½¬æ¢\nå¸ƒå°”å‹ true\u0026amp;false ä¸èƒ½å’Œå…¶ä»–çš„ç±»å‹åšè½¬æ¢\nå­—ç¬¦ä¸²å‹\nå¸¸ç”¨æ–¹æ³•\nå­—ç¬¦ä¸²ä¸èƒ½ä¿®æ”¹\nå¤æ•°\ncomplex128å’Œcomplex64\nbyteå’Œruneç±»å‹\næ˜¯ç±»å‹åˆ«å\nå­—ç¬¦ä¸²ã€å­—ç¬¦ã€å­—èŠ‚éƒ½æ˜¯ä»€ä¹ˆ å­—ç¬¦ä¸²ï¼šåŒå¼•å·åŒ…è£¹çš„æ˜¯å­—ç¬¦ä¸²\nå­—ç¬¦ï¼šå•å¼•å·åŒ…è£¹çš„æ˜¯å­—ç¬¦ï¼Œå•ä¸ªå­—æ¯ã€æ—¥æ–‡ã€éŸ©æ–‡ã€ä¸­æ–‡ã€å•ä¸ªç¬¦å·\nå­—èŠ‚ï¼š 1byte = 8bit\ngoè¯­è¨€ä¸­å­—ç¬¦ä¸²éƒ½æ˜¯UTF8ç¼–ç ï¼ŒUTF8ç¼–ç ä¸­ä¸€ä¸ªå¸¸ç”¨æ±‰å­—ä¸€èˆ¬å ç”¨3ä¸ªå­—èŠ‚\nswitch è¡¨è¾¾å¼ switchè¿˜å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œè¿™æ—¶å€™switchè¯­å¥åä¹°å‘¢ä¸éœ€è¦å†è·Ÿåˆ¤æ–­å˜é‡ã€‚ä¾‹å¦‚\nfallthrough è¯­æ³•å¯ä»¥æ‰§è¡Œæ»¡è¶³æ¡ä»¶çš„caseçš„ä¸‹ä¸€ä¸ªcaseï¼Œæ˜¯ä¸ºäº†å…¼å®¹cè¯­è¨€ä¸­çš„caseè®¾è®¡çš„\npackage main import ( \u0026#34;fmt\u0026#34; ) func main() { score:=68 switch score { case 68: fmt.Println(\u0026#34;åŠæ ¼\u0026#34;) default: fmt.Println(\u0026#34;æœªçŸ¥\u0026#34;) } //ç®€åŒ–ä»£ç  ä½œç”¨åŸŸé—®é¢˜ switch i:=3 ;i{ case 1: fmt.Println(\u0026#34;wumingzhi\u0026#34;) case 2: fmt.Println(\u0026#34;zhongzhi\u0026#34;) case 3: fmt.Println(\u0026#34;damuzhi\u0026#34;) } //åŒæ—¶å£°æ˜å‡ ç§æƒ…å†µ switch i:=10;i{ case 1, 3, 5, 7, 9: fmt.Println(\u0026#34;this is å¥‡æ•°\u0026#34;) case 2, 4, 6, 8, 10: fmt.Println(\u0026#34;this is å¶æ•°\u0026#34;) } score1:=68 switch { case score1\u0026gt;60\u0026amp;\u0026amp;score1\u0026lt;=100: fmt.Println(\u0026#34;åŠæ ¼\u0026#34;) case score1\u0026lt;60: fmt.Println(\u0026#34;æŒ‚äº†å‘€\u0026#34;) } } gotoè¡¨è¾¾å¼ breakåªèƒ½é€€å‡ºå½“å‰forè¯­å¥çš„å¾ªç¯\npackage main import \u0026#34;fmt\u0026#34; func main() { flag:=false for i := 0; i \u0026lt; 10; i++ { for j := 0; j \u0026lt; 10; j++ { if j==2 { flag = true break } fmt.Printf(\u0026#34;%d-%d\\n\u0026#34;,i,j) } if flag { break } } //for i := 0; i \u0026lt; 10; i++ { //\tfor j := 0; j \u0026lt; 10; j++ { //\tif j == 2 { //\tgoto breakTag //\t} //\tfmt.Printf(\u0026#34;%v-%v\\n\u0026#34;,i,j) //\t} //} //return //breakTag: //\tfmt.Println(\u0026#34;ç»“æŸforå¾ªç¯\u0026#34;) } è¿ç®—ç¬¦ goè¯­è¨€å†…ç½®çš„è¿ç®—ç¬¦æœ‰ï¼š\nç®—æœ¯è¿ç®—ç¬¦+ - * / % å…³ç³»è¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ ä½è¿ç®—ç¬¦ èµ‹å€¼è¿ç®—ç¬¦ å…³ç³»è¿ç®—ç¬¦ ==ã€ï¼= ã€\u0026gt; ã€ \u0026gt;= ã€\u0026lt; ã€ \u0026lt;=\né€»è¾‘è¿ç®—ç¬¦ \u0026amp;\u0026amp; || !\nä½è¿ç®— ä½è¿ç®—ç¬¦å¯¹æ•´æ•°åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œã€‚\n\u0026amp; å‚ä¸è¿ç®—çš„ä¸¤æ•°å„å¯¹åº”çš„äºŒè¿›åˆ¶ä½ç›¸ä¸\n| å‚ä¸è¿ç®—çš„ä¸¤ä½å„å¯¹åº”çš„äºŒè¿›åˆ¶ä½ç›¸æˆ–\n^ å‚ä¸è¿ç®—çš„ä¸¤æ•°å„å¯¹åº”çš„äºŒè¿›åˆ¶ä½ç›¸å¼‚æˆ–ï¼Œå½“ä¸¤å¯¹åº”çš„äºŒè¿›åˆ¶ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º1\n\u0026laquo; å·¦ç§»nä½å°±æ˜¯ä¹˜ä»¥2çš„næ¬¡æ–¹ é«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0\nã€‹ã€‹å³ç§»nä½å°±æ˜¯é™¤ä»¥2çš„næ¬¡æ–¹ a\u0026raquo;bå°±æ˜¯aå³ç§»bä½\npackage main import \u0026#34;fmt\u0026#34; func main() { //è¿ç®—ç¬¦ var( a=5 b=2 ) //ç®—æœ¯è¿ç®—ç¬¦ fmt.Println(a+b) fmt.Println(a-b) fmt.Println(a*b) fmt.Println(a/b) fmt.Println(a%b) a++ //å•ç‹¬çš„è¯­å¥ï¼Œä¸èƒ½æ”¾åœ¨=çš„å³è¾¹èµ‹å€¼ b++ //å…³ç³»è¿ç®—ç¬¦ fmt.Println(a==b) //goè¯­è¨€æ˜¯å¼ºç±»å‹ï¼Œç›¸åŒç±»å‹çš„å˜é‡æ‰èƒ½æ¯”è¾ƒ fmt.Println(a!=b) fmt.Println(a\u0026gt;b) fmt.Println(a\u0026lt;b) age:=22 if age \u0026gt; 18 \u0026amp;\u0026amp; age \u0026lt; 60 { fmt.Println(\u0026#34;ä¸Šç­æ—\u0026#34;) }else { fmt.Println(\u0026#34;ä¸ç”¨ä¸Šç­\u0026#34;) } if age \u0026gt; 60 || age \u0026lt; 18 { fmt.Println(\u0026#34;ä¸ç”¨ä¸Šç­\u0026#34;) }else { fmt.Println(\u0026#34;ä¸Šç­æ—\u0026#34;) } //notå–å b2:=true fmt.Println(!b2) //ä½è¿ç®—ï¼šé’ˆå¯¹çš„æ˜¯äºŒè¿›åˆ¶æ•° //5çš„äºŒè¿›åˆ¶è¡¨ç¤º 101 //2çš„äºŒè¿›åˆ¶è¡¨ç¤º 010 //æŒ‰ä½ä¸ fmt.Println(101\u0026amp;010) fmt.Println(5\u0026amp;2) //æŒ‰ä½æˆ– fmt.Println(101|10) fmt.Println(5|2) //^æŒ‰ä½å¼‚æˆ– fmt.Println(101^010) //è¿™ä¸ªæœ‰ç‚¹å¥‡æ€ª è¿™ä¸ªæ˜¯109ç­”æ¡ˆï¼Ÿï¼Ÿï¼Ÿ fmt.Println(5^2) //å·¦ç§»å³ç§»è¿ç®— *2 å’Œ \\2 fmt.Println(5\u0026lt;\u0026lt;2) //101=\u0026gt;10100 fmt.Println(1\u0026lt;\u0026lt;10) fmt.Println(5\u0026gt;\u0026gt;1) //101=\u0026gt;10 //æ³¨æ„åˆ«æº¢å‡ºäº† m:=int8(1) fmt.Println(m\u0026lt;\u0026lt;10) fmt.Println(1\u0026lt;\u0026lt;2+1) //192.168.1.1 //æƒé™ æ–‡ä»¶æ“ä½œä¼šå°†ä½è¿ç®—å®é™…çš„åº”ç”¨ //0644 //èµ‹å€¼è¿ç®—ç¬¦ï¼Œç”¨æ¥ç»™å˜é‡èµ‹å€¼çš„ var x int x = 10 fmt.Println(x) x+=1 fmt.Println(x) x-=1 fmt.Println(x) x*=2 fmt.Println(x) x/=2 fmt.Println(x) x\u0026lt;\u0026lt;=2 fmt.Println(x) x\u0026gt;\u0026gt;=2 fmt.Println(x) fmt.Printf(\u0026#34;%b\u0026#34;,x) fmt.Println() x\u0026amp;=2 fmt.Println(x) fmt.Printf(\u0026#34;%b\u0026#34;,x) x|=2 x\u0026lt;\u0026lt;=2 x\u0026gt;\u0026gt;=2 x^=2 } æ•°ç»„ arrayæ•°ç»„\næ•°ç»„æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹å…ƒç´ çš„é›†åˆã€‚åœ¨goè¯­è¨€ä¸­ï¼Œæ•°ç»„ä»å£°æ˜æ—¶å°±ç¡®å®šï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¿®æ”¹æ•°ç»„æˆå‘˜ï¼Œä½†æ˜¯æ•°ç»„å¤§å°ä¸å¯å˜åŒ–ã€‚åŸºæœ¬è¯­æ³•ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { //æ•°ç»„ //å­˜æ”¾å…ƒç´ çš„å®¹å™¨ //å¿…é¡»æŒ‡å®šå­˜æ”¾çš„å…ƒç´ çš„ç±»å‹å’Œå®¹é‡ï¼ˆé•¿åº¦ï¼‰ //æ•°ç»„çš„é•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ† ä¹Ÿå°±æ˜¯å°½ç®¡ç±»å‹ä¸€è‡´ä½†æ˜¯é•¿åº¦ä¸ä¸€è‡´ä¹Ÿä¸æ˜¯åŒä¸€ä¸ªæ•°ç»„ç±»å‹ var a1 [3]bool var a2 [4]bool fmt.Printf(\u0026#34;a1:type%T, a2:type%T\u0026#34;,a1,a2) fmt.Println() //æ•°ç»„çš„åˆå§‹åŒ– //å¦‚æœä¸åˆå§‹åŒ–ï¼šé»˜è®¤å…ƒç´ éƒ½æ˜¯é›¶å€¼(å¸ƒå°”å€¼å°±æ˜¯falseï¼Œæ•´å‹å’Œæµ®ç‚¹å‹éƒ½æ˜¯0ï¼Œå­—ç¬¦ä¸²å°±æ˜¯â€œâ€) fmt.Println(a1,a2) //1.åˆå§‹åŒ–æ–¹å¼1 b1 :=[3]bool{true,true,true} fmt.Println(b1) //2.åˆå§‹åŒ–æ–¹å¼2 æ ¹æ®åˆå§‹å€¼è‡ªåŠ¨æ¨æ–­æ•°ç»„çš„é•¿åº¦æ˜¯å¤šå°‘ b2 :=[...]int{1,3,4,2,6,2,73,12} fmt.Println(b2) fmt.Println(len(b2)) //3.åˆå§‹åŒ–æ–¹å¼3 æ ¹æ®ç´¢å¼•åˆå§‹åŒ– b3:=[5]int{1,2} fmt.Println(b3) b3=[5]int{0:1,4:2} fmt.Println(b3) //æ•°ç»„çš„éå† citys :=[...]string{\u0026#34;åŒ—äº¬\u0026#34;,\u0026#34;ä¸Šæµ·\u0026#34;,\u0026#34;æ·±åœ³\u0026#34;} //1.for range for _, v := range citys { fmt.Println(v) } for i, _ := range citys { fmt.Println(citys[i]) } //2.æ ¹æ®ç´¢å¼•éå† for i := 0; i \u0026lt; len(citys); i++ { fmt.Println(citys[i]) } //å¤šç»´æ•°ç»„ c1:=[3][2]int{0:[2]int{2,3},1:[2]int{4,5}} fmt.Println(c1) c2:=[3][2]int {{1,2},{3,4}} fmt.Println(c2) //å¤šç»´æ•°ç»„çš„éå† //var b11:=[2][3]string{{\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;c\u0026#34;},{\u0026#34;d\u0026#34;,\u0026#34;e\u0026#34;,\u0026#34;f\u0026#34;}} //å¯ä»¥è¿™ä¹ˆè®° goè¯­è¨€ä¸­ å®é™…æ•°ç»„å±•ç¤ºä½¿ç”¨ç©ºæ ¼æ¥åŒºåˆ†çš„ï¼Œä½†æ˜¯å£°æ˜çš„æ—¶å€™éœ€è¦ç”¨é€—å·éš”å¼€ for _, v := range c1 { fmt.Println(v) for _, v1 := range v { fmt.Printf(\u0026#34;%d \u0026#34;,v1) } fmt.Println() } for i := 0; i \u0026lt; len(c2); i++ { fmt.Println(c2[i]) for j := 0; j \u0026lt; len(c2[j]); j++ { fmt.Printf(\u0026#34;%d \u0026#34;,c2[i][j]) } fmt.Println() } //æ•°ç»„æ˜¯å€¼ç±»å‹ d1:=[...]int{1,2,3} d2:=d1 d2[0]=100 fmt.Println(d1) fmt.Println(d2) //ç»ƒä¹  e:=[...]int{1,3,5,7,8} sum:=0 for _, v := range e { sum+=v } fmt.Println(sum) for i, _ := range e { for j := i+1; j \u0026lt; len(e); j++ { if e[i]+e[j] == 8 { fmt.Printf(\u0026#34;(%d %d)\u0026#34;,i,j) break } } fmt.Println() } } æ•°ç»„å®šä¹‰ var æ•°ç»„å˜é‡å [å…ƒç´ æ•°é‡]T\n[5]int å’Œ [10]int æ˜¯ä¸åŒçš„ç±»å‹\nåˆ‡ç‰‡ åˆ‡ç‰‡sliceæ˜¯ä¸€ä¸ªæ‹¥æœ‰ç›¸åŒç±»å‹å…ƒç´ çš„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚ä»–æ˜¯åŸºäºæ•°ç»„ç±»å‹åšçš„ä¸€å±‚å°è£…ã€‚ä»–éå¸¸çµæ´»ï¼Œæ”¯æŒè‡ªåŠ¨æ‰©å®¹ã€‚åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œä»–çš„å†…éƒ¨ç»“æ„åŒ…å«åœ°å€ ã€ é•¿åº¦ å’Œ å®¹é‡ ã€‚åˆ‡ç‰‡ä¸€èˆ¬ç”¨äºå¿«é€Ÿåœ°æ“ä½œä¸€å—æ•°æ®é›†åˆã€‚\nåˆ‡ç‰‡çš„å®šä¹‰\nå£°æ˜åˆ‡ç‰‡ç±»å‹çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š\nvar name []T å…¶ä¸­ï¼Œnameæ˜¯å˜é‡åå­—ï¼Œ Tæ˜¯å…ƒç´ ç±»å‹\nåˆ‡ç‰‡çš„å®¹é‡å’Œé•¿åº¦ åˆ‡ç‰‡æ‹¥æœ‰è‡ªå·±çš„é•¿åº¦å’Œå®¹é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å†…ç½®çš„lenå‡½æ•°æ±‚é•¿åº¦ï¼Œä½¿ç”¨å†…ç½®çš„capå‡½æ•°æ±‚åˆ‡ç‰‡çš„å®¹é‡\nåŸºäºæ•°ç»„å®šä¹‰åˆ‡ç‰‡ ç”±äºåˆ‡ç‰‡çš„åº•å±‚å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åŸºäºæ•°ç»„å®šä¹‰åˆ‡ç‰‡\nè¿˜æ”¯æŒå¦‚ä¸‹æ–¹å¼\npackage main import \u0026#34;fmt\u0026#34; func main() { //åˆ‡ç‰‡çš„å®šä¹‰ var s1 []int //å®šä¹‰ä¸€ä¸ªå­˜æ”¾intç±»å‹å…ƒç´ çš„åˆ‡ç‰‡ var s2 []string fmt.Println(s1,s2) fmt.Println(s1==nil) fmt.Println(s2==nil) //åˆå§‹åŒ– s1 = []int{1,2,3} s2 = []string{\u0026#34;æ²™æ²³\u0026#34;,\u0026#34;å¼ æ±Ÿ\u0026#34;,\u0026#34;å¹³å±±æ‘\u0026#34;} fmt.Println(s1,s2) fmt.Println(s1==nil) fmt.Println(s2==nil) //é•¿åº¦å’Œå®¹é‡ fmt.Printf(\u0026#34;len:%d,cap:%d\\n\u0026#34;, len(s1), cap(s1)) fmt.Printf(\u0026#34;len:%d,cap:%d\\n\u0026#34;, len(s2), cap(s2)) //2.ç”±æ•°ç»„å®šä¹‰åˆ‡ç‰‡ a :=[]int{1,3,5,7,9,11,13} fmt.Println(cap(a)) b :=a[1:4] //[3 5 7] å·¦é—­å³å¼€ åŸºäºä¸€ä¸ªæ•°ç»„è¿›è¡Œåˆ‡å‰² fmt.Println(b) b1 :=a[:4] //0-4 fmt.Println(b1) b2 :=a[2:] // fmt.Println(b2) b3 :=a[:] fmt.Println(b3) //åˆ‡ç‰‡çš„é•¿åº¦å°±æ˜¯å…ƒç´ çš„ä¸ªæ•°ï¼Œåˆ‡ç‰‡çš„å®¹é‡å°±æ˜¯åº•å±‚æ•°ç»„ä»åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ çš„æ•°é‡ fmt.Println(len(b),cap(b)) //3.åˆ‡ç‰‡å†åˆ‡ç‰‡ b4:=b[1:2] //[5 7] ä½†æ˜¯bçš„å®¹é‡å·²ç»æ˜¯6äº† è¿™æ—¶å€™åˆ‡çš„bä»ç¬¬ä¸€ä½åˆ‡èµ· é‚£ä¹ˆå®¹é‡åº”è¯¥æ˜¯5 fmt.Println(b4, len(b4), cap(b4)) fmt.Println(b) a[2] = 10 //è¿™é‡Œè¯´æ˜äº†åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œéƒ½æŒ‡å‘äº†åº•å±‚çš„æ•°ç»„ï¼Œä¿®æ”¹äº†åº•å±‚æ•°ç»„ï¼Œé‚£ä¹ˆä¸Šå±‚çš„åˆ‡ç‰‡å€¼è‚¯å®šä¼šå˜åŒ– fmt.Println(b) fmt.Println(b4) } åˆ‡ç‰‡æŒ‡å‘äº†ä¸€ä¸ªåº•å±‚çš„æ•°ç»„\nåˆ‡ç‰‡çš„é•¿åº¦å°±æ˜¯å®ƒå…ƒç´ çš„ä¸ªæ•°\nåˆ‡ç‰‡çš„å®¹é‡æ˜¯åº•å±‚æ•°ç»„ä»åˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ çš„æ•°é‡\nimage-20210729000908993\rimage-20210729000949711\rä½¿ç”¨makeå‡½æ•°æ„é€ åˆ‡ç‰‡ æˆ‘ä»¬ä¸Šé¢éƒ½æ˜¯åŸºäºæ•°ç»„æ¥åˆ›å»ºçš„åˆ‡ç‰‡ï¼Œå¦‚æœéœ€è¦åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å†…ç½®çš„makeå‡½æ•°\nmake([]T , size ,cap) å…¶ä¸­ï¼šTï¼šåˆ‡ç‰‡çš„å…ƒç´ ç±»å‹ sizeï¼šåˆ‡ç‰‡ä¸­å…ƒç´ çš„æ•°é‡ capï¼šåˆ‡ç‰‡çš„å®¹é‡\nä¸Šé¢çš„ä»£ç ä¸­açš„å†…éƒ¨å­˜å‚¨ç©ºé—´å·²ç»åˆ†é…capä¸ªï¼Œä½†æ˜¯å®é™…ä¸Šåªæ˜¯ä½¿ç”¨äº†lenä¸ªï¼Œå®¹é‡å¹¶ä¸ä¼šå½±å“å½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œæ‰€ä»¥lenè¿”å›ä½¿ç”¨äº†å‡ ä¸ªï¼Œcapè¿”å›åˆ‡ç‰‡çš„å®¹é‡\nåˆ‡ç‰‡çš„æœ¬è´¨ åˆ‡ç‰‡å°±æ˜¯ä¸€ä¸ªæ¡†ï¼Œæ¡†ä½äº†ä¸€å—è¿ç»­çš„å†…å­˜ã€‚å±äºå¼•ç”¨ç±»å‹ï¼ŒçœŸæ­£çš„æ•°æ®éƒ½æ˜¯ä¿å­˜åœ¨åº•å±‚æ•°ç»„é‡Œçš„ã€‚\nåˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ åˆ‡ç‰‡ä¹‹é—´æ˜¯ä¸èƒ½æ¯”è¾ƒçš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨==æ“ä½œç¬¦æ¥åˆ¤æ–­ä¸¤ä¸ªåˆ‡ç‰‡æ˜¯å¦å«æœ‰å…¨éƒ¨ç›¸ç­‰å…ƒç´ ã€‚åˆ‡ç‰‡å”¯ä¸€åˆæ³•çš„æ¯”è¾ƒæ“ä½œæ˜¯å’Œnilæ¯”è¾ƒã€‚ä¸€ä¸ªnilå€¼çš„åˆ‡ç‰‡å¹¶æ²¡æœ‰åº•å±‚æ•°ç»„ï¼Œä¸€ä¸ªnilå€¼çš„åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0.ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½è¯´ä¸€ä¸ªé•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0çš„åˆ‡ç‰‡ä¸€å®šæ˜¯nil\npackage main import \u0026#34;fmt\u0026#34; func main() { //makeå‡½æ•°åˆ›é€ åˆ‡ç‰‡ s1:=make([]int,3,10) fmt.Printf(\u0026#34;s1=%v,len(s1)=%d,cap(s1)=%d,s1==nil?:%v\\n\u0026#34;,s1,len(s1),cap(s1),s1==nil) var s2 []int fmt.Printf(\u0026#34;s2=%v,len(s2)=%d,cap(s2)=%d,s2==nil?:%v\\n\u0026#34;,s2,len(s2),cap(s2),s2==nil) s3:=[]int{} fmt.Printf(\u0026#34;s3=%v,len(s3)=%d,cap(s3)=%d,s3==nil?:%v\\n\u0026#34;,s3,len(s3),cap(s3),s3==nil) s4:=make([]int,0) fmt.Printf(\u0026#34;s4=%v,len(s4)=%d,cap(s4)=%d,s4==nil?:%v\\n\u0026#34;,s4,len(s4),cap(s4),s4==nil) //åˆ‡ç‰‡çš„èµ‹å€¼ s5:=[]int {1,3,5,7} s6:=s5 //s5 å’Œ s6éƒ½æŒ‡å‘äº†åŒä¸€ä¸ªåº•å±‚æ•°ç»„ fmt.Println(s5,s6) s5[0]=100 fmt.Println(s5,s6) //åˆ‡ç‰‡çš„éå† //1.ç´¢å¼•éå† for i := 0; i \u0026lt; len(s5); i++ { fmt.Printf(\u0026#34;%d \u0026#34;,s5[i]) } fmt.Println() //2.forrangeéå† for _, v := range s5 { fmt.Printf(\u0026#34;%d \u0026#34;,v) } } æ‰€ä»¥è¦åˆ¤æ–­ä¸€ä¸ªåˆ‡ç‰‡æ˜¯å¦æ˜¯ç©ºçš„ï¼Œè¦ä½¿ç”¨len(s)==0æ¥åˆ¤æ–­\nappendæ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´  goè¯­è¨€çš„å†…ç½®å‡½æ•°appendå¯ä»¥ä¸ºåˆ‡ç‰‡åŠ¨æ€æ·»åŠ å…ƒç´ ï¼Œæ¯ä¸ªåˆ‡ç‰‡ä¼šæŒ‡å‘ä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„èƒ½å®¹çº³ä¸€å®šæ•°é‡çš„å…ƒç´ ã€‚å½“åº•å±‚æ•°ç»„ä¸èƒ½å®¹çº³æ–°å¢çš„å…ƒç´ æ—¶ï¼Œåˆ‡ç‰‡å°±ä¼šè‡ªåŠ¨æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥è¿›è¡Œæ‰©å®¹ï¼Œæ­¤æ—¶è¯¥åˆ‡ç‰‡æŒ‡å‘çš„åº•å±‚æ•°ç»„å°±ä¼šæ›´æ¢ã€‚æ‰©å®¹æ“ä½œå¾€å¾€å‘ç”Ÿåœ¨appendå‡½æ•°è°ƒç”¨æ—¶ã€‚\nåˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥å°±ä¸è¯´äº†\npackage main import \u0026#34;fmt\u0026#34; func main() { //append ä¸ºåˆ‡ç‰‡è¿½åŠ å…ƒç´  s1:=[]string{\u0026#34;åŒ—äº¬\u0026#34;,\u0026#34;ä¸Šæµ·\u0026#34;,\u0026#34;æ·±åœ³\u0026#34;} fmt.Printf(\u0026#34;s1=%v len(s1)=%d cap(s1)=%d\\n\u0026#34;,s1,len(s1),cap(s1)) //s1[3] = \u0026#34;å¹¿å·\u0026#34; //é”™è¯¯çš„å†™æ³• ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼šç´¢å¼•è¶Šç•Œ //è°ƒç”¨appendå‡½æ•°å¿…é¡»ä½¿ç”¨åŸæ¥çš„åˆ‡ç‰‡å˜é‡æ¥æ”¶è¿”å›å€¼ s1= append(s1, \u0026#34;å¹¿å·\u0026#34;) //appendè¿½åŠ å…ƒç´  åŸæ¥çš„åº•å±‚æ•°ç»„æ”¾ä¸ä¸‹çš„æ—¶å€™ goåº•å±‚å°±ä¼šæŠŠåº•å±‚æ•°ç»„æ¢ä¸€ä¸ª //å¿…é¡»ç”¨å˜é‡æ¥æ”¶appendçš„è¿”å›å€¼ fmt.Printf(\u0026#34;s1=%v len(s1)=%d cap(s1)=%d\\n\u0026#34;,s1,len(s1),cap(s1)) s1 = append(s1,\u0026#34;æ­å·\u0026#34;,\u0026#34;æˆéƒ½\u0026#34;) fmt.Printf(\u0026#34;s1=%v len(s1)=%d cap(s1)=%d\\n\u0026#34;,s1, len(s1), cap(s1)) s2:=[]string{\u0026#34;æ­¦æ±‰\u0026#34;,\u0026#34;è¥¿å®‰\u0026#34;,\u0026#34;è‹å·\u0026#34;} s1 = append(s1,s2...) //...è¡¨ç¤ºæ‹†å¼€ fmt.Printf(\u0026#34;s1=%v len(s1)=%d cap(s1)=%d\\n\u0026#34;,s1, len(s1), cap(s1)) } ä½¿ç”¨copyå¤åˆ¶åˆ‡ç‰‡ ç”±äºåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œaå’Œbå…¶å®æ˜¯æŒ‡å‘äº†åŒä¸€å—å†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¦‚æœå•çº¯çš„èµ‹å€¼çš„è¯ï¼Œä¿®æ”¹äº†bçš„å€¼çš„åŒæ—¶açš„å€¼ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–\ngoè¯­è¨€å†…å»ºçš„copyå‡½æ•°å¯ä»¥è¿…é€Ÿåœ°å°†ä¸€ä¸ªåˆ‡ç‰‡çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ‡ç‰‡ç©ºé—´\ncopy (destSlice , srcSlice[] T) ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´  goè¯­è¨€ä¸­å¹¶æ²¡æœ‰åˆ é™¤åˆ‡ç‰‡å…ƒç´ çš„ä¸“ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡ æœ¬èº«çš„ç‰¹æ€§æ¥åˆ é™¤å…ƒç´ ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; ) func main() { a1:=[]int {1,3,5} a2:=a1 var a3=[]int{} //è¿™æ ·å£°æ˜æ²¡åŠæ³•å¤åˆ¶è¿›å» var a4 []int\t//è¿™æ ·å£°æ˜ä¹Ÿæ²¡åŠæ³•å¤åˆ¶è¿›å» var a5=make([]int,len(a1), cap(a1)) copy(a3,a1) copy(a4,a1) copy(a5,a1) fmt.Println(a1,a2,a3,a4,a5) a1[0] = 100 fmt.Println(a1,a2,a3,a4,a5) //åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´  a5 = append(a5[:1],a5[2:]...) fmt.Println(a5) fmt.Println(cap(a5)) //éªŒè¯ //1.åˆ‡ç‰‡ä¸ä¿å­˜å…·ä½“çš„å€¼ //2.åˆ‡ç‰‡å¯¹åº”ä¸€ä¸ªåº•å±‚æ•°ç»„ //3.åº•å±‚æ•°ç»„éƒ½æ˜¯å ç”¨ä¸€å—è¿ç»­çš„å†…å­˜ x1:=[...]int{1,3,5} //æ•°ç»„ x2:=x1[:] //åˆ‡ç‰‡ åˆ‡ç‰‡æŒ‡å‘åº•å±‚æ•°ç»„ fmt.Println(x2,len(x2),cap(x2)) fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;x1[0]) x2 = append(x1[:1],x1[2:]...) //åˆ‡ç‰‡æˆªå–åº•å±‚æ•°ç»„ é‡æ–°å®šä¹‰äº†åº•å±‚æ•°ç»„çš„ç´¢å¼•çš„å€¼ fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;x2[0]) //è¯´æ˜æŒ‡å‘çš„åº•å±‚æ•°ç»„åœ°å€æ²¡å˜ å˜äº†çš„æ˜¯åœ°å€é‡Œçš„å€¼ fmt.Println(x2) //åˆ‡ç‰‡çš„ç´¢å¼•çš„å€¼ fmt.Println(x1) //è¢«ä¿®æ”¹åçš„åº•å±‚æ•°ç»„çš„ç´¢å¼•å’Œå€¼ } ç»ƒä¹ \npackage main import \u0026#34;fmt\u0026#34; func main() { a1:=[...]int{1,3,5,7,9,11,13,15,17} a2:=a1[:] a2=append(a1[:1],a1[2:]...) fmt.Println(a2) fmt.Println(a1) } æŒ‡é’ˆ goè¯­è¨€ä¸­ä¸å­˜åœ¨æŒ‡é’ˆæ“ä½œï¼Œåªéœ€è¦è®°ä½ä¸¤ä¸ªç¬¦å·\n\u0026amp; å–åœ°å€ * æ ¹æ®åœ°å€å–å€¼ goè¯­è¨€ä¸­çš„æŒ‡é’ˆä¸èƒ½è¿›è¡Œåç§»å’Œè¿ç®—ï¼Œæ˜¯å®‰å…¨æŒ‡é’ˆã€‚\nè¦ææ˜ç™½goè¯­è¨€ä¸­çš„æŒ‡é’ˆéœ€è¦å…ˆçŸ¥é“3ä¸ªæ¦‚å¿µï¼ŒæŒ‡é’ˆåœ°å€ï¼ŒæŒ‡é’ˆç±»å‹å’ŒæŒ‡é’ˆå–å€¼\ngoè¯­è¨€ä¸­çš„å‡½æ•°ä¼ å‚éƒ½æ˜¯å€¼æ‹·è´ï¼Œå½“æˆ‘ä»¬æƒ³è¦ä¿®æ”¹æŸä¸ªå˜é‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥å˜é‡åœ°å€çš„æŒ‡é’ˆå˜é‡ã€‚ä¼ é€’æ•°æ®ä½¿ç”¨æŒ‡é’ˆï¼Œè€Œæ— éœ€æ‹·è´æ•°æ®ã€‚ç±»å‹æŒ‡é’ˆä¸èƒ½è¿›è¡Œåç§»å’Œè¿ç®—ã€‚goè¯­è¨€ä¸­çš„æŒ‡é’ˆæ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€è¦è®°ä½ä¸¤ä¸ªç¬¦å·ï¼š\u0026amp; å–åœ°å€ *æ ¹æ®åœ°å€å–å€¼\næŒ‡é’ˆåœ°å€å’ŒæŒ‡é’ˆç±»å‹ æ¯ä¸ªå˜é‡åœ¨è¿è¡Œæ—¶éƒ½æ‹¥æœ‰ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€ä»£è¡¨å˜é‡åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚goè¯­è¨€ä¸­ä½¿ç”¨\u0026amp;å­—ç¬¦æ”¾åœ¨å˜é‡å‰é¢å¯¹å˜é‡è¿›è¡Œå–åœ°å€æ“ä½œã€‚goè¯­è¨€ä¸­çš„å€¼ç±»å‹int / float / bool / string / array / struct éƒ½æœ‰å¯¹åº”çš„æŒ‡é’ˆç±»å‹ *int / *int64 / *string\næ€»ç»“ï¼šå–åœ°å€æ“ä½œç¬¦\u0026amp; å’Œå–å€¼æ“ä½œç¬¦*æ˜¯ä¸€å¯¹äº’è¡¥æ“ä½œï¼Œ\u0026amp;å–å‡ºåœ°å€ï¼Œ *æ ¹æ®åœ°å€å–å‡ºåœ°å€æŒ‡å‘çš„å€¼ï¼Œå˜é‡ã€æŒ‡é’ˆåœ°å€ã€æŒ‡é’ˆå˜é‡ã€å–åœ°å€ã€å–å€¼çš„ç›¸äº’å…³ç³»å¦‚ä¸‹\nå¯¹å˜é‡è¿›è¡Œå–åœ°å€\u0026amp;æ“ä½œï¼Œå¯ä»¥è·å¾—è¿™ä¸ªå˜é‡çš„æŒ‡é’ˆå˜é‡ æŒ‡é’ˆå˜é‡çš„å€¼æ˜¯æŒ‡é’ˆåœ°å€ å¯¹æŒ‡é’ˆå˜é‡è¿›è¡Œå–å€¼*æ“ä½œï¼Œå¯ä»¥è·å¾—æŒ‡é’ˆå˜é‡æŒ‡å‘çš„åŸå˜é‡çš„å€¼ package main import \u0026#34;fmt\u0026#34; func main() { //1.\u0026amp;å–åœ°å€ //2.*æ ¹æ®åœ°å€å–å€¼ n:=18 fmt.Println(\u0026amp;n) p:=\u0026amp;n fmt.Printf(\u0026#34;%T\\n\u0026#34;,p) //*intè¡¨ç¤ºintç±»å‹çš„æŒ‡é’ˆ m:=*p fmt.Printf(\u0026#34;%v\\n\u0026#34;,m) fmt.Printf(\u0026#34;%T\\n\u0026#34;,m) var a *int fmt.Println(a) //nil èµ‹å€¼ä¼šæŠ¥é”™ ç©ºæŒ‡é’ˆå¼‚å¸¸ var a1 = new(int) //ä½¿ç”¨newå…³é”®å­—ä¼šåˆ†é…å†…å­˜å— ä¸ä¼šé€ æˆç©ºæŒ‡é’ˆ fmt.Println(a1) fmt.Println(*a1) *a1 = 100 fmt.Println(*a1) } make makeä¹Ÿæ˜¯ç”¨äºå†…å­˜åˆ†é…çš„ï¼ŒåŒºåˆ«äºnewï¼Œå®ƒåªç”¨äºsliceã€mapä»¥åŠchançš„å†…å­˜åˆ›å»ºï¼Œè€Œä¸”å®ƒè¿”å›çš„ç±»å‹å°±æ˜¯è¿™ä¸‰ä¸ªç±»å‹æœ¬èº«ï¼Œè€Œä¸æ˜¯å¥¹ä»¬çš„æŒ‡é’ˆç±»å‹ï¼Œå› ä¸ºè¿™ä¸‰ç§ç±»å‹å°±æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ²¡æœ‰å¿…è¦è¿”å›å¥¹ä»¬çš„æŒ‡é’ˆäº†ã€‚makeå‡½æ•°çš„å‡½æ•°ç­¾å\nfunc make (t Type,size ... IntergerType) Type makeå‡½æ•°æ˜¯æ— å¯æ›¿ä»£çš„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨sliceã€mapä»¥åŠchannelçš„æ—¶å€™ï¼Œéƒ½éœ€è¦ä½¿ç”¨makeè¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åæ‰å¯ä»¥å¯¹å¥¹ä»¬è¿›è¡Œæ“ä½œã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨ä¸Šä¸€ç« ä¸­éƒ½æœ‰è¯´æ˜ï¼Œå…³äºchannelæˆ‘ä»¬ä¼šåœ¨åç»­çš„ç« èŠ‚ä¸­è¯¦ç»†è¯´æ˜\nmakeå’Œnewçš„åŒºåˆ« makeå’Œnewéƒ½æ˜¯ç”¨æ¥ç”³è¯·å†…å­˜çš„ newå¾ˆå°‘ç”¨ï¼Œä¸€èˆ¬ç”¨æ¥ç»™åŸºæœ¬æ•°æ®ç±»å‹ç”³è¯·å†…å­˜ï¼Œstring / int è¿”å›çš„æ˜¯å¯¹åº”ç±»å‹çš„æŒ‡é’ˆï¼Œä¾‹å¦‚*string . *intã€‚ makeæ˜¯ç”¨æ¥ç»™slice ã€ map ã€ chanç”³è¯·å†…å­˜çš„ï¼Œmakeå‡½æ•°è¿”å›çš„æ˜¯å¯¹åº”çš„è¿™ä¸‰ä¸ªç±»å‹æœ¬èº« map goè¯­è¨€ä¸­æä¾›çš„æ˜ å°„å…³ç³»å®¹å™¨ä¸ºmapï¼Œå…¶å†…éƒ¨ä½¿ç”¨æ•£åˆ—è¡¨hashå®ç°\nmapæ˜¯ä¸€ç§æ— åºçš„åŸºäºkey-valueçš„æ•°æ®ç»“æ„ï¼Œgoè¯­è¨€ä¸­çš„mapæ˜¯å¼•ç”¨ç±»å‹ï¼Œå¿…é¡»åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨\nmap[KeyType]valueType mapç±»å‹çš„å˜é‡é»˜è®¤åˆå§‹å€¼ä¸ºnilï¼Œéœ€è¦ä½¿ç”¨makeå‡½æ•°æ¥åˆ†é…å†…å­˜\nmake(map[keyType] valueType,[cap]) åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨ ç‰¹æ®Šå†™æ³•\nvalue,ok:=map[key] éå†map ä½¿ç”¨for rangeå³å¯\nä½¿ç”¨deleteå‡½æ•°åˆ é™¤é”®å€¼å¯¹ ç±»å‹ä¸ºmapçš„åˆ‡ç‰‡\nå€¼çš„ç±»å‹ä¸ºåˆ‡ç‰‡çš„map\npackage main import \u0026#34;fmt\u0026#34; func main() { //mapå’Œsliceçš„ç»„åˆ a:=[]map[string]int{} //å…ƒç´ ç±»å‹ä¸ºmapçš„åˆ‡ç‰‡ var a1 = make([]map[string]int,10,10) //æ²¡æœ‰å¯¹å†…éƒ¨çš„mapåšåˆå§‹åŒ– a1[0] = make(map[string]int,10) a1[0][\u0026#34;ljs\u0026#34;] = 9 a1[0][\u0026#34;jwt\u0026#34;] = 8 fmt.Println(a) fmt.Println(a1) //å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map var a2 = make(map[string][]string,10) a2[\u0026#34;ljs\u0026#34;] = make([]string,10,10) a2[\u0026#34;ljs\u0026#34;] = []string{\u0026#34;giegie\u0026#34;} fmt.Println(a2) a2[\u0026#34;ljs\u0026#34;] = append(a2[\u0026#34;ljs\u0026#34;],[]string{\u0026#34;jiejie\u0026#34;,\u0026#34;didi\u0026#34;}...) fmt.Println(a2) } å†…å®¹å›é¡¾ è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦\né€»è¾‘è¿ç®—ç¬¦\nèµ‹å€¼è¿ç®—ç¬¦+= -= *= /= \u0026amp;= |= ^=\nä½è¿ç®—ç¬¦ \u0026raquo; \u0026laquo; | \u0026amp; ^\næ¯”è¾ƒè¿ç®—ç¬¦\næ•°ç»„array [\u0026hellip;]int{3,5} æ•°ç»„åŒ…å«å…ƒç´ çš„ç±»å‹å’Œå…ƒç´ çš„ä¸ªæ•° æ•°ç»„çš„é•¿åº¦å±äºæ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†\næ•°ç»„æ˜¯å€¼ç±»å‹\nå¤šç»´æ•°ç»„\npackage main import \u0026#34;fmt\u0026#34; func main() { var name string name = \u0026#34;ljs\u0026#34; fmt.Println(name) var ages [30]int ages[0] = 1 ages = [30]int{2,3,5} fmt.Println(ages) ages1:=[...]int{2,3,6,8,9} fmt.Println(ages1) ages2:=[...]int{1:1,99:99} fmt.Println(ages2) //äºŒç»´æ•°ç»„ a:=[3][2]string{} a[0][1] = \u0026#34;ljs\u0026#34; a[0][0] = \u0026#34;jwt\u0026#34; fmt.Println(a) //å¤šç»´æ•°ç»„æ˜¯å€¼ç±»å‹ a1:=[3][2]string{{\u0026#34;ljs\u0026#34;,\u0026#34;jwt\u0026#34;},{\u0026#34;fyz\u0026#34;,\u0026#34;lje\u0026#34;}} fmt.Println(a1) var a2 =[3][2]int{[2]int{1,2},[2]int{3,4}} fmt.Println(a2) //æ•°ç»„æ˜¯å€¼ç±»å‹ a3:=[3]int{1,2,3} fmt.Println(a3) f1(a3) fmt.Println(a3) a4:=[]int{1,2,3} fmt.Println(a4) f2(a4) fmt.Println(a4) } func f1(a [3]int) { //goè¯­è¨€ä¸­å‡½æ•°ä¼ é€’çš„éƒ½æ˜¯å€¼ ctrl+c ctrl+v a[1] = 100 } func f2(a []int) { a[1] =100 } åˆ‡ç‰‡ åˆ‡ç‰‡ä¸å­˜å€¼ï¼Œåƒä¸€ä¸ªæ¡†ï¼Œåœ¨åº•å±‚çš„æ•°ç»„é‡Œå–å€¼\nåˆ‡ç‰‡çš„å®šä¹‰ï¼šæŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡\nvar name []T\nåˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥\nå¦‚æœç”³è¯·çš„å®¹é‡å¤§äºåŸæ¥çš„2å€ï¼Œé‚£å°±ç›´æ¥æ‰©å®¹è‡³æ–°ç”³è¯·çš„å®¹é‡ å¦‚æœå°äº1024ï¼Œé‚£ä¹ˆå°±ç›´æ¥ä¸¤å€ å¦‚æœå¤§äº1024ï¼Œå°±æŒ‰ç…§1.25å€å»æ‰©å®¹ å…·ä½“å­˜å‚¨çš„å€¼ç±»å‹ä¸åŒï¼Œæ‰©å®¹ç­–ç•¥ä¹Ÿæœ‰ä¸€å®šçš„ä¸åŒ a4:=[]int{1,2,3} fmt.Println(a4) f2(a4) fmt.Println(a4) //åˆ‡ç‰‡ a5:=[]int{} fmt.Println(a5) fmt.Println(a5==nil) //æ²¡æœ‰åˆ†é…å†…å­˜ é›¶åˆ‡ç‰‡å£°æ˜ nil var a6 []int fmt.Println(a6) fmt.Println(a6==nil) //makeåˆå§‹åŒ– åˆ†é…å†…å­˜ a7 := make([]int, 5, 5) fmt.Println(a7) fmt.Println(a7==nil) s1 :=[]int{1,2,3} s2:=s1 fmt.Println(s1) s2[1] = 100 fmt.Println(s2) fmt.Println(s1) //åˆ‡ç‰‡ä¸å­˜å€¼ æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ var s3 []int //appendå°†è‡ªåŠ¨åˆå§‹åŒ–åˆ†é…å†…å­˜+æ‰©å®¹ s3 = append(s3,1) fmt.Println(s3) var s4 []int s4 = make([]int,1,1) copy(s4,s3) //copyå‡½æ•°å¿…é¡»å…ˆå°†deståˆ‡ç‰‡å£°æ˜å¥½å¹¶ä¸”åˆå§‹åŒ–å¥½åˆ†é…å¥½å†…å­˜å’Œé•¿åº¦ fmt.Println(s4) æŒ‡é’ˆ //æŒ‡é’ˆ //goé‡Œé¢çš„æŒ‡é’ˆåªèƒ½è¯»ä¸èƒ½ä¿®æ”¹ addr:=\u0026#34;æ²™æ²³\u0026#34; addrpointer:=\u0026amp;addr fmt.Println(addrpointer) fmt.Printf(\u0026#34;%T\\n\u0026#34;,addrpointer) fmt.Printf(*addrpointer) map mapå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹çš„æ•°æ®ã€‚ä»–ä¹Ÿæ˜¯éœ€è¦ç”³è¯·å†…å­˜çš„\n//map var m map[string]int m = make(map[string]int,5) m[\u0026#34;ljs\u0026#34;] = 99 m[\u0026#34;jwt\u0026#34;] = 98 fmt.Println(m) fmt.Println(m[\u0026#34;jiwuming\u0026#34;]) //å¦‚æœä¸å­˜åœ¨key ï¼Œè¿”å›çš„å°†æ˜¯valueç±»å‹çš„é»˜è®¤å€¼ score,ok:=m[\u0026#34;jiwuming\u0026#34;] if ok { println(score) }else{ println(\u0026#34;æŸ¥æ— æ­¤äºº\u0026#34;) } delete(m,\u0026#34;lalala\u0026#34;) //å¦‚æœæ²¡æœ‰çš„è¯ï¼Œä»€ä¹ˆéƒ½ä¸å¹²ï¼Œä¸æŠ¥é”™ delete(m, \u0026#34;jwt\u0026#34;) fmt.Println(m) å¤ä¹  package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;unicode\u0026#34; ) func main() { s1:=\u0026#34;helloæ²™æ²³\u0026#34; sum:=0 for _, v := range s1 { //if v \u0026gt;= 128 { //\tsum++ //} if unicode.In(v, unicode.Han) { sum++ } } fmt.Println(sum) s2:=\u0026#34;how do you do\u0026#34; s3:= strings.Split(s2,\u0026#34; \u0026#34;) fmt.Println(s3) m:= make(map[string]int, 5) for _, v := range s3 { //if m[v] == 0 { //\tm[v] =1 //}\telse { //\tm[v] ++ //} if _,ok := m[v];!ok{ m[v]=1 }else { m[v]++ } } fmt.Println(m) //å›æ–‡åˆ¤æ–­ //å­—ç¬¦ä¸²ä»å·¦å¾€å³è¯»å’Œä»å³å¾€å·¦è¯»æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å›æ–‡ //é»„å±±è½å¶æ¾å¶è½å±±é»„ s4:=\u0026#34;é»„å±±è½å¶æ¾å¶è½å±±é»„\u0026#34; s5:= make([]string, len(s4)) for i, v:= range s4 { s5[len(s4)-i-1]=string(v) //fmt.Println(i, string(v)) fmt.Println(s5) } var s6 string s6 = strings.Join(s5,\u0026#34;\u0026#34;) fmt.Println(s6) fmt.Println(s6==s4) runes:= make([]rune, 0, len(s4)) for _, rune := range s4 { runes =append(runes, rune) } fmt.Println(\u0026#34;rune[] :\u0026#34;,runes) for i := 0; i \u0026lt; len(runes)/2; i++ { if runes[i]!=runes[len(runes)-i-1] { return } } println(\u0026#34;å›æ–‡\u0026#34;) } å‡½æ•°func package main import \u0026#34;fmt\u0026#34; func main() { println(f4(1, 2, 3, 4)) } func f1() { fmt.Println(\u0026#34;hello æ²™æ²³\u0026#34;) } func f2(name string) { fmt.Println(\u0026#34;hello\u0026#34;,name) } func f3(x, y int) int { return x+y //yæ˜¯ä¸€ä¸ªå¯å˜é•¿åº¦çš„åˆ‡ç‰‡ç±»å‹ } func f4(x int, y ...int) int { sum:=x for _, v := range y { sum+=v } return sum } func f5(x, y int) (sum int) { sum = x+y return } func f6(x, y int) (x1, y1 int) { x1=x y1=y return } deferè¯­å¥ goè¯­è¨€ä¸­çš„deferè¯­å¥ä¼šå°†å…¶åé¢è·Ÿéšçš„è¯­å¥è¿›è¡Œå»¶è¿Ÿå¤„ç†ï¼Œåœ¨deferå½’å±çš„å‡½æ•°å³å°†è¿”å›æ—¶ï¼Œå°†å»¶è¿Ÿå¤„ç†çš„è¯­å¥æŒ‰ç…§deferå®šä¹‰çš„é€†åºè¿›è¡Œæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆè¢«deferçš„è¯­å¥æœ€åè¢«æ‰§è¡Œï¼Œåè¢«deferçš„è¯­å¥æœ€å…ˆè¢«æ‰§è¡Œ\ndeferæ‰§è¡Œæ—¶æœº åœ¨goè¯­è¨€çš„å‡½æ•°ä¸­ï¼Œreturnè¯­å¥åœ¨åº•å±‚å¹¶ä¸æ˜¯åŸå­æ€§æ“ä½œï¼Œä»–åˆ†ä¸ºç»™è¿”å›å€¼èµ‹å€¼å’ŒretæŒ‡ä»¤ä¸¤æ­¥ã€‚è€Œdeferè¯­å¥æ‰§è¡Œçš„å®é™…å°±æ˜¯åœ¨è¿”å›å€¼èµ‹å€¼æ“ä½œåï¼ŒretæŒ‡ä»¤æ‰§è¡Œå‰ï¼Œå…·ä½“å¦‚å›¾\nimage-20210731151015069\rpackage main import \u0026#34;fmt\u0026#34; //goè¯­è¨€ä¸­çš„å‡½æ•°çš„returnä¸æ˜¯åŸå­æ“ä½œï¼Œåœ¨åº•å±‚æ˜¯åˆ†ä¸ºä¸¤æ­¥æ¥æ‰§è¡Œ //ç¬¬ä¸€æ­¥ï¼šè¿”å›å€¼èµ‹å€¼ //ç¬¬äºŒæ­¥ï¼šçœŸæ­£çš„returnè¿”å› //å‡½æ•°ä¸­å¦‚æœå­˜åœ¨deferï¼Œé‚£ä¹ˆdeferæ‰§è¡Œçš„æ—¶æœºæ˜¯åœ¨ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ä¹‹é—´ func main() { fmt.Println(f1()) //5 fmt.Println(f2()) //6 fmt.Println(f3()) //5 fmt.Println(f3_1()) //[100 2] } func f1() int { x :=5 defer func() { x++ //ä¿®æ”¹çš„æ˜¯xä¸æ˜¯è¿”å›å€¼ }() return x } func f2() (x int) { defer func() { x++ }() return 5 //è¿”å›å€¼æ˜¯x xåˆ++äº† æ‰€ä»¥è¿”å›6 } func f3() (y int) { x:=5 defer func() { x++ //æ˜¯å› ä¸ºintæ˜¯å€¼ç±»å‹ æ‰€ä»¥yæ˜¯æ‹·è´å€¼è€Œä¸æ˜¯æ‹·è´åœ°å€çš„åŸå› å— }() return x } func f3_1() (y []int) { x:=[]int{1,2} defer func() { x[0]=100 //å› ä¸º[]int åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ æ‰€ä»¥yæ‹·è´çš„æ˜¯åœ°å€è€Œä¸æ˜¯å€¼ }() return x } func f4() (x int) { defer func(x int) { x++ //æ”¹å˜çš„æ˜¯å‡½æ•°çš„å‰¯æœ¬ }(x) //(x)ä»£è¡¨çš„æ˜¯ä¼ å…¥å‚æ•° return 5 } å˜é‡ å…¨å±€å˜é‡ å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡åˆåˆ†ä¸ºä¸¤ç§ï¼Œå‡½æ•°å†…å®šä¹‰çš„å˜é‡æ— æ³•åœ¨è¯¥å‡½æ•°å¤–ä½¿ç”¨\nå¦‚æœå±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡é‡åï¼Œä¼˜å…ˆè®¿é—®å±€éƒ¨å˜é‡\nè¯­å¥å—ä½œç”¨åŸŸ å‡½æ•°ç±»å‹å’Œå˜é‡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ç±»å‹\ntype calculation func(int,int) int å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œè¿™ç§å‡½æ•°æ¥æ”¶ä¸¤ä¸ªintç±»å‹çš„å‚æ•°å¹¶ä¸”è¿”å›ä¸€ä¸ªintç±»å‹çš„è¿”å›å€¼\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Printf(\u0026#34;%T \\n\u0026#34;,f1) fmt.Printf(\u0026#34;%T \\n\u0026#34;,f2) fmt.Printf(\u0026#34;%T \\n\u0026#34;,f3) f3(f2) a := f4(f2) fmt.Printf(\u0026#34;%T\\n\u0026#34;,a) } func f1() { fmt.Println(\u0026#34;hello æ²™æ²³\u0026#34;) } func f2() int { return 5 } //å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°çš„ç±»å‹ func f3(x func() int) { fmt.Println(x()) } //å‡½æ•°è¿˜å¯ä»¥ä½œä¸ºè¿”å›å€¼çš„ç±»å‹ func f4(x func() int) func(int,int) int { return f5 } func f5(x, y int) int { return x+y } ä»Šæ—¥å†…å®¹ å‡½æ•° å‡½æ•°çš„å®šä¹‰ åŸºæœ¬æ ¼å¼ å‚æ•°çš„æ ¼å¼\næœ‰å‚æ•°çš„å‡½æ•°\nå‚æ•°ç±»å‹ç®€å†™\nå¯å˜å‚æ•°\nè¿”å›å€¼çš„æ ¼å¼ æœ‰è¿”å›å€¼\næ— è¿”å›å€¼\nå‘½åè¿”å›å€¼\nå˜é‡çš„ä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸ å…ˆåœ¨å‡½æ•°å†…éƒ¨æ‰¾å˜é‡ï¼Œæ‰¾ä¸åˆ°å¾€å¤–å±‚æ‰¾ å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¤–éƒ¨è®¿é—®ä¸åˆ° ä»£ç å—ä½œç”¨åŸŸ é«˜é˜¶å‡½æ•° å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œå®ƒå¯ä»¥ä½œä¸ºä¸€ç§å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼\nåŒ¿åå‡½æ•° æ²¡æœ‰åå­—çš„å‡½æ•°\npackage main import \u0026#34;fmt\u0026#34; func main() { println(a(10)) //ä½†æ˜¯é€šå¸¸åŒ¿åå‡½æ•°ä¸æ˜¯è¿™ä¹ˆç”¨çš„ é€šå¸¸æ˜¯ç”±äºå‡½æ•°å†…éƒ¨ä¸å…è®¸å®šä¹‰å‡½æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°ç°å†™ç°ç”¨ a:= func(x,y int) int { return x+y } println(a(10, 20)) //å¦‚æœåªæ˜¯è°ƒç”¨ä¸€æ¬¡çš„å‡½æ•°ï¼Œè¿˜å¯ä»¥ç®€å†™æˆç«‹å³æ‰§è¡Œå‡½æ•° i := func(x, y int) int { return x * y }(10, 20) fmt.Println(i) } var a = func (x int) int { return x } é—­åŒ… package main import \u0026#34;fmt\u0026#34; func main() { f1(f3(1,2)) f1(f4(1, 2)) f1(f5(f2,1,2)) } func f1(f func()) { fmt.Println(\u0026#34;this is f1\u0026#34;) f() } func f2(x, y int) { fmt.Println(\u0026#34;this is f2\u0026#34;) fmt.Println(x+y) } //å¦‚ä½•è®©f1è°ƒç”¨çš„æ—¶å€™æ‰§è¡Œf2 ä¹Ÿå°±æ˜¯ä¸¤ä¸ªåŒäº‹å†™çš„ä»£ç ç›¸äº’å…¼å®¹ //ç”±äºf1çš„å½¢å‚æ˜¯ä¸€ä¸ªæ— å½¢å‚æ— è¿”å›å€¼çš„å‡½æ•°ç±»å‹ï¼Œå› æ­¤éœ€è¦æ„é€ ä¸€ä¸ªå‡½æ•°ï¼Œè®©å…¶è¿”å›å€¼æ˜¯æ— å½¢å‚æ— è¿”å›å€¼çš„å‡½æ•°ç±»å‹f3 //å½“ç„¶ä¸ºäº†å…¼å®¹f2ï¼Œf3çš„å½¢å‚éœ€è¦å’Œf2çš„å½¢å‚ç›¸åŒ¹é…ï¼Œè¿™æ ·ä¸€æ¥åœ¨æ‰§è¡Œf3çš„æ—¶å€™ï¼Œå†…éƒ¨è°ƒç”¨äº†f2ï¼Œå¹¶ä¸”è¿”å›ç±»å‹æ»¡è¶³f1æ‰€éœ€ func f3(x,y int) func() { func(x,y int) { f2(x,y) }(x,y) return func() { } } func f4(x, y int) func() { return func() { f2(x,y) } } func f5(f func(int, int), x, y int) func() { //æŠŠåŸæ¥éœ€è¦ä¼ é€’ä¸¤ä¸ªintç±»å‹çš„å‚æ•°åŒ…è£…æˆä¸€ä¸ªä¸éœ€è¦ä¼ å‚çš„å‡½æ•° return func() { f(x,y) } } é—­åŒ…=å‡½æ•° + å¤–éƒ¨å˜é‡çš„å¼•ç”¨\npackage main import \u0026#34;fmt\u0026#34; func main() { //é—­åŒ…æ˜¯ä»€ä¹ˆ //é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åŒ…å«äº†ä»–å¤–éƒ¨ä½œç”¨åŸŸçš„ä¸€ä¸ªå˜é‡ //åº•å±‚ //1.å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼ //2.å‡½æ•°å†…éƒ¨æŸ¥æ‰¾å˜é‡çš„é¡ºåºï¼Œå…ˆåœ¨è‡ªå·±å†…éƒ¨æ‰¾ï¼Œæ‰¾ä¸åˆ°å¾€å¤–å±‚æ‰¾ ret := adder(100) i:= ret(200) fmt.Println(i) } func adder(x int) func(int) int { return func(y int) int { x +=y return x } } package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { suffixFunc:= makeSuffixFunc(\u0026#34;.jpg\u0026#34;) f := makeSuffixFunc(\u0026#34;.txt\u0026#34;) fmt.Println(suffixFunc(\u0026#34;text\u0026#34;)) fmt.Println(f(\u0026#34;text\u0026#34;)) } func makeSuffixFunc(suffix string) func(string2 string) string{ return func(name string) string { if !strings.HasSuffix(name, suffix) { return name+suffix } return name } } package main import \u0026#34;fmt\u0026#34; func main() { f, f2 := calc(10) fmt.Println(f(1),f2(2)) //11 9 fmt.Println(f(3),f2(4))\t//12 8 fmt.Println(f(5),f2(6))\t//13 7 } func calc(base int) (func(int)int ,func(int)int) { add :=func(i int)int{ base+=i return base } sub := func(i int)int{ base-=i return base } return add,sub } deferè¿›é˜¶ package main import ( \u0026#34;fmt\u0026#34; ) func main() { a:=1 b:=2 defer calc(\u0026#34;1\u0026#34;,a,calc(\u0026#34;10\u0026#34;,a,b)) a=0 defer calc(\u0026#34;2\u0026#34;,a,calc(\u0026#34;20\u0026#34;,a,b)) b=1 //deferä¼šå…ˆæŠŠé¢„å®šçš„å€¼å…ˆç®—å‡ºæ¥ç­‰ç€æœ€åæ‰§è¡Œå‡½æ•° //defer calc(\u0026#34;1\u0026#34;,1,calc(\u0026#34;10\u0026#34;,1,2)) //è¾“å‡º \u0026#34;10\u0026#34; 1 2 3 //defer calc(\u0026#34;1\u0026#34;,1,3) //a=0 //defer calc(\u0026#34;2\u0026#34;,1,calc(\u0026#34;20\u0026#34;,0,2)) //è¾“å‡º \u0026#34;20\u0026#34; 0 2 2 //defer calc(\u0026#34;2\u0026#34;,0,2) //b=1 //ç¨‹åºé€€å‡º //æ‰§è¡Œ defer calc(\u0026#34;2\u0026#34;,0,2) //è¾“å‡º \u0026#34;2\u0026#34; 0 2 2 //æ‰§è¡Œ defer calc(\u0026#34;1\u0026#34;,1,3) //è¾“å‡º \u0026#34;1\u0026#34; 1 3 4 } func calc(index string, a, b int) int { ret :=a+b fmt.Println(index,a,b,ret) return ret } å†…ç½®å‡½æ•°ä»‹ç» close ä¸»è¦ç”¨æ¥å…³é—­channel\nlen ç”¨æ¥æ±‚é•¿åº¦ string array slice map channel\nnew ç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å€¼ç±»å‹ï¼Œæ¯”å¦‚int struct è¿”å›çš„æ˜¯æŒ‡é’ˆ\nmake ç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚chan map slice\nappend ç”¨æ¥è¿½åŠ å…ƒç´ åˆ°æ•°ç»„ sliceä¸­\npanicå’Œrecover ç”¨æ¥åšé”™è¯¯å¤„ç†\npanic/recover goè¯­è¨€ä¸­ç›®å‰æ˜¯æ²¡æœ‰å¼‚å¸¸æœºåˆ¶çš„ï¼Œä½†æ˜¯ä½¿ç”¨panic/recoveræ¨¡å¼æ¥å¤„ç†é”™è¯¯ã€‚panicå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•å‘ï¼Œä½†recoveråªæœ‰åœ¨deferè°ƒç”¨çš„å‡½æ•°ä¸­æœ‰æ•ˆã€‚\nç¨‹åºè¿è¡ŒæœŸé—´funcBå¦‚æœå¼•å‘äº†panicå¯¼è‡´çš„ç¨‹åºå´©æºƒï¼Œå¼‚å¸¸é€€å‡ºäº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡recoverå°†ç¨‹åºæ¢å¤å›æ¥ï¼Œç»§ç»­å¾€åæ‰§è¡Œã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { A() B() C() } func A() { fmt.Println(\u0026#34;A\u0026#34;) } func B() { //å‡è®¾æ­¤æ—¶æ‰“å¼€äº†ä¸ªæ•°æ®åº“è¿æ¥ defer func() { error := recover() fmt.Println(error) fmt.Println(\u0026#34;è¦å°è¯•åœ¨å‡ºé”™çš„æ—¶å€™é‡Šæ”¾æ•°æ®åº“è¿æ¥...\u0026#34;) }() panic(\u0026#34;fatal error!\u0026#34;) //ç¨‹åºå¥”æºƒé€€å‡º fmt.Println(\u0026#34;B\u0026#34;) } func C() { fmt.Println(\u0026#34;C\u0026#34;) } æ³¨æ„ï¼š\nrecoverå¿…é¡»æ­é…deferä½¿ç”¨ deferä¸€å®šè¦åœ¨å¯èƒ½å¼•å‘panicçš„è¯­å¥ä¹‹å‰å®šä¹‰ goè¯­è¨€fmt.printfä½¿ç”¨æŒ‡å— fmt fmtåŒ…å®ç°äº†ç±»ä¼¼Cè¯­è¨€printfå’Œscanfçš„æ ¼å¼åŒ–I/O ä¸»è¦åˆ†ä¸ºå‘å¤–è¾“å‡ºå†…å®¹å’Œè·å–è¾“å…¥å†…å®¹ä¸¤å¤§éƒ¨åˆ†\nå‘å¤–è¾“å‡º print ç›´æ¥è¾“å‡º\nprintlnè¾“å‡ºå¸¦æ¢è¡Œç¬¦\nprintfæ ¼å¼åŒ–è¾“å‡º\nå ä½ç¬¦ è¯´æ˜ %v å€¼çš„é»˜è®¤æ ¼å¼ %+v ç±»ä¼¼%v,ä½†è¾“å‡ºç»“æ„ä½“æ—¶ä¼šæ·»åŠ å­—æ®µå %#v å€¼çš„goè¯­æ³•è¡¨ç¤º %T æ‰“å°å€¼çš„ç±»å‹ %% ç™¾åˆ†å· %t å¸ƒå°”å€¼ %b å¯¹äºæ•´å‹è€Œè¨€ï¼Œæ˜¯äºŒè¿›åˆ¶æ•°ï¼Œå¯¹äºæµ®ç‚¹æ•°è€Œè¨€ï¼Œæ˜¯äºŒè¿›åˆ¶æŒ‡æ•°çš„ç§‘å­¦è®¡æ•°æ³• %c %d %o %x %X %U %q %e ç§‘å­¦è®¡æ•°æ³• %E ç§‘å­¦è®¡æ•°æ³• %f %F %g æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%eæˆ–%fæ ¼å¼ï¼ˆä»¥è·å¾—æ›´ç®€æ´ã€å‡†ç¡®çš„è¾“å‡ºï¼‰ %G %s %q %x æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—ç¬¦åå…­è¿›åˆ¶æ•°è¡¨ç¤º %9f å®½åº¦9ï¼Œé»˜è®¤ç²¾åº¦ %9.2f å®½åº¦9ï¼Œç²¾åº¦2 %5.2s ä¸€å…±5ä¸ª ä¿ç•™2ä¸ª %-5s æœ‰ç©ºæ ¼è¡¥åœ¨å‰é¢ è·å–è¾“å…¥ fmt.scan fmt.scanf fmt.scanln\nscanä»æ ‡å‡†è¾“å…¥æ‰«ææ–‡æœ¬ï¼Œè¯»å–ç”±ç©ºç™½ç¬¦åˆ†å‰²çš„å€¼ä¿å­˜åˆ°ä¼ é€’ç»™æœ¬å‡½æ•°çš„å‚æ•°ä¸­ï¼Œæ¢è¡Œç¬¦è§†ä¸ºç©ºç™½ç¬¦ æœ¬å‡½æ•°è¿”å›æˆåŠŸæ‰«æçš„æ•°æ®ä¸ªæ•°å’Œé‡åˆ°çš„ä»»ä½•é”™è¯¯ï¼Œå¦‚æœè¯»å–çš„æ•°æ®ä¸ªæ•°æ¯”æä¾›çš„å‚æ•°å°‘ï¼Œä¼šè¿”å›ä¸€ä¸ªé”™è¯¯æŠ¥å‘ŠåŸå›  sprint\nsprintç³»åˆ—å‡½æ•°ä¼šæŠŠä¼ å…¥çš„æ•°æ®ç”Ÿæˆå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Print(\u0026#34;hello world\u0026#34;) fmt.Println(\u0026#34;hello world\u0026#34;) fmt.Printf(\u0026#34;%p\u0026#34;,\u0026#34;helloworld\u0026#34;) //%d åè¿›åˆ¶ //%v å€¼ //%o å…«è¿›åˆ¶ //%x åå…­è¿›åˆ¶ //%T ç±»å‹ //%s å­—ç¬¦ä¸² //%p æŒ‡é’ˆ //%b äºŒè¿›åˆ¶ //%c å­—ç¬¦s //%f æµ®ç‚¹æ•° //%t å¸ƒå°”å€¼ fmt.Println() var m map[string]int m= make(map[string]int) m[\u0026#34;ljs\u0026#34;]=98 fmt.Printf(\u0026#34;%v\\n\u0026#34;,m) fmt.Printf(\u0026#34;%#v\\n\u0026#34;,m) fmt.Printf(\u0026#34;%q\\n\u0026#34;,65) printfPersentage(98) fmt.Printf(\u0026#34;%b\\n\u0026#34;,5.6) n:=12.34 fmt.Printf(\u0026#34;%f\\n\u0026#34;,n) fmt.Printf(\u0026#34;%9f\\n\u0026#34;,n) fmt.Printf(\u0026#34;%.2f\\n\u0026#34;,n) fmt.Printf(\u0026#34;%9.2f\\n\u0026#34;,n) fmt.Printf(\u0026#34;%9.f\\n\u0026#34;,n) s:=\u0026#34;å°ç‹å­\u0026#34; fmt.Printf(\u0026#34;%s\\n\u0026#34;,s) fmt.Printf(\u0026#34;%5s\\n\u0026#34;,s) fmt.Printf(\u0026#34;%-5s\\n\u0026#34;,s) fmt.Printf(\u0026#34;%5.7s\\n\u0026#34;,s) fmt.Printf(\u0026#34;%-5.7s\\n\u0026#34;,s) //ä¸€å…±5ä¸ª åªç•™2ä¸ª fmt.Printf(\u0026#34;%5.2s\\n\u0026#34;,s) fmt.Printf(\u0026#34;%05s\\n\u0026#34;,s) var s1 string fmt.Scan(\u0026amp;s1) fmt.Println(s1) var ( name string age int class string ) //fmt.Scanf(\u0026#34;%s %d %s\\n\u0026#34;,\u0026amp;name,\u0026amp;age,\u0026amp;class) fmt.Printf(\u0026#34;%s %d %s\\n\u0026#34;,name,age,class) fmt.Scanln(\u0026amp;name,\u0026amp;age,\u0026amp;class) fmt.Printf(\u0026#34;%s %d %s\\n\u0026#34;,name,age,class) } func printfPersentage(a int) { fmt.Printf(\u0026#34;%d%%\\n\u0026#34;,a) } ä»Šæ—¥éš¾ç‚¹ å‡½æ•°çš„å®šä¹‰ é«˜é˜¶å‡½æ•° å‡½æ•°ç±»å‹ é—­åŒ… defer panic/recover image-20210802002337782\rç»“æ„ä½“ struct æ–¹æ³•\nå®é™…ä¸Šç±»ä¼¼äºç±»\nå†…å®¹å›é¡¾ å‡½æ•°çš„å®šä¹‰\nfunc name () è¿”å›å€¼ {}\nå‡½æ•°è¿›é˜¶\nâ€‹\té«˜é˜¶å‡½æ•°ï¼šå‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼\nâ€‹\té—­åŒ…ï¼šå‡½æ•°å’Œå…¶å¤–éƒ¨å˜é‡çš„å¼•ç”¨\nâ€‹\tdeferï¼šå»¶è¿Ÿè°ƒç”¨ å¤šç”¨äºå¤„ç†èµ„æºé‡Šæ”¾\nâ€‹\tå†…ç½®å‡½æ•°ï¼š\nâ€‹\tpanic/recover é€’å½’ package main import \u0026#34;fmt\u0026#34; func main() { //é€’å½’:è‡ªå·±è°ƒç”¨è‡ªå·± //é€’å½’é€‚åˆå¤„ç†é‚£ç§é—®é¢˜ç›¸åŒä½†æ˜¯è§„æ¨¡è¶Šæ¥è¶Šå°çš„åœºæ™¯ //é€’å½’ä¸€å®šè¦æœ‰ä¸€ä¸ªæ˜ç¡®çš„é€€å‡ºæ¡ä»¶ println(Factorial(7)) fmt.Println(taijie(4)) } func Factorial(n int) (result int) { if n == 1 { return 1 } else{ result =n * Factorial(n-1) return } } //ä¸Šå°é˜¶é¢è¯•é¢˜ //nä¸ªå°é˜¶ ä¸€æ¬¡å¯ä»¥èµ°1æ­¥ ä¸€æ¬¡å¯ä»¥èµ°2æ­¥ æœ‰å¤šå°‘ç§èµ°æ³• func taijie(n int) (result int) { if n == 1 { result =1 //å¦‚æœåªæœ‰1ä¸ªå°é˜¶å°±ä¸€ç§èµ°æ³• return }else if n == 2 { return 2 } return taijie(n-1)+taijie(n-2) } è‡ªå®šä¹‰ç±»å‹å’Œç±»å‹åˆ«å åœ¨goè¯­è¨€ä¸­æœ‰ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚string bool int floatç­‰æ•°æ®ç±»å‹ï¼Œgoè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ¥å®šä¹‰è‡ªå®šä¹‰ç±»å‹\nè‡ªå®šä¹‰ç±»å‹æ˜¯å®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºå†…ç½®çš„åŸºæœ¬ç±»å‹å®šä¹‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡structå®šä¹‰\nç±»å‹åˆ«åè§„å®štypealiasåªæ˜¯typeçš„åˆ«åï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç±»å‹ï¼Œè¿™äº›åå­—éƒ½æŒ‡å‘ä¸€ä¸ªç±»å‹\nåŒºåˆ« ï¼š è‡ªå®šä¹‰ç±»å‹ç¼–è¯‘åç±»å‹æ˜¯è‡ªå®šä¹‰çš„ ç±»å‹åˆ«ååªä¼šåœ¨ä»£ç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘å®Œæˆåªä¼šæœ‰åŸç±»å‹\nimage-20210806225811170\rpackage main import \u0026#34;fmt\u0026#34; //typeåé¢è·Ÿçš„æ˜¯ç±»å‹ type myInt int //è‡ªå®šä¹‰ç±»å‹ type yourInt = int //ç±»å‹åˆ«å func main() { //è‡ªå®šä¹‰ç±»å‹å’Œç±»å‹åˆ«å var n myInt n = 100 fmt.Println(n) fmt.Printf(\u0026#34;%T\\n\u0026#34;,n) var m yourInt m = 100 fmt.Println(m) fmt.Printf(\u0026#34;%T\\n\u0026#34;,m) var r rune r = \u0026#39;ä¸­\u0026#39; fmt.Printf(\u0026#34;%c\\n\u0026#34;,r) fmt.Printf(\u0026#34;%T\\n\u0026#34;,r) } ç»“æ„ä½“ goè¯­è¨€ä¸­æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œä¹Ÿä¸æ”¯æŒç±»çš„ç»§æ‰¿ç­‰é¢å‘å¯¹è±¡çš„æ¦‚å¿µã€‚goè¯­è¨€ä¸­é€šè¿‡ç»“æ„ä½“çš„å†…åµŒå†é…åˆæ¥å£æ¯”é¢å‘å¯¹è±¡å…·æœ‰æ›´é«˜çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚\ngoè¯­è¨€ä¸­çš„åŸºç¡€æ•°æ®ç±»å‹å¯ä»¥è¡¨ç¤ºä¸€äº›äº‹åŠ¡çš„åŸºæœ¬å±æ€§ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³è¡¨è¾¾ä¸€ä¸ªäº‹åŠ¡çš„å…¨éƒ¨æˆ–è€…éƒ¨åˆ†å±æ€§æ—¶ï¼Œè¿™æ—¶å€™å†ç”¨ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹æ˜æ˜¾å°±æ— æ³•æ»¡è¶³éœ€æ±‚äº†ï¼Œgoè¯­è¨€æä¾›äº†ä¸€ç§è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¯ä»¥å°è£…å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ç§æ•°æ®ç±»å‹å«ç»“æ„ä½“ï¼Œè‹±æ–‡åç§°struct ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡structæ¥å®šä¹‰è‡ªå·±çš„ç±»å‹\ngoè¯­è¨€ä¸­é€šè¿‡structæ¥å®ç°é¢å‘å¯¹è±¡\nç»“æ„ä½“çš„å®šä¹‰ ä½¿ç”¨typeå’Œstructå…³é”®å­—æ¥å®šä¹‰ç»“æ„ä½“\npackage main import \u0026#34;fmt\u0026#34; //ç»“æ„ä½“ type person struct { name string age int hobby []string gender string } func main() { //å£°æ˜ä¸€ä¸ªpersonç±»å‹çš„å˜é‡ var f person //é€šè¿‡å­—æ®µèµ‹å€¼ f.gender = \u0026#34;ç”·\u0026#34; f.hobby = make([]string,10) f.hobby[0] =\u0026#34;football\u0026#34; f.hobby[1] =\u0026#34;basketball\u0026#34; f.age = 18 f.name = \u0026#34;ljs\u0026#34; fmt.Println(f) fmt.Printf(\u0026#34;%T\\n\u0026#34;,f) fmt.Println(f.hobby) var f1 person f1.name = \u0026#34;jwt\u0026#34; fmt.Println(f1) } //åŒ¿åç»“æ„ä½“ å¤šç”¨äºä¸´æ—¶åœºæ™¯ s := struct { name string age int }{age: 18,name: \u0026#34;fyz\u0026#34;} fmt.Println(s) var s1 = struct { name string sex int }{sex : 1,name:\u0026#34;lje\u0026#34;} fmt.Println(s1) ç»“æ„ä½“æ˜¯å€¼ç±»å‹\nåœ¨Goè¯­è¨€ä¸­åªå­˜åœ¨å€¼ä¼ é€’ï¼ˆè¦ä¹ˆæ˜¯è¯¥å€¼çš„å‰¯æœ¬ï¼Œè¦ä¹ˆæ˜¯æŒ‡é’ˆçš„å‰¯æœ¬ï¼‰ï¼Œä¸å­˜åœ¨å¼•ç”¨ä¼ é€’ã€‚ä¹‹æ‰€ä»¥å¯¹äºå¼•ç”¨ç±»å‹çš„ä¼ é€’å¯ä»¥ä¿®æ”¹åŸå†…å®¹æ•°æ®ï¼Œæ˜¯å› ä¸ºåœ¨åº•å±‚é»˜è®¤ä½¿ç”¨è¯¥å¼•ç”¨ç±»å‹çš„æŒ‡é’ˆè¿›è¡Œä¼ é€’ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä½¿ç”¨æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œä¾æ—§æ˜¯å€¼ä¼ é€’ã€‚ image-20210807001149451\råˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“ å–ç»“æ„ä½“åœ°å€å®ä¾‹åŒ– ç»“æ„ä½“åˆå§‹åŒ– ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ– ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ– package main import ( \u0026#34;fmt\u0026#34; ) type person struct { name string sex string } func main() { //ç»“æ„ä½“æ˜¯å€¼ç±»å‹ p :=person{ name: \u0026#34;ljs\u0026#34;, sex: \u0026#34;ç”·\u0026#34;, } fmt.Println(p) var p1 person p1.name =\u0026#34;lje\u0026#34; p1.sex = \u0026#34;nan\u0026#34; var p2 person p2 = p1 p2.name =\u0026#34;fyz\u0026#34; fmt.Println(p2) fmt.Println(p1) func(x person){ x.sex = \u0026#34;å¥³\u0026#34; //ä¼ çš„æ˜¯å€¼ }(p2) fmt.Println(p2) func(x *person){ (*x).sex = \u0026#34;nv\u0026#34; //ä¼ çš„æ˜¯åœ°å€ //x.sex = \u0026#34;nv\u0026#34; //è¯­æ³•ç³– ä¸€æ ·çš„åŒä¸Š }(\u0026amp;p2) fmt.Println(p2) //åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„person var p3 = new (person) //new è¿”å›çš„æ˜¯æŒ‡é’ˆåœ°å€ è¿™ä¸ªç±»å‹ p3.sex = \u0026#34;nan\u0026#34; (*p3).name = \u0026#34;www\u0026#34; //è¯­æ³•ç³– ä¸€æ ·çš„åŒä¸Š fmt.Println(p3) fmt.Printf(\u0026#34;%T\\n\u0026#34;,p3) fmt.Printf(\u0026#34;%p\\n\u0026#34;,p3) //è¿”å›çš„æ˜¯è¿™ä¸ªæŒ‡é’ˆçš„å€¼ p3ä¿å­˜çš„å€¼å°±æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€ fmt.Printf(\u0026#34;%v\\n\u0026#34;,p3) fmt.Printf(\u0026#34;%T\\n\u0026#34;,\u0026amp;p3) fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;p3) //è¿”å›çš„æ˜¯è¿™ä¸ªæŒ‡é’ˆç±»å‹çš„å€¼çš„åœ°å€ //key value åˆå§‹åŒ– var p4 =\u0026amp;person{ name: \u0026#34;lll\u0026#34;, } fmt.Println(p4) //ä½¿ç”¨å€¼ åˆ—è¡¨çš„å½¢å¼åˆå§‹åŒ– é¡ºåºä¿æŒä¸€è‡´ p5:=person{ \u0026#34;nv\u0026#34;, \u0026#34;slkdjf\u0026#34;, } fmt.Println(p5) } package main import \u0026#34;fmt\u0026#34; func main() { var a int a = 100 b := \u0026amp;a fmt.Printf(\u0026#34;%T %p\\n\u0026#34;,\u0026amp;a,\u0026amp;a) fmt.Printf(\u0026#34;%T %p\\n\u0026#34;,b,b) //bçš„å€¼ fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,b,b) //bçš„å€¼ fmt.Printf(\u0026#34;%T %p\\n\u0026#34;,\u0026amp;b,\u0026amp;b) //bçš„å†…å­˜åœ°å€ } ç»“æ„ä½“çš„å†…å­˜å¸ƒå±€ å ç”¨è¿ç»­å†…å­˜\npackage main import \u0026#34;fmt\u0026#34; type x struct { a ,b ,c int8 } func main() { //ç»“æ„ä½“å ç”¨ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ x :=x{ a: 10, b: 20, c: 30, } fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;(x.a)) fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;(x.b)) fmt.Printf(\u0026#34;%p\\n\u0026#34;,\u0026amp;(x.c)) } ç»“æ„ä½“æ˜¯å€¼ç±»å‹ èµ‹å€¼çš„æ—¶å€™æ˜¯æ‹·è´\næ„é€ å‡½æ•°ï¼šè¿”å›ä¸€ä¸ªç»“æ„ä½“å˜é‡çš„å‡½æ•°\næ„é€ å‡½æ•°å’Œæ–¹æ³•\næ–¹æ³•å’Œæ¥æ”¶è€… goè¯­è¨€ä¸­çš„æ–¹æ³•methodæ˜¯ä¸€ç§ä½œç”¨äºç‰¹å®šç±»å‹å˜é‡çš„å‡½æ•°ã€‚è¿™ç§ç‰¹å®šç±»å‹å˜é‡å«åšæ¥æ”¶è€…receiver æ¥æ”¶è€…çš„æ¦‚å¿µå°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„thisæˆ–è€…self\nfunc (æ¥æ”¶è€…å˜é‡ æ¥æ”¶è€…ç±»å‹) æ–¹æ³•å(å‚æ•°åˆ—è¡¨) (è¿”å›å‚æ•°) { å‡½æ•°ä½“ } package main import \u0026#34;fmt\u0026#34; //æ ‡è¯†ç¬¦ï¼šå˜é‡åã€å‡½æ•°åã€ç±»å‹åã€æ–¹æ³•é“­ //goè¯­è¨€ä¸­å¦‚æœæ ‡è¯†ç¬¦é¦–å­—æ¯æ˜¯å¤§å†™çš„ï¼Œå°±è¡¨ç¤ºå¯¹å¤–éƒ¨åŒ…å¯è§ï¼ˆæš´éœ²çš„ï¼Œå…¬æœ‰çš„ï¼‰ //Dog è¿™æ˜¯ä¸€ä¸ªç‹—çš„ç»“æ„ä½“æ³¨é‡Š type Dog struct { name string } func newDog(name string) Dog { return Dog{ name: name, } } type person struct { name string age int } func newPerson(name string, age int) person { return person{ name: name, age: age, } } //æ–¹æ³•æ˜¯ä½œç”¨äºç‰¹å®šç±»å‹çš„å‡½æ•° //æ¥å—è€…è¡¨ç¤ºçš„æ˜¯è°ƒç”¨è¯¥æ–¹æ³•çš„å…·ä½“ç±»å‹å˜é‡ï¼Œå¤šç”¨ç±»å‹å˜é‡é¦–å­—æ¯å°å†™è¡¨ç¤º func (d Dog) wangwang() { fmt.Println(d.name+\u0026#34;æ±ªæ±ªæ±ª\u0026#34;) } //ä½¿ç”¨å€¼æ¥æ”¶è€…ï¼šä¼ æ‹·è´è¿›å» func (p person) guonian() { p.age++ } //æ“ä½œæŒ‡é’ˆ æŒ‡é’ˆæ¥æ”¶è€…ï¼šä¼ åœ°å€è¿›å» func (p *person) guonian1() { (*p).age++ } func main() { newDog(\u0026#34;jwt\u0026#34;).wangwang() p := newPerson(\u0026#34;ljs\u0026#34;, 18) fmt.Println(p.age) p.guonian() fmt.Println(p.age) p1:=newPerson(\u0026#34;jwt\u0026#34;,19) fmt.Println(p1.age) p1.guonian1() fmt.Println(p1.age) } ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€… éœ€è¦ä¿®æ”¹æ¥æ”¶è€…ä¸­çš„å€¼ æ¥æ”¶è€…æ˜¯æ‹·è´ä»£ä»·æ¯”è¾ƒå¤§çš„å¤§å¯¹è±¡ ä¿è¯ä¸€è‡´æ€§ï¼Œå¦‚æœæœ‰æŸä¸ªæ–¹æ³•ä½¿ç”¨äº†æŒ‡é’ˆæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå…¶ä»–çš„æ–¹æ³•ä¹Ÿåº”è¯¥ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³• package main import \u0026#34;fmt\u0026#34; //ç»™è‡ªå®šä¹‰ç±»å‹æ·»åŠ æ–¹æ³• //ä¸èƒ½ç»™åˆ«çš„åŒ…é‡Œé¢çš„ç±»å‹æ·»åŠ æ–¹æ³•ï¼Œåªèƒ½ç»™è‡ªå·±çš„åŒ…é‡Œçš„ç±»å‹æ·»åŠ æ–¹æ³• type myInt int func (i myInt) hello() { fmt.Println(\u0026#34;this is a int\u0026#34;+(string(i))) } func main() { var i myInt i= 10 i.hello() } ç»“æ„ä½“çš„åŒ¿åå­—æ®µ package main import \u0026#34;fmt\u0026#34; //åŒ¿åå­—æ®µ type person struct { string int } func main() { a:=person{ \u0026#34;ljs\u0026#34;, 10, } fmt.Println(a.string) fmt.Println(a.int) } ç»“æ„ä½“åµŒå¥— å®é™…ä¸Šå°±æ˜¯åŒ…å«å…³ç³»æˆ–è€…ç»§æ‰¿å˜›æ„Ÿè§‰\nåŒ¿ååµŒå¥—ç»“æ„ä½“ åŒ¿ååµŒå¥—ç»“æ„ä½“çš„å­—æ®µå†²çª\npackage main import \u0026#34;fmt\u0026#34; type person struct { name string age int addr address } type company struct { name string address //åŒ¿ååµŒå¥—ç»“æ„ä½“ å¯ä»¥ç›´æ¥æ‹¿åˆ°åŒ¿åç»“æ„ä½“é‡Œé¢çš„å­—æ®µ } type address struct { province string city string } func main() { p1:=person{ name: \u0026#34;ljs\u0026#34;, age: 18, addr: address{city: \u0026#34;fuzhou\u0026#34;,province: \u0026#34;fujian\u0026#34;}, } fmt.Println(p1.addr.province) c1:=company{ name: \u0026#34;alibaba\u0026#34;, address: address{province: \u0026#34;zhejiang\u0026#34;,city: \u0026#34;hangzhou\u0026#34;}, } fmt.Println(c1.city) //å…ˆåœ¨è‡ªå·±ç»“æ„ä½“æ‰¾è¿™ä¸ªå­—æ®µ æ‰¾ä¸åˆ°å°±å»åŒ¿ååµŒå¥—çš„ç»“æ„ä½“ä¸­æŸ¥æ‰¾è¯¥å­—æ®µ } ç»“æ„ä½“çš„â€œç»§æ‰¿â€ goè¯­è¨€ä¸­ä½¿ç”¨ç»“æ„ä½“ä¹Ÿå¯ä»¥å®ç°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­é¢å‘å¯¹è±¡çš„ç»§æ‰¿\npackage main import \u0026#34;fmt\u0026#34; type animal struct { name string } func (a animal) move() { fmt.Println(string(a.name)+\u0026#34;ä¼šåŠ¨\u0026#34;) } type dog struct { feet byte animal } func (d dog) wang() { fmt.Println(d.name+\u0026#34;wangwangwang\u0026#34;) } func newDog(a animal, feet byte) dog { return dog{ feet,a, } } func newAnimal(name string) animal { return animal{name:name} } func main() { //ç»“æ„ä½“æ¨¡æ‹Ÿå®ç°å…¶ä»–è¯­è¨€ä¸­çš„ç»§æ‰¿ newDog(newAnimal(\u0026#34;jwt\u0026#34;),4).wang() d1:=dog{ 4, animal{name: \u0026#34;ljs\u0026#34;}, } d1.move() //åªèƒ½åŒ¿ååµŒå¥—ç»“æ„ä½“æ‰èƒ½å®ç°ç±»ä¼¼äºç»§æ‰¿çš„æ•ˆæœ å¦‚æœæœ‰åå­—å¥½åƒå°±è°ƒç”¨ä¸äº† } ç»“æ„ä½“ä¸json package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) func main() { //ç»“æ„ä½“ä¸json //1.åºåˆ—åŒ– æŠŠgoè¯­è¨€ä¸­çš„ç»“æ„ä½“å˜é‡ --\u0026gt; jsonæ ¼å¼çš„å­—ç¬¦ä¸² //2.ååºåˆ—åŒ– æŠŠjsonæ ¼å¼çš„å­—ç¬¦ä¸² --\u0026gt; goè¯­è¨€ä¸­èƒ½å¤Ÿè¯†åˆ«çš„ç»“æ„ä½“å˜é‡ p1:=person{ Name: \u0026#34;ljs\u0026#34;, Age: 18, } //åºåˆ—åŒ– v,err:=json.Marshal(p1) if err != nil { fmt.Println(\u0026#34;marshal fail \u0026#34;) fmt.Println(err) fmt.Printf(\u0026#34;%v %T\\n\u0026#34;,err,err) return } fmt.Println(v) fmt.Printf(\u0026#34;%v %T\\n\u0026#34;,string(v),v) //ååºåˆ—åŒ– ä¼ æŒ‡é’ˆè¿›å» var v1 person err1 := json.Unmarshal(v, \u0026amp;v1) if err1 != nil { fmt.Println(err1) return } fmt.Println(v1) fmt.Println(v1.Age) fmt.Println(v1.Name) s:=`{\u0026#34;name\u0026#34;:\u0026#34;ljs\u0026#34;,\u0026#34;age\u0026#34;:18}` var v2 person //ä¼ æŒ‡é’ˆè¿›å» json.Unmarshal([]byte(s),\u0026amp;v2) fmt.Printf(\u0026#34;%#v\\n\u0026#34;,v2) } type person struct { Name string `json:\u0026#34;name\u0026#34; db:\u0026#34;dbname\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } day05å†…å®¹å›é¡¾ è‡ªå®šä¹‰ç±»å‹å’Œç±»å‹åˆ«å type myInt int è‡ªå®šä¹‰ç±»å‹ type myInt1 = int ç±»å‹åˆ«å åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ ç±»å‹åˆ«ååªåœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­æœ‰æ•ˆï¼Œç¼–è¯‘å®Œä¹‹åå°±ä¸å­˜åœ¨ï¼Œå†…ç½®çš„byteå’Œruneéƒ½å±äºç±»å‹åˆ«å\nç»“æ„ä½“ åŸºæœ¬æ•°æ®ç±»å‹ ï¼šè¡¨ç¤ºç°å®ä¸­çš„ç‰©ä½“æœ‰å±€é™æ€§\nç»“æ„ä½“æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œä¸€ç§æˆ‘ä»¬å¯ä»¥è‡ªå·±é€ çš„å¯ä»¥ä¿å­˜å¤šä¸ªç»´åº¦çš„ç±»å‹\ntype person struct{ name string age int addr address } åŒ¿åç»“æ„ä½“ å¤šç”¨äºäº†ä¸´æ—¶åœºæ™¯\nç»“æ„ä½“çš„åˆå§‹åŒ– æ„é€ å‡½æ•° æ–¹æ³•å’Œæ¥æ”¶è€… æ–¹æ³•æ˜¯æœ‰æ¥æ”¶è€…çš„å‡½æ•°ï¼Œæ¥æ”¶è€…æŒ‡çš„æ˜¯å“ªä¸ªç±»å‹çš„å˜é‡å¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°\næ¥æ”¶è€…å¯ä»¥æ˜¯æŒ‡é’ˆ ç»“æ„ä½“æ˜¯å€¼ç±»å‹\nç»“æ„ä½“çš„åµŒå¥— ç»“æ„ä½“çš„åŒ¿åå­—æ®µ JSONåºåˆ—åŒ–ä¸ååºåˆ—åŒ– ç»å¸¸å‡ºç°çš„é—®é¢˜\nç»“æ„ä½“å†…éƒ¨çš„å­—æ®µè¦å¤§å†™ ä¸ç„¶åˆ«äººæ˜¯è®¿é—®ä¸åˆ°çš„ ååºåˆ—åŒ–æ—¶è¦ä¼ é€’æŒ‡é’ˆ package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type temp struct { X int `json:\u0026#34;x\u0026#34;` Y int `json:\u0026#34;y\u0026#34;` } func main() { var a = struct { x int y int }{x:2,y: 1} fmt.Println(a) var a1 temp a1.X = 1 a1.Y = 2 a2:=temp{ X: 0, Y: 0, } fmt.Println(a2) //è°ƒç”¨æ„é€ å‡½æ•° a3:=newTemp(1,2) fmt.Println(a3) a3.dream() a3.exchange() fmt.Println(a3) marshal, err := json.Marshal(a3) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) s1:=`{\u0026#34;x\u0026#34;:2,\u0026#34;y\u0026#34;:4}` var a4 temp err1 := json.Unmarshal([]byte(s1), \u0026amp;a4) if err1 != nil { fmt.Println(err1) } fmt.Println(a4) } //æ„é€ å‡½æ•° è¿”å›å€¼æ˜¯å¯¹åº”çš„ç»“æ„ä½“ç±»å‹ func newTemp(x, y int) temp { return temp{ X: x, Y: y, } } //æ¥æ”¶è€…æ˜¯ç”¨å¯¹åº”ç±»å‹çš„é¦–å­—æ¯å°å†™ //æŒ‡å®šæ¥æ”¶è€…ä¹‹å åªæœ‰è¯¥ç±»å‹çš„å˜é‡æ‰æœ‰èµ„æ ¼è°ƒç”¨ func (t temp) dream() { fmt.Println(\u0026#34;tempä¹Ÿæœ‰æ¢¦æƒ³\u0026#34;) fmt.Println(t.X+t.Y) } //æŒ‡é’ˆæ¥æ”¶è€… //1.éœ€è¦ä¿®æ”¹ç»“æ„ä½“å˜é‡çš„å€¼æ—¶éœ€è¦ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… //2.ç»“æ„ä½“æœ¬èº«æ¯”è¾ƒå¤§ï¼Œæ‹·è´çš„å†…å­˜å¼€é”€æ¯”è¾ƒå¤§æ—¶ä¹Ÿè¦ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… //3.ä¿æŒä¸€è‡´æ€§ï¼šå¦‚æœæœ‰ä¸€ä¸ªæ–¹æ³•ä½¿ç”¨äº†æŒ‡é’ˆæ¥æ”¶è€…ï¼Œå…¶ä»–çš„æ–¹æ³•ä¸ºäº†ç»Ÿä¸€ä¹Ÿè¦ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… func (t *temp) exchange() { temp:=t.X t.X = t.Y t.Y = temp } type addr struct { city , province string } type student struct { name string addr //åŒ¿ååµŒå¥—ç»“æ„ä½“ï¼Œå°±æ˜¯ç”¨ç±»å‹åå­—ä½œä¸ºåç§° } æ¥å£interface æ¥å£æ˜¯ä¸€ç§ç±»å‹ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œä»–è§„å®šäº†å˜é‡æœ‰å“ªäº›æ–¹æ³•\nåœ¨ç¼–ç¨‹ä¸­ä¼šé‡åˆ°ä¸€ä¸‹åœºæ™¯\næˆ‘ä¸å…³å¿ƒä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæˆ‘åªå…³å¿ƒèƒ½è°ƒç”¨ä»–çš„ä»€ä¹ˆæ–¹æ³•\npackage main import \u0026#34;fmt\u0026#34; //å¼•å‡ºæ¥å£çš„å®ä¾‹ type cat struct { } type dog struct { } func (c cat) speak() { fmt.Println(\u0026#34;miaomiaomiao~\u0026#34;) } func (d dog) speak() { fmt.Println(\u0026#34;wangwangwang~\u0026#34;) } type speaker interface { speak() //åªè¦å®ç°äº†speakæ–¹æ³•çš„å˜é‡éƒ½æ˜¯speakerç±»å‹ } func fuck(a speaker) { a.speak() } func main() { c:=cat{} d:=dog{} fuck(c) fuck(d) var ss1 speaker //å®šä¹‰ä¸€ä¸ªæ¥å£ç±»å‹ ï¼šspeakerçš„å˜é‡ ss1=d ss1.speak() ss:=speaker(c) ss.speak() } æ¥å£çš„å®šä¹‰ type name interface{ methodname(å‚æ•°1ï¼Œå‚æ•°2) (è¿”å›å€¼1ï¼Œè¿”å›å€¼2) ... } ç”¨æ¥ç»™å˜é‡/å‚æ•°/è¿”å›å€¼ ç­‰è®¾ç½®ç±»å‹\næ¥å£çš„å®ç° ä¸€ä¸ªå˜é‡å¦‚æœå®ç°äº†æ¥å£ä¸­è§„å®šçš„æ‰€æœ‰çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å°±å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå¯ä»¥ç†è§£ç§°ä¸ºæ¥å£ç±»å‹çš„å˜é‡ã€‚\nimage-20210808151410287\rimage-20210808151514714\ræ¥å£ç±»å‹çš„å˜é‡ æ¥å£ç±»å‹å˜é‡èƒ½å¤Ÿå­˜å‚¨æ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„å®ä¾‹\nå€¼æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£çš„åŒºåˆ« å‰è€…å¯ä»¥ä¼ å€¼ï¼Œä¹Ÿå¯ä»¥ä¼ æŒ‡é’ˆ\nåè€…åªèƒ½ä¼ æŒ‡é’ˆ\npackage main import ( \u0026#34;fmt\u0026#34; ) //ä½¿ç”¨å€¼æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…çš„åŒºåˆ« type animal interface { move() eat(string) } type cat struct { name string feet int } ////ä½¿ç”¨å€¼æ¥æ”¶è€…å®ç°äº†æ¥å£çš„æ‰€æœ‰æ–¹æ³• //func (c cat) move() { // fmt.Println(\u0026#34;èµ°çŒ«æ­¥\u0026#34;) //} // //func (c cat) eat(a string) { // fmt.Println(\u0026#34;çŒ«åƒ\u0026#34;+a) //} //ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…å®ç°äº†æ¥å£çš„æ‰€æœ‰æ–¹æ³• func (c *cat) move() { fmt.Println(\u0026#34;èµ°çŒ«æ­¥\u0026#34;) } func (c *cat) eat(a string) { fmt.Println(\u0026#34;çŒ«åƒ\u0026#34;+a) } func main() { var a1 animal c1:=cat{ name: \u0026#34;tom\u0026#34;, feet: 4, } c2:=\u0026amp;cat{ name: \u0026#34;å‡è€ç»ƒ\u0026#34;, feet: 4, } a1=\u0026amp;c1 fmt.Println(a1) a1.eat(\u0026#34;bianbian\u0026#34;) a1=c2 fmt.Println(a1) a1.eat(\u0026#34;å¤§ä¾¿ä¾¿\u0026#34;) } ç±»å‹ä¸æ¥å£çš„å…³ç³» å¤šä¸ªç±»å‹å¯ä»¥å®ç°åŒä¸€ä¸ªæ¥å£\nä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£\næ¥å£å¯ä»¥åµŒå¥—æ¥å£\npackage main import \u0026#34;fmt\u0026#34; //æ¥å£è¿˜å¯ä»¥åµŒå¥— type animal interface { mover eater } //åŒä¸€ä¸ªç»“æ„ä½“å¯ä»¥å®ç°å¤šä¸ªæ¥å£ type mover interface { move() } type eater interface { eat(string) } type cat struct { name string feet byte } //ä¸€ä¸ªç»“æ„ä½“å¯ä»¥å®ç°å¤šä¸ªæ¥å£ func (c *cat) move() { fmt.Println(c.name+\u0026#34; is moving\u0026#34;) } func (c *cat) eat(something string) { fmt.Println(c.name+\u0026#34; is eating \u0026#34;+something) } func main() { c1:=cat{ name: \u0026#34;tom\u0026#34;, feet: 4, } mover.move(\u0026amp;c1) eater.eat(\u0026amp;c1,\u0026#34;çŒ«ç²®\u0026#34;) } ç©ºæ¥å£ type xxx interface{ } interface{} //æ—¢ç„¶æ˜¯ç©ºæ¥å£ é‚£å°±ä¸éœ€è¦åå­—äº† æ‰€æœ‰çš„ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£è¿™ç§ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ä»»æ„ç±»å‹çš„å˜é‡éƒ½èƒ½ä¿å­˜åˆ°ç©ºæ¥å£ä¸­ã€‚\nç©ºæ¥å£çš„åº”ç”¨\nä½œä¸ºå‡½æ•°çš„å‚æ•° ä½œä¸ºmapçš„å€¼ package main import \u0026#34;fmt\u0026#34; //ç©ºæ¥å£ func main() { m1 := make(map[interface{}]interface{},10) m1[1]=\u0026#34;hello world\u0026#34; m1[\u0026#34;hello world\u0026#34;] = 1 m1[false] =[...]string{\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;,\u0026#34;3\u0026#34;} m1[[...]int{1,2}]=[]bool{true,false} fmt.Println(m1) show(m1) } func show(a interface{}) { fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,a,a) } ç±»å‹æ–­è¨€ package main import ( \u0026#34;fmt\u0026#34; ) //ç±»å‹æ–­è¨€ func main() { assert(\u0026#34;100\u0026#34;) assert(float32(32.1)) } func assert(a interface{}) { fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,a,a) s,ok := a.(string) //ç±»å‹æ–­è¨€ if !ok { fmt.Println(\u0026#34;error \u0026#34;) return } fmt.Println(s) switch i:=a.(type) { case string: fmt.Printf(\u0026#34;this is a string %T %v\\n\u0026#34;,i,i) case int: fmt.Printf(\u0026#34;this is a int %T %v\\n\u0026#34;,i,i) case bool: fmt.Printf(\u0026#34;this is a bool %T %v\\n\u0026#34;,i,i) case float64,float32: fmt.Printf(\u0026#34;this is a float %T %v\\n\u0026#34;,i,i) } } æ¥å£çš„æ³¨æ„äº‹é¡¹ åªæœ‰å½“æœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å…·ä½“ç±»å‹å¿…é¡»ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œå¤„ç†æ—¶æ‰éœ€è¦å®šä¹‰æ¥å£ã€‚ä¸è¦ä¸ºäº†æ¥å£è€Œå†™æ¥å£ï¼Œé‚£æ ·åªä¼šå¢åŠ ä¸å¿…è¦çš„æŠ½è±¡ï¼Œå¯¼è‡´ä¸å¿…è¦çš„è¿è¡Œæ—¶æ¶ˆè€—\nåŒ…package åŒ…æ˜¯å¤šä¸ªgoæºç çš„é›†åˆï¼Œæ˜¯ä¸€ç§é«˜çº§çš„ä»£ç å¤ç”¨æ–¹æ¡ˆï¼Œgoè¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šå†…ç½®åŒ…ï¼Œå¦‚fmtã€osã€ioç­‰\nå®šä¹‰åŒ…\npackage åŒ…å æ³¨æ„ï¼š\nä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹åªèƒ½æœ‰ä¸€ä¸ªåŒ…ï¼ŒåŒæ ·ä¸€ä¸ªåŒ…çš„æ–‡ä»¶ä¸èƒ½åœ¨å¤šä¸ªæ–‡ä»¶å¤¹ä¸‹ åŒ…åå¯ä»¥ä¸å’Œæ–‡ä»¶å¤¹çš„åå­—ä¸€æ ·ï¼ŒåŒ…åä¸èƒ½åŒ…å«ç¬¦å· - åŒ…åä¸ºmainçš„åŒ…ä¸ºç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘æ—¶ä¸åŒ…å«mainåŒ…çš„æºä»£ç æ˜¯ä¸ä¼šå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶çš„ åŒ…çš„å¯¼å…¥ importå¯¼å…¥è¯­å¥é€šå¸¸æ”¾åœ¨æ–‡ä»¶å¼€å¤´åŒ…å£°æ˜è¯­å¥çš„ä¸‹é¢ å¯¼å…¥çš„åŒ…åéœ€è¦ä½¿ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥ åŒ…åæ˜¯ä» $gopath/src/åå¼€å§‹è®¡ç®—çš„ ï¼Œ ä½¿ç”¨ / è·¯å¾„è¿›è¡Œåˆ†å‰² goè¯­è¨€ç¦æ­¢å¾ªç¯å¯¼å…¥åŒ… å•è¡Œå¯¼å…¥ ã€ å¤šè¡Œå¯¼å…¥ã€è‡ªå®šä¹‰å¯¼å…¥ã€åŒ¿åå¯¼å…¥åŒ… _\ninit()åˆå§‹åŒ–å‡½æ•° åœ¨goè¯­è¨€ç¨‹åºæ‰§è¡Œæ—¶å¯¼å…¥åŒ…è¯­å¥ä¼šè‡ªåŠ¨è§¦å‘åŒ…å†…éƒ¨initï¼ˆï¼‰å‡½æ•°çš„è°ƒç”¨\ninit()å‡½æ•°æ²¡æœ‰å‚æ•°ä¹Ÿå’©æœ‰è¿”å›å€¼ init()å‡½æ•°åœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨è¢«è°ƒç”¨æ‰§è¡Œ ä¸èƒ½åœ¨ä»£ç ä¸­ä¸»åŠ¨è°ƒç”¨å®ƒ\nimage-20210808175802083\rimage-20210808175917585\ræ–‡ä»¶æ“ä½œ è‡ªå·±å†™ä¸€ä¸ªæ—¥å¿—åº“\næ¥å£ï¼šç”¨å¤„ï¼Ÿæ—¥å¿—å¯ä»¥è¾“å‡ºåˆ°ç»ˆç«¯ï¼Œå¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œè¾“å‡ºåˆ°å¡å¤«å¡\næ–‡ä»¶æ“ä½œ\næ‰“å¼€å’Œå…³é—­æ–‡ä»¶ os.Openå‡½æ•°èƒ½å¤Ÿæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ è¿”å›ä¸€ä¸ª*File å’Œä¸€ä¸ªerr ï¼Œå¯¹å¾—åˆ°çš„æ–‡ä»¶å®ä¾‹è°ƒç”¨close()æ–¹æ³•èƒ½å¤Ÿå…³é—­æ–‡ä»¶\nä¸ºäº†é˜²æ­¢æ–‡ä»¶å¿˜è®°å…³é—­ æˆ‘ä»¬é€šå¸¸ä½¿ç”¨deferæ³¨å†Œæ–‡ä»¶å…³é—­è¯­å¥\nfile.Read() bufioè¯»å–æ–‡ä»¶ ioutilè¯»å–æ•´ä¸ªæ–‡ä»¶ æ–‡ä»¶å†™å…¥æ“ä½œ os.openfile()å‡½æ•°èƒ½å¤Ÿä»¥æŒ‡å®šæ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»è€Œå®ç°æ–‡ä»¶å†™å…¥ç›¸å…³åŠŸèƒ½\nfunc OpenFile(name string , flag int , perm FileMode) (*File,error){ } flagæ˜¯æ–‡ä»¶æ‰“å¼€çš„æ¨¡å¼\nos.O_WRONLY os.O_CREATE os.O_RDONLY os.O_RDWR os.O_TURNC os.O_APPEND permï¼šæ–‡ä»¶æƒé™ï¼Œä¸€ä¸ªå…«è¿›åˆ¶æ•°ã€‚rè¯» o4 wå†™ o2 xæ‰§è¡Œ o1\nfile.write\nfile.writestring\nwriter:= bufio.NewWriter(file) ioutil.WriteFile package main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) func readFromFile1() { fileObj,err:=os.Open(\u0026#34;./main.go\u0026#34;) if err != nil { fmt.Println(\u0026#34;open file failed...\u0026#34;) return } //è®°å¾—å…³é—­æ–‡ä»¶ defer fileObj.Close() var b =make([]byte,128) for { n,err:=fileObj.Read(b) if err == io.EOF { fmt.Println(\u0026#34;è¯»å®Œäº†\u0026#34;) return } if err != nil { fmt.Println(\u0026#34;read from file failed , error\u0026#34;) return } fmt.Println(n) fmt.Println(string(b)) if n \u0026lt;128 { return } } } //åˆ©ç”¨bufioè¿™ä¸ªåŒ…è¯»å–æ–‡ä»¶ func readFromFileByBufio() { fileObjFile,err :=os.Open(\u0026#34;./main.go\u0026#34;) if err != nil { fmt.Printf(\u0026#34;err, %v\u0026#34;,err) return } defer fileObjFile.Close() reader:=bufio.NewReader(fileObjFile) for { string,err:=reader.ReadString(\u0026#39;\\n\u0026#39;) if err==io.EOF { return } if err != nil { fmt.Printf(\u0026#34;read line failed , err : %v\u0026#34;,err) return } fmt.Print(string) } } func readFromFileByIoutil() { file, err := ioutil.ReadFile(\u0026#34;./main.go\u0026#34;) if err != nil { fmt.Printf(\u0026#34;err , cause: %v\\n\u0026#34;,err) } fmt.Println(string(file)) } //æ‰“å¼€æ–‡ä»¶ func main() { //readFromFile1() //readFromFileByBufio() readFromFileByIoutil() } package main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; ) func write() { fileObj , err :=os.OpenFile(\u0026#34;./xx.txt\u0026#34;,os.O_WRONLY|os.O_CREATE|os.O_TRUNC,0644) if err != nil { fmt.Printf(\u0026#34;err cause: %v\\n\u0026#34;,err) return } //write fileObj.Write([]byte{97,98,99}) fileObj.Write([]byte(\u0026#34;this is a b c \u0026#34;)) fileObj.WriteString(\u0026#34;hello world!\u0026#34;) defer fileObj.Close() } func writeByBufIo() { file, err := os.OpenFile(\u0026#34;./xx.txt\u0026#34;, os.O_WRONLY|os.O_CREATE|os.O_TRUNC, 0644) if err != nil { fmt.Printf(\u0026#34;err cause : %v\\n\u0026#34;,err) return } writer:= bufio.NewWriter(file) writer.WriteString(\u0026#34;comeon baby!\u0026#34;) //bufioæ˜¯åšäº†ä¸€ä¸ªç¼“å­˜ writer.Flush() defer file.Close() } func writeByIoutil() { str:=\u0026#34;hello åŒ—äº¬\u0026#34; err := ioutil.WriteFile(\u0026#34;./xx.txt\u0026#34;, []byte(str), 0666) if err != nil { fmt.Printf(\u0026#34;error cause : %v\\n\u0026#34;,err) return } } func main() { //write() //writeByBufIo() writeByIoutil() } æ‹·è´æ–‡ä»¶ å¯ä»¥å€ŸåŠ©io.copy()å®ç°ä¸€ä¸ªæ‹·è´æ–‡ä»¶å‡½æ•°\npackage main import ( \u0026#34;io/ioutil\u0026#34; ) func main() { copyFile(\u0026#34;./xxcopy.txt\u0026#34;,\u0026#34;./xx.txt\u0026#34;) } func copyFile(dstName,srcName string) (written int64,err error) { //ä»¥è¯»çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ //file, err := os.OpenFile(srcName, os.O_RDONLY, 0644) //if err != nil { //\treturn 0, err //} //reader:= bufio.NewReader(file) readFile, err := ioutil.ReadFile(srcName) if err != nil { return 0, err } err1 := ioutil.WriteFile(dstName, readFile, 0644) if err1 != nil { return 0, err1 } return 1,nil } é€šè¿‡æ–‡ä»¶æ“ä½œè·å–ç»ˆç«¯è¾“å…¥\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { //useScan() ioscan() } func useScan() { fmt.Println(\u0026#34;è¯·è¾“å…¥å†…å®¹ï¼\u0026#34;) var s string fmt.Scanln(\u0026amp;s) fmt.Printf(\u0026#34;ä½ è¾“å…¥çš„å†…å®¹æ˜¯ %v\\n\u0026#34;,s) } func ioscan() { fmt.Println(\u0026#34;è¯·è¾“å…¥å†…å®¹ï¼\u0026#34;) var s string reader := bufio.NewReader(os.Stdin) s,_=reader.ReadString(\u0026#39;\\n\u0026#39;) fmt.Println(s) } æ—¥å¿—åº“ä½œä¸š éœ€æ±‚ï¼š\nå¯ä»¥å¾€ä¸åŒçš„è¾“å‡ºä½ç½®è®°å½•æ—¥å¿— æ—¥å¿—å¯ä»¥åˆ†ä¸ºäº”ç§çº§åˆ« å†…å®¹å›é¡¾ åŒ… åŒ…çš„å®šä¹‰ packageï¼ŒåŒ…åé€šå¸¸æ˜¯å’Œç›®å½•åä¸€è‡´ï¼Œä¸èƒ½åŒ…å«-\nä¸€ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªåŒ… æ–‡ä»¶å¤¹é‡Œé¢æ”¾çš„éƒ½æ˜¯.goæ–‡ä»¶ åŒ…çš„å¯¼å…¥ import\nâ€‹\tå•è¡Œå¯¼å…¥ å’Œ å¤šè¡Œå¯¼å…¥ â€‹ åŒ…å¯¼å…¥è·¯å¾„æ˜¯ä»gopath\\srcåé¢çš„è·¯å¾„å¼€å§‹å†™èµ· â€‹ ç»™å¯¼å…¥çš„åŒ…èµ·åˆ«å åŒ¿åå¯¼å…¥ \u0026mdash;\u0026gt; sqlåŒ…å¯¼å…¥æ—¶ä¼šè®² ä¸æ”¯æŒå¾ªç¯å¯¼å…¥ åŒ…ä¸­æ ‡è¯†ç¬¦(å˜é‡åã€å‡½æ•°åã€ç»“æ„ä½“ã€æ¥å£ã€å¸¸é‡\u0026hellip;) å¯è§æ€§ æ ‡è¯†ç¬¦é¦–å­—æ¯å¤§å†™\ninit()\nåŒ…å¯¼å…¥çš„æ—¶å€™ä¼šè‡ªåŠ¨æ‰§è¡Œ ä¸€ä¸ªåŒ…é‡Œåªæœ‰ä¸€ä¸ªinit() init()æ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼ä¹Ÿä¸èƒ½è°ƒç”¨ä»– å¤šä¸ªåŒ…çš„initæ‰§è¡Œé¡ºåº ä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ\u0026hellip; æ¥å£ æ¥å£æ˜¯ä¸€ç§ç±»å‹ï¼Œä¸€ç§æŠ½è±¡çš„ç±»å‹\næ¥å£å°±æ˜¯ä½ è¦å®ç°çš„æ–¹æ³•çš„æ¸…å•\næ¥å£çš„å®šä¹‰ type mover interface{ æ–¹æ³•ç­¾å(å‚æ•°)(è¿”å›å€¼) } æ¥å£çš„å®ç° å®ç°äº†æ¥å£çš„æ‰€æœ‰æ–¹æ³•å°±å®ç°äº†è¿™ä¸ªæ¥å£\nå®ç°äº†æ¥å£å°±å¯ä»¥å½“æˆè¿™ä¸ªæ¥å£ç±»å‹çš„å˜é‡\næ¥å£çš„å˜é‡ å®ç°äº†ä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ä¿å­˜æ‰€æœ‰å®ç°äº†æˆ‘è¿™ä¸ªæ¥å£ç±»å‹çš„å€¼\né€šå¸¸ä½œä¸ºå‡½æ•°çš„å‚æ•°å‡ºç°\nç©ºæ¥å£ æ¥å£ä¸­æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ‰€ä»»æ„ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£==\u0026gt;ä»»ä½•ç±»å‹çš„å˜é‡éƒ½å¯ä»¥å­˜åˆ°è¿™ä¸ªç©ºæ¥å£å˜é‡ä¸­\ninterface {} ä½œä¸ºå‡½æ•°å‚æ•°fmt.println()\nmap[string]interface{}\næ¥å£åº•å±‚ åŠ¨æ€ç±»å‹ åŠ¨æ€å€¼ ç±»å‹æ–­è¨€ åšç±»å‹æ–­è¨€çš„å‰ææ˜¯ ä¸€å®šè¦æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹çš„å˜é‡\nx.(T)\nä½¿ç”¨switchæ¥åšç±»å‹æ–­è¨€\næ–‡ä»¶æ“ä½œ æ‰“å¼€æ–‡ä»¶å’Œå…³é—­æ–‡ä»¶ image-20210810185410507\rç¼“å†²åŒº\nimage-20210810185806983\rread\nbufio\nioutil\nå†™æ–‡ä»¶ os.openfile()\nwrite å’Œ writestring\nbufio.newwriter\nioutil\nåœ¨æ–‡ä»¶ä¸­æ’å…¥ä¸œä¸œ\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { //OpenFile() InsertFile() } func InsertFile() { //æ‰“å¼€æ–‡ä»¶ file, err := os.OpenFile(\u0026#34;./sb.txt\u0026#34;, os.O_RDWR, 0644) if err != nil { fmt.Printf(\u0026#34;err cause : %v\\n\u0026#34;,file) return } defer file.Close() //è¯»é¦–ä¸¤ä¸ªå­—èŠ‚ var b = [2]byte{} n, _ := file.Read(b[:]) //åˆ›å»ºæ–‡ä»¶ å†™é¦–ä¸¤ä¸ªå­—èŠ‚ openFile, _ := os.OpenFile(\u0026#34;./sbinsert.txt\u0026#34;, os.O_CREATE|os.O_WRONLY, 0644) openFile.Write(b[:n]) defer openFile.Close() //å°è¯•ç§»åŠ¨å…‰æ ‡ _, err1 := file.Seek(2, 0) //å…‰æ ‡ç§»åŠ¨ if err1 != nil { return } //å°è¯•å†™è¦æ’å…¥çš„æ•°æ® openFile.Write([]byte{\u0026#39;c\u0026#39;}) //å°è¯•è¯»å…‰æ ‡ä¸‹ä¸€ä¸ªå­—èŠ‚çš„æ•°æ® var a [128]byte read, err2 := file.Read(a[:]) if err2 != nil { return } fmt.Println(string(a[:read])) openFile.Write(a[:read]) os.Rename(\u0026#34;./sbinsert.txt\u0026#34;,\u0026#34;./sb.txt\u0026#34;) //writer := bufio.NewWriter(file) //writer.WriteString(\u0026#34;c\u0026#34;) //writer.Flush() } func OpenFile() { open, err := os.Open(\u0026#34;./xx.txt\u0026#34;) if err != nil { fmt.Printf(\u0026#34;err cause: %v\\n\u0026#34;,open) return } defer open.Close() var b [128]byte for { read, err1 := open.Read(b[:]) if err1 != nil { fmt.Printf(\u0026#34;read err cause: %v\\n\u0026#34;,err1) return } fmt.Println(string(b[:])) if read \u0026lt;128 { return } } } ä»Šæ—¥å†…å®¹ timeæ ‡å‡†åº“ æ—¶é—´ç±»å‹\ntime.timeç±»å‹è¡¨ç¤ºæ—¶é—´ æˆ‘ä»¬å¯ä»¥é€šè¿‡time.now() å‡½æ•°è·å–å½“å‰çš„æ—¶é—´å¯¹è±¡ ç„¶åè·å–æ—¶é—´å¯¹è±¡çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’ç­‰ä¿¡æ¯ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š\næ—¶é—´æˆ³ æ—¶é—´é—´éš” add sub equal before after å®šæ—¶å™¨time.tick æ—¶é—´æ ¼å¼åŒ– æ—¶é—´ç±»å‹æœ‰ä¸€ä¸ªè‡ªå¸¦çš„æ–¹æ³•Formatè¿›è¡Œæ ¼å¼åŒ–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯goè¯­è¨€ä¸­æ ¼å¼åŒ–æ—¶é—´æ¨¡ç‰ˆä¸æ˜¯å¸¸è§çš„y-m-d h:/m:/s è€Œæ˜¯ä½¿ç”¨goè¯ç”Ÿçš„æ—¶é—´2006 1 2 3 4\nè¡¥å……ï¼šå¦‚æœæƒ³è¦æ ¼å¼åŒ–ä¸º12å°æ—¶æ–¹å¼ï¼Œéœ€è¦æŒ‡å®šPM\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { f2() } func f1() { now := time.Now() fmt.Printf(\u0026#34;%v \\n\u0026#34;,now) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Year()) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Month()) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Day()) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Hour()) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Minute()) fmt.Printf(\u0026#34;%v \\n\u0026#34;,now.Second()) fmt.Println(now.Date()) //æ—¶é—´æˆ³ fmt.Println(now.Unix()) fmt.Println(now.UnixNano()) //time.Unix() unix:= time.Unix(now.Unix(), 0) fmt.Println(unix) //æ—¶é—´é—´éš” fmt.Println(time.Second) //now +24 hours fmt.Println(time.Now().Add(time.Hour*24)) //å®šæ—¶å™¨ //tick := time.Tick(time.Second) //for i := range tick { // fmt.Println(i) //} //æ ¼å¼åŒ–æ—¶é—´ æŠŠè¯­è¨€ä¸­æ—¶é—´å¯¹è±¡ è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹çš„æ—¶é—´ //2021/08/10 fmt.Println(time.Now().Format(\u0026#34;2006/01/02\u0026#34;)) fmt.Println(time.Now().Format(\u0026#34;2006-1-2 15:04:05\u0026#34;)) fmt.Println(time.Now().Format(\u0026#34;2006-1-2 03:04:05\u0026#34;)) fmt.Println(time.Now().Format(\u0026#34;2006-1-2 15:04:05 PM\u0026#34;)) fmt.Println(time.Now().Format(\u0026#34;2006:01:02 15:04:05.000 PM\u0026#34;)) //æŒ‰ç…§å¯¹åº”çš„æ ¼å¼ è§£æå­—ç¬¦ä¸²ç±»å‹çš„æ—¶é—´ value, err := time.Parse(\u0026#34;2006-01-02\u0026#34;, \u0026#34;2019-05-20\u0026#34;) if err != nil { fmt.Println( \u0026#34; err \u0026#34;,err) return } fmt.Println(value) fmt.Println(time.Now().Sub(time.Now().Add(-time.Hour))) fmt.Println(\u0026#34;beginning\u0026#34;) //sleep time.Sleep(time.Second*2) fmt.Println(\u0026#34;ending...\u0026#34;) } func f2() { now:= time.Now() //è·å–çš„æ˜¯å½“å‰æ—¶åŒºçš„æ—¶é—´ fmt.Println(now) //æŒ‰ç…§ä¸œå…«åŒºçš„æ—¶åŒºå’Œæ ¼å¼è§£æä¸€ä¸ªå­—ç¬¦ä¸²æ ¼å¼çš„æ—¶é—´ time.Parse(\u0026#34;2006-01-02 15:04:05\u0026#34;, \u0026#34;2021-08-11 21:33:05\u0026#34;) //æ ¹æ®å­—ç¬¦åŠ è½½æ—¶åŒº location, err := time.LoadLocation(\u0026#34;Asia/Shanghai\u0026#34;) if err!=nil { fmt.Printf(\u0026#34;load loc failed , err :%v\\n\u0026#34;,err) return } //æŒ‰ç…§æŒ‡å®šæ—¶åŒºè§£ææ—¶é—´ parseInLocation, err := time.ParseInLocation(\u0026#34;2006-01-02 15:05:05\u0026#34;, \u0026#34;2021-08-11 21:33:05\u0026#34;, location) fmt.Println(time.Now().Sub(parseInLocation)) } æ—¥å¿—åº“ éœ€æ±‚åˆ†æ\næ”¯æŒå¾€ä¸åŒçš„åœ°æ–¹è¾“å‡ºæ—¥å¿—\nåˆ†çº§åˆ«è¾“å‡º\ndebug info warning error fatal æ—¥å¿—è¦æ”¯æŒå¼€å…³æ§åˆ¶ï¼Œæ¯”å¦‚è¯´å¼€å‘çš„æ—¶å€™ä»€ä¹ˆçº§åˆ«çš„æ—¥å¿—éƒ½èƒ½è¾“å‡ºï¼Œä½†æ˜¯ä¸Šçº¿ä¹‹ååªæœ‰INFOçº§åˆ«å¾€ä¸‹æ‰èƒ½è¾“å‡º\nå®Œæ•´çš„æ—¥å¿—è®°å½•è¦åŒ…å«æ—¥å¿—è¦æœ‰æ—¶é—´ã€è¡Œå·ã€æ–‡ä»¶åã€æ—¥å¿—çº§åˆ«ã€æ—¥å¿—ä¿¡æ¯\næ—¥å¿—æ–‡ä»¶è¦åˆ‡å‰²\næŒ‰æ–‡ä»¶å¤§å°åˆ‡å‰² æ¯æ¬¡è®°å½•æ—¥å¿—ä¹‹å‰éƒ½åˆ¤æ–­ä¸€ä¸‹å½“å‰å†™çš„è¿™ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å¤§å° æŒ‰æ—¥æœŸåˆ‡å‰² åœ¨æ—¥å¿—ç»“æ„ä½“ä¸­è®¾ç½®ä¸€ä¸ªå­—æ®µè®°å½•ä¸Šä¸€æ¬¡åˆ‡å‰²çš„å°æ—¶æ•° åœ¨å†™æ—¥å¿—ä¹‹å‰æ£€æŸ¥ä¸€ä¸‹å½“å‰æ—¶é—´çš„å°æ—¶æ•°å’Œä¹‹å‰ä¿å­˜çš„æ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´å°±è¦åˆ‡å‰² package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;path\u0026#34; \u0026#34;runtime\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;time\u0026#34; ) func main() { consoleLogger := NewConsoleLogger(ERROR) Logger.Debug(consoleLogger,\u0026#34;hello world\u0026#34;) Logger.Info(consoleLogger,\u0026#34;hello world\u0026#34;) Logger.Warning(consoleLogger,\u0026#34;hello world\u0026#34;) Logger.Error(consoleLogger,\u0026#34;hello world%d\u0026#34;,10) Logger.Fatal(consoleLogger,\u0026#34;hello world\u0026#34;) fileLogger := NewFileLogger(ERROR, \u0026#34;.\u0026#34;, \u0026#34;logdemo.txt\u0026#34;, \u0026#34;logdemoerr.txt\u0026#34;, 128) Logger(fileLogger).Debug(\u0026#34;hello world %d\u0026#34;,10) Logger(fileLogger).Error(\u0026#34;fatal error %v\u0026#34;,\u0026#34;æŸæ ‘è¢«æ¦¨å¹²äº†...\u0026#34;) } type Logger interface { Debug(string,...interface{}) Info(string,...interface{}) Warning(string,...interface{}) Error(string,...interface{}) Fatal(string,...interface{}) } type ConsoleLogger struct { LogLevel MODE } type MODE = int const ( DEBUG MODE =iota INFO WARNING ERROR FATAL ) func NewConsoleLogger(logLevel MODE) ConsoleLogger { return ConsoleLogger{ LogLevel: logLevel, } } func (m ConsoleLogger) Debug(s string,a...interface{}) { if m.LogLevel\u0026gt;=DEBUG { var msg string if a == nil { msg=s } else { msg=fmt.Sprintf(s,a) } fmt.Printf(\u0026#34;[%v] [DEBUG] this is a debug log, value :%v\\n\u0026#34;,time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;),msg) fmt.Println(getInfo(2)) } } func (m ConsoleLogger) Info(s string,a ...interface{}) { if m.LogLevel\u0026gt;=INFO { var msg string if a == nil { msg=s } else { msg=fmt.Sprintf(s,a) } fmt.Printf(\u0026#34;[%v] [INFO] this is a info log, value :%v\\n\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Println(getInfo(2)) } } func (m ConsoleLogger) Warning(s string , a ...interface{}) { if m.LogLevel\u0026gt;=WARNING { var msg string if a == nil { msg=s } else { msg=fmt.Sprintf(s,a) } fmt.Printf(\u0026#34;[%v] [WARNING] this is a warning log, value :%v\\n\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Println(getInfo(2)) } } func (m ConsoleLogger) Error(s string,a ...interface{}) { if m.LogLevel\u0026gt;=ERROR { var msg string if a == nil { msg=s } else { msg=fmt.Sprintf(s,a) } fmt.Printf(\u0026#34;[%v] [ERROR] this is a error log, value :%v \\n\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Println(getInfo(2)) } } func (m ConsoleLogger) Fatal(s string,a...interface{}) { if m.LogLevel\u0026gt;=FATAL { var msg string if a == nil { msg=s } else { msg=fmt.Sprintf(s,a) } fmt.Printf(\u0026#34;[%v] [FATAL] this is a fatal log, value :%v\\n\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Println(getInfo(2)) } } func getInfo(n int) string { caller, file, line, ok := runtime.Caller(n) if !ok { return \u0026#34;error\u0026#34; } name:= runtime.FuncForPC(caller).Name() return \u0026#34;fileLocation: \u0026#34;+path.Base(file)+\u0026#34;, method: \u0026#34;+name+\u0026#34;, line: \u0026#34;+strconv.Itoa(line) } type FileLogger struct { LogLevel MODE fileName string //æ—¥å¿—æ–‡ä»¶çš„åç§° filePath string\t//æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ errFileName string //é”™è¯¯æ—¥å¿—å•ç‹¬è®°å½• maxFileSize int64 fileObj *os.File errFileObj *os.File } func NewFileLogger(logLevel MODE,filePath, fileName , errFileName string , maxFileSize int64)*FileLogger { file, err := os.OpenFile(path.Join(filePath,fileName), os.O_CREATE|os.O_APPEND|os.O_WRONLY, 0644) if err != nil { fmt.Println(err) return nil } errfile, err := os.OpenFile(path.Join(filePath,errFileName),os.O_CREATE|os.O_APPEND|os.O_WRONLY,0644) if err != nil { return nil } return \u0026amp;FileLogger{ LogLevel: logLevel, fileName: fileName, filePath: filePath, errFileName: errFileName, maxFileSize: maxFileSize, fileObj: file, errFileObj: errfile , } } func (f *FileLogger) Close() { f.fileObj.Close() f.errFileObj.Close() } func (f *FileLogger) checkSize(fileObj *os.File) bool { stat, err := fileObj.Stat() if err != nil { return false } if stat.Size() \u0026gt; f.maxFileSize { return true }else{ return false } } func (f *FileLogger)SplitLogFile() { //éœ€è¦åˆ‡å‰²æ–‡ä»¶ //1.å…³é—­å½“å‰æ–‡ä»¶ f.fileObj.Close() //2.rename å¤‡ä»½ä¸€ä¸‹ xx.log -\u0026gt; xx.log.bak201908031709 nowStr:=time.Now().Format(\u0026#34;20060102150405000\u0026#34;) bakFilePath := path.Join(f.filePath, f.fileName)+\u0026#34;.bak\u0026#34;+nowStr err := os.Rename(path.Join(f.filePath, f.fileName), bakFilePath) if err != nil { return } //3.æ‰“å¼€ä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ newFile, err := os.OpenFile(path.Join(f.filePath, f.fileName), os.O_CREATE|os.O_APPEND|os.O_WRONLY, 0644) if err != nil { return } //4.å°†æ‰“å¼€çš„æ–°æ—¥å¿—æ–‡ä»¶å¯¹è±¡èµ‹å€¼ç»™ f.fileObj f.fileObj = newFile } func (f *FileLogger) Debug(s string, a ...interface{}) { if f.LogLevel\u0026gt;=DEBUG { if f.checkSize(f.fileObj) { f.SplitLogFile() } msg := fmt.Sprintf(s, a) msg = fmt.Sprintf(\u0026#34;[%v] [DEBUG] this is a debug log, value :%v\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Fprintln(f.fileObj) fmt.Fprintln(f.fileObj,msg) fmt.Fprintln(f.fileObj,getInfo(2)) f.Close() } } func (f *FileLogger) Info(s string, a ...interface{}) { if f.LogLevel\u0026gt;=INFO { msg := fmt.Sprintf(s, a) msg = fmt.Sprintf(\u0026#34;[%v] [INFO] this is a info log, value :%v\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Fprintln(f.fileObj) fmt.Fprintln(f.fileObj,msg) fmt.Fprintln(f.fileObj,getInfo(2)) f.Close() } } func (f *FileLogger) Warning(s string, a ...interface{}) { if f.LogLevel\u0026gt;=WARNING { msg := fmt.Sprintf(s, a) msg = fmt.Sprintf(\u0026#34;[%v] [WARNING] this is a warning log, value :%v\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Fprintln(f.fileObj) fmt.Fprintln(f.fileObj,msg) fmt.Fprintln(f.fileObj,getInfo(2)) f.Close() } } func (f *FileLogger) Error(s string, a ...interface{}) { if f.LogLevel\u0026gt;=ERROR { msg := fmt.Sprintf(s, a) msg = fmt.Sprintf(\u0026#34;[%v] [ERROR] this is a error log, value :%v\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Fprintln(f.fileObj) fmt.Fprintln(f.fileObj,msg) fmt.Fprintln(f.fileObj,getInfo(2)) fmt.Fprintln(f.errFileObj) fmt.Fprintln(f.errFileObj,msg) fmt.Fprintln(f.errFileObj,getInfo(2)) f.Close() } } func (f *FileLogger) Fatal(s string, a ...interface{}) { if f.LogLevel\u0026gt;=FATAL { msg := fmt.Sprintf(s, a) msg = fmt.Sprintf(\u0026#34;[%v] [FATAL] this is a Fatal log, value :%v\u0026#34;, time.Now().Format(\u0026#34;2006-01-02 15-04-05\u0026#34;), msg) fmt.Fprintln(f.fileObj) fmt.Fprintln(f.fileObj,msg) fmt.Fprintln(f.fileObj,getInfo(2)) fmt.Fprintln(f.errFileObj) fmt.Fprintln(f.errFileObj,msg) fmt.Fprintln(f.errFileObj,getInfo(2)) f.Close() } } åå°„ åå°„æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å¯¹ç¨‹åºæœ¬èº«è¿›è¡Œè®¿é—®å’Œä¿®æ”¹çš„èƒ½åŠ›ã€‚ç¨‹åºåœ¨ç¼–è¯‘æ—¶ï¼Œå˜é‡è¢«è½¬æ¢ä¸ºå†…å­˜åœ°å€ï¼Œå˜é‡åä¸ä¼šè¢«ç¼–è¯‘å™¨å†™å…¥åˆ°å¯æ‰§è¡Œéƒ¨åˆ†ã€‚åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œç¨‹åºæ— æ³•è·å–è‡ªèº«çš„ä¿¡æ¯ã€‚\næ”¯æŒåå°„çš„è¯­è¨€å¯ä»¥åœ¨ç¨‹åºç¼–è¯‘æœŸå°†å˜é‡çš„åå°„ä¿¡æ¯ï¼Œå¦‚å­—æ®µåç§°ã€ç±»å‹åç§°ã€ç»“æ„ä½“ä¿¡æ¯ç­‰æ•´åˆåˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå¹¶ç»™ç¨‹åºæä¾›æ¥å£è®¿é—®åå°„ä¿¡æ¯ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸè·å–ç±»å‹çš„åå°„ä¿¡æ¯ï¼Œå¹¶ä¸”æœ‰èƒ½åŠ›ä¿®æ”¹å¥¹ä»¬ã€‚\ngoç¨‹åºåœ¨è¿è¡ŒæœŸä½¿ç”¨reflectåŒ…è®¿é—®ç¨‹åºçš„åå°„ä¿¡æ¯ã€‚\nç©ºæ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“ç©ºæ¥å£ä¿å­˜çš„æ•°æ®æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿåå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„è·å–ä¸€ä¸ªå˜é‡çš„ç±»å‹ä¿¡æ¯å’Œå€¼ä¿¡æ¯ã€‚\nreflectåŒ… åœ¨goè¯­è¨€çš„åå°„æœºåˆ¶ä¸­ï¼Œä»»ä½•æ¥å£å€¼éƒ½æ˜¯ç”±ä¸€ä¸ªå…·ä½“ç±»å‹å’Œå…·ä½“ç±»å‹çš„å€¼ä¸¤éƒ¨åˆ†ç»„æˆçš„ã€‚åœ¨goè¯­è¨€ä¸­åå°„çš„ç›¸å…³åŠŸèƒ½æœ‰å†…ç½®çš„reflectåŒ…æä¾›ï¼Œä»»æ„æ¥å£å€¼åœ¨åå°„ä¸­éƒ½å¯ä»¥ç†è§£ä¸ºæœ‰reflect.Type å’Œ reflect.Value ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå¹¶ä¸”reflectåŒ…æä¾›äº†reflect.TypeOf å’Œ reflect.ValueOfä¸¤ä¸ªå‡½æ•°æ¥è·å–ä»»æ„å¯¹è±¡çš„valueå’Œtype\ntypeof\nvalueof\ntype name å’Œ type kind åœ¨åå°„ä¸­å…³äºç±»å‹è¿˜åˆ’åˆ†ä¸ºä¸¤ç§ï¼šç±»å‹typeå’Œç§ç±»kind åœ¨goè¯­è¨€ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ„é€ å¾ˆå¤šç§è‡ªå®šä¹‰ç±»Iå‹é‚£ä¸ªï¼Œè€Œç§ç±»kindå°±æ˜¯æŒ‡åº•å±‚çš„ç±»å‹ï¼Œä½†åœ¨åå°„ä¸­ï¼Œå½“éœ€è¦åŒºåˆ†æŒ‡é’ˆã€ç»“æ„ä½“ç­‰å¤§å“ç§çš„ç±»å‹æ—¶ï¼Œå°±ä¼šç”¨åˆ°ç§ç±»kind\nvalueof package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { reflectType(int64(8)) reflectType(int32(8)) reflectType(\u0026#34;hello world\u0026#34;) reflectType(map[interface{}]interface{}{1:\u0026#34;hello\u0026#34; , \u0026#34;hello world\u0026#34;:[]bool{true}}) reflectType(cat{name: \u0026#34;tomcat\u0026#34;}) reflectValue(int64(8)) b:=int64(20) //reflectSetValue1(b) //è¿™æ ·ä¸è¡Œä¼šå¼•å‘panicé”™è¯¯ reflectSetValue2(\u0026amp;b) fmt.Println(b) var a *int fmt.Println(reflect.ValueOf(a).IsNil()) fmt.Println(reflect.ValueOf(a).IsValid()) c := cat{name: \u0026#34;tomcat\u0026#34;} fmt.Println(reflect.ValueOf(c).FieldByName(\u0026#34;name\u0026#34;)) fmt.Println(reflect.ValueOf(c).MethodByName(\u0026#34;name\u0026#34;).IsValid()) m:=map[string]int{\u0026#34;å¨œæ‰\u0026#34;:1} fmt.Println(reflect.ValueOf(m).MapIndex(reflect.ValueOf(\u0026#34;å¨œæ‰\u0026#34;)).IsValid()) } func reflectType(a interface{}) { v := reflect.TypeOf(a) fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,v,v) fmt.Printf(\u0026#34;type %v kind %v \\n\u0026#34;,v.Name(),v.Kind()) } func reflectValue(a interface{}) { v:=reflect.ValueOf(a) kind := v.Kind() switch kind { case reflect.Int64: fmt.Printf(\u0026#34;type is int64,value is %d\\n\u0026#34;,int64(v.Int())) case reflect.Float32: fmt.Printf(\u0026#34;type is float32, value is %f\\n\u0026#34;,float32(v.Float())) } } func reflectSetValue1(x interface{}) { value := reflect.ValueOf(x) if value.Kind() == reflect.Int64 { value.SetInt(200) //ä¿®æ”¹çš„æ˜¯å‰¯æœ¬ reflectåŒ…ä¼šå¼•å‘panic } } func reflectSetValue2(x interface{}) { value :=reflect.ValueOf(x) if value.Elem().Kind() == reflect.Int64 { value.Elem().SetInt(200) } } type cat struct { name string } é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼ æƒ³è¦åœ¨å‡½æ•°ä¸­é€šè¿‡åå°„ä¿®æ”¹å˜é‡çš„å€¼ï¼Œéœ€è¦æ³¨æ„å‡½æ•°å‚æ•°ä¼ é€’çš„æ˜¯å€¼æ‹·è´ï¼Œå¿…é¡»ä¼ é€’å˜é‡åœ°å€æ‰èƒ½ä¿®æ”¹å˜é‡å€¼ã€‚è€Œåå°„ä¸­ä½¿ç”¨ä¸“æœ‰çš„elem()æ–¹æ³•æ¥è·å–æŒ‡é’ˆå¯¹åº”çš„å€¼\nisNilå’ŒisValid æŠ¥å‘ŠæŒæœ‰çš„å€¼æ˜¯å¦ä¸ºnilï¼ŒæŒæœ‰çš„å€¼çš„åˆ†ç±»å¿…é¡»æ˜¯é€šé“ã€å‡½æ•°ã€æ¥å£ã€æ˜ å°„ã€æŒ‡é’ˆã€åˆ‡ç‰‡ä¹‹ä¸€ï¼Œå¦åˆ™ä¼šå¯¼è‡´panic\nisvalidè¿”å›væ˜¯å¦æŒæœ‰ä¸€ä¸ªå€¼ï¼Œå¦‚æœvæ˜¯valueçš„é›¶å€¼å°±ä¼šè¿”å›å‡ï¼Œå¦‚æœvé™¤äº†isvalidã€stringã€kindä¹‹å¤–çš„æ–¹æ³•éƒ½ä¼šå¯¼è‡´panic\nåŒºåˆ« isnilå¸¸è¢«ç”¨äºåˆ¤æ–­æŒ‡é’ˆæ˜¯å¦ä¸ºç©ºï¼Œisvalidå¸¸è¢«ç”¨äºåˆ¤å®šè¿”å›å€¼æ˜¯å¦æœ‰æ•ˆ\npackage main import ( json2 \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { s:=student{ Name: \u0026#34;xwz\u0026#34;, Score: \u0026#34;90\u0026#34;, } //æœ€ç»ˆè¦å¾—åˆ° {\u0026#34;name\u0026#34;:\u0026#34;xwz\u0026#34;,\u0026#34;score\u0026#34;:90} typeof := reflect.TypeOf(s) json:=`{` for i := 0; i \u0026lt; typeof.NumField(); i++ { fmt.Println(typeof.FieldByIndex([]int{i}).Name) //fmt.Println(typeof.Field(i).Name) fmt.Println(typeof.FieldByIndex([]int{i}).Tag.Get(\u0026#34;json\u0026#34;)) json+=\u0026#34;\\\u0026#34;\u0026#34;+typeof.Field(i).Tag.Get(\u0026#34;json\u0026#34;)+\u0026#34;\\\u0026#34;\u0026#34;+\u0026#34;:\u0026#34; structField, b := typeof.FieldByName(typeof.Field(i).Name) fmt.Println(structField.Name) fmt.Println(structField.Type) fmt.Println(structField.Index) valueof:= reflect.ValueOf(s) fmt.Println(valueof.Field(i)) sprint := fmt.Sprint(valueof.Field(i)) if b { json+=\u0026#34;\\\u0026#34;\u0026#34;+sprint+\u0026#34;\\\u0026#34;\u0026#34;+\u0026#34;,\u0026#34; } } s2 := json[:len(json)-1] json = s2 json+=\u0026#34;}\u0026#34; fmt.Println(json) var s1 student json2.Unmarshal([]byte(json),\u0026amp;s1) fmt.Println(s1) //ååºåˆ—åŒ–å®ä¾‹ } type student struct { Name string `json:\u0026#34;name\u0026#34;` Score string `json:\u0026#34;score\u0026#34;` } å†…å®¹å›é¡¾ time æ—¶é—´ç±»å‹ time.Time : Time.Now() æ—¶é—´æˆ³: time.Now().Unix() time.Now().UnixNano():1971.1.1åˆ°ç°åœ¨çš„çº³ç§’æ•° æ—¶é—´é—´éš”ç±»å‹ time.Duration ï¼šæ—¶é—´é—´éš”ç±»å‹ time.Second time.Hour time.Minute æ—¶é—´æ“ä½œ æ—¶é—´å¯¹è±¡+-ä¸€ä¸ªæ—¶é—´é—´éš”å¯¹è±¡\nafter ã€ before\næ—¶é—´æ ¼å¼åŒ– format\nå®šæ—¶å™¨ //å®šæ—¶å™¨ //tick := time.Tick(time.Second) //for i := range tick { // fmt.Println(i) //} è§£æå­—ç¬¦ä¸²æ ¼å¼çš„æ—¶é—´ï¼ˆæ—¶åŒºï¼‰ now:= time.Now() //è·å–çš„æ˜¯å½“å‰æ—¶åŒºçš„æ—¶é—´ fmt.Println(now) //æŒ‰ç…§ä¸œå…«åŒºçš„æ—¶åŒºå’Œæ ¼å¼è§£æä¸€ä¸ªå­—ç¬¦ä¸²æ ¼å¼çš„æ—¶é—´ time.Parse(\u0026#34;2006-01-02 15:04:05\u0026#34;, \u0026#34;2021-08-11 21:33:05\u0026#34;) //æ ¹æ®å­—ç¬¦åŠ è½½æ—¶åŒº location, err := time.LoadLocation(\u0026#34;Asia/Shanghai\u0026#34;) if err!=nil { fmt.Printf(\u0026#34;load loc failed , err :%v\\n\u0026#34;,err) return } //æŒ‰ç…§æŒ‡å®šæ—¶åŒºè§£ææ—¶é—´ parseInLocation, err := time.ParseInLocation(\u0026#34;2006-01-02 15:05:05\u0026#34;, \u0026#34;2021-08-11 21:33:05\u0026#34;, location) fmt.Println(time.Now().Sub(parseInLocation)) æ—¥å¿—åº“ time\næ–‡ä»¶æ“ä½œ\nruntime.caller()\nåå°„ æ¥å£ç±»å‹çš„å˜é‡åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒåŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼ã€‚\nåå°„çš„åº”ç”¨ï¼šjsonç­‰æ•°æ®è§£æ ORMç­‰å·¥å…·\u0026hellip;\nåå°„çš„ä¸¤ä¸ªæ–¹æ³•ï¼š reflect.Typeof() reflect.Valueof() ä»Šæ—¥å†…å®¹ strconvæ ‡å‡†åº“ä»‹ç» package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; ) func main() { str:=\u0026#34;1000\u0026#34; parseInt, err := strconv.ParseInt(str, 10, 64) //10è¿›åˆ¶ int64 if err != nil { return } fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,parseInt,parseInt) parseInt1, err := strconv.ParseInt(str,10,0) if err != nil { return } fmt.Printf(\u0026#34;%T %v\\n\u0026#34;,parseInt1,parseInt1) atoi,_:=strconv.Atoi(\u0026#34;1000\u0026#34;)//goè¯­è¨€ç»§æ‰¿cè¯­è¨€è€Œæ¥çš„ aæ˜¯array å› ä¸ºstringåº•å±‚å®é™…ä¸Šæ˜¯arrayçš„byteæ•°ç»„ iæ˜¯int fmt.Println(atoi) i :=97 fmt.Println(string(i)) //a sprint := fmt.Sprint(i) //97 //å­—ç¬¦ä¸²ä¸­è§£æå‡ºboolå€¼ s2:=\u0026#34;true\u0026#34; parseBool, _ := strconv.ParseBool(s2) fmt.Println(parseBool) fmt.Println(strconv.ParseFloat(\u0026#34;2.14\u0026#34;,32)) fmt.Println(sprint) } å¹¶å‘ å¹¶å‘æ˜¯ç¼–ç¨‹é‡Œé¢ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œgoè¯­è¨€åœ¨è¯­è¨€å±‚é¢å¤©ç”Ÿæ”¯æŒå¹¶å‘ï¼Œè¿™ä¹Ÿæ˜¯goè¯­è¨€æµè¡Œçš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› ã€‚\ngoè¯­è¨€çš„å¹¶å‘ç¼–ç¨‹ å¹¶å‘ä¸å¹¶è¡Œ å¹¶å‘ï¼šåŒä¸€æ—¶é—´æ®µå†…æ‰§è¡Œå¤šä¸ªä»»åŠ¡\nå¹¶è¡Œï¼šåŒä¸€æ—¶åˆ»æ‰§è¡Œå¤šä¸ªä»»åŠ¡\ngoè¯­è¨€çš„å¹¶å‘é€šè¿‡goroutineå®ç°ã€‚goroutineç±»ä¼¼äºçº¿ç¨‹ï¼Œå±äºç”¨æˆ·æ€çš„çº¿ç¨‹.æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºæˆåƒä¸Šä¸‡ä¸ªgoroutineä¸ªå¹¶å‘å·¥ä½œã€‚goroutineç”±goè¯­è¨€çš„è¿è¡Œæ—¶runtimeè°ƒåº¦å®Œæˆï¼Œè€Œçº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦å®Œæˆçš„ã€‚\ngoè¯­è¨€è¿˜æä¾›channelåœ¨å¤šä¸ªgoroutineé—´è¿›è¡Œé€šä¿¡ã€‚goroutineå’Œchannelæ˜¯goè¯­è¨€ç§‰æ‰¿CSP communication sequential process å¹¶å‘æ¨¡å¼çš„é‡è¦å®ç°åŸºç¡€.\ngoutine åœ¨javaå’Œc++ä¸­æˆ‘ä»¬è¦å®ç°å¹¶å‘ç¼–ç¨‹çš„æ—¶å€™,æˆ‘ä»¬é€šå¸¸è¦è‡ªå·±ç»´æŠ¤ä¸€ä¸ªçº¿ç¨‹æ± ,å¹¶ä¸”éœ€è¦è‡ªå·±å»åŒ…è£…ä¸€ä¸ªåˆä¸€ä¸ªä»»åŠ¡,åŒæ—¶éœ€è¦è‡ªå·±å»è°ƒåº¦çº¿ç¨‹æ‰§è¡Œä»»åŠ¡å¹¶ç»´æŠ¤ä¸Šä¸‹æ–‡åˆ‡æ¢,è¿™ä¸€åˆ‡é€šå¸¸ä¼šè€—è´¹ç¨‹åºå‘˜å¤§é‡çš„å¿ƒæ™º.é‚£ä¹ˆèƒ½ä¸èƒ½æœ‰ä¸€ç§æœºåˆ¶,ç¨‹åºå‘˜åªéœ€è¦å®šä¹‰å¾ˆå¤šä¸ªä»»åŠ¡,è®©ç³»ç»Ÿå»å¸®åŠ©æˆ‘ä»¬å§è¿™äº›ä»»åŠ¡åˆ†é…åˆ°CPUä¸Šå®ç°å¹¶å‘æ‰§è¡Œå‘¢?\ngoè¯­è¨€ä¸­çš„goroutineå°±æ˜¯è¿™æ ·ä¸€ç§æœºåˆ¶,goroutineçš„æ¦‚å¿µç±»ä¼¼äºçº¿ç¨‹,ä½†goroutineæ˜¯ç”±goçš„è¿è¡Œæ—¶runtimeè°ƒåº¦å’Œç®¡ç†çš„.goç¨‹åºä¼šæ™ºèƒ½åœ°å°†goroutineä¸­çš„ä»»åŠ¡åˆç†çš„åˆ†é…ç»™æ¯ä¸ªcpu.goè¯­è¨€ä¹‹æ‰€ä»¥è¢«æˆä¸ºç°ä»£åŒ–çš„ç¼–ç¨‹è¯­è¨€,å°±æ˜¯å› ä¸ºä»–åœ¨è¯­è¨€å±‚é¢å·²ç»å†…ç½®äº†è°ƒåº¦å’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„æœºåˆ¶.\nåœ¨goè¯­è¨€å˜æˆä¸­ä½ ä¸éœ€è¦è‡ªå·±å»å†™è¿›çº¿ç¨‹/çº¿ç¨‹/åç¨‹,ä½ çš„æŠ€èƒ½åŒ…é‡Œåªæœ‰ä¸€ä¸ªæŠ€èƒ½ \u0026mdash;- goroutine,å½“ä½ éœ€è¦è®©æŸä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œçš„æ—¶å€™,ä½ åªéœ€è¦æŠŠè¿™ä¸ªä»»åŠ¡åŒ…è£…æˆä¸€ä¸ªå‡½æ•°,å¼€å¯ä¸€ä¸ªgoroutineå»æ‰§è¡Œè¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†,å°±æ˜¯è¿™ä¹ˆç®€å•ç²—æš´.\nä½¿ç”¨goroutine goè¯­è¨€ä¸­ä½¿ç”¨goroutineéå¸¸ç®€å•,åªéœ€è¦åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™åœ¨å‰é¢åŠ ä¸Šgoå…³é”®å­—,å°±å¯ä»¥ä¸ºä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªgoroutine\nä¸€ä¸ªgoroutineå¿…å®šå¯¹åº”ä¸€ä¸ªå‡½æ•°,å¯ä»¥åˆ›å»ºå¤šä¸ªgoroutineå»æ‰§è¡Œç›¸åŒçš„å‡½æ•°\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) //ç¨‹åºå¯åŠ¨ä¹‹åä¼šåˆ›å»ºä¸€ä¸ªä¸»goroutineå»æ‰§è¡Œ func main() { for i := 0; i \u0026lt; 10; i++ { //go hello(i) //å¼€å¯ä¸€ä¸ªå•ç‹¬çš„goroutineå»æ‰§è¡Œhelloå‡½æ•°ï¼ˆä»»åŠ¡ï¼‰ //åŒ¿å //go func() { // fmt.Println(i) //}() //é—­åŒ… ä¼šå‡ºç°iå¤–å±‚æ˜¯1 å†…éƒ¨è¾“å‡º1 å¤–éƒ¨è¿™æ—¶å€™å·²ç»è·‘åˆ°10äº† é‚£ä¹ˆè¿™æ—¶å€™å†…éƒ¨å°±è¾“å‡º10 // go func(i int) { fmt.Println(i) //ç”¨çš„æ˜¯å‡½æ•°å‚æ•°çš„é‚£ä¸ªi ï¼Œ ä¸å†æ˜¯å¤–é¢çš„é‚£ä¸ªiäº† }(i) } fmt.Println(\u0026#34;main\u0026#34;) //mainå‡½æ•°ç»“æŸäº† ç”±mainå‡½æ•°å¯åŠ¨çš„goroutineä¹Ÿéƒ½ç»“æŸäº† time.Sleep(time.Second) } func hello(i int) { fmt.Println(\u0026#34;hello\u0026#34;,i) } goroutineä»€ä¹ˆæ—¶å€™ç»“æŸ goroutineå¯¹åº”çš„å‡½æ•°æ‰§è¡Œç»“æŸ goroutineå°±ç»“æŸäº†\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;math/rand\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; ) func main() { //waitGroup //f1() for i := 0; i \u0026lt;10 ; i++ { wg.Add(1) go f2(i) } //å¦‚ä½•çŸ¥é“è¿™10ä¸ªgoroutineéƒ½ç»“æŸäº† wg.Wait() //ç­‰å¾…wgçš„è®¡æ•°å™¨å‡ä¸º0 } var wg sync.WaitGroup func f1() { rand.Seed(time.Now().UnixNano()) for i := 0; i \u0026lt; 5; i++ { i1 := rand.Int() i2 := rand.Intn(10) //å·¦å¼€å³é—­ fmt.Println(i1,i2) } } func f2(i int) { time.Sleep(time.Millisecond*time.Duration(rand.Intn(300))) fmt.Println(i) defer wg.Done() } rand func f1() { rand.Seed(time.Now().UnixNano()) for i := 0; i \u0026lt; 5; i++ { i1 := rand.Int() i2 := rand.Intn(10) //å·¦å¼€å³é—­ fmt.Println(i1,i2) } } goroutineä¸çº¿ç¨‹ å¯å¢é•¿çš„æ ˆ OSçº¿ç¨‹ï¼ˆæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼‰ä¸€èˆ¬éƒ½æœ‰å›ºå®šçš„æ ˆå†…å­˜ï¼ˆé€šå¸¸ä¸º2MBï¼‰ï¼Œä¸€ä¸ªgoroutineçš„æ ˆåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå¼€å§‹æ—¶åªæœ‰å¾ˆå°çš„æ ˆï¼ˆå…¸å‹æƒ…å†µä¸‹2KBï¼‰ï¼Œgoroutineçš„æ ˆä¸æ˜¯å›ºå®šçš„ï¼Œä»–å¯ä»¥æŒ‰éœ€å¢å¤§å’Œå‡å°ï¼Œgoroutineçš„æ ˆå¤§å°é™åˆ¶å¯ä»¥è¾¾åˆ°1GBï¼Œè™½ç„¶æå°‘ä¼šç”¨åˆ°è¿™ä¹ˆå¤§ï¼Œæ‰€ä»¥åœ¨goè¯­è¨€ä¸­ä¸€æ¬¡åˆ›å»º10wå·¦å³çš„goroutineä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\ngoroutineè°ƒåº¦ GMPæ˜¯goè¯­è¨€è¿è¡Œæ—¶runtimeå±‚é¢çš„å®ç°ï¼Œæ˜¯goè¯­è¨€è‡ªå·±å®ç°çš„ä¸€å¥—è°ƒåº¦ç³»ç»Ÿã€‚åŒºåˆ«ä¸æ“ä½œç³»ç»Ÿè°ƒåº¦OSçº¿ç¨‹ã€‚\nGå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä¸ªgoroutineçš„ï¼Œé‡Œé¢é™¤äº†å­˜æ”¾goroutineä¿¡æ¯å¤– è¿˜æœ‰ä¸æ‰€åœ¨Pçš„ç»‘å®šç­‰ä¿¡æ¯ M machineæ˜¯Goè¿è¡Œæ—¶runtineå¯¹æ“ä½œç³»ç»Ÿå†…æ ¸çº¿ç¨‹çš„è™šæ‹Ÿï¼ŒMä¸å†…æ ¸çº¿ç¨‹ä¸€èˆ¬æ˜¯ä¸€ä¸€æ˜ å°„çš„å…³ç³»ï¼Œä¸€ä¸ªgoroutineæœ€ç»ˆæ˜¯è¦æ”¾åˆ°Mä¸Šæ‰§è¡Œçš„ Pç®¡ç†ç€ä¸€ç»„goroutineé˜Ÿåˆ—ï¼ŒPé‡Œé¢ä¼šå­˜å‚¨å½“å‰goroutineè¿è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå‡½æ•°æŒ‡é’ˆã€å †æ ˆåœ°å€åŠåœ°å€è¾¹ç•Œï¼‰ï¼ŒPä¼šå¯¹è‡ªå·±ç®¡ç†çš„goroutineé˜Ÿåˆ—åšä¸€äº›è°ƒåº¦ï¼ˆæ¯”å¦‚æŠŠå ç”¨CPUæ—¶é—´è¾ƒé•¿çš„goroutineæš‚åœã€è¿è¡Œåç»­çš„goroutineç­‰ç­‰ï¼‰å½“è‡ªå·±çš„é˜Ÿåˆ—æ¶ˆè´¹å®Œäº†å°±å»å…¨å±€é˜Ÿåˆ—é‡Œå–ï¼Œå¦‚æœå…¨å±€é˜Ÿåˆ—é‡Œä¹Ÿæ¶ˆè´¹å®Œäº†ä¼šå»å…¶ä»–Pçš„é˜Ÿåˆ—é‡ŒæŠ¢ä»»åŠ¡ã€‚ Pä¸Mä¸€èˆ¬ä¹Ÿæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å¥¹ä»¬å…³ç³»æ˜¯ï¼šPç®¡ç†ç€ä¸€ç»„GæŒ‚è½½åœ¨Mä¸Šè¿è¡Œã€‚å½“ä¸€ä¸ªGé•¿ä¹…çš„é˜»å¡åœ¨ä¸€ä¸ªMä¸Šæ—¶ï¼Œruntimeä¼šæ–°å»ºä¸€ä¸ªMï¼Œé˜»å¡Gæ‰€åœ¨çš„Pä¼šæŠŠå…¶ä»–çš„GæŒ‚è½½åœ¨æ–°å»ºçš„Mä¸Šã€‚å½“æ—§çš„Gé˜»å¡å®Œæˆæˆ–è€…è®¤ä¸ºå…¶å·²ç»æ­»æ‰æ—¶ï¼Œå›æ”¶æ‰æ—§çš„M\nPçš„ä¸ªæ•°æ˜¯é€šè¿‡runtime.GOMAXPROCSè®¾å®šçš„ï¼Œæœ€å¤§ä¸º256 go1.5ç‰ˆæœ¬ä¹‹åé»˜è®¤ä¸ºç‰©ç†çº¿ç¨‹æ•°ã€‚åœ¨å¹¶å‘é‡å¤§çš„æ—¶å€™ä¼šå¢åŠ ä¸€äº›På’ŒMï¼Œä½†ä¸ä¼šå¤ªå¤šï¼Œåˆ‡æ¢å¤ªé¢‘ç¹çš„è¯ä¼šå¾—ä¸å¿å¤±\nå•ä»çº¿ç¨‹è°ƒåº¦è®²ï¼ŒGoè¯­è¨€ç›¸æ¯”èµ·æ¥å…¶ä»–è¯­è¨€çš„ä¼˜åŠ¿åœ¨äºOSçº¿ç¨‹æ˜¯æœ‰OSå†…æ ¸æ¥è°ƒåº¦çš„ã€‚goroutineåˆ™æ˜¯ç”±Goè¿è¡Œæ—¶ runtimeè‡ªå·±çš„è°ƒåº¦å™¨è°ƒåº¦çš„ã€‚è¿™ä¸ªè°ƒåº¦å™¨ä½¿ç”¨ä¸€ä¸ªæˆä¸ºmï¼šnè°ƒåº¦æŠ€æœ¯ï¼ˆå¤ç”¨/è°ƒåº¦mä¸ªgoroutineåˆ°nä¸ªOSçº¿ç¨‹ï¼‰å…¶ä¸€å¤§ç‰¹ç‚¹æ˜¯goroutineçš„è°ƒåº¦æ˜¯åœ¨ç”¨æˆ·æ€ä¸‹å®Œæˆçš„ï¼Œä¸æ¶‰åŠå†…æ ¸æ€ä¸ç”¨æˆ·æ€ä¹‹é—´çš„é¢‘ç¹åˆ‡æ¢ï¼ŒåŒ…æ‹¬å†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾éƒ½æ˜¯åœ¨ç”¨æˆ·æ€ç»´æŠ¤ç€ä¸€å¤§å—çš„å†…å­˜æ± ï¼Œä¸ç›´æ¥è°ƒç”¨ç³»ç»Ÿçš„mallocå‡½æ•°ï¼ˆé™¤éå†…å­˜æ± éœ€è¦æ”¹å˜ï¼‰ï¼Œæˆæœ¬æ¯”è°ƒåº¦OSçº¿ç¨‹ä½å¾ˆå¤šã€‚å¦ä¸€æ–¹é¢å……åˆ†åˆ©ç”¨äº†å¤šæ ¸çš„ç¡¬ä»¶èµ„æºï¼Œè¿‘ä¼¼çš„å§è‹¥å¹²goroutineå‡åˆ†åœ¨ç‰©ç†çº¿ç¨‹ä¸Šï¼Œå†åŠ ä¸Šæœ¬èº«goroutineçš„è¶…è½»é‡ï¼Œä»¥ä¸Šç§ç§ä¿è¯äº†goè°ƒåº¦æ–¹é¢çš„æ€§èƒ½ã€‚\nGOMAXPROCS goè¿è¡Œæ—¶çš„è°ƒåº¦ä½¿ç”¨gomaxprocså‚æ•°æ¥ç¡®å®šéœ€è¦ä½¿ç”¨å¤šå°‘ä¸ªOSçº¿ç¨‹æ¥åŒæ—¶æ‰§è¡Œgoä»£ç ã€‚é»˜è®¤å€¼æ˜¯æœºå™¨ä¸Šçš„CPUæ ¸å¿ƒæ•°ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ª8æ ¸å¿ƒçš„æœºå™¨ä¸Šï¼Œè°ƒåº¦å™¨ä¼šæŠŠgoä»£ç åŒæ—¶è°ƒåº¦åˆ°8ä¸ªOSçº¿ç¨‹ä¸Š(GOMAXPROCSæ˜¯mï¼šnè°ƒåº¦ä¸­çš„n)\ngoè¯­è¨€ä¸­å¯ä»¥é€šè¿‡runtime.gomaxprocs()å‡½æ•°æ¥è®¾å®šå½“å‰ç¨‹åºå¹¶å‘æ—¶å ç”¨çš„CPUé€»è¾‘æ ¸å¿ƒæ•°\ngo1.5ç‰ˆæœ¬ä¹‹å‰ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯å•æ ¸å¿ƒæ‰§è¡Œã€‚go1.5ç‰ˆæœ¬ä¹‹åï¼Œé»˜è®¤ä½¿ç”¨å…¨éƒ¨çš„CPUé€»è¾‘æ ¸å¿ƒæ•°\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;runtime\u0026#34; \u0026#34;sync\u0026#34; ) var wg sync.WaitGroup func main() { runtime.GOMAXPROCS(2) //é»˜è®¤CPUçš„é€»è¾‘æ ¸å¿ƒæ•°ï¼Œé»˜è®¤è·‘æ»¡æ•´ä¸ªCPU fmt.Println(runtime.NumCPU()) wg.Add(2) go a() go b() wg.Wait() } func a() { for i := 0; i \u0026lt; 10; i++ { fmt.Printf(\u0026#34;A:%d\\n\u0026#34;,i) } defer wg.Done() } func b() { for i := 0; i \u0026lt; 10; i++ { fmt.Printf(\u0026#34;B:%d\\n\u0026#34;,i) } defer wg.Done() } goè¯­è¨€ä¸­çš„æ“ä½œç³»ç»Ÿçº¿ç¨‹å’Œgoroutineçš„å…³ç³» ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹å¯¹åº”ç”¨æˆ·æ€å¤šä¸ªgoroutine goç¨‹åºå¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ goroutineå’ŒOSçº¿ç¨‹æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³m:n goroutineè°ƒåº¦æ¨¡å‹ GMP\nmï¼šn\ngoroutineåˆå§‹æ ˆçš„å¤§å°æ˜¯2k\nchannel å•çº¯åœ°å°†å‡½æ•°å¹¶å‘æ‰§è¡Œæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚å‡½æ•°ä¸å‡½æ•°é—´éœ€è¦äº¤æ¢æ•°æ®æ‰èƒ½ä½“ç°å¹¶å‘æ‰§è¡Œçš„æ„ä¹‰\nè™½ç„¶å¯ä»¥ä½¿ç”¨å…±äº«å†…å­˜è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œä½†æ˜¯å…±äº«å†…å­˜åœ¨ä¸åŒçš„goroutineä¸­å®¹æ˜“å‘ç”Ÿç«æ€é—®é¢˜ã€‚ä¸ºäº†ä¿è¯æ•°æ®äº¤æ¢çš„æ­£ç¡®æ€§ï¼Œå¿…é¡»ä½¿ç”¨äº’æ–¥é‡å¯¹å†…å­˜è¿›è¡ŒåŠ é”ï¼Œä½†è¿™ç§åšæ³•åŠ¿å¿…é€ æˆæ€§èƒ½é—®é¢˜ã€‚\ngoè¯­è¨€çš„å¹¶å‘æ¨¡å‹æ˜¯CSP communication sequential processes æå€¡é€šè¿‡é€šä¿¡å…±äº«å†…å­˜è€Œä¸æ˜¯é€šè¿‡å…±äº«å†…å­˜è€Œå®ç°é€šä¿¡\nå¦‚æœè¯´goroutineæ˜¯goç¨‹åºå¹¶å‘çš„æ‰§è¡Œä½“ï¼Œchannelå°±æ˜¯ä»–ä»¬ä¹‹é—´çš„è¿æ¥ã€‚channelæ˜¯å¯ä»¥è®©ä¸€ä¸ªgoroutineå‘é€ç‰¹å®šå€¼åˆ°å¦ä¸€ä¸ªgoroutineçš„é€šä¿¡æœºåˆ¶\ngoè¯­è¨€ä¸­çš„é€šé“channelæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ã€‚é€šé“åƒä¸€ä¸ªä¼ é€å¸¦æˆ–è€…é˜Ÿåˆ—ï¼Œæ€»æ˜¯éµå¾ªå…ˆå…¥å…ˆå‡ºfifoçš„è§„åˆ™ï¼Œä¿è¯æ”¶å‘æ•°æ®çš„é¡ºåºã€‚æ¯ä¸€ä¸ªé€šé“éƒ½æ˜¯å…·ä½“ç±»å‹çš„å¯¼ç®¡ï¼Œä¹Ÿå°±æ˜¯å£°æ˜channelçš„æ—¶å€™éœ€è¦ä¸ºå…¶æŒ‡å®šå…ƒç´ ç±»å‹ã€‚\nchannelç±»å‹ var å˜é‡ chan å…ƒç´ ç±»å‹ é€šé“å¿…é¡»ä½¿ç”¨makeå‡½æ•°åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨\nå‘é€ å°†ä¸€ä¸ªå€¼å‘é€åˆ°é€šé“ä¸­\nch \u0026lt;- 10 //æŠŠ10å‘é€åˆ°ch æ¥æ”¶ ä»ä¸€ä¸ªé€šé“æ¥æ”¶å€¼\nx := \u0026lt;- ch //ä»chä¸­æ¥æ”¶å€¼å¹¶èµ‹å€¼ \u0026lt;- ch //ä»chä¸­æ¥æ”¶å€¼ï¼Œå¿½ç•¥ç»“æœ å…³é—­ æˆ‘ä»¬é€šè¿‡è°ƒç”¨å†…ç½®çš„closeå‡½æ•°æ¥å…³é—­é€šé“\nclose(ch) å…³äºå…³é—­é€šé“éœ€è¦æ³¨æ„çš„äº‹æƒ…æ˜¯ï¼Œåªæœ‰åœ¨é€šçŸ¥æ¥æ”¶æ–¹goroutineæ‰€æœ‰çš„æ•°æ®éƒ½å‘é€å®Œæ¯•çš„æ—¶å€™æ‰éœ€è¦å…³é—­é€šé“ã€‚é€šé“æ˜¯å¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶çš„ï¼Œä»–å’Œå…³é—­æ–‡ä»¶ä¸ä¸€æ ·ï¼Œåœ¨ç»“æŸæ“ä½œä¹‹åå…³é—­æ–‡ä»¶æ˜¯å¿…é¡»è¦åšçš„ï¼Œä½†å…³é—­é€šé“ä¸æ˜¯å¿…é¡»çš„ã€‚\nå…³é—­åçš„é€šé“æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\nå¯¹ä¸€ä¸ªå…³é—­çš„é€šé“å†å‘é€å€¼å°±ä¼šå¯¼è‡´panic å¯¹ä¸€ä¸ªå…³é—­çš„é€šé“è¿›è¡Œæ¥æ”¶å°±ä¼šä¸€ç›´è·å–ç›´åˆ°é€šé“ä¸ºç©º å¯¹ä¸€ä¸ªå…³é—­çš„å¹¶ä¸”æ²¡æœ‰å€¼çš„é€šé“æ‰§è¡Œæ¥æ”¶æ“ä½œä¼šå¾—åˆ°å¯¹åº”ç±»å‹çš„é›¶å€¼ å…³é—­ä¸€ä¸ªå·²ç»å…³é—­çš„é€šé“ä¼šå¯¼è‡´panic æ— ç¼“å†²é€šé“ æ— ç¼“å†²çš„é€šé“åˆç§°ä¸ºé˜»å¡çš„é€šé“ã€‚æ— ç¼“å†²çš„é€šé“åªåœ¨æœ‰äººæ¥æ”¶å€¼çš„æ—¶å€™æ‰èƒ½å‘é€å€¼ã€‚æ— ç¼“å†²é€šé“ä¸Šçš„å‘é€æ“ä½œä¼šé˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ªgoroutineåœ¨è¯¥é€šé“ä¸Šæ‰§è¡Œæ¥æ”¶æ“ä½œï¼Œè¿™ä¸ªå€¼æ‰èƒ½å‘é€æˆåŠŸï¼Œä¸¤ä¸ªgoroutineå°†ç»§ç»­æ‰§è¡Œã€‚ç›¸åï¼Œå¦‚æœæ¥æ”¶æ“ä½œå…ˆæ‰§è¡Œï¼Œæ¥æ”¶æ–¹çš„goroutineå°†é˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ªgoroutineåœ¨è¯¥é€šé“ä¸Šå‘é€ä¸€ä¸ªå€¼ã€‚ä½¿ç”¨æ— ç¼“å†²é€šé“è¿›è¡Œé€šä¿¡å°†å¯¼è‡´å‘é€å’Œæ¥æ”¶çš„goroutineåŒæ­¥åŒ–ã€‚å› æ­¤ï¼Œæ— ç¼“å†²é€šé“ä¹Ÿè¢«æˆä¸ºåŒæ­¥é€šé“\næœ‰ç¼“å†²é€šé“ åœ¨ä½¿ç”¨makeåˆå§‹åŒ–çš„æ—¶å€™ä¸ºå…¶æŒ‡å®šé€šé“çš„å®¹é‡\nåªè¦é€šé“çš„å®¹é‡å¤§äºé›¶ï¼Œé‚£ä¹ˆè¯¥é€šé“å°±æ˜¯æœ‰ç¼“å†²çš„é€šé“ï¼Œé€šé“çš„å®¹é‡è¡¨ç¤ºé€šé“ä¸­èƒ½å­˜æ”¾å…ƒç´ çš„æ•°é‡ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„lenå‡½æ•°è·å–é€šé“å†…å…ƒç´ çš„æ•°é‡ï¼Œä½¿ç”¨capå‡½æ•°è·å–é€šé“çš„å®¹é‡\nå¦‚ä½•ä¼˜é›…çš„ä»é€šé“å¾ªç¯å–å€¼ å½“é€šè¿‡é€šé“å‘é€æœ‰é™çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡closeå‡½æ•°å…³é—­é€šé“æ¥å‘ŠçŸ¥ä»è¯¥é€šé“æ¥æ”¶å€¼çš„goroutineåœæ­¢ç­‰å¾…ã€‚å½“é€šé“è¢«å…³é—­æ—¶ï¼Œå¾€è¯¥é€šé“å‘é€å€¼ä¼šå¼•å‘panicï¼Œä»è¯¥é€šé“é‡Œæ¥æ”¶çš„å€¼ä¸€ç›´éƒ½æ˜¯ç±»å‹çš„é›¶å€¼ã€‚é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé€šé“æ˜¯å¦è¢«å…³é—­äº†å‘¢ï¼Ÿ\nå•å‘é€šé“ æœ‰çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†é€šé“ä½œä¸ºå‚æ•°åœ¨å¤šä¸ªä»»åŠ¡å‡½æ•°é—´ä¼ é€’ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨ä¸åŒçš„ä»»åŠ¡å‡½æ•°ä¸­ä½¿ç”¨é€šé“éƒ½ä¼šå¯¹å…¶è¿›è¡Œé™åˆ¶ï¼Œæ¯”å¦‚åªèƒ½å‘é€æˆ–åªèƒ½æ¥æ”¶ã€‚goè¯­è¨€ä¸­æä¾›äº†å•å‘é€šé“æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚\nvar ch1 \u0026lt;-chan //åªèƒ½å–å€¼ var ch2 chan\u0026lt;- //åªèƒ½å­˜å€¼ image-20210813220847452\rworker pool ï¼ˆgoroutineæ± ï¼‰ ç¼–å†™ä»£ç å®ç°ä¸€ä¸ªè®¡ç®—éšæœºæ•°çš„æ¯ä¸ªä½ç½®æ•°å­—ä¹‹å’Œçš„ç¨‹åºã€‚è¦æ±‚ä½¿ç”¨goroutineå’Œchannelæ„å»ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼ï¼Œå¯ä»¥æŒ‡å®šå¯åŠ¨çš„goroutineæ•°é‡-worker poolæ¨¡å¼\nåœ¨å·¥ä½œä¸­æˆ‘ä»¬é€šå¸¸ä¼šç”¨worker poolæ¨¡å¼ï¼Œæ§åˆ¶goroutineæ•°é‡ï¼Œé˜²æ­¢goroutineæ³„æ¼å’Œæš´æ¶¨\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) var jobs chan int var results chan int func main() { jobs = make(chan int , 100) results = make(chan int , 100) for i := 1; i \u0026lt;= 3; i++ { go worker(i,jobs,results) } for i := 1; i \u0026lt;= 5; i++ { jobs\u0026lt;-i } for i := 0; i \u0026lt; 5; i++ { \u0026lt;-results } //for result := range results { // fmt.Println(result) //} } func worker(id int, jobs \u0026lt;-chan int, results chan\u0026lt;- int) { for j := range jobs { fmt.Println(\u0026#34;worker \u0026#34;,id,\u0026#34; start job \u0026#34;,j) time.Sleep(time.Second) results\u0026lt;-2*j fmt.Println(\u0026#34;worker \u0026#34;,id,\u0026#34; end job\u0026#34; , j) } } ç»ƒä¹  selectå¤šè·¯å¤ç”¨ åœ¨æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦åŒæ—¶ä»å¤šä¸ªé€šé“æ¥æ”¶æ•°æ®ã€‚é€šé“åœ¨æ¥æ”¶æ•°æ®æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å¯ä»¥æ¥æ”¶å°†ä¼šå‘ç”Ÿé˜»å¡ã€‚ä½ ä¹Ÿè®¸ä¼šå†™å‡ºå¦‚ä¸‹ä»£ç ä½¿ç”¨éå†çš„æ–¹å¼æ¥å®ç°\nimage-20210813232439809\rè¿™ç§æ–¹å¼è™½ç„¶å¯ä»¥å®ç°ä»å¤šä¸ªé€šé“æ¥æ”¶å€¼çš„è¦æ±‚ï¼Œä½†æ˜¯è¿è¡Œæ€§èƒ½ä¼šå·®å¾ˆå¤šã€‚ä¸ºäº†åº”å¯¹è¿™ç§åœºæ™¯ï¼Œgoå†…ç½®äº†selectå…³é”®å­—ï¼Œå¯ä»¥åŒæ—¶å“åº”å¤šä¸ªé€šé“çš„æ“ä½œã€‚selectçš„ä½¿ç”¨ç±»ä¼¼äºswitchè¯­å¥ï¼Œä»–æœ‰ä¸€äº›caseåˆ†æ”¯å’Œä¸€ä¸ªé»˜è®¤çš„åˆ†æ”¯ã€‚æ¯ä¸ªcaseä¼šå¯¹åº”ä¸€ä¸ªé€šé“çš„é€šä¿¡ï¼ˆæ¥æ”¶æˆ–å‘é€ï¼‰è¿‡ç¨‹ã€‚selectä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æŸä¸ªcaseçš„é€šä¿¡æ“ä½œå®Œæˆæ—¶ï¼Œå°±ä¼šæ‰§è¡Œcaseåˆ†æ”¯å¯¹åº”çš„è¯­å¥ã€‚\nimage-20210813232707904\rä½¿ç”¨selectè¯­å¥èƒ½æé«˜å¯è¯»æ€§\nå¯å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªchannelçš„å‘é€/æ¥æ”¶æ“ä½œ å¦‚æœæœ‰å¤šä¸ªcaseåŒæ—¶æ»¡è¶³ï¼Œselectä¼šéšæœºé€‰æ‹©ä¸€ä¸ª å¯¹äºæ²¡æœ‰caseçš„select{}ä¼šä¸€ç›´ç­‰å¾…ï¼Œå¯ç”¨äºé˜»å¡mainå‡½æ•° package main import \u0026#34;fmt\u0026#34; func main() { ch:=make(chan int , 1) for i := 0; i \u0026lt; 10; i++ { select { case x:=\u0026lt;-ch: fmt.Println(x) case ch\u0026lt;-i: default: fmt.Println(\u0026#34;hiahiahia\u0026#34;) } } } å¹¶å‘å®‰å…¨å’Œé” ä½œä¸š æ—¥å¿—åº“ä¸­channelæ€ä¹ˆç”¨ ä»€ä¹ˆæ—¶å€™èµ·åå°çš„goroutineå»å†™æ—¥å¿—åˆ°æ–‡ä»¶ä¸­ day08 ä»Šæ—¥å†…å®¹ å¹¶å‘ã®goroutine å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ«\ngoroutineçš„å¯åŠ¨ go\nå°†å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡åŒ…è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™å‰é¢åŠ ä¸Šgoå…³é”®å­—ï¼Œå°±èƒ½å¤Ÿå¼€å¯ä¸€ä¸ªgoroutineå»æ‰§è¡Œè¯¥å‡½æ•°\ngoroutineå¯¹åº”çš„å‡½æ•°æ‰§è¡Œå®Œï¼Œè¯¥goroutineå°±ç»“æŸäº†\nç¨‹åºå¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„åˆ›å»ºä¸€ä¸ªgoroutineå»æ‰§è¡Œmainå‡½æ•°ï¼Œmainå‡½æ•°ç»“æŸäº†é‚£ä¹ˆç¨‹åºå°±ç»“æŸäº†æ‰€æœ‰å¼€å¯çš„goroutineä¹Ÿéƒ½ç»“æŸäº†\nsync.waitGroup ç­‰å¾…ç»„\nvar wg waitGroup wg.add(1):è®¡æ•°å™¨+1 wg.done()ï¼šè®¡æ•°å™¨-1 wg.wait()ï¼šç­‰å¾… goroutineçš„æœ¬è´¨ goroutineçš„è°ƒåº¦æ¨¡å‹GMP\nmï¼šn æŠŠmä¸ªgoroutineåˆ†é…ç»™nä¸ªæ“ä½œç³»ç»Ÿçš„çº¿ç¨‹\ngoroutineä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼ˆOSï¼‰çš„åŒºåˆ« goroutineæ˜¯ç”¨æˆ·æ€çš„çº¿ç¨‹ï¼Œæ¯”å†…æ ¸æ€çš„çº¿ç¨‹æ›´è½»é‡çº§ä¸€ç‚¹ï¼Œåˆå§‹å€¼2Kb\nruntime.GOMAXPROCS() go1.5ä¹‹åæ¨¡å¼å°±æ˜¯æ“ä½œç³»ç»Ÿçš„é€»è¾‘æ ¸å¿ƒæ•°,é»˜è®¤è·‘æ»¡cpu\nruntime.GOMAXPROCS(1)åªå ç”¨ä¸€ä¸ªæ ¸å¿ƒ\nwork pool æ¨¡å¼ å¼€å¯ä¸€å®šæ•°æ®çš„goroutineå»å¹²æ´»ã€‚\nchannelä¸ºä»€ä¹ˆéœ€è¦ æƒ³é€šè¿‡channelå®ç°å¤šä¸ªgoroutineçš„é€šä¿¡\nCSP ï¼šé€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜\nchannelæ˜¯ä¸€ç§ç±»å‹ï¼Œä¸€ç§å¼•ç”¨ç±»å‹ã€‚makeå‡½æ•°åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨ï¼ˆslice / map /channelï¼‰\nchannelçš„å£°æ˜ var ch chan int\nchannelçš„åˆå§‹åŒ– make(chan å…ƒç´ ç±»å‹ï¼Œ[ç¼“å†²åŒºå¤§å°])\nchannelçš„æ“ä½œï¼š\nå‘é€\u0026lt;-\næ¥æ”¶\u0026lt;-\nå…³é—­close\nå¸¦ç¼“å†²åŒºçš„é€šé“å’Œæ— ç¼“å†²åŒºçš„é€šé“\nå•å‘é€šé“ é€šå¸¸æ˜¯ç”¨åšå‡½æ•°çš„å‚æ•°ï¼Œåªè¯»å’Œåªå†™\nselect åŒä¸€æ—¶åˆ»æœ‰å¤šä¸ªé€šé“è¦æ“ä½œçš„åœºæ™¯ï¼Œä½¿ç”¨select\nsyncåŒ… äº’æ–¥é” äº’æ–¥é”æ˜¯ä¸€ç§å¸¸ç”¨çš„æ§åˆ¶å…±äº«èµ„æºè®¿é—®çš„æ–¹æ³•ï¼Œä»–èƒ½å¤Ÿä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªgoroutineå¯ä»¥è®¿é—®èµ„æºï¼Œgoè¯­è¨€ä¸­ä½¿ç”¨syncåŒ…çš„mutexç±»å‹æ¥å®ç°äº’æ–¥é”ã€‚ä½¿ç”¨äº’æ–¥é”æ¥ä¿®å¤ä¸Šé¢çš„ä»£ç \nä½¿ç”¨äº’æ–¥é”èƒ½å¤Ÿä¿è¯åŒä¸€æ—¶é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ªgoroutineè¿›å…¥ä¸´ç•ŒåŒºï¼Œå…¶ä»–çš„goroutineåˆ™åœ¨ç­‰å¾…é”ï¼Œå½“äº’æ–¥é”é‡Šæ”¾åï¼Œç­‰å¾…çš„goroutineæ‰å¯ä»¥è·å–é”è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¤šä¸ªgoroutineåŒæ—¶ç­‰å¾…ä¸€ä¸ªé”æ—¶ï¼Œå”¤é†’çš„ç­–ç•¥æ˜¯éšæœºçš„\nè¯»å†™äº’æ–¥é” äº’æ–¥é”æ˜¯å®Œå…¨äº’æ–¥çš„ï¼Œä½†æ˜¯å¾ˆå¤šå®é™…åœºæ™¯ä¸‹æ˜¯è¯»å¤šå†™å°‘çš„ï¼Œå½“æˆ‘ä»¬å¹¶å‘çš„å»è¯»å–ä¸€ä¸ªèµ„æºä¸æ¶‰åŠèµ„æºä¿®æ”¹çš„æ—¶å€™æ˜¯æ²¡æœ‰å¿…è¦åŠ é”çš„ï¼Œè¿™ç§åœºæ™¯ä¸‹ä½¿ç”¨è¯»å†™é”æ˜¯æ›´å¥½çš„ä¸€ç§é€‰æ‹©ã€‚è¯»å†™é”åœ¨goè¯­è¨€ä¸­ä½¿ç”¨syncåŒ…ä¸­çš„rwmutexç±»å‹ã€‚\nè¯»å†™é”åˆ†ä¸ºä¸¤ç§ï¼šè¯»é”å’Œå†™é”ã€‚å½“ä¸€ä¸ªgoroutineè·å–è¯»é”ä¹‹åï¼Œå…¶ä»–çš„goroutineå¦‚æœæ˜¯è·å–è¯»é”ä¼šç»§ç»­è·å–é”ï¼Œå¦‚æœæ˜¯è·å–å†™é”å°±ä¼šç­‰å¾…ï¼›å½“ä¸€ä¸ªgoroutineè·å–å†™é”ä¹‹åï¼Œå…¶ä»–çš„goroutineæ— è®ºæ˜¯è·å–è¯»é”è¿˜æ˜¯å†™é”éƒ½ä¼šç­‰å¾…ã€‚\nsync.waitgroup åœ¨ä»£ç ä¸­ç”Ÿç¡¬çš„ä½¿ç”¨time.sleepè‚¯å®šæ˜¯ä¸åˆé€‚çš„ï¼Œgoè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨sync.waitgroupæ¥å®ç°å¹¶å‘ä»»åŠ¡çš„åŒæ­¥\nwg.add\nwg.done\nwg.wait\nsync.waitgroupå†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®¡æ•°å™¨çš„å€¼å¯ä»¥å¢åŠ å’Œå‡å°‘ã€‚å½“æˆ‘ä»¬å¯åŠ¨äº†nä¸ªå¹¶å‘ä»»åŠ¡ï¼Œå°±å°†è®¡æ•°å™¨å¢åŠ nï¼Œæ¯ä¸ªä»»åŠ¡å®Œæˆæ—¶é€šè¿‡è°ƒç”¨doneæ–¹æ³•å°†è®¡æ•°å™¨å‡ä¸€ï¼Œé€šè¿‡è°ƒç”¨waitæ¥ç­‰å¾…å¹¶å‘ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå½“è®¡æ•°å™¨ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰å¹¶å‘ä»»åŠ¡å·²ç»å®Œæˆã€‚\nsync.once åœ¨ç¼–ç¨‹çš„å¾ˆå¤šåœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦ç¡®ä¿æŸäº›æ“ä½œåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹åªæ‰§è¡Œä¸€æ¬¡ï¼Œä¾‹å¦‚åªåŠ è½½ä¸€æ¬¡é…ç½®æ–‡ä»¶ã€åªå…³é—­ä¸€æ¬¡é€šé“ç­‰\ngoè¯­è¨€ä¸­çš„syncåŒ…ä¸­æä¾›äº†ä¸€ä¸ªé’ˆå¯¹åªæ‰§è¡Œä¸€æ¬¡åœºæ™¯çš„è§£å†³æ–¹æ¡ˆ\u0026ndash;sync.once\nsync.onceåªæœ‰ä¸€ä¸ªdoæ–¹æ³•\nfunc (o *Once) Do (f func()) {} å¤‡æ³¨ï¼šå¦‚æœè¦æ‰§è¡Œçš„å‡½æ•°féœ€è¦ä¼ é€’å‚æ•°å°±éœ€è¦æ­é…é—­åŒ…æ¥ä½¿ç”¨\nsync.map mapå¹¶å‘å¤šäº†ä¹‹åæ‰§è¡Œå°±ä¼šæŠ¥fatal error: concurrent map writes é”™è¯¯\nåƒè¿™ç§åœºæ™¯ä¸‹å°±éœ€è¦ä¸ºmapåŠ é”æ¥ä¿è¯å¹¶å‘çš„å®‰å…¨æ€§äº†ï¼Œgoè¯­è¨€çš„suncåŒ…ä¸­æä¾›äº†ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å¹¶å‘å®‰å…¨ç‰ˆmap\u0026mdash;-sync.map å¼€ç®±å³ç”¨è¡¨ç¤ºä¸ç”¨å‘å†…ç½®mapä¸€æ ·ä½¿ç”¨makeå‡½æ•°åˆå§‹åŒ–å°±èƒ½ç›´æ¥ä½¿ç”¨ã€‚åŒæ—¶sync.mapå†…ç½®äº†è¯¸å¦‚store ã€ load ã€ loadorstore ã€ delete ã€ rangeç­‰æ“ä½œæ–¹æ¡ˆ\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;sync\u0026#34; ) var wg = sync.WaitGroup{} var m = sync.Map{} func main() { for i := 0; i \u0026lt; 20; i++ { wg.Add(1) go func(i int) { key:=strconv.Itoa(i) set(key,i) //å¿…é¡»ä½¿ç”¨sync.mapå†…ç½®çš„storeæ–¹æ³•è®¾ç½®é”®å€¼å¯¹ fmt.Printf(\u0026#34;k=%v v=%v\\n\u0026#34;,key,get(key)) //å¿…é¡»ä½¿ç”¨sync.mapå†…ç½®çš„loadæ–¹æ³•æ ¹æ®keyå–å€¼ wg.Done() }(i) } wg.Wait() } func set(key string , value int) { m.Store(key,value) } func get(key string) interface{} { value,_:=m.Load(key) return value } atomicåŒ… func loadint32\nfunc storeint32\nfunc addint32\nfunc swapint32\nfunc compareandswapint32\nç½‘ç»œç¼–ç¨‹ å¦‚ä½•æ‰èƒ½è®©æˆ‘ä»¬çš„ç¨‹åºé€šè¿‡ç½‘ç»œäº’ç›¸é€šä¿¡å‘¢ï¼Ÿæœ¬æ–‡åªæ˜¯æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨netåŒ…è¿›è¡Œtcpå’Œudpé€šä¿¡ã€‚\näº’è”ç½‘åè®®ä»‹ç» äº’è”ç½‘çš„æ ¸å¿ƒæ˜¯ä¸€ç³»åˆ—åè®®ï¼Œæ€»ç§°ä¸ºäº’è”ç½‘åè®®internet protocol suite ï¼Œ æ­£æ˜¯è¿™äº›åè®®è§„å®šäº†ç”µè„‘å¦‚ä½•è¿æ¥å’Œç»„ç½‘ã€‚æˆ‘ä»¬ç†è§£äº†è¿™äº›åè®®ï¼Œå°±ç†è§£äº†äº’è”ç½‘çš„åŸç†ã€‚ç”±äºè¿™äº›åè®®å¤ªè¿‡å¤æ‚å’Œåºå¤§ï¼Œåªèƒ½ä»‹ç»æ—¥å¸¸å¼€å‘ä¸­æ¥è§¦è¾ƒå¤šçš„å‡ ä¸ªåè®®\näº’è”ç½‘åˆ†å±‚æ¨¡å‹ äº’è”ç½‘çš„é€»è¾‘å®ç°è¢«åˆ†ä¸ºå¥½å‡ å±‚ã€‚æ¯ä¸€å±‚éƒ½æœ‰è‡ªå·±çš„åŠŸèƒ½ã€‚äº’è”ç½‘æŒ‰ç…§ä¸åŒçš„æ¨¡å‹åˆ’åˆ†ä¼šæœ‰ä¸åŒçš„åˆ†å±‚ï¼Œä½†æ˜¯ä¸è®ºæ˜¯æŒ‰ç…§ä»€ä¹ˆæ¨¡å‹å»åˆ’åˆ†ï¼Œè¶Šå¾€ä¸Šçš„å±‚è¶Šé è¿‘ç”¨æˆ·ï¼Œè¶Šå¾€ä¸‹çš„å±‚è¶Šé ç»ç¡¬ä»¶ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­æˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„æ˜¯å°†äº’è”ç½‘åˆ’åˆ†ä¸ºäº”ä¸ªåˆ†å±‚çš„æ¨¡å‹ã€‚\nimage-20210815154839385\rç‰©ç†å±‚ æˆ‘ä»¬çš„ç”µè„‘è¦ä¸å¤–ç•Œäº’è”ç½‘é€šä¿¡ï¼Œéœ€è¦å…ˆæŠŠç”µè„‘è¿æ¥ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒç»çº¿ã€å…‰çº¤ã€ æ— çº¿ç”µæ³¢ç­‰æ–¹å¼ã€‚è¿™å°±å«åšâ€œå®ç‰©ç†å±‚â€ï¼Œä»–å°±æ˜¯æŠŠç”µè„‘è¿æ¥èµ·æ¥çš„ç‰©ç†æ‰‹æ®µã€‚ä»–ä¸»è¦è§„å®šäº†ç½‘ç»œçš„ä¸€äº›ç”µæ°”ç‰¹æ€§ï¼Œä½œç”¨æ˜¯è´Ÿè´£ä¼ é€0å’Œ1çš„ç”µä¿¡å·ã€‚\næ•°æ®é“¾è·¯å±‚ å•çº¯çš„0å’Œ1æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨è€…ä¼šä¸ºå…¶èµ‹äºˆä¸€äº›ç‰¹å®šçš„å«ä¹‰ï¼Œè§„å®šè§£è¯»ç”µä¿¡å·çš„æ–¹å¼ï¼šå¤šå°‘ä¸ªç”µä¿¡å·ç®—ä¸€ç»„ï¼Ÿæ¯ä¸ªä¿¡å·ä¸ºæœ‰ä½•æ„ä¹‰ï¼Ÿè¿™å°±æ˜¯æ•°æ®é“¾è·¯å±‚çš„åŠŸèƒ½ï¼Œä»–åœ¨ç‰©ç†å±‚çš„ä¸Šæ–¹ï¼Œç¡®å®šäº†ç‰©ç†å±‚ä¼ è¾“0å’Œ1çš„åˆ†ç»„æ–¹å¼åŠä»£è¡¨çš„æ„ä¹‰ã€‚æ—©èµ·çš„æ—¶å€™ï¼Œæ¯å®¶å…¬å¸éƒ½æœ‰è‡ªå·±çš„ç”µä¿¡å·åˆ†ç»„æ–¹å¼ã€‚é€æ¸çš„ï¼Œä¸€ç§å«åšä»¥å¤ªç½‘ethernetçš„åè®®å æ®äº†ä¸»å¯¼åœ°ä½ã€‚\nä»¥å¤ªç½‘è§„å®šï¼Œä¸€ç»„ç”µä¿¡å·æ„æˆä¸€ä¸ªæ•°æ®åŒ…ï¼Œå«åšå¸§frameã€‚æ¯ä¸€å¸§åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ ‡å¤´headå’Œæ•°æ®dataã€‚å…¶ä¸­è¡¨å¤´åŒ…å«æ•°æ®åŒ…çš„ä¸€äº›è¯´æ˜é¡¹ï¼Œæ¯”å¦‚å‘é€è€…ã€æ¥æ”¶è€…ã€æ•°æ®ç±»å‹ç­‰ç­‰ã€‚æ•°æ®åˆ™æ˜¯æ•°æ®åŒ…çš„å…·ä½“å†…å®¹ã€‚æ ‡å¤´çš„é•¿åº¦å›ºå®šä¸º18å­—èŠ‚ã€‚æ•°æ®çš„é•¿åº¦æœ€çŸ­ä¸º46å­—èŠ‚ï¼Œæœ€é•¿ä¸º1600å­—èŠ‚ã€‚å› æ­¤ï¼Œæ•´ä¸ªå¸§æœ€çŸ­ä¸º64å­—èŠ‚ï¼Œæœ€é•¿ä¸º1518å­—èŠ‚ã€‚å¦‚æœæ•°æ®å¾ˆé•¿ï¼Œå°±å¿…é¡»åˆ†å‰²æˆå¤šä¸ªå¸§è¿›è¡Œå‘é€ã€‚\né‚£ä¹ˆï¼Œå‘é€è€…å’Œæ¥æ”¶è€…æ˜¯å¦‚ä½•æ ‡è¯†çš„å‘¢ï¼Ÿä»¥å¤ªç½‘è§„å®šï¼Œè¿å…¥ç½‘ç»œçš„æ‰€æœ‰è®¾å¤‡éƒ½å¿…é¡»å…·æœ‰ç½‘å¡æ¥å£ã€‚æ•°æ®åŒ…å¿…é¡»æ˜¯ä»ä¸€å—ç½‘å¡ï¼Œä¼ é€åˆ°å¦ä¸€å—ç½‘å¡ã€‚ç½‘å¡çš„åœ°å€ï¼Œå°±æ˜¯æ•°æ®åŒ…çš„å‘é€åœ°å€å’Œæ¥æ”¶åœ°å€ï¼Œè¿™å«åšMACåœ°å€ã€‚æ¯å—ç½‘å¡å‡ºå‚çš„æ—¶å€™ï¼Œéƒ½æœ‰ä¸€ä¸ªå…¨ä¸–ç•Œç‹¬ä¸€æ— äºŒçš„MACåœ°å€ï¼Œé•¿åº¦æ˜¯48ä¸ªäºŒè¿›åˆ¶ä½ï¼Œé€šå¸¸ç”¨12ä¸ªåå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºã€‚å‰6ä¸ªåå…­è¿›åˆ¶æ˜¯å‚å•†ç¼–å·ï¼Œå6ä¸ªæ˜¯è¯¥å‚å•†çš„ç½‘å¡æµæ°´å·ã€‚æœ‰äº†MACåœ°å€ï¼Œå°±å¯ä»¥å®šä½ç½‘å¡å’Œæ•°æ®åŒ…çš„è·¯å¾„äº†ã€‚\næˆ‘ä»¬ä¼šé€šè¿‡ARPåè®®æ¥è·å–æ¥æ”¶æ–¹çš„MACåœ°å€ï¼Œæœ‰äº†MACåœ°å€ä¹‹åï¼Œå¦‚ä½•æŠŠæ•°æ®å‡†ç¡®çš„å‘é€ç»™æ¥æ”¶æ–¹å‘¢ï¼Ÿ å…¶å®è¿™é‡Œä»¥å¤ªç½‘é‡‡ç”¨äº†ä¸€ç§å¾ˆåŸå§‹çš„æ–¹å¼ï¼Œä»–ä¸æ˜¯æŠŠæ•°æ®å‡†ç¡®çš„é€åˆ°æ¥æ”¶æ–¹ï¼Œè€Œæ˜¯å‘æœ¬ç½‘ç»œå†…æ‰€æœ‰çš„è®¡ç®—æœºéƒ½å‘é€ï¼Œè®©æ¯å°è®¡ç®—æœºè¯»å–è¿™ä¸ªåŒ…çš„æ ‡å¤´ï¼Œæ‰¾åˆ°æ¥æ”¶æ–¹çš„MACåœ°å€ï¼Œç„¶åä¸è‡ªèº«çš„MACåœ°å€ç›¸æ¯”è¾ƒï¼Œå¦‚æœä¸¤è€…ç›¸åŒï¼Œå°±æ¥å—è¿™ä¸ªåŒ…ï¼Œåšè¿›ä¸€æ­¥å¤„ç†ï¼Œå¦åˆ™å°±ä¸¢å¼ƒè¿™ä¸ªåŒ…ã€‚è¿™ç§å‘é€æ–¹å¼å°±å«åšå¹¿æ’­broadcast\nç½‘ç»œå±‚ æŒ‰ç…§ä»¥å¤ªç½‘åè®®çš„è§„åˆ™æˆ‘ä»¬å¯ä»¥ä¾é MAC åœ°å€æ¥å‘å¤–å‘é€æ•°æ®ã€‚ç†è®ºä¸Šä¾é MACåœ°å€ï¼Œä½ ç”µè„‘çš„ç½‘å¡å°±å¯ä»¥æ‰¾åˆ°èº«åœ¨å¸ˆå§å¦ä¸€ä¸ªå„¿è§’è½çš„æŸå°ç”µè„‘çš„ç½‘å¡äº†ï¼Œä½†æ˜¯è¿™ç§åšæ³•æœ‰ä¸€ä¸ªé‡å¤§ç¼ºé™·å°±æ˜¯ä»¥å¤ªç½‘é‡‡ç”¨å¹¿æ’­æ–¹å¼å‘é€æ•°æ®åŒ…ï¼Œæ‰€æœ‰æˆå‘˜äººæ‰‹ä¸€åŒ…ï¼Œä¸ä»…æ•ˆç‡ä½ï¼Œè€Œä¸”å‘é€çš„æ•°æ®åªèƒ½å±€é™åœ¨å‘é€è€…æ‰€åœ¨çš„å­ç½‘ç»œã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸¤å°è®¡ç®—æœºä¸åœ¨åŒä¸€ä¸ªå­ç½‘ç»œï¼Œå¹¿æ’­æ˜¯ä¼ ä¸è¿‡å»çš„ã€‚è¿™ç§è®¾è®¡æ˜¯åˆç†ä¸”å¿…è¦çš„ï¼Œå› ä¸ºå¦‚æœäº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºéƒ½ä¼šæ”¶åˆ°äº’è”ç½‘ä¸Šæ”¶å‘çš„æ‰€æœ‰æ•°æ®åŒ…ï¼Œé‚£æ˜¯ä¸ç°å®çš„ã€‚\nå› æ­¤ï¼Œå¿…é¡»æ‰¾åˆ°ä¸€ç§æ–¹æ³•åŒºåˆ†é‚£äº›MACåœ°å€å±äºåŒä¸€ä¸ªå­ç½‘ç»œï¼Œé‚£äº›ä¸æ˜¯ã€‚å¦‚æœæ˜¯åŒä¸€ä¸ªå­ç½‘ç»œï¼Œå°±é‡‡ç”¨å¹¿æ’­æ–¹å¼å‘é€ï¼Œå¦åˆ™å°±é‡‡ç”¨è·¯ç”±æ–¹å¼å‘é€ã€‚è¿™å°±å¯¼è‡´äº†ç½‘ç»œå±‚çš„è¯ç”Ÿã€‚ä»–çš„ä½œç”¨æ˜¯å¼•è¿›ä¸€å¥—æ–°çš„åœ°å€ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤ŸåŒºåˆ†ä¸åŒè®¡ç®—æœºæ˜¯å¦å±äºåŒä¸€ä¸ªå­ç½‘ç»œã€‚è¿™å¥—åœ°å€å°±å«åšç½‘ç»œåœ°å€ï¼Œç®€ç§°ç½‘å€\nç½‘ç»œå±‚å‡ºç°ä»¥åï¼Œæ¯å°è®¡ç®—æœºæœ‰äº†ä¸¤ç§åœ°å€ï¼Œä¸€ç§æ˜¯MACåœ°å€ï¼Œå¦ä¸€ç§æ˜¯ç½‘å€ã€‚ä¸¤ç§åœ°å€ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼ŒMACåœ°å€æ˜¯ç»‘å®šåœ¨ç½‘å¡ä¸Šçš„ï¼Œç½‘ç»œåœ°å€åˆ™æ˜¯ç½‘ç»œç®¡ç†å‘˜åˆ†é…çš„ã€‚ç½‘ç»œåœ°å€å¸®åŠ©æˆ‘ä»¬ç¡®å®šè®¡ç®—æœºæ‰€åœ¨çš„å­ç½‘ç»œ,MACåœ°å€åˆ™å°†æ•°æ®åŒ…å‘é€åˆ°è¯¥å­ç½‘ç»œä¸­çš„ç›®æ ‡ç½‘å¡ä¸Šã€‚å› æ­¤ï¼Œä»é€»è¾‘ä¸Šå¯ä»¥æ¨æ–­ï¼Œå¿…å®šæ˜¯å…ˆå¤„ç†ç½‘ç»œåœ°å€ï¼Œç„¶ååœ¨å¤„ç†MACåœ°å€ã€‚\nè§„å®šç½‘ç»œåœ°å€çš„åè®®ï¼Œå«åšIPåè®®ã€‚å®ƒæ‰€å®šä¹‰çš„åœ°å€ï¼Œå°±è¢«ç§°ä¸ºIPåœ°å€ã€‚ç›®å‰ï¼Œå¹¿æ³›é‡‡ç”¨çš„æ˜¯IPåè®®ç¬¬å››ç‰ˆï¼Œç®€ç§°IPv4.IPv4è¿™ä¸ªç‰ˆæœ¬è§„å®šï¼Œç½‘ç»œåœ°å€ç”±32ä¸ªäºŒè¿›åˆ¶ä¸ºç»„æˆï¼Œæˆ‘ä»¬é€šå¸¸ä¹ æƒ¯ç”¨åˆ†æˆå››æ®µçš„åè¿›åˆ¶æ•°è¡¨ç¤ºIPåœ°å€ï¼Œä»0.0.0.0ä¸€ç›´åˆ°255.255.255.255\næ ¹æ®IPåè®®å‘é€çš„æ•°æ®ï¼Œå°±å«åšIPæ•°æ®åŒ…ã€‚IPæ•°æ®åŒ…ä¹Ÿåˆ†ä¸ºæ ‡å¤´å’Œæ•°æ®ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ‡å¤´éƒ¨åˆ†ä¸»è¦åŒ…æ‹¬ç‰ˆæœ¬ã€é•¿åº¦ã€IPåœ°å€ç­‰ä¿¡æ¯ï¼Œæ•°æ®éƒ¨åˆ†åˆ™æ˜¯IPæ•°æ®åŒ…çš„å…·ä½“å†…å®¹ï¼ŒIPæ•°æ®åŒ…çš„æ ‡å¤´éƒ¨åˆ†çš„é•¿åº¦ä¸º20åˆ°60å­—èŠ‚ï¼Œæ•´ä¸ªæ•°æ®åŒ…çš„æ€»é•¿åº¦æœ€å¤§ä¸º65535å­—èŠ‚ã€‚\nä¼ è¾“å±‚ æœ‰äº†MACåœ°å€å’ŒIPåœ°å€ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨äº’è”ç½‘ä¸Šä»»æ„ä¸¤å°ä¸»æœºä¸Šå»ºç«‹é€šä¿¡ã€‚ä½†é—®é¢˜æ˜¯åŒä¸€å°ä¸»æœºä¼šæœ‰è®¸å¤šç¨‹åºéƒ½éœ€è¦ç”¨ç½‘ç»œæ”¶å‘æ•°æ®ï¼Œæ¯”å¦‚QQå’Œæµè§ˆå™¨è¿™ä¸¤ä¸ªç¨‹åºéƒ½éœ€è¦è¿æ¥äº’è”ç½‘å¹¶æ”¶å‘æ•°æ®ï¼Œæˆ‘ä»¬å¦‚ä½•åŒºåˆ†æŸä¸ªæ•°æ®åŒ…åˆ°åº•æ˜¯å½’å“ªä¸ªç¨‹åºå‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¿™ä¸ªæ•°æ®åŒ…åˆ°åº•ä¾›å“ªä¸ªç¨‹åºï¼ˆè¿›ç¨‹ï¼‰ä½¿ç”¨ã€‚è¿™ä¸ªå‚æ•°å°±å«åšç«¯å£portï¼Œä»–å…¶å®æ˜¯æ¯ä¸€ä¸ªä½¿ç”¨ç½‘å¡çš„ç¨‹åºçš„ç¼–å·ã€‚æ¯ä¸ªæ•°æ®åŒ…éƒ½å‘åˆ°ä¸»æœºçš„ç‰¹å®šç«¯å£ï¼Œæ‰€ä»¥ä¸åŒçš„ç¨‹åºå°±èƒ½å–åˆ°è‡ªå·±æ‰€éœ€è¦çš„æ•°æ®ã€‚\nç«¯å£æ˜¯0åˆ°65535ä¹‹é—´çš„æ•´æ•°ï¼Œæ­£å¥½æ˜¯16ä¸ªäºŒè¿›åˆ¶ä½ã€‚0åˆ°1023çš„ç«¯å£è¢«ç³»ç»Ÿå ç”¨ï¼Œç”¨æˆ·åªèƒ½é€‰ç”¨å¤§äº1023çš„ç«¯å£ã€‚ æœ‰äº†IPå’Œç«¯å£æˆ‘ä»¬å°±èƒ½å®ç°å”¯ä¸€ç¡®å®šäº’è”ç½‘ä¸Šçš„ä¸€ä¸ªç¨‹åºï¼Œè¿›è€Œå®ç°ç½‘ç»œé—´çš„ç¨‹åºé€šä¿¡ã€‚\næˆ‘ä»¬å¿…é¡»åœ¨æ•°æ®åŒ…ä¸­åŠ å…¥ç«¯å£ä¿¡æ¯ï¼Œè¿™å°±æ˜¯éœ€è¦æ–°çš„åè®®ã€‚æœ€ç®€å•çš„å®ç°å«åšUDPåè®®ï¼Œä»–çš„æ ¼å¼å‡ ä¹å°±æ˜¯åœ¨æ•°æ®çš„å‰é¢ï¼ŒåŠ ä¸Šç«¯å£å·ã€‚UDPæ•°æ®åŒ…ï¼Œä¹Ÿå°±æ˜¯ç”±æ ‡å¤´å’Œæ•°æ®ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ ‡å¤´éƒ¨åˆ†ä¸»è¦å®šä¹‰äº†å‘å‡ºç«¯å£å’Œæ¥æ”¶ç«¯å£ï¼Œæ•°æ®éƒ¨åˆ†å°±æ˜¯å…·ä½“çš„å†…å®¹ã€‚UDPæ•°æ®åŒ…éå¸¸ç®€å•ï¼Œæ ‡å¤´éƒ¨åˆ†ä¸€å…±åªæœ‰8ä¸ªå­—èŠ‚ï¼Œæ€»é•¿åº¦ä¸è¶…è¿‡65535å­—èŠ‚ï¼Œæ­£å¥½æ”¾è¿›ä¸€ä¸ªIPæ•°æ®åŒ…ã€‚\nUDPåè®®çš„ä¼˜ç‚¹æ˜¯æ¯”è¾ƒç®€å•ï¼Œå®¹æ˜“å®ç°ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯å¯é æ€§è¾ƒå·®ï¼Œä¸€æ—¦æ•°æ®åŒ…å‘å‡ºï¼Œæ— æ³•çŸ¥é“å¯¹æ–¹æ˜¯å¦æ”¶åˆ°ã€‚ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæé«˜ç½‘ç»œå¯é æ€§ï¼ŒTCPåè®®å°±è¯ç”Ÿäº†ã€‚TCPåè®®èƒ½å¤Ÿç¡®ä¿æ•°æ®ä¸ä¼šé—å¤±ã€‚ä»–çš„ç¼ºç‚¹æ˜¯è¿‡ç¨‹å¤æ‚ã€å®ç°å›°éš¾ã€æ¶ˆè€—è¾ƒå¤šçš„èµ„æºã€TCPæ•°æ®åŒ…æ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œç†è®ºä¸Šå¯ä»¥æ— é™é•¿ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯ç½‘ç»œçš„æ•ˆç‡ï¼Œé€šå¸¸TCPæ•°æ®åŒ…çš„é•¿åº¦ä¸ä¼šè¶…è¿‡IPæ•°æ®åŒ…çš„é•¿åº¦ï¼Œä»¥ç¡®ä¿å•ä¸ªTCPæ•°æ®åŒ…ä¸å¿…å†åˆ†å‰²ã€‚\nåº”ç”¨å±‚ åº”ç”¨ç¨‹åºæ”¶åˆ°ä¼ è¾“å±‚çš„æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±è¦å¯¹æ•°æ®è¿›è¡Œè§£åŒ…ã€‚ç”±äºäº’è”ç½‘æ˜¯å¼€æ”¾æ¶æ„ï¼Œæ•°æ®æ¥æºäº”èŠ±å…«é—¨ï¼Œå¿…é¡»äº‹å…ˆè§„å®šå¥½é€šä¿¡çš„æ•°æ®æ ¼å¼ï¼Œå¦åˆ™æ¥æ”¶æ–¹æ ¹æœ¬æ— æ³•è·å¾—çœŸæ­£å‘é€çš„æ•°æ®å†…å®¹ã€‚åº”ç”¨å±‚çš„ä½œç”¨å°±æ˜¯è§„å®šåº”ç”¨ç¨‹åºä½¿ç”¨çš„æ•°æ®æ ¼å¼ï¼Œä¾‹å¦‚æˆ‘ä»¬TCPåè®®ä¹‹ä¸Šå¸¸è§çš„Emailã€HTTPã€FTPç­‰åè®®ï¼Œè¿™äº›åè®®å°±ç»„æˆäº†äº’è”ç½‘åè®®çš„åº”ç”¨å±‚ã€‚\nå¦‚å›¾ï¼Œå‘é€æ–¹çš„HTTPæ•°æ®ç»è¿‡äº’è”ç½‘çš„ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šä¾æ¬¡æ·»åŠ å„å±‚åè®®çš„æ ‡å¤´ä¿¡æ¯ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°æ•°æ®åŒ…ä¹‹åå†ä¾æ¬¡æ ¹æ®åè®®è§£åŒ…å¾—åˆ°æ•°æ®ã€‚\rimage-20210815163841064\rsocketç¼–ç¨‹ socketæ˜¯BSD UNIXçš„è¿›ç¨‹é€šä¿¡æœºåˆ¶ï¼Œé€šå¸¸ä¹Ÿç§°ä¸ºå¥—æ¥å­—ï¼Œç”¨äºæè¿°IPåœ°å€å’Œç«¯å£ï¼Œæ˜¯ä¸€ä¸ªé€šä¿¡é“¾çš„å¥æŸ„ã€‚socketå¯ä»¥ç†è§£ä¸ºTCP/IPç½‘ç»œçš„APIï¼Œå®ƒå®šä¹‰äº†è®¸å¤šå‡½æ•°æˆ–ä¾‹ç¨‹ï¼Œç¨‹åºå‘˜å¯ä»¥ç”¨å®ƒä»¬æ¥å¼€å‘TCP/IPç½‘ç»œä¸Šçš„åº”ç”¨ç¨‹åºã€‚ç”µè„‘ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºé€šå¸¸é€šè¿‡å¥—æ¥å­—å‘ç½‘ç»œå‘å‡ºè¯·æ±‚æˆ–è€…åº”ç­”ç½‘ç»œçš„è¯·æ±‚ã€‚\nsocketå›¾è§£ socketæ˜¯åº”ç”¨å±‚ä¸TCP/IPåè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ã€‚åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œsocketå…¶å®å°±æ˜¯ä¸€ä¸ªé—¨é¢æ¨¡å¼ï¼Œä»–æŠŠå¤æ‚çš„TCP/IPåè®®æ—éšè—åœ¨socketåé¢ï¼Œå¯¹ç”¨æˆ·æ¥è¯´åªéœ€è¦è°ƒç”¨socketè§„å®šçš„ç›¸å…³å‡½æ•°ï¼Œè®©socketå»ç»„ç»‡ç¬¦åˆæŒ‡å®šçš„åè®®æ•°æ®ç„¶åè¿›è¡Œé€šä¿¡ã€‚\nimage-20210815165946914\rgoè¯­è¨€å®ç°TCPé€šä¿¡ TCPåè®® TCP/IP transmission control protocol ã€ internet protocolå³ä¼ è¾“æ§åˆ¶åè®®/ç½‘é—´åè®®ï¼Œæ˜¯ä¸€ç§é¢å‘è¿æ¥ï¼ˆè¿æ¥å¯¼å‘ï¼‰çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚ï¼ˆTransport layerï¼‰é€šä¿¡åè®®ï¼Œå› ä¸ºæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œæ•°æ®å°±åƒæ°´æµä¸€æ ·ä¼ è¾“ï¼Œä¼šå­˜åœ¨ç²˜åŒ…é—®é¢˜ã€‚\nTCPæœåŠ¡ç«¯ ä¸€ä¸ªTCPæœåŠ¡ç«¯å¯ä»¥åŒæ—¶è¿æ¥å¾ˆå¤šä¸ªå®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ä¸–ç•Œå„åœ°çš„ç”¨æˆ·ä½¿ç”¨è‡ªå·±ç”µè„‘ä¸Šçš„æµè§ˆå™¨è®¿é—®æ·˜å®ç½‘ã€‚å› ä¸ºgoè¯­è¨€ä¸­åˆ›å»ºå¤šä¸ªgoroutineå®ç°å¹¶å‘éå¸¸æ–¹ä¾¿å’Œé«˜æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯å»ºç«‹ä¸€æ¬¡é“¾æ¥å°±åˆ›å»ºä¸€ä¸ªgoroutineå»å¤„ç†ã€‚\nTCPæœåŠ¡ç«¯ç¨‹åºçš„å¤„ç†æµç¨‹ï¼š\nç›‘å¬ç«¯å£ æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹é“¾æ¥ åˆ›å»ºgoroutineå¤„ç†è¿æ¥ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; ) //tcp serverç«¯ func main() { //1.æœ¬åœ°ç«¯å£å¯åŠ¨æœåŠ¡ listen, err := net.Listen(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:20000\u0026#34;) if err != nil { fmt.Println(\u0026#34;start server on 127.0.0.1:20000 failed , err : \u0026#34;,err) return } for { //2.ç­‰å¾…åˆ«äººæ¥è·Ÿæˆ‘è¿æ¥ accept, err := listen.Accept() if err != nil { fmt.Println(\u0026#34;build connect failed , err : \u0026#34;,err) return } go func(conn net.Conn) { for { //3.ä¸å®¢æˆ·ç«¯é€šä¿¡ var temp [128]byte read, err := conn.Read(temp[:]) if err != nil { fmt.Println(\u0026#34;attemp read failed , err : \u0026#34;,err) return } fmt.Println(string(temp[:read])) } }(accept) } } client\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;os\u0026#34; ) //tcp client func main() { //1.ä¸serverå»ºç«‹è¿æ¥ dial, err := net.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:20000\u0026#34;) if err != nil { fmt.Println(\u0026#34;dial 127.0.0.1:20000 failed , err : \u0026#34;,err) return } //2.å‘é€æ•°æ® //var write1 = make([]byte,100) //if len(os.Args)\u0026lt;2 { // write1 = []byte(\u0026#34;hello world\u0026#34;) //}else { // write1 = []byte(os.Args[1]) //} for { reader := bufio.NewReader(os.Stdin) //dial.Write(write1) line, _ := reader.ReadString(\u0026#39;\\n\u0026#39;) if string(line)==\u0026#34;exit\u0026#34; { break } dial.Write([]byte(line)) } dial.Close() } TCPé»åŒ… é»åŒ…å¯å‘ç”Ÿåœ¨å‘é€ç«¯ä¹Ÿå¯å‘ç”Ÿåœ¨æ¥æ”¶ç«¯ï¼š\nç”±Nagleç®—æ³•é€ æˆçš„å‘é€ç«¯çš„é»åŒ…ï¼šnagleç®—æ³•æ˜¯ä¸€ç§æ”¹å–„ç½‘ç»œä¼ è¾“æ•ˆç‡çš„ç®—æ³•ã€‚ç®€å•æ¥è¯´å°±æ˜¯å½“æˆ‘ä»¬æäº¤ä¸€æ®µæ•°æ®ç»™TCPå‘é€æ—¶ï¼ŒTCPå¹¶ä¸ç«‹åˆ»å‘é€æ­¤æ®µæ•°æ®ï¼Œè€Œæ˜¯ç­‰å¾…ä¸€å°æ®µæ—¶é—´çœ‹çœ‹åœ¨ç­‰å¾…æœŸé—´æ˜¯å¦è¿˜æœ‰è¦å‘é€çš„æ•°æ®ï¼Œå¦‚æœ‰ä¼šä¸€æ¬¡æŠŠè¿™ä¸¤æ®µæ•°æ®å‘é€å‡ºå»ã€‚ æ¥æ”¶ç«¯æ¥æ”¶ä¸åŠæ—¶é€ æˆçš„æ¥æ”¶ç«¯é»åŒ…ï¼šTCPä¼šæŠŠæ¥æ”¶åˆ°çš„æ•°æ®å­˜åœ¨è‡ªå·±çš„ç¼“å†²åŒºä¸­ï¼Œç„¶åé€šçŸ¥åº”ç”¨å±‚å–æ•°æ®ã€‚å½“åº”ç”¨å±‚ç”±äºæŸäº›åŸå› ä¸èƒ½åŠæ—¶çš„æŠŠTCPçš„æ•°æ®å–å‡ºæ¥ï¼Œå°±ä¼šé€ æˆTCPç¼“å†²åŒºä¸­å­˜æ”¾äº†å‡ æ®µæ•°æ®ã€‚ image-20210816200320281\rserver\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; ) func main() { dial, err := net.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:30000\u0026#34;) if err != nil { fmt.Println(\u0026#34;dial failed , error : \u0026#34;,err) return } defer dial.Close() for i := 0; i \u0026lt; 20; i++ { dial.Write([]byte(\u0026#34;how are you , hello !\u0026#34;)) } } server\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;net\u0026#34; ) func main() { listen, err := net.Listen(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:30000\u0026#34;) if err != nil { fmt.Println(\u0026#34;listen port failed , err : \u0026#34;,err) return } defer listen.Close() for { accept, err := listen.Accept() if err != nil { fmt.Println(\u0026#34;connect accept failed , err :\u0026#34;, err) return } go func(conn net.Conn) { defer conn.Close() for { var b [1024]byte read, err := conn.Read(b[:]) if err == io.EOF { break } if err != nil { fmt.Println(\u0026#34;try to read failed , err : \u0026#34;,err) return } fmt.Println(\u0026#34;received data : \u0026#34;,string(b[:read])) } }(accept) } } è§£å†³æ–¹æ³• å‡ºç°é»åŒ…çš„å…³é”®åœ¨äºæ¥æ”¶æ–¹ä¸ç¡®å®šå°†è¦ä¼ è¾“çš„æ•°æ®åŒ…çš„å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®åŒ…è¿›è¡Œå°åŒ…å’Œæ‹†åŒ…çš„æ“ä½œã€‚\nå°åŒ…ï¼šå°åŒ…å°±æ˜¯ç»™ä¸€æ®µæ•°æ®åŠ ä¸ŠåŒ…å¤´ï¼Œè¿™æ ·ä¸€æ¥æ•°æ®åŒ…å°±åˆ†ä¸ºåŒ…å¤´å’ŒåŒ…ä½“ä¸¤éƒ¨åˆ†å†…å®¹äº†ï¼ˆè¿‡æ»¤éæ³•åŒ…æ—¶å°åŒ…ä¼šåŠ å…¥â€åŒ…å°¾â€œå†…å®¹ï¼‰ã€‚åŒ…å¤´éƒ¨åˆ†çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”ä»–å­˜å‚¨äº†åŒ…ä½“çš„é•¿åº¦ï¼Œæ ¹æ®åŒ…å¤´é•¿åº¦å›ºå®šä»¥åŠåŒ…å¤´ä¸­å«æœ‰åŒ…ä½“é•¿åº¦çš„å˜é‡å°±èƒ½æ­£ç¡®çš„æ‹†åˆ†å‡ºä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒ…ã€‚\næˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªåè®®ï¼Œæ¯”å¦‚æ•°æ®åŒ…çš„å‰å››ä¸ªå­—èŠ‚ä¸ºåŒ…å¤´ï¼Œé‡Œé¢å­˜å‚¨çš„æ˜¯å‘é€çš„æ•°æ®çš„é•¿åº¦ã€‚\nå¤§ç«¯å°ç«¯æ¨¡å¼\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;src/code.oldboyedu.com/day8/11nianbao_jiejue/protocol\u0026#34; ) func main() { dial, err := net.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:30000\u0026#34;) if err != nil { fmt.Println(\u0026#34;dial failed , error : \u0026#34;,err) return } defer dial.Close() for i := 0; i \u0026lt; 20; i++ { encode, err := protocol.Encode(\u0026#34;how are you , hello!\u0026#34;) if err != nil { return } dial.Write(encode) //dial.Write([]byte(\u0026#34;how are you , hello !\u0026#34;)) } } protocol\npackage protocol import ( \u0026#34;bufio\u0026#34; \u0026#34;bytes\u0026#34; \u0026#34;encoding/binary\u0026#34; ) //Encode å°†æ¶ˆæ¯ç¼–ç  func Encode(message string )([]byte,error) { //è¯»å–æ¶ˆæ¯çš„é•¿åº¦ï¼Œè½¬æ¢ä¸ºint32 length := int32(len(message)) pkg := new(bytes.Buffer) //å†™å…¥æ¶ˆæ¯å¤´ err := binary.Write(pkg, binary.LittleEndian, length) if err != nil { return nil, err } //å†™å…¥æ¶ˆæ¯ä½“ err1 := binary.Write(pkg, binary.LittleEndian, []byte(message)) if err1 != nil { return nil, err1 } return pkg.Bytes(),err } //Decode è§£ç æ¶ˆæ¯ func Decode(reader *bufio.Reader) (string, error) { //è¯»å–æ¶ˆæ¯çš„é•¿åº¦ peek, err := reader.Peek(4) if err != nil { return \u0026#34;\u0026#34;, err } //è¯»å–å‰å››ä¸ªå­—èŠ‚çš„æ•°æ® buffer := bytes.NewBuffer(peek) var length int32 err1 := binary.Read(buffer, binary.LittleEndian, \u0026amp;length) if err1 != nil { return \u0026#34;\u0026#34;, err1 } //Buffered è¿”å›ç¼“å†²åŒºä¸­ç°æœ‰çš„å¯è¯»å–çš„å­—èŠ‚æ•° if int32(reader.Buffered()) \u0026lt; length+4 { return \u0026#34;\u0026#34; , err } //è¯»å–çœŸæ­£çš„æ¶ˆæ¯æ•°æ® pack:=make([]byte,int(4+length)) _,err2:=reader.Read(pack) if err2!=nil { return \u0026#34;\u0026#34;,err2 } return string(pack[4:]),nil } server\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;src/code.oldboyedu.com/day8/11nianbao_jiejue/protocol\u0026#34; ) func main() { listen, err := net.Listen(\u0026#34;tcp\u0026#34;, \u0026#34;127.0.0.1:30000\u0026#34;) if err != nil { fmt.Println(\u0026#34;listen port failed , err : \u0026#34;,err) return } defer listen.Close() for { accept, err := listen.Accept() if err != nil { fmt.Println(\u0026#34;connect accept failed , err :\u0026#34;, err) return } go func(conn net.Conn) { defer conn.Close() for { reader := bufio.NewReader(conn) decode, err := protocol.Decode(reader) if err != nil { return } fmt.Println(\u0026#34;received data : \u0026#34;,decode) } }(accept) } } UDPåè®® UDPåè®® user datagram protocolä¸­æ–‡åç§°æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯OSI open system interconnection ï¼Œ å¼€æ”¾å¼ç³»ç»Ÿäº’è”ï¼Œå‚è€ƒæ¨¡å‹ä¸­ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥å°±èƒ½ç›´æ¥è¿›è¡Œæ•°æ®å‘é€å’Œæ¥æ”¶ï¼Œå±äºä¸å¯é çš„ï¼Œæ²¡æœ‰æ—¶åºçš„é€šä¿¡ï¼Œä½†æ˜¯UDPåè®®çš„å®æ—¶æ€§æ¯”è¾ƒå¥½ï¼Œé€šå¸¸ç”¨äºè§†é¢‘ç›´æ’­ç›¸å…³é¢†åŸŸ\nUDPæœåŠ¡ç«¯ server\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;strings\u0026#34; ) func main() { udp, err := net.ListenUDP(\u0026#34;udp\u0026#34;,\u0026amp;net.UDPAddr{ IP: net.IPv4(127,0,0,1), Port: 40000, }) if err != nil { fmt.Println(\u0026#34;listen failed , error : \u0026#34;,err) return } //ä¸éœ€è¦å»ºç«‹é“¾æ¥ï¼Œç›´æ¥æ”¶å‘æ•°æ® var b [1024]byte defer udp.Close() for { n, addr, err := udp.ReadFromUDP(b[:]) if err != nil { fmt.Println(\u0026#34;read from udp failed , err: \u0026#34; , err) return } fmt.Println(b[:n]) reply:=strings.ToUpper(string(b[:n])) //å‘é€æ•°æ® udp.WriteToUDP([]byte(reply),addr) } } client\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;os\u0026#34; ) func main() { //UDP client socket, err := net.DialUDP(\u0026#34;udp\u0026#34;,nil,\u0026amp;net.UDPAddr{ IP: net.IPv4(127, 0, 0, 1), Port: 40000, }) if err != nil { fmt.Println(\u0026#34;dial failed , error : \u0026#34;,err) return } defer socket.Close() reader := bufio.NewReader(os.Stdin) var reply [1024]byte for { readString, err := reader.ReadString(\u0026#39;\\n\u0026#39;) if err != nil { return } socket.Write([]byte(readString)) //æ”¶å›å¤çš„æ•°æ® n, adder, err := socket.ReadFromUDP(reply[:]) if err != nil { return } fmt.Println(\u0026#34;received data: ,addr : \u0026#34;,string(reply[:n]),adder) } } day09 æ—¥å¿—æ”¶é›†é¡¹ç›®\nginæ¡†æ¶å’Œå¾®æœåŠ¡\ndockerå’Œk8s\nä»Šæ—¥åˆ†äº« æ³¨é‡Š/æ—¥å¿—/å•å…ƒæµ‹è¯•\nä»Šæ—¥å†…å®¹ context\nå•å…ƒæµ‹è¯•\npprofè°ƒè¯•å·¥å…·\nå†…å®¹å›é¡¾ äº’æ–¥é” sync.mutex\næ˜¯ä¸€ä¸ªç»“æ„ä½“ æ˜¯å€¼ç±»å‹ ã€‚ç»™å‡½æ•°ä¼ å‚æ•°çš„æ—¶å€™è¦ä¼ æŒ‡é’ˆ\nlock å’Œ unlock\nä¸ºä»€ä¹ˆè¦ç”¨é” é˜²æ­¢åŒä¸€æ—¶åˆ»å¤šä¸ªgoroutineæ“ä½œåŒä¸€èµ„æº\nè¯»å†™äº’æ–¥é” é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ä¸‹,æ‰èƒ½æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡\nç‰¹ç‚¹:\nå¦‚æœæ˜¯è¯»çš„äººæ¥è·å–çš„æ˜¯è¯»é”,åç»­çš„goroutineèƒ½è¯»ä¸èƒ½å†™ å¦‚æœæ˜¯å†™çš„goroutineæ¥äº†,è·å–çš„æ˜¯å†™é”,åç»­çš„goroutineä¸ç®¡æ˜¯è¯»è¿˜æ˜¯å†™,éƒ½è¦ç­‰å¾…è·å–é” rwlock.rlock()\nrwlock.wlock()\nrwlock.lock()\nrwlock.unlock()\nç­‰å¾…ç»„ sync.waitgroup\nç”¨æ¥ç­‰goroutineæ‰§è¡Œå®Œå†ç»§ç»­\næ˜¯ä¸€ä¸ªç»“æ„ä½“,æ˜¯å€¼ç±»å‹,ç»™å‡½æ•°ä¼ å‚æ•°çš„æ—¶å€™è¦ä¼ æŒ‡é’ˆ\nwg.add()\nwg.done()\nwg.wait()\nsync.Once ä½¿ç”¨åœºæ™¯\næŸäº›å‡½æ•°åªéœ€è¦æ‰§è¡Œä¸€æ¬¡çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨sync.once\nonce.Do(func ( ) )\næ¥æ”¶æ— å‚æ•°æ— è¿”å›å€¼çš„å‡½æ•°å‚æ•°\nsync.Map ä½¿ç”¨åœºæ™¯\nå¹¶å‘æ“ä½œä¸€ä¸ªmapçš„æ—¶å€™ï¼Œå†…ç½®çš„mapä¸æ˜¯å¹¶å‘å®‰å…¨çš„\nä½¿ç”¨ï¼Œæ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„(ä¸éœ€è¦makeï¼‰å¹¶å‘å®‰å…¨çš„map\nvar map sync.Map\nload()\nstore()\nloadorstore()\ndelete()\nrange()\nåŸå­æ“ä½œ goè¯­è¨€å†…ç½®äº†ä¸€äº›é’ˆå¯¹å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹çš„ä¸€äº›å¹¶å‘å®‰å…¨çš„æ“ä½œ\nvar i int64 =10 atomic.addint64(\u0026amp;i,1) ç½‘ç»œç¼–ç¨‹ äº’è”ç½‘åè®® OISä¸ƒå±‚æ¨¡å‹\nåº”ç”¨å±‚ è¡¨ç¤ºå±‚ ä¼šè¯å±‚ ä¼ è¾“å±‚ ç½‘ç»œå±‚ æ•°æ®é“¾è·¯å±‚ ç‰©ç†å±‚\nHTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ goè¯­è¨€å†…ç½®çš„net/httpåŒ…æä¾›äº†httpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„å®ç°\nHTTPåè®® è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTP hypertext transfer protocol æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œæ‰€æœ‰wwwæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚\nHTTPå®¢æˆ·ç«¯ ä½¿ç”¨net / http åŒ…ç¼–å†™ä¸€ä¸ªç®€å•çš„å‘é€HTTPè¯·æ±‚çš„clientç«¯\nimage-20210817000221229\rHTTPï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®\nè§„å®šäº†ï¼šæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´é€šä¿¡çš„è§„åˆ™\nHTMLï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€\nå­¦çš„å°±æ˜¯æ ‡è®°çš„ç¬¦å·ã€æ ‡ç­¾\nCSSï¼šå±‚å æ ·å¼è¡¨\nè§„å®šäº†HTMLä¸­æ ‡ç­¾çš„å…·ä½“æ ·å¼ï¼ˆé¢œè‰²ã€èƒŒæ™¯ã€å¤§å°ã€ä½ç½®ã€æµ®åŠ¨\u0026hellip;ï¼‰\nJSï¼šä¸€ç§è·‘åœ¨æµè§ˆå™¨ä¸Šçš„ç¼–ç¨‹è¯­è¨€\nhttp_server\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;net/http\u0026#34; ) //net / http server func main() { http.HandleFunc(\u0026#34;/posts/go/15_socket/\u0026#34;,f1) http.HandleFunc(\u0026#34;/xxx/\u0026#34;,f2) http.ListenAndServe(\u0026#34;127.0.0.1:9090\u0026#34;,nil) } func f2(writer http.ResponseWriter, request *http.Request) { //å¯¹äºgetè¯·æ±‚ å‚æ•°éƒ½æ”¾åœ¨URLä¸Š ï¼ˆquery paramï¼‰è¯·æ±‚ä½“ä¸­æ˜¯æ²¡æœ‰æ•°æ®çš„ fmt.Println(request.URL) fmt.Println(request.Method) fmt.Println(ioutil.ReadAll(request.Body)) writer.Write([]byte(\u0026#34;ok!\u0026#34;)) queryParam :=request.URL.Query() fmt.Println(queryParam) name:=queryParam.Get(\u0026#34;name\u0026#34;) fmt.Println(name) age:=queryParam.Get(\u0026#34;age\u0026#34;) fmt.Println(age) } func f1(w http.ResponseWriter, r *http.Request) { file, err := ioutil.ReadFile(\u0026#34;./xx.txt\u0026#34;) if err != nil { w.Write([]byte(fmt.Sprintf(\u0026#34;%v\u0026#34;,err))) return } w.Write(file) } http_client\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;net/url\u0026#34; ) //net/http client func main() { f1() f2() f3() } //æ„é€ ä¸€ä¸ªclient var client= http.Client{ Transport: \u0026amp;http.Transport{ DisableKeepAlives:false}} func f3() { //æ„é€ å‚æ•° urlparams := url.Values{} urlparams.Add(\u0026#34;name\u0026#34;,\u0026#34;ljs\u0026#34;) urlparams.Add(\u0026#34;score\u0026#34;,\u0026#34;100\u0026#34;) //æ„é€ å¤´éƒ¨ urlParse, _ := url.ParseRequestURI(\u0026#34;http://127.0.0.1:9090/xxx\u0026#34;) //æ‹¼æ¥url urlParse.RawQuery = urlparams.Encode() //æ„é€ ä¸€ä¸ªè¯·æ±‚ request request, _ := http.NewRequest(\u0026#34;get\u0026#34;, urlParse.String(), nil) response, _ := client.Do(request) defer response.Body.Close() ioutil.ReadAll(response.Body) } func f2() { //æ„é€ è¯·æ±‚ uri, _ := url.ParseRequestURI(\u0026#34;http://127.0.0.1:9090/xxx\u0026#34;) data:=url.Values{} data.Set(\u0026#34;name\u0026#34;,\u0026#34;æ—ã®æ ‘\u0026#34;) data.Set(\u0026#34;age\u0026#34;,\u0026#34;18\u0026#34;) urlStr := data.Encode() fmt.Println(urlStr) uri.RawQuery=urlStr fmt.Println(uri) request, err := http.NewRequest(\u0026#34;Get\u0026#34;, uri.String(), nil) if err != nil { fmt.Println(\u0026#34;request failed ,error : \u0026#34;,err) return } //å‘è¯·æ±‚ response, err := http.DefaultClient.Do(request) if err != nil { return } defer response.Body.Close() //ä¸€å®šè¦è®°å¾—å…³é—­resp.body all, err := ioutil.ReadAll(response.Body) if err != nil { return } fmt.Println(string(all)) } func f1() { response, err := http.Get(\u0026#34;http://127.0.0.1:9090/xxx?name=ljs\u0026amp;age=18\u0026#34;) if err != nil { fmt.Println(\u0026#34;get failed , error : \u0026#34;,err) return } //ä»responseä¸­å§æœåŠ¡ç«¯è¿”å›çš„æ•°æ®è¯»å‡ºæ¥ read, err := ioutil.ReadAll(response.Body) if err != nil { fmt.Println(\u0026#34;read failed , error : \u0026#34;,err ) return } fmt.Println(string(read)) } http.get\nhttp.post\nhttp.postform\nå•å…ƒæµ‹è¯• å¼€å‘è‡ªå·±ç»™è‡ªå·±çš„ä»£ç å†™æµ‹è¯•\ngoè¯­è¨€ä¸­çš„æµ‹è¯•ä¾èµ–go testå‘½ä»¤ã€‚ç¼–å†™æµ‹è¯•ä»£ç å’Œç¼–å†™æ™®é€šçš„goä»£ç è¿‡ç¨‹æ˜¯ç±»ä¼¼çš„ï¼Œå¹¶ä¸éœ€è¦å­¦ä¹ æ–°çš„è¯­æ³•ã€è§„åˆ™æˆ–å·¥å…·ã€‚\ngo testå‘½ä»¤æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸€å®šçº¦å®šå’Œç»„ç»‡çš„æµ‹è¯•ä»£ç çš„é©±åŠ¨ç¨‹åºã€‚åœ¨åŒ…ç›®å½•å†…ï¼Œæ‰€æœ‰ä»¥_test.goä¸ºåç¼€åçš„æºä»£ç æ–‡ä»¶éƒ½æ˜¯go testæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«go build ç¼–è¯‘åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚\nåœ¨*_test.goæ–‡ä»¶ä¸­æœ‰ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼Œå•å…ƒæµ‹è¯•å‡½æ•°ã€åŸºå‡†æµ‹è¯•å‡½æ•°å’Œç¤ºä¾‹å‡½æ•°ã€‚\nç±»å‹ æ ¼å¼ ä½œç”¨ æµ‹è¯•å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºtest æµ‹è¯•ç¨‹åºçš„ä¸€äº›é€»è¾‘è¡Œä¸ºæ˜¯å¦æ­£ç¡® åŸºå‡†å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºbenchmark æµ‹è¯•å‡½æ•°çš„æ€§èƒ½ ç¤ºä¾‹å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºexample ä¸ºæ–‡æ¡£æä¾›å®åŠ›æ–‡æ¡£ go testå‘½ä»¤ä¼šéå†æ‰€æœ‰çš„*_test.goæ–‡ä»¶ä¸­ç¬¦åˆä¸Šè¿°å‘½åè§„åˆ™çš„å‡½æ•°ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„mainåŒ…ç”¨äºè°ƒç”¨ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œç„¶åæ„å»ºå¹¶è¿è¡Œã€æŠ¥å‘Šæµ‹è¯•ç»“æœï¼Œæœ€åæ¸…ç†æµ‹è¯•ä¸­ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶\næµ‹è¯•å‡½æ•° æµ‹è¯•å‡½æ•°çš„æ ¼å¼ æ¯ä¸ªæµ‹è¯•å‡½æ•°å¿…é¡»å¯¼å…¥testingåŒ…ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š\nfunc TestName (t *testing.T) { } //testing.Tæ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ Error Errorf Fail FailNow Failed Fatal Fatalf Log Logf Name Parallel Run Skip SkipNow Skipf Skipped æµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•ç»„å’Œå­æµ‹è¯• package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) var m = make([]string,4) //Split åˆ‡å‰²å­—ç¬¦ä¸² a b c =\u0026gt; [a c] func Split(str ,sep string) []string { i:=0 judge(str,sep,i) return m } func judge(s string,sep string,i int) { if !strings.Contains(s,sep){ return } index:=strings.Index(s,sep) if s[:index] != \u0026#34;\u0026#34; { m[i] = s[:index] }else { m[i]=s[index+1:] } if s[index+1:]!=\u0026#34;\u0026#34; { m[i+1] = s[index+1:] } judge(m[i+1],sep,i+1) } func main() { got:=Split(\u0026#34;abcb\u0026#34;,\u0026#34;b\u0026#34;) fmt.Println(got) } æµ‹è¯•ç”¨ä¾‹å†™\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; \u0026#34;testing\u0026#34; ) func TestSplit(t *testing.T) { got:=Split(\u0026#34;abcb\u0026#34;,\u0026#34;b\u0026#34;) want:=[]string{\u0026#34;a\u0026#34;,\u0026#34;c\u0026#34;,\u0026#34; \u0026#34;} if !reflect.DeepEqual(got, want) { fmt.Println(\u0026#34;æµ‹è¯•ç”¨ä¾‹å¤±è´¥\u0026#34;) t.Errorf(\u0026#34;want %v but got %v\\n\u0026#34;,want,got) } } func TestSplit2(t *testing.T) { got:=Split(\u0026#34;a:b:c\u0026#34;,\u0026#34;:\u0026#34;) want:=[]string{\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;c\u0026#34;} if !reflect.DeepEqual(got, want) { t.Errorf(\u0026#34;want %v but got %v\\n\u0026#34;,want,got) } } //æµ‹è¯•ç»„ func TestSplitGroup(t *testing.T) { type TestCase struct { str string sep string got string want []string } testCase :=[]TestCase{ { str: \u0026#34;abcb\u0026#34;, sep: \u0026#34;b\u0026#34;, want: []string{\u0026#34;a\u0026#34;,\u0026#34;c\u0026#34;,\u0026#34;\u0026#34;}, }, { str:\u0026#34;a:b:c\u0026#34;, sep: \u0026#34;:\u0026#34;, want:[]string{\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;c\u0026#34;}, }, } for _, v := range testCase { if !reflect.DeepEqual(Split(v.str,v.sep),v.want){ t.Errorf(\u0026#34;want %v but got %v\\n\u0026#34;,v.want,Split(v.str,v.sep)) } } } func TestSingle(t *testing.T) { type TestCase struct { str string sep string got string want []string } testCase:=map[string]TestCase{ \u0026#34;case1\u0026#34;:{ str: \u0026#34;abcb\u0026#34;, sep: \u0026#34;b\u0026#34;, want: []string{\u0026#34;a\u0026#34;,\u0026#34;c\u0026#34;,\u0026#34;\u0026#34;}, }, \u0026#34;case2\u0026#34;:{ str:\u0026#34;a:b:c\u0026#34;, sep: \u0026#34;:\u0026#34;, want:[]string{\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;c\u0026#34;}, }, } for name, v := range testCase { t.Run(name, func(t *testing.T) { got:=Split(v.str,v.sep) if !reflect.DeepEqual(got, v.want) { t.Errorf(\u0026#34;want %v but got %v\\n\u0026#34;,v.want,got) } }) } } å°è¯•æ–°çš„è·¨å¹³å° PowerShell https://aka.ms/pscore6 PS E:\\project\\GOproject\\src\\code.oldboyedu.com\\day9\\02splitString\u0026gt; go test -run=TestSingle/case2 --- FAIL: TestSingle (0.00s) --- FAIL: TestSingle/case2 (0.00s) split_test.go:77: want [a b c] but got [a b c ] FAIL exit status 1 FAIL src/code.oldboyedu.com/day9/02splitString 0.240s æµ‹è¯•è¦†ç›–ç‡ go test -cover\nå‡½æ•°è¦†ç›–ç‡100%\nä»£ç è¦†ç›–ç‡60%\nåŸºå‡†æµ‹è¯• åŸºå‡†æµ‹è¯•å°±æ˜¯åœ¨ä¸€å®šçš„å·¥ä½œè´Ÿè½½ä¹‹ä¸‹æ£€æµ‹ç¨‹åºæ€§èƒ½çš„ä¸€ç§æ–¹æ³•ã€‚åŸºå‡†æµ‹è¯•çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š\nfunc BenchName(b *testing.B)\nimage-20210818211645228\ræ€§èƒ½æ¯”è¾ƒæµ‹è¯• é»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªåŸºå‡†æµ‹è¯•è‡³å°‘è¿è¡Œ1sï¼Œå¦‚æœåœ¨benchmarkå‡½æ•° è¿”å›æ—¶æ²¡æœ‰åˆ°1sï¼Œåˆ™b.Nçš„å€¼ä¼šæŒ‰1,2,5,50\u0026hellip;å¢åŠ ,å¹¶ä¸”å‡½æ•°å†æ¬¡è¿è¡Œ\nå¯ä»¥æŒ‡å®šbenchtime\né‡ç½®æ—¶é—´ b.ResetTimerä¹‹å‰çš„å¤„ç†ä¸ä¼šæ”¾åˆ°æ‰§è¡Œæ—¶é—´é‡Œï¼Œä¹Ÿä¸ä¼šè¾“å‡ºåˆ°æŠ¥å‘Šä¸­ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¹‹å‰åšä¸€äº›ä¸è®¡åˆ’ä½œä¸ºæµ‹è¯•æŠ¥å‘Šçš„æ“ä½œã€‚\nå¹¶è¡Œæµ‹è¯• runparallelä¼šä»¥å¹¶è¡Œçš„æ–¹å¼æ‰§è¡Œç»™å®šçš„åŸºå‡†æµ‹è¯•\nå¯ä»¥è°ƒç”¨setparallelismæ¥ç¡®å®šcpuæ ¸æ•°\nsetUpå’Œteardown æµ‹è¯•ç¨‹åºæœ‰æ—¶éœ€è¦åœ¨æµ‹è¯•ä¹‹å‰è¿›è¡Œé¢å¤–çš„è®¾ç½®setupæˆ–è€…åœ¨æµ‹è¯•ä¹‹åè¿›è¡Œæ‹†å¸teardown\nç¤ºä¾‹å‡½æ•° ExampleName\nprofè°ƒè¯•å·¥å…· goè¯­è¨€é¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nCPU profileï¼šæŠ¥å‘Šç¨‹åºçš„CPUä½¿ç”¨æƒ…å†µï¼ŒæŒ‰ç…§ä¸€å®šé¢‘ç‡å»é‡‡é›†åº”ç”¨ç¨‹åºåœ¨CPUå’Œå¯„å­˜å™¨ä¸Šé¢çš„æ•°æ® Memory Profile (Heap Profile) :æŠ¥å‘Šç¨‹åºçš„å†…å­˜ä½¿ç”¨æƒ…å†µ Block Profiling: æŠ¥å‘Šgoroutinesä¸åœ¨è¿è¡ŒçŠ¶æ€çš„æƒ…å†µï¼Œå¯ä»¥ç”¨æ¥åˆ†æå’ŒæŸ¥æ‰¾æ­»é”ç­‰æ€§èƒ½ç“¶é¢ˆ Goroutine Profiling:æŠ¥å‘Šgoroutinesçš„ä½¿ç”¨æƒ…å†µï¼Œæœ‰é‚£äº›goroutineï¼Œå¥¹ä»¬çš„è°ƒç”¨å…³ç³»æ˜¯æ€ä¹ˆæ ·çš„ é‡‡é›†æ€§èƒ½æ•°æ® goè¯­è¨€å†…ç½®äº†è·å–ç¨‹åºçš„è¿è¡Œæ•°æ®çš„å·¥å…·ï¼ŒåŒ…æ‹¬ä¸€ä¸‹ä¸¤ä¸ªæ ‡å‡†åº“\nruntime/pprof:é‡‡é›†å·¥å…·å‹åº”ç”¨è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ net/http/pprof:é‡‡é›†æœåŠ¡å‹åº”ç”¨è¿è¡Œæ—¶æ•°æ®è¿›è¡Œåˆ†æ pprofå¼€æœºåï¼Œæ¯ä¸ªä¸€æ®µæ—¶é—´10mså°±ä¼šæ”¶é›†å½“å‰çš„å †æ ˆä¿¡æ¯ï¼Œè·å–å„ä¸ªå‡½æ•°å ç”¨çš„cpuä»¥åŠå†…å­˜èµ„æºï¼›æœ€åé€šè¿‡å¯¹è¿™äº›é‡‡æ ·æ•°æ®è¿›è¡Œåˆ†æï¼Œå½¢æˆä¸€ä¸ªæ€§èƒ½åˆ†ææŠ¥å‘Šã€‚\næ³¨æ„ï¼Œæˆ‘ä»¬åªåº”è¯¥åœ¨æ€§èƒ½æµ‹è¯•çš„æ—¶å€™æ‰åœ¨ä»£ç ä¸­å¼•å…¥pprof\nCPUæ€§èƒ½åˆ†æ pprof.StartCPUProfile(w io.Writer)\npprof.stopCPUPorfile()\nåº”ç”¨æ‰§è¡Œç»“æŸåï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†æˆ‘ä»¬çš„CPUprofilingæ•°æ®ã€‚å¾—åˆ°é‡‡æ ·æ•°æ®ä¹‹åï¼Œä½¿ç”¨go tool pprofå·¥å…·è¿›è¡ŒCPUæ€§èƒ½åˆ†æ\nç­‰å¾…30s\nå†…å­˜æ€§èƒ½ä¼˜åŒ– pprof.WriteHeapProfile(w io.Writer)\npackage main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;runtime/pprof\u0026#34; \u0026#34;time\u0026#34; ) func main() { var isCPUPprof bool //æ˜¯å¦å¼€å¯cpuprofileæ ‡å¿—ä½ var isMemPprof bool //æ˜¯å¦å¼€å¯å†…å­˜profileæ ‡å¿—ä½ flag.BoolVar(\u0026amp;isCPUPprof,\u0026#34;cpu\u0026#34;,false,\u0026#34;turn cpu pprof on\u0026#34;) flag.BoolVar(\u0026amp;isMemPprof,\u0026#34;mem\u0026#34;,false,\u0026#34;turn mem pprof on\u0026#34;) flag.Parse() if isCPUPprof { create, err := os.Create(\u0026#34;./cpu.pprof\u0026#34;) if err != nil { fmt.Println(\u0026#34;create file failed , error : \u0026#34;,err) return } pprof.StartCPUProfile(create) //å¾€æ–‡ä»¶ä¸­è®°å½•cpu profileä¿¡æ¯ defer create.Close() defer pprof.StopCPUProfile() } for i := 0; i \u0026lt; 6; i++ { go logicCode() } time.Sleep(20*time.Second) if isMemPprof{ create, err := os.Create(\u0026#34;./mem.pprof\u0026#34;) if err != nil { fmt.Println(\u0026#34;create file failed , error : \u0026#34;,err) return } pprof.WriteHeapProfile(create) defer create.Close() } } func logicCode() { var c chan int //nil for { select { case v:=\u0026lt;-c: //é˜»å¡ fmt.Printf(\u0026#34;received from chan , value : %v\\n\u0026#34;,v) default: time.Sleep(time.Millisecond*500) } } } å‘½ä»¤è¡Œäº¤äº’ç•Œé¢ ä½¿ç”¨goå·¥å…·é“¾é‡Œçš„pprofæ¥åˆ†æä¸€ä¸‹\næœåŠ¡å‹åº”ç”¨ flag é€šè¿‡flag.string or flag.stringvar å®šä¹‰å¥½å‘½ä»¤è¡Œflagå‚æ•°åï¼Œéœ€è¦é€šè¿‡è°ƒç”¨flag.parse()æ¥å¯¹å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œè§£æ\næ”¯æŒçš„å‘½ä»¤è¡Œå‚æ•°æ ¼å¼æœ‰ä»¥ä¸‹å‡ ç§\n-flage xxx \u0026ndash;flag xxx -flag=xxx \u0026ndash;flag=xxx å…¶ä¸­ï¼Œå¸ƒå°”ç±»å‹çš„å‚æ•°å¿…é¡»ä½¿ç”¨ç­‰å·æ–¹å¼æŒ‡å®š\nflagè§£æåœ¨ç¬¬ä¸€ä¸ªéflagå‚æ•°ä¹‹å‰åœæ­¢ æˆ–è€…åœ¨ç»ˆæ­¢ç¬¦-ä¹‹ååœæ­¢\npackage main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) //flag è·å–å‘½ä»¤è¡Œå‚æ•° func main() { //åˆ›å»ºä¸€ä¸ªæ ‡å¿—ä½å‚æ•°flag name :=flag.String(\u0026#34;name\u0026#34;,\u0026#34;ljs\u0026#34;,\u0026#34;è¯·è¾“å…¥åå­—\u0026#34;) age :=flag.Int(\u0026#34;age\u0026#34;,100,\u0026#34;è¯·è¾“å…¥å¹´é¾„\u0026#34;) married :=flag.Bool(\u0026#34;married\u0026#34;,false,\u0026#34;ç»“å©šäº†ä¹ˆ\u0026#34;) cTime:=flag.Duration(\u0026#34;duration\u0026#34;,time.Second,\u0026#34;æœ‰å¤šå¿«\u0026#34;) //ä½¿ç”¨flag //flag.Parse() fmt.Println(*name) fmt.Println(*age) fmt.Println(*married) fmt.Println(*cTime) var name1 string flag.StringVar(\u0026amp;name1,\u0026#34;name1\u0026#34;,\u0026#34;name1\u0026#34;,\u0026#34;è¯·è¾“å…¥name1\u0026#34;) flag.Parse() fmt.Println(name1) fmt.Println(flag.NArg()) //è¿”å›é™¤äº†è§„å®šçš„å‚æ•°ä¹‹å¤–çš„å‘½ä»¤è¡Œå‚æ•°æœ‰å‡ ä¸ª fmt.Println(flag.NFlag()) //è¿”å›è§„å®šçš„flagå‘½ä»¤è¡Œå‚æ•°æœ‰å‡ ä¸ª fmt.Println(flag.Args()) //è¿”å›é™¤äº†è§„å®šçš„å‚æ•°ä¹‹å¤–çš„å‘½ä»¤è¡Œå‚æ•°å…·ä½“æ˜¯ } é¢è¯•é¢˜ image-20210819001237778\ræœ¬å‘¨å¤ä¹  ä¸¤ä¸ªé¢è¯•é¢˜\nleetcodeåˆ·é¢˜æ¯å¤©ä¸€é“é¢˜\næ•°æ®ç»“æ„å’Œç®—æ³•å¾ˆé‡è¦ï¼Œè¦æ‰¾æœºä¼šæŠ“ç´§è¡¥ä¸Š\nå†…å®¹å›é¡¾ net/httpåŒ…çš„ç”¨æ³• å¦‚ä½•å‘è¯·æ±‚\nå½“éœ€è¦é¢‘ç¹å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ˆæ¯5sä»é˜¿é‡Œäº‘æ¥å£åŒæ­¥æ•°æ®ï¼‰ï¼šå®šä¹‰ä¸€ä¸ªå…¨å±€çš„clientï¼Œåç»­å‘è¯·æ±‚çš„æ“ä½œéƒ½ä½¿ç”¨è¿™ä¸ªå…¨å±€çš„client\nå•å…ƒæµ‹è¯• xxx/ccc.go\nå•å…ƒæµ‹è¯•çš„æ–‡ä»¶åå¿…é¡»æ˜¯xxx/ccc_test.go\ngoå†…ç½®çš„å•å…ƒæµ‹è¯•å·¥å…·ï¼š\ngo test å•å…ƒæµ‹è¯•å‡½æ•°\n//Testå¼€å¤´åæ¥å‡½æ•°å func TestSplit(t *testing.T) { } æ€§èƒ½æµ‹è¯•/åŸºå‡†æµ‹è¯• å‡½æ•°æ ¼å¼\nfunc BenchmarkSplit(b *testing.B) { //b.N:è¢«æµ‹è¯•å‡½æ•°æ‰§è¡Œçš„æ¬¡æ•° } æ‰§è¡Œå‘½ä»¤ï¼š\ngo test -bench=Split -v å¹¶è¡Œæµ‹è¯• setupå’Œteardown pprof è®°å½•cpuå’Œå†…å­˜çš„å¿«ç…§ä¿¡æ¯\nflagæ ‡å‡†åº“ os.Args\nflag.stringvar()è¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡\nå¿…é¡»è°ƒç”¨flag.parse()\n./xxx -name = \u0026#34;lsj\u0026#34; -age=90 flag.args\nflag.nargs\nflag.nflag\nä»Šæ—¥å†…å®¹ Mysqlï¼šä¸»æµçš„å…³ç³»å‹æ•°æ®åº“ ç±»ä¼¼çš„è¿˜æœ‰postgreSQL\nredisï¼škvæ•°æ®åº“\nnsq:goè¯­è¨€å¼€å‘çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—\nåŒ…çš„ä¾èµ–ç®¡ç†go module go1.1ä¹‹åå®˜æ–¹å‡ºçš„ä¾èµ–ç®¡ç†å·¥å…·\nMySql æ•°æ®åº“\nå¸¸è§çš„æ•°æ®åº“ï¼šoracle sqliteæ–‡ä»¶æ•°æ®åº“ mysql sqlserver\nå…³ç³»å‹æ•°æ®åº“ï¼šç”¨è¡¨æ¥å­˜ä¸€ç±»æ•°æ®\nè¡¨ç»“æ„è®¾è®¡çš„ä¸‰å¤§èŒƒå¼ã€Šæ¼«ç”»æ•°æ®åº“ã€‹\nmysqlçŸ¥è¯†ç‚¹\nsqlè¯­å¥ï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€\nå­˜å‚¨å¼•æ“ mysqlæ”¯æŒæ’ä»¶å¼çš„å­˜å‚¨å¼•æ“\nå¸¸è§çš„å­˜å‚¨å¼•æ“ï¼šmyisamã€innodb\nmyisamï¼š\næŸ¥è¯¢é€Ÿåº¦å¿« åªæ”¯æŒè¡¨é” ä¸æ”¯æŒäº‹åŠ¡ innodbï¼š\næ•´ä½“é€Ÿåº¦å¿« æ”¯æŒè¡¨é”å’Œè¡Œé” æ”¯æŒäº‹åŠ¡ äº‹åŠ¡ï¼šæŠŠå¤šä¸ªæ“ä½œå½“æˆä¸€ä¸ªæ•´ä½“\näº‹åŠ¡çš„ç‰¹ç‚¹ï¼š\nACID\nåŸå­æ€§ï¼šäº‹åŠ¡è¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€ ä¸€è‡´æ€§ï¼šæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´å æŒä¹…æ€§ï¼šäº‹åŠ¡æ“ä½œçš„ç»“æœæ˜¯ä¸ä¼šè¢«ä¸¢å¤±çš„ éš”ç¦»æ€§ï¼šäº‹åŠ¡ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ éš”ç¦»çº§åˆ« è¯»æœªæäº¤ è¯»æäº¤ å¯é‡å¤è¯» ä¸²è¡ŒåŒ– ç´¢å¼• ç´¢å¼•çš„åŸç†æ˜¯ï¼šBæ ‘å’ŒB+æ ‘\nç´¢å¼•ç±»å‹ï¼š\nç´¢å¼•çš„å‘½ä¸­\nåˆ†åº“åˆ†è¡¨\nSQLæ³¨å…¥\nSQLæ…¢æŸ¥è¯¢ä¼˜åŒ–\nMysqlä¸»ä»ï¼šbinlog\nMysqlè¯»å†™åˆ†ç¦»\nGoæ“ä½œMySql è¿æ¥ goè¯­è¨€ä¸­çš„database/sqlåŒ…æä¾›äº†ä¿è¯SQLæˆ–ç±»SQLæ•°æ®åº“çš„æ³›ç”¨æ¥å£ï¼Œå¹¶ä¸æä¾›å…·ä½“çš„æ•°æ®åº“é©±åŠ¨ã€‚ä½¿ç”¨database/sqlåŒ…æ—¶å¿…é¡»æ³¨å…¥è‡³å°‘ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨ã€‚\næˆ‘ä»¬å¸¸ç”¨çš„æ•°æ®åº“åŸºæœ¬ä¸Šéƒ½æœ‰å®Œæ•´çš„ç¬¬ä¸‰æ–¹å®ç°ã€‚\ndatabase/sql åŸç”Ÿæ”¯æŒè¿æ¥æ± ï¼Œæ˜¯å¹¶å‘å®‰å…¨çš„\nè¿™ä¸ªæ ‡å‡†åº“æ²¡æœ‰å…·ä½“å®ç°ï¼Œåªæ˜¯åˆ—å‡ºäº†ä¸€äº›éœ€è¦ç¬¬ä¸‰æ–¹åº“å®ç°çš„å…·ä½“å†…å®¹ã€‚\nä¸‹è½½ä¾èµ– go get -u github.com/go-sql-driver/mysql\nä½¿ç”¨Mysqlé©±åŠ¨ func Open(driverName , dataSourceName string)(*DB , error)\nopenä¸€ä¸ªdrivernameæŒ‡å®šçš„æ•°æ®åº“ï¼ŒdatasourcenameæŒ‡å®šæ•°æ®æºï¼Œä¸€èˆ¬åŒ…è‡³å°‘åŒ…æ‹¬\nimage-20210820105514841\rgo getåŒ…çš„è·¯å¾„å°±æ˜¯ä¸‹è½½ç¬¬ä¸‰æ–¹çš„ä¾èµ–\nå°†ç¬¬ä¸‰æ–¹çš„ä¾èµ–é»˜è®¤ä¿å­˜åœ¨$gopath/src/\nä½¿ç”¨é©±åŠ¨ package main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/go-sql-driver/mysql\u0026#34; \u0026#34;log\u0026#34; ) func main() { //goè¿æ¥mysqlå®ä¾‹ //æ•°æ®åº“æºä¿¡æ¯ dsn:=\u0026#34;root:123456@tcp(127.0.0.1:3306)/tset\u0026#34; //è¿æ¥æ•°æ®åº“ db, err := sql.Open(\u0026#34;mysql\u0026#34;, dsn) //ä¸ä¼šæ ¡éªŒç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡® if err != nil { log.Printf(\u0026#34;dsn %s invalid , err : %v\\n\u0026#34;,dsn,db) return } err = db.Ping() if err != nil { log.Printf(\u0026#34;open %s failed , err : %v\\n\u0026#34;,dsn , err) return } fmt.Println(db,\u0026#34;è¿æ¥æ•°æ®åº“æˆåŠŸ!\u0026#34;) } githubä¸Šçš„mysqlé©±åŠ¨å¦‚ä½•å…³è”åˆ°database/sqlè¿™ä¸ªåŒ…é‡Œå‘¢ï¼Ÿ\nimage-20210820123021805\rå•è¡ŒæŸ¥è¯¢ å•è¡ŒæŸ¥è¯¢db.queryrow()æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼Œå¹¶æœŸæœ›è¿”å›æœ€å¤šä¸€è¡Œç»“æœrowã€‚queryrowæ€»æ˜¯è¿”å›énilå€¼ï¼Œç›´åˆ°è¿”å›å€¼çš„scanæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ‰ä¼šè¿”å›è¢«å»¶è¿Ÿçš„é”™è¯¯ï¼ˆå¦‚æœªæ‰¾åˆ°ï¼‰\nsetmaxopenconnsæ–¹æ³• è®¾ç½®ä¸æ•°æ®åº“è¿æ¥æ± çš„æœ€å¤§è¿æ¥æ•°\nsetmaxidleconnsæ–¹æ³• setmaxidleconnesè®¾ç½®è¿æ¥æ± ä¸­çš„æœ€å¤§é—²ç½®è¿æ¥æ•°ã€‚å¦‚æœnå¤§äºæœ€å¤§å¼€å¯è¿æ¥æ•°ï¼Œåˆ™æ–°çš„æœ€å¤§é—²ç½®è¿æ¥æ•°ä¼šå‡å°åˆ°åŒ¹é…æœ€å¤§å¼€å¯è¿æ¥æ•°çš„é™åˆ¶ã€‚å¦‚æœn\u0026lt;=0 ä¸ä¼šä¿ç•™é—²ç½®è¿æ¥\nå¤šè¡ŒæŸ¥è¯¢ å¤šè¡ŒæŸ¥è¯¢db.query()æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼Œè¿”å›å¤šè¡Œç»“æœï¼ˆrowsï¼‰ï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡Œselectå‘½ä»¤ã€‚å‚æ•°argsè¡¨ç¤ºqueryä¸­çš„å ä½å‚æ•°\næ’å…¥æ•°æ® æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œéƒ½ä½¿ç”¨æ–¹æ³• Exec\nåˆ é™¤ä¹Ÿæ˜¯ä¸€æ ·çš„\nMySQLé¢„å¤„ç† ä»€ä¹ˆæ˜¯é¢„å¤„ç† æ™®é€šsqlè¯­å¥æ‰§è¡Œè¿‡ç¨‹:\nå®¢æˆ·ç«¯å¯¹SQLè¯­å¥è¿›è¡Œå ä½ç¬¦æ›¿æ¢å¾—åˆ°å®Œæ•´çš„SQLè¯­å¥ å®¢æˆ·ç«¯å‘é€å®Œæ•´çš„SQLè¯­å¥åˆ°MySQLæœåŠ¡ç«¯ mysqlæœåŠ¡ç«¯æ‰§è¡Œå®Œæ•´çš„sqlè¯­å¥å¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ é¢„å¤„ç†æ‰§è¡Œè¿‡ç¨‹:\næŠŠsqlè¯­å¥åˆ†æˆä¸¤éƒ¨åˆ†,å‘½ä»¤éƒ¨åˆ†ä¸æ•°æ®éƒ¨åˆ† å…ˆæŠŠå‘½ä»¤éƒ¨åˆ†å‘é€ç»™mysqlæœåŠ¡ç«¯,mysqlæœåŠ¡ç«¯è¿›è¡Œsqlé¢„å¤„ç† ç„¶åå§æ•°æ®éƒ¨åˆ†å‘é€ç»™mysqlæœåŠ¡ç«¯,mysqlæœåŠ¡ç«¯å¯¹sqlè¯­å¥è¿›è¡Œå ä½ç¬¦æ›¿æ¢ mysqlæœåŠ¡ç«¯æ‰§è¡Œå®Œæ•´çš„sqlè¯­å¥å¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ ä¸ºä»€ä¹ˆè¦é¢„å¤„ç† 1.ä¼˜åŒ–mysqlæœåŠ¡å™¨é‡å¤æ‰§è¡Œsqlçš„æ–¹æ³•,å¯ä»¥æå‡æœåŠ¡å™¨æ€§èƒ½,æå‰è®©æœåŠ¡å™¨ç¼–è¯‘,ä¸€æ¬¡ç¼–è¯‘å¤šæ¬¡æ‰§è¡Œ,èŠ‚çœåç»­ç¼–è¯‘çš„æˆæœ¬\n2.é¿å…sqlæ³¨å…¥çš„é—®é¢˜\ngoå®ç°mysqlé¢„å¤„ç† prepareæ–¹æ³•ä¼šå…ˆå°†sqlè¯­å¥å‘é€ç»™mysqlæœåŠ¡ç«¯,è¿”å›ä¸€ä¸ªå‡†å¤‡å¥½çš„çŠ¶æ€ç”¨äºä¹‹åçš„æŸ¥è¯¢å’Œå‘½ä»¤.è¿”å›å€¼å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢å’Œå‘½ä»¤\npackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/go-sql-driver/mysql\u0026#34; \u0026#34;log\u0026#34; ) type student struct { sno ,sname,ssex string sage int } var db *sql.DB //æ˜¯ä¸€ä¸ªè¿æ¥æ± å¯¹è±¡ func main() { initDB() //queryOne(\u0026#34;2016210867\u0026#34;) //queryMany() //insert() //update() prepareSelect() } func initDB() (err error) { dsn:=\u0026#34;root:123456@tcp(127.0.0.1:3306)/tset\u0026#34; db,err =sql.Open(\u0026#34;mysql\u0026#34;,dsn) if err != nil { log.Printf(\u0026#34;dsn %s is invalid , error : %v\\n\u0026#34;,dsn,err) } err = db.Ping() if err != nil { log.Printf(\u0026#34;open %s failed , err : %v\\n\u0026#34;,dsn,err) return err } //è®¾ç½®æ•°æ®åº“è¿æ¥æ± æœ€å¤§è¿æ¥æ•° å¦‚æœè¶…è¿‡äº†å°±ä¼šé˜»å¡ç­‰å¾…å…¶ä»–çš„ç¨‹åº db.SetMaxOpenConns(10) //æœ€å¤§ç©ºé—²è¿æ¥æ•° db.SetMaxIdleConns(5) return nil } func queryOne(sno string) { var s student //æŸ¥æ‰¾ row := db.QueryRow(\u0026#34;select * from student where sno = ?\u0026#34;,sno) //ä»è¿æ¥æ± ä¸­æ‹¿ä¸€ä¸ªè¿æ¥å‡ºæ¥å»æ•°æ®åº“æŸ¥è¯¢å•æŒ‘è®°å½• //æ‰«æ+é‡Šæ”¾è¿æ¥ å¿…é¡»å¯¹rowobjè°ƒç”¨scanæ–¹æ³• row.Scan(\u0026amp;s.sno,\u0026amp;s.sname,\u0026amp;s.ssex,\u0026amp;s.sage) var sname string db.QueryRow(\u0026#34;select sname from student where sno = ?\u0026#34;,sno).Scan(\u0026amp;sname) fmt.Printf(\u0026#34;student: %v \\n\u0026#34;,s) fmt.Println(sname) } func queryMany() { rows, err := db.Query(\u0026#34;select sno , sname , ssex , sage from student \u0026#34;) if err != nil { fmt.Println(\u0026#34;db query failed , error : %v\\n\u0026#34;,err) return } //éå¸¸é‡è¦ ä¸€å®šè¦å…³é—­rows defer rows.Close() //å¾ªç¯å–å€¼ for rows.Next(){ var s student rows.Scan(\u0026amp;s.sno,\u0026amp;s.sname,\u0026amp;s.ssex,\u0026amp;s.sage) fmt.Println(s) } } func insert() { sql:=\u0026#34;insert into student values (\u0026#39;2020170281\u0026#39;,\u0026#39;ljs\u0026#39;,\u0026#39;man\u0026#39;,23)\u0026#34; exec, err := db.Exec(sql) if err != nil { fmt.Println(\u0026#34;exec insert %s failed , err : %v\\n\u0026#34;,sql,err) return } //å¦‚æœæ˜¯æ’å…¥æ•°æ®çš„æ“ä½œ,èƒ½å¤Ÿæ‹¿åˆ°æ’å…¥æ•°æ®çš„id id, err := exec.LastInsertId() if err != nil { fmt.Println(\u0026#34;get id failed ,err : %v\\n\u0026#34;, err) return } fmt.Println(\u0026#34;id:\u0026#34;,id) } func update() { exec, err := db.Exec(\u0026#34;update student set sname = \u0026#39;ljsnew\u0026#39; where sno=\u0026#39;2020170281\u0026#39; \u0026#34;) if err != nil { fmt.Println(err) return } fmt.Println(exec.RowsAffected()) } //é¢„å¤„ç†æ–¹å¼selectå¤šæ¡æ•°æ® func prepareSelect() { prepare, err := db.Prepare(\u0026#34;select * from student where sno like ? \u0026#34;)//å§sqlè¯­å¥å…ˆå‘ç»™mysqlé¢„å¤„ç†ä¸€ä¸‹ if err != nil { return } rows, err := prepare.Query(\u0026#34;%2016%\u0026#34;) //åç»­åªéœ€è¦ä¼ å€¼å°±è¡Œäº† if err != nil { return } defer prepare.Close() defer rows.Close() for rows.Next () { var s student rows.Scan(\u0026amp;s.sno,\u0026amp;s.sname,\u0026amp;s.ssex,\u0026amp;s.sage) fmt.Println(s) } } goè¯­è¨€å®ç°mysqläº‹åŠ¡ äº‹åŠ¡ç›¸å…³æ–¹æ³•:begin / commit / rollback\nsqlxä½¿ç”¨ ç¬¬ä¸‰æ–¹åº“ sqlx èƒ½å¤Ÿç®€åŒ–æ“ä½œ,æé«˜å¼€å‘æ•ˆç‡\nå®‰è£… go get github.com/jmoiron/sqlx\næ³¨æ„äº‹é¡¹ SQLä¸­çš„å ä½ç¬¦ ä¸åŒæ•°æ®åº“ä¸­,SQLè¯­å¥ä½¿ç”¨çš„å ä½ç¬¦è¯­æ³•ä¸å°½ç›¸åŒ\næ•°æ®åº“ å ä½ç¬¦è¯­æ³• Mysql ? postgresql $1,$2 sqlite ?å’Œ$1 oracle :name sqlæ³¨å…¥ æˆ‘ä»¬ä»»ä½•æ—¶å€™éƒ½ä¸åº”è¯¥è‡ªå·±æ‹¼æ¥sqlè¯­å¥\npackage main import ( \u0026#34;fmt\u0026#34; _\u0026#34;github.com/go-sql-driver/mysql\u0026#34; \u0026#34;github.com/jmoiron/sqlx\u0026#34; ) func main() { sqlInjectDemo(\u0026#34;xxx\u0026#39;or 1=1#\u0026#34;) sqlInjectDemo(\u0026#34;xxx\u0026#39; union select * from student #\u0026#34;) } var db *sqlx.DB type student struct { SNO , SNAME , SSEX string SAGE int } func sqlInjectDemo(name string) { //è‡ªå·±æ‹¼æ¥sqlè¯­å¥ sqlStr:=fmt.Sprintf(\u0026#34;select * from student where sname =\u0026#39;%s\u0026#39;\u0026#34;,name) fmt.Println(sqlStr) var err error db, err = sqlx.Connect(\u0026#34;mysql\u0026#34;, \u0026#34;root:123456@tcp(127.0.0.1:3306)/tset\u0026#34;) if err != nil { fmt.Println(err) return } err = db.Ping() if err != nil { fmt.Println(err) return } var s []student err = db.Select(\u0026amp;s, sqlStr) if err != nil { fmt.Println(err) return } fmt.Println(s) } image-20210820163242826\rredis kvæ•°æ®åº“\nredisçš„ç”¨å¤„\ncacheç¼“å­˜ ç®€å•çš„é˜Ÿåˆ— æ’è¡Œæ¦œ redisæ˜¯ä¸€ä¸ªå¼€æºçš„å†…å­˜æ•°æ®åº“,redisæä¾›äº†å¤šç§ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„,å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹çš„é—®é¢˜éƒ½å¯ä»¥å¾ˆè‡ªç„¶åœ°æ˜ å°„åˆ°è¿™äº›æ•°æ®ç»“æ„ä¸Š.é™¤æ­¤ä¹‹å¤–,é€šè¿‡å¤åˆ¶/æŒä¹…åŒ–å’Œå®¢æˆ·ç«¯åˆ†ç‰‡ç­‰ç‰¹æ€§,æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†redisæ‰©å±•æˆä¸ºä¸€ä¸ªèƒ½å¤ŸåŒ…å«æ•°ç™¾GBæ•°æ®/æ¯ç§’å¤„ç†ä¸Šç™¾ä¸‡æ¬¡è¯·æ±‚çš„ç³»ç»Ÿ\nredisæ”¯æŒçš„æ•°æ®ç»“æ„ redisæ”¯æŒè¯¸å¦‚å­—ç¬¦ä¸²strings å“ˆå¸Œhashes åˆ—è¡¨lists é›†åˆsets å¸¦èŒƒå›´æŸ¥è¯¢çš„æ’åºé›†åˆ sorted sets ä½å›¾bitmaps hyperloglogs å¸¦åŠå¾„æŸ¥è¯¢å’Œæµçš„åœ°ç†ç©ºé—´ç´¢å¼•ç­‰æ•°æ®ç»“æ„ geospatial indexes\nredisåº”ç”¨åœºæ™¯ ç¼“å­˜ç³»ç»Ÿ,å‡è½»ä¸»æ•°æ®åº“mysqlçš„å‹åŠ› è®¡æ•°åœºæ™¯,æ¯”å¦‚å¾®åš/æŠ–éŸ³ä¸­çš„å…³æ³¨æ•°å’Œç²‰ä¸æ•° çƒ­é—¨æ’è¡Œæ¦œ,éœ€è¦æ’åºçš„åœºæ™¯ç‰¹åˆ«é€‚åˆä½¿ç”¨zset åˆ©ç”¨listå¯ä»¥å®ç°é˜Ÿåˆ—çš„åŠŸèƒ½ redisä¸memcachedæ¯”è¾ƒ memcacheä¸­çš„å€¼åªæ”¯æŒç®€å•çš„å­—ç¬¦ä¸²,redisæ”¯æŒæ›´ä¸°å¯Œçš„5ç§æ•°æ®ç»“æ„ç±»å‹.redisçš„æ€§èƒ½æ¯”memcacheå¥½å¾ˆå¤š.redisæ”¯æŒrdbæŒä¹…åŒ–å’ŒaofæŒä¹…åŒ–.redisæ”¯æŒmaster/slaveæ¨¡å¼\nå®‰è£… goè¯­è¨€ä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“è¿æ¥redisæ•°æ®åº“å¹¶è¿›è¡Œæ“ä½œ.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½å¹¶å®‰è£…\ngo get -u github.com/go-redis/redis\ngetå’Œset zset package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/go-redis/redis\u0026#34; ) var redisDb *redis.Client func main() { err := initRedis() if err != nil { fmt.Println(err) return } fmt.Println(\u0026#34;è¿æ¥redisæˆåŠŸ\u0026#34;) redisExample() redisExample2() } func initRedis() (err error) { redisDb = redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;127.0.0.1:6379\u0026#34;, Password: \u0026#34;\u0026#34;, DB: 0, }) result, err := redisDb.Ping().Result() if err != nil { return err } fmt.Println(result) return } func redisExample() { err := redisDb.Set(\u0026#34;score\u0026#34;, 100, 0).Err() if err != nil { fmt.Println(err) return } val1, err := redisDb.Get(\u0026#34;score\u0026#34;).Result() if err != nil { return } fmt.Println(\u0026#34;scoer\u0026#34;,val1) val2, err := redisDb.Get(\u0026#34;name\u0026#34;).Result() if err == redis.Nil { fmt.Println(\u0026#34;name does not exist\u0026#34;) } else if err != nil { fmt.Println(err) return }else { fmt.Println(val2) } } func redisExample2() { //zset key:=\u0026#34;rank\u0026#34; items:=[]redis.Z{ redis.Z{ Score: 99, Member: \u0026#34;php\u0026#34;, }, redis.Z{ Score: 96, Member: \u0026#34;golang\u0026#34;, }, redis.Z{ Score: 97, Member: \u0026#34;python\u0026#34;, }, redis.Z{ Score: 99, Member: \u0026#34;java\u0026#34;, }, } fmt.Println(items) //æŠŠå…ƒç´ éƒ½è¿½åŠ åˆ°keyä¸­ num, err := redisDb.ZAdd(key,items...).Result() if err != nil { return } fmt.Println(num) //åŠ åˆ†æ•° newScore, err := redisDb.ZIncrBy(key, -1, \u0026#34;java\u0026#34;).Result() if err != nil { return } fmt.Println(newScore) //å–åˆ†æ•°æœ€é«˜çš„ scoreList, err := redisDb.ZRevRangeWithScores(key,0,3).Result() if err != nil { return } for _, z := range scoreList { fmt.Println(z.Member,z.Score) } //å–95åˆ°100åˆ†çš„ option := \u0026amp;redis.ZRangeBy{ Min: \u0026#34;95\u0026#34;, Max: \u0026#34;100\u0026#34;, } ret, err := redisDb.ZRangeByScoreWithScores(key,*option).Result() if err != nil { return } for _, z := range ret { fmt.Println(z.Member,z.Score) } } NSQ NSQæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ¶ˆæ¯é˜Ÿåˆ—,æœ¬æ–‡ä¸»è¦ä»‹ç»äº†NSQåŠgoè¯­è¨€å¦‚ä½•æ“ä½œNSQ\nNSQä»‹ç» NSQæ˜¯goè¯­è¨€ç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„å®æ—¶åˆ†å¸ƒå¼å†…å­˜æ¶ˆæ¯é˜Ÿåˆ—,å…¶æ€§èƒ½ååˆ†ä¼˜å¼‚.NSQçš„ä¼˜åŠ¿æœ‰:\nNSQæå€¡åˆ†å¸ƒå¼å’Œåˆ†æ•£çš„æ‹“æ‰‘,æ²¡æœ‰å•ç‚¹æ•…éšœ,æ”¯æŒå®¹é”™å’Œé«˜å¯ç”¨æ€§,å¹¶æä¾›å¯é çš„æ¶ˆæ¯äº¤ä»˜ä¿è¯ NSQæ”¯æŒæ¨ªå‘æ‰©å±•,æ²¡æœ‰ä»»ä½•é›†ä¸­å¼ä»£ç† NSQæ˜“äºé…ç½®å’Œéƒ¨ç½²,å¹¶ä¸”å†…ç½®äº†ç®¡ç†ç•Œé¢ NSQçš„åº”ç”¨åœºæ™¯ é€šå¸¸æ¥è¯´,æ¶ˆæ¯é˜Ÿåˆ—éƒ½é€‚ç”¨äºä»¥ä¸‹åœºæ™¯\nå¼‚æ­¥å¤„ç† åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—æŠŠä¸šåŠ¡æµç¨‹ä¸­çš„éå…³é”®æµç¨‹å¼‚æ­¥åŒ–,ä»è€Œæ˜¾è‘—é™ä½ä¸šåŠ¡è¯·æ±‚çš„å“åº”æ—¶é—´\nimage-20210820235216910\råº”ç”¨è§£è€¦ é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å°†ä¸åŒçš„ä¸šåŠ¡é€»è¾‘è§£è€¦,é™ä½ç³»ç»Ÿé—´çš„è€¦åˆ,æé«˜ç³»ç»Ÿçš„å¥å£®æ€§.åç»­æœ‰å…¶ä»–ä¸šåŠ¡è¦ä½¿ç”¨è®¢å•æ•°æ®å¯ç›´æ¥è®¢é˜…æ¶ˆæ¯é˜Ÿåˆ—,æé«˜ç³»ç»Ÿçš„çµæ´»æ€§\nimage-20210820235428939\ræµé‡å‰Šå³° ç±»ä¼¼ç§’æ€ç­‰åœºæ™¯ä¸‹,æŸä¸€æ—¶é—´å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„è¯·æ±‚,ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—èƒ½å¤Ÿä¸ºåç«¯å¤„ç†è¯·æ±‚æä¾›ä¸€å®šçš„ç¼“å†²åŒº,ä¿è¯åç«¯æœåŠ¡çš„ç¨³å®šæ€§\nimage-20210820235659875\rNSQç»„ä»¶ nsqd nsqdæ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹,å®ƒæ¥æ”¶/æ’é˜Ÿå¹¶å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯\nå¯åŠ¨nsqd,æŒ‡å®š-broadcast-address=127.0.0.1æ¥é…ç½®å¹¿æ’­åœ°å€\nå¦‚æœæ˜¯åœ¨æ­é…nsqdlookupdä½¿ç”¨çš„æ¨¡å¼ä¸‹è¿˜éœ€è¦æŒ‡å®šnsqdlookupdåœ°å€\nå¦‚æœæ˜¯éƒ¨ç½²äº†å¤šä¸ªnsqlookupdèŠ‚ç‚¹çš„é›†ç¾¤,é‚£è¿˜å¯ä»¥æŒ‡å®šå¤šä¸ª-lookupd-tcp-address\nnsqlookupd nsqlookupdæ˜¯ç»´æŠ¤æ‰€æœ‰nsqdçŠ¶æ€/æä¾›æœåŠ¡å‘ç°çš„å®ˆæŠ¤è¿›ç¨‹.ä»–èƒ½ä¸ºæ¶ˆè´¹è€…æŸ¥æ‰¾ç‰¹å®štopicä¸‹çš„nsqdæä¾›äº†è¿è¡Œæ—¶çš„è‡ªåŠ¨å‘ç°æœåŠ¡.ä»–ä¸æ˜¯ç»´æŒæŒä¹…çŠ¶æ€,ä¹Ÿä¸éœ€è¦ä¸ä»»ä½•å…¶ä»–çš„nsqdlookupdå®ä¾‹åè°ƒä»¥æ»¡è¶³æŸ¥è¯¢.å› æ­¤æ ¹æ®ç³»ç»Ÿçš„å†—ä½™è¦æ±‚å°½å¯èƒ½å¤šåœ°éƒ¨ç½²nsqlookupdèŠ‚ç‚¹.å¥¹ä»¬æ¶ˆè€—çš„èµ„æºå¾ˆå°‘,å¯ä»¥ä¸å…¶ä»–æœåŠ¡å…±å­˜,æˆ‘ä»¬çš„å»ºè®®æ˜¯ä¸ºæ¯ä¸ªæ•°æ®ä¸­å¿ƒè¿è¡Œè‡³å°‘ä¸‰ä¸ªé›†ç¾¤\nnsqadmin\nä¸€ä¸ªå®æ—¶ç›‘æ§é›†ç¾¤çŠ¶æ€/æ‰§è¡Œå„ç§ç®¡ç†ä»»åŠ¡çš„webç®¡ç†å¹³å°,å¯åŠ¨nsqdadmin,æŒ‡å®šnsqlookupdåœ°å€\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€http://127.0.0.1:4171è®¿é—®ç®¡ç†ç•Œé¢\nimage-20210821104437565\rtopicå’Œchannel æ¯ä¸ªnsqdå®ä¾‹æ—¨åœ¨ä¸€æ¬¡å¤„ç†å¤šä¸ªæ•°æ®æµ.è¿™äº›æ•°æ®æµæˆä¸ºtopics,ä¸€ä¸ªtopicå…·æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªchannels,æ¯ä¸ªchanneléƒ½ä¼šæ”¶åˆ°topicæ‰€æœ‰æ¶ˆæ¯çš„å‰¯æœ¬,å®é™…ä¸Šä¸Šä¸‹æ¸¸çš„æœåŠ¡æ˜¯é€šè¿‡å¯¹åº”çš„channelæ¥æ¶ˆè´¹topicæ¶ˆæ¯\ntopicå’Œchannelä¸æ˜¯é¢„å…ˆè®¾ç½®çš„.topicåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶åˆ›å»º,æ–¹æ³•æ˜¯å°†å…¶å‘å¸ƒåˆ°æŒ‡å®štopic,æˆ–è€…è®¢é˜…æŒ‡å®štopicä¸Šçš„channel. channelæ˜¯é€šè¿‡è®¢é˜…æŒ‡å®šçš„channelåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆ›å»ºçš„\ntopicå’Œchanneléƒ½äº’ç›¸ç‹¬ç«‹åœ°ç¼“å†²æ•°æ®,é˜²æ­¢ç¼“æ…¢çš„æ¶ˆè´¹è€…å¯¼è‡´å…¶ä»–channelçš„ç§¯å‹(åŒæ ·é€‚ç”¨äºtopicçº§åˆ«)\nchannelå¯ä»¥å¹¶ä¸”é€šå¸¸ä¼šè¿æ¥å¤šä¸ªå®¢æˆ·ç«¯.å‡è®¾æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯éƒ½å¤„äºå‡†å¤‡æ¥æ”¶æ¶ˆæ¯çš„çŠ¶æ€,åˆ™æ¯æ¡æ¶ˆæ¯å°†è¢«ä¼ é€’åˆ°éšæœºå®¢æˆ·ç«¯\næ€»è€Œè¨€ä¹‹,æ¶ˆæ¯æ˜¯ä»topic-\u0026gt;channel(æ¯ä¸ªchannelæ¥æ”¶è¯¥topicçš„æ‰€æœ‰æ¶ˆæ¯çš„å‰¯æœ¬) å¤šæ’­çš„,ä½†æ˜¯ä»channel-\u0026gt;consumerså‡åŒ€åˆ†å¸ƒ(æ¯ä¸ªæ¶ˆè´¹è€…æ¥æ”¶åˆ°è¯¥channelçš„ä¸€éƒ¨åˆ†æ¶ˆæ¯)\nimage-20210821105522944\rimage-20210821105528935\rNSQç‰¹æ€§ æ¶ˆæ¯é»˜è®¤ä¸æŒä¹…åŒ–,å¯ä»¥é…ç½®æˆæŒä¹…åŒ–æ¨¡å¼. nsqé‡‡ç”¨çš„æ–¹å¼æ˜¯å†…å­˜+ç¡¬ç›˜çš„æ¨¡å¼,å½“å†…å­˜è¾¾åˆ°ä¸€å®šç¨‹åº¦æ—¶å°±ä¼šå°†æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Š. å¦‚æœå°† \u0026ndash;mem-queue-size è®¾ç½®ä¸º0 æœåŠ¡å™¨é‡å¯æ—¶ä¹Ÿä¼šå°†å½“æ—¶åœ¨å†…å­˜ä¸­çš„æ¶ˆæ¯æŒä¹…åŒ– æ¯æ¡æ¶ˆæ¯è‡³å°‘ä¼ é€’ä¸€æ¬¡ æ¶ˆæ¯ä¸ä¿è¯æœ‰åº goæ“ä½œnsq day11è¯¾ä¸Šç¬”è®° ä»Šæ—¥å†…å®¹ ä¾èµ–ç®¡ç†go module context æœåŠ¡ç«¯agentå¼€å‘ æ—¥å¿—é¡¹ç›®æ¶æ„è®¾è®¡ kafkaå’Œzookeeper tailfä»‹ç» ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–ç®¡ç† æœ€æ—©çš„æ—¶å€™,goæ‰€ä¾èµ–çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“ æ”¾åœ¨gopathè¿™ä¸ªç›®å½•ä¸‹é¢.è¿™å°±å¯¼è‡´äº†åŒä¸€ä¸ªåº“åªèƒ½ä¿å­˜ä¸€ä¸ªç‰ˆæœ¬çš„ä»£ç .å¦‚æœä¸åŒçš„é¡¹ç›®ä¾èµ–åŒä¸€ä¸ªç¬¬ä¸‰æ–¹çš„åº“çš„ä¸åŒç‰ˆæœ¬,åº”è¯¥æ€ä¹ˆè§£å†³\ngodep goè¯­è¨€ä»v1.5å¼€å§‹å¼•å…¥vendoræ¨¡å¼,å¦‚æœé¡¹ç›®ç›®å½•ä¸‹æœ‰vendorç›®å½•,é‚£ä¹ˆgoå·¥å…·é“¾ä¼šä¼˜å…ˆä½¿ç”¨vendorå†…çš„åŒ…è¿›è¡Œç¼–è¯‘/æµ‹è¯• ç­‰ç­‰\ngodepæ˜¯ä¸€ä¸ªé€šè¿‡vendoræ¨¡å¼å®ç°çš„goè¯­è¨€çš„ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†å·¥å…·,ç±»ä¼¼çš„è¿˜æœ‰ç”±ç¤¾åŒºç»´æŠ¤å‡†å®˜æ–¹åŒ…ç®¡ç†å·¥å…·dep\ngo module go1.11ä¹‹åé€€å‡ºçš„å®˜æ–¹ç‰ˆæœ¬ç®¡ç†å·¥å…·,ä»go1.13ç‰ˆæœ¬å¼€å§‹,go moduleå°†æ˜¯goè¯­è¨€é»˜è®¤çš„ä¾èµ–ç®¡ç†å·¥å…·\ngo111module\nè¦å¯ç”¨go module æ”¯æŒé¦–å…ˆè¦è®¾ç½®ç¯å¢ƒå˜é‡ go111module,é€šè¿‡ä»–å¯ä»¥å¼€å¯å’Œå…³é—­æ¨¡å—æ”¯æŒ,ä»–å¯ä»¥æœ‰ä¸‰ä¸ªå¯é€‰å€¼:\noff on auto é»˜è®¤å€¼æ˜¯auto\noffå°±æ˜¯ç¦ç”¨æ¨¡å—æ”¯æŒ,ç¼–è¯‘æ—¶ä¼šä»gopathå’Œvendoræ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾åŒ…\nonå°±æ˜¯å¯ç”¨æ¨¡å—æ”¯æŒ,ç¼–è¯‘æ—¶ä¼šå¿½ç•¥gopathå’Œvendoræ–‡ä»¶å¤¹,åªæ ¹æ®go.modä¸‹è½½ä¾èµ–\nautoå°±æ˜¯å½“gopathå¤–æœ‰go.modæ–‡ä»¶æ—¶,å¼€å¯æ¨¡å—æ”¯æŒ\nç®€å•æ¥è¯´,è®¾ç½®onä¹‹åå°±å¯ä»¥ä½¿ç”¨go moduleäº†\nä½¿ç”¨go moduleç®¡ç†ä¾èµ–åä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶go.modå’Œgo.sum\ngoproxy go1.11ä¹‹åè®¾ç½®goproxyå‘½ä»¤,ç”±äºå›½å†…æ— æ³•è®¿é—®,æ‰€ä»¥å»ºè®®è®¾ç½®goproxy\ngo modå‘½ä»¤ go mod download go mod edit go mod graph go mod init go mod tidy go mod vendor go mod verify go mod why go.mod go.modæ–‡ä»¶è®°å½•äº†é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–ä¿¡æ¯,å…¶ç»“æ„å¤§è‡´å¦‚ä¸‹\nå…¶ä¸­:\nmoduleç”¨æ¥å®šä¹‰åŒ…å requireç”¨æ¥å®šä¹‰ä¾èµ–åŒ…åŠç‰ˆæœ¬ indirectè¡¨ç¤ºç®€ä»‹å¼•ç”¨ go.sum è¯¦ç»†åŒ…å’Œç‰ˆæœ¬ä¿¡æ¯\ngo get ä¸‹è½½ä¾èµ–åŒ…,å¹¶ä¸”è¿˜å¯ä»¥æŒ‡å®šä¸‹è½½çš„ç‰ˆæœ¬\ngo mod edit å› ä¸ºæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹go.modæ–‡ä»¶,æ‰€ä»¥æœ‰æ—¶å€™éœ€è¦æ ¼å¼åŒ–è¯¥æ–‡ä»¶/æ·»åŠ ä¾èµ–é¡¹/ç§»é™¤ä¾èµ–é¡¹\nåœ¨é¡¹ç›®ä¸­ä½¿ç”¨go module æ—¢æœ‰é¡¹ç›® å¦‚æœéœ€è¦å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é¡¹ç›®å¯ç”¨go module,å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤\nåœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œgo mod init , ç”Ÿæˆä¸€ä¸ªgo.modæ–‡ä»¶ æ‰§è¡Œgo get , æŸ¥æ‰¾å¹¶è®°å½•å½“å‰é¡¹ç›®çš„ä¾èµ–,åŒæ—¶ç”Ÿæˆä¸€ä¸ªgo. sumè®°å½•æ¯ä¸ªä¾èµ–åº“çš„ç‰ˆæœ¬å’Œå“ˆå¸Œå€¼ æ–°é¡¹ç›® æ‰§è¡Œgo mod init é¡¹ç›®å , åœ¨å½“å‰é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªgo.modæ–‡ä»¶ æ‰‹åŠ¨ç¼–è¾‘go.modä¸­çš„requireä¾èµ–é¡¹æˆ–æ‰§è¡Œgo getè‡ªåŠ¨å‘ç°/ç»´æŠ¤ä¾èµ– context éå¸¸é‡è¦!!!\nå¦‚ä½•ä¼˜é›…çš„æ§åˆ¶å­goroutineé€€å‡º\nåœ¨go httpåŒ…çš„serverä¸­,æ¯ä¸€ä¸ªè¯·æ±‚åœ¨éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„goroutineå»å¤„ç†,è¯·æ±‚å¤„ç†å‡½æ•°é€šå¸¸ä¼šå¯åŠ¨é¢å¤–çš„goroutineç”¨æ¥è®¿é—®åç«¯æœåŠ¡,æ¯”å¦‚æ•°æ®åº“å’ŒrpcæœåŠ¡.ç”¨æ¥å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„goroutine,é€šå¸¸éœ€è¦è®¿é—®ä¸€äº›ä¸è¯·æ±‚ç‰¹å®šçš„æ•°æ®,æ¯”å¦‚ç»ˆç«¯ç”¨æˆ·çš„èº«ä»½è®¤è¯ä¿¡æ¯/éªŒè¯ç›¸å…³çš„token/è¯·æ±‚çš„æˆªæ­¢æ—¶é—´.å½“ä¸€ä¸ªè¯·æ±‚è¢«å–æ¶ˆæˆ–è¶…æ—¶æ—¶,æ‰€æœ‰ç”¨æ¥å¤„ç†è¯¥è¯·æ±‚çš„goroutineéƒ½åº”è¯¥è¿…é€Ÿé€€å‡º,ç„¶åç³»ç»Ÿæ‰èƒ½é‡Šæ”¾è¿™äº›goroutineå ç”¨çš„èµ„æº\nä½¿ç”¨å…¨å±€å˜é‡ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; ) //ç¬¬ä¸€ç§å°±æ˜¯é€šè¿‡å…¨å±€å˜é‡ æ¥æ§åˆ¶goroutineé€€å‡º var notify bool var wg sync.WaitGroup //ä¸ºä»€ä¹ˆéœ€è¦context func main() { wg.Add(1) go f() //å¦‚ä½•é€šçŸ¥å­goroutineé€€å‡º time.Sleep(time.Second) notify=true wg.Wait() } func f() { defer wg.Done() for !notify { fmt.Println(\u0026#34;ljs\u0026#34;) time.Sleep(time.Millisecond*500) } } ä½¿ç”¨é€šé“ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; ) var i = make(chan bool,1) var wg sync.WaitGroup //ä¸ºä»€ä¹ˆéœ€è¦context func main() { wg.Add(1) go f() //å¦‚ä½•é€šçŸ¥å­goroutineé€€å‡º time.Sleep(time.Second) i\u0026lt;-true wg.Wait() } func f() { defer wg.Done() LOOP: for { fmt.Println(\u0026#34;ljs\u0026#34;) time.Sleep(time.Millisecond*500) select { case \u0026lt;-i: break LOOP default: } } } ä½¿ç”¨context package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; ) var wg sync.WaitGroup func main() { ctx, cancel := context.WithCancel(context.Background()) wg.Add(2) go f(ctx) //å¦‚ä½•é€šçŸ¥å­goroutineé€€å‡º time.Sleep(time.Second) //é€šçŸ¥å­goroutineé€€å‡º cancel() wg.Wait() } func f(ctx context.Context) { defer wg.Done() go f2(ctx) LOOP: for { fmt.Println(\u0026#34;ljs\u0026#34;) time.Sleep(time.Millisecond*500) select { case \u0026lt;-ctx.Done(): break LOOP default: } } } func f2(ctx context.Context) { defer wg.Done() LOOP: for { fmt.Println(\u0026#34;jwt\u0026#34;) time.Sleep(time.Millisecond*250) select { case\u0026lt;-ctx.Done(): break LOOP default: } } } contextåˆè¯† go1.7åŠ å…¥äº†ä¸€ä¸ªæ–°çš„æ ‡å‡†åº“context,ä»–å®šä¹‰äº†contextç±»å‹,ä¸“é—¨ç”¨æ¥ç®€åŒ–å¯¹äºå¤„ç†å•ä¸ªè¯·æ±‚çš„å¤šä¸ªgoroutineä¹‹é—´ä¸è¯·æ±‚åŸŸçš„æ•°æ®/å–æ¶ˆä¿¡å·/æˆªæ­¢æ—¶é—´ç­‰ç›¸å…³æ“ä½œ,è¿™äº›æ“ä½œå¯èƒ½æ¶‰åŠå¤šä¸ªapiè°ƒç”¨\nå¯¹æœåŠ¡å™¨ä¼ å…¥çš„è¯·æ±‚åº”è¯¥åˆ›å»ºä¸Šä¸‹æ–‡,è€Œå¯¹æœåŠ¡å™¨çš„ä¼ å‡ºè°ƒç”¨åº”è¯¥æ¥å—ä¸Šä¸‹æ–‡.å¥¹ä»¬ä¹‹é—´çš„å‡½æ•°è°ƒç”¨é“¾å¿…é¡»ä¼ é€’ä¸Šä¸‹æ–‡,æˆ–è€…å¯ä»¥ä½¿ç”¨withcancle/withdeadline/withtimeoutæˆ–withvalueåˆ›å»ºçš„æ´¾ç”Ÿä¸Šä¸‹æ–‡,å½“ä¸€ä¸ªä¸Šä¸‹æ–‡è¢«å–æ¶ˆæ—¶,ä»–æ´¾ç”Ÿçš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¹Ÿè¢«å–æ¶ˆ\nå…¶ä¸­:\ndeadlineæ–¹æ³•éœ€è¦è¿”å›å½“å‰contextè¢«å–æ¶ˆçš„æ—¶é—´,ä¹Ÿå°±æ˜¯å®Œæˆå·¥ä½œçš„æˆªè‡³æ—¶é—´(deadline) doneæ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªchannel,è¿™ä¸ªchannelä¼šåœ¨å½“å‰å·¥ä½œå®Œæˆæˆ–è€…ä¸Šä¸‹æ–‡è¢«å–æ¶ˆä¹‹åå…³é—­,å¤šæ¬¡è°ƒç”¨doneæ–¹æ³•ä¼šè¿”å›åŒä¸€ä¸ªchannel erræ–¹æ³•ä¼šè¿”å›å½“å‰contextç»“æŸçš„åŸå› ,ä»–åªä¼šåœ¨doneè¿”å›çš„channelè¢«å…³é—­æ—¶æ‰ä¼šè¿”å›éç©ºçš„å€¼ å¦‚æœå½“å‰contextè¢«å–æ¶ˆå°±ä¼šè¿”å›canceledé”™è¯¯ å¦‚æœå½“å‰contextè¶…å¸‚å°±ä¼šè¿”å›deadlineexceeded valueæ–¹æ³•ä¼šä»contextä¸­è¿”å›é”®å¯¹åº”çš„å€¼,å¯¹äºåŒä¸€ä¸ªä¸Šä¸‹æ–‡æ¥è¯´,å¤šæ¬¡è°ƒç”¨valueå¹¶ä¼ å…¥ç›¸åŒçš„keyä¼šè¿”å›ç›¸åŒçš„ç»“æœ,è¯¥æ–¹æ³•ä»…ç”¨äºä¼ é€’è·¨apiå’Œè¿›ç¨‹é—´è·Ÿè¯·æ±‚åŸŸçš„æ•°æ® backgroundå’Œtodo goå†…ç½®ä¸¤ä¸ªå‡½æ•°:backgroundå’Œtodo,è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«è¿”å›äº†ä¸€ä¸ªå®ç°äº†contextæ¥å£çš„backgroundå’Œtodo.æˆ‘ä»¬ä»£ç ä¸­æœ€å¼€å§‹éƒ½æ˜¯ä»¥è¿™ä¸¤ä¸ªå†…ç½®çš„ä¸Šä¸‹æ–‡å¯¹è±¡ä½œä¸ºæœ€é¡¶å±‚çš„parent context,è¡ç”Ÿå‡ºæ›´å¤šçš„å­ä¸Šä¸‹æ–‡å¯¹è±¡\nbackgroundä¸»è¦ç”¨äºmainå‡½æ•°/åˆå§‹åŒ–ä»¥åŠæµ‹è¯•ä»£ç ä¸­,ä½œä¸ºcontextè¿™ä¸ªæ ‘ç»“æ„çš„æœ€é¡¶å±‚çš„context,ä¹Ÿå°±æ˜¯æ ¹çš„context\ntodo,å®ƒç›®å‰è¿˜ä¸çŸ¥é“å…·ä½“çš„ä½¿ç”¨åœºæ™¯,å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“è¯¥ä½¿ç”¨ä»€ä¹ˆcontextçš„æ—¶å€™,å¯ä»¥ä½¿ç”¨è¿™ä¸ª\nbackgroundå’Œtodoæœ¬è´¨ä¸Šéƒ½æ˜¯emptyctxç»“æ„ä½“ç±»å‹,æ˜¯ä¸€ä¸ªä¸å¯å–æ¶ˆ,æ²¡æœ‰è®¾ç½®æˆªæ­¢æ—¶é—´,æ²¡æœ‰æºå¸¦ä»»ä½•å€¼çš„context\nwithç³»åˆ—å‡½æ•° withcancel func withcancel (parent context) (ctx context , cancel cancelFunc) withcancelè¿”å›å¸¦æœ‰æ–°doneé€šé“çš„çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬.å½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æˆ–å½“å…³é—­çˆ¶ä¸Šä¸‹æ–‡çš„doneé€šé“æ—¶,å°†å…³é—­è¿”å›ä¸Šä¸‹æ–‡çš„doneé€šé“,æ— è®ºå…ˆå‘ç”Ÿä»€ä¹ˆæƒ…å†µ.\nå–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶å…³è”çš„èµ„æº\nwithdeadline func withdeadline(parent context , deadline time.time) (context , cancelfunc) è¿”å›çˆ¶ä¸Šä¸‹æ–‡çš„å‰¯æœ¬,å¹¶å°†deadlineè°ƒæ•´ä¸ºä¸è¿Ÿäºd.å¦‚æœçˆ¶ä¸Šä¸‹æ–‡çš„deadlineå·²ç»æ—©äºd,åˆ™withdeadline(parent,d)åœ¨è¯­ä¹‰ä¸Šç­‰åŒäºçˆ¶ä¸Šä¸‹æ–‡,å½“æˆªæ­¢æ—¥è¿‡æœŸæ—¶,å½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æ—¶,æˆ–è€…å½“çˆ¶ä¸Šä¸‹æ–‡çš„doneé€šé“å…³é—­æ—¶,è¿”å›ä¸Šä¸‹æ–‡çš„doneé€šé“å°†è¢«å…³é—­,ä»¥æœ€å…ˆå‘ç”Ÿçš„æƒ…å†µä¸ºå‡†\nå–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶å…³è”çš„èµ„æº,å› æ­¤ä»£ç åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancel\nwithtimeout withtimeoutçš„å‡½æ•°ç­¾åå¦‚ä¸‹\nfunc WithTimeout (parent context ,timeout time.Duration) (context , cancelfunc) withtimeoutè¿”å›withdeadline(parent,time.now().add(timeout))\nå–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶ç›¸å…³çš„èµ„æº,å› æ­¤ä»£ç åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancel,é€šå¸¸ç”¨äºæ•°æ®åº“æˆ–è€…ç½‘ç»œè¿æ¥çš„è¶…æ—¶æ§åˆ¶\nwithvalue withvalueå‡½æ•°èƒ½å¤Ÿå°†è¯·æ±‚ä½œç”¨åŸŸçš„æ•°æ®ä¸contextå¯¹è±¡å»ºç«‹å…³ç³»\nfunc WithValue(parent context , key , val interface{}) context withvalue è¿”å›çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬,å…¶ä¸­ä¸keyå…³è”çš„å€¼ä¸ºval\nä»…å¯¹apiå’Œè¿›ç¨‹é—´ä¼ é€’è¯·æ±‚åŸŸçš„æ•°æ®ä½¿ç”¨ä¸Šä¸‹æ–‡å€¼,è€Œä¸æ˜¯ä½¿ç”¨ä»–æ¥ä¼ é€’å¯é€‰å‚æ•°ç»™å‡½æ•°\næ‰€æä¾›çš„é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„,å¹¶ä¸”ä¸åº”è¯¥æ˜¯stringç±»å‹æˆ–ä»»ä½•å…¶ä»–å†…ç½®ç±»å‹,ä»¥é¿å…ä½¿ç”¨ä¸Šä¸‹æ–‡åœ¨åŒ…ä¹‹é—´å‘ç”Ÿå†²çª.withvalueçš„ç”¨æˆ·åº”è¯¥ä¸ºé”®è‡ªå·±å®šä¹‰è‡ªå·±çš„ç±»å‹.ä¸ºäº†é¿å…åœ¨åˆ†é…ç»™interface{}æ—¶è¿›è¡Œåˆ†é…,ä¸Šä¸‹æ–‡é”®é€šå¸¸ä½¿ç”¨å…·ä½“ç±»å‹struct{}.æˆ–è€…å¯¼å‡ºçš„ä¸Šä¸‹æ–‡å…³é”®å˜é‡çš„é™æ€ç±»å‹åº”è¯¥æ˜¯æŒ‡é’ˆæˆ–æ¥å£\ngo.sumæ–‡ä»¶ è¯¦ç»†çš„åŒ…åå’Œç‰ˆæœ¬ä¿¡æ¯\nå¸¸è§çš„å‘½ä»¤ go mod init //åˆå§‹åŒ–é¡¹ç›® go mod tidy //æ£€æŸ¥ä»£ç é‡Œçš„ä¾èµ–å»æ›´æ–°go.modæ–‡ä»¶ä¸­çš„ä¾èµ– go get go mod download æ—¥å¿—æ”¶é›†é¡¹ç›® image-20210823155422863\rimage-20210823155631862\rç»„ä»¶ä»‹ç»ï¼š logagentï¼šæ—¥å¿—æ”¶é›†å®¢æˆ·ç«¯ï¼Œç”¨æ¥æ”¶é›†æœåŠ¡å™¨ä¸Šçš„æ—¥å¿—\nkafkaï¼šé«˜ååé‡çš„åˆ†å¸ƒå¼é˜Ÿåˆ—ï¼ˆlinkinå¼€å‘ï¼Œapacheé¡¶çº§å¼€æºé¡¹ç›®ï¼‰\nElasticSearchï¼šå¼€æºçš„æœç´¢å¼•æ“ï¼Œæä¾›åŸºäºhttp restful çš„webæ¥å£\nkibanaï¼šå¼€æºçš„ESæ•°æ®åˆ†æå’Œå¯è§†åŒ–å·¥å…·\nhadoopï¼šåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼Œèƒ½å¤Ÿå¯¹å¤§é‡æ•°æ®è¿›è¡Œåˆ†å¸ƒå¼å¤„ç†çš„å¹³å°\nstormï¼šä¸€ä¸ªå…è´¹å¹¶å¼€æºçš„åˆ†å¸ƒå¼å®æ—¶è®¡ç®—ç³»ç»Ÿ\næ¶ˆæ¯é˜Ÿåˆ—çš„é€šä¿¡æ¨¡å¼ ç‚¹å¯¹ç‚¹æ¨¡å¼queue æ¶ˆæ¯ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯å‘é€åˆ°queueä¸­ï¼Œç„¶åæ¶ˆæ¯æ¶ˆè´¹è€…ä»queueä¸­å–å‡ºå¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚ä¸€æ¡æ¶ˆæ¯è¢«æ¶ˆè´¹ä»¥åï¼Œqueueä¸­å°±æ²¡æœ‰äº†ï¼Œä¸å­˜åœ¨é‡å¤æ¶ˆè´¹ã€‚\nå‘å¸ƒ/è®¢é˜…topic æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆå‘å¸ƒï¼‰å°†æ¶ˆæ¯å‘å¸ƒåˆ°topicä¸­ï¼ŒåŒæ—¶ æœ‰å¤šä¸ªæ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆè®¢é˜…ï¼‰æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚å’Œç‚¹å¯¹ç‚¹æ¨¡å¼ä¸åŒï¼Œå‘å¸ƒåˆ°topicçš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰è®¢é˜…è€…æ¶ˆè´¹ï¼ˆç±»ä¼¼äºå…³æ³¨äº†å¾®ä¿¡å…¬ä¼—å·çš„äººéƒ½èƒ½æ”¶åˆ°æ¨é€çš„æ–‡ç« ï¼‰\nè¡¥å……ï¼šå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸‹ï¼Œå½“å‘å¸ƒè€…æ¶ˆæ¯é‡å¾ˆå¤§æ—¶ï¼Œæ˜¾ç„¶å•ä¸ªè®¢é˜…è€…çš„å¤„ç†èƒ½åŠ›æ˜¯ä¸è¶³çš„ã€‚å®é™…ä¸Šç°å®åœºæ™¯ä¸­æ˜¯å¤šä¸ªè®¢é˜…è€…èŠ‚ç‚¹ç»„æˆä¸€ä¸ªè®¢é˜…ç»„è´Ÿè½½å‡è¡¡æ¶ˆè´¹topicæ¶ˆæ¯å³åˆ†ç»„è®¢é˜…ï¼Œè¿™æ ·è®¢é˜…è€…å¾ˆå®¹æ˜“å®ç°æ¶ˆè´¹èƒ½åŠ›çš„çº¿æ€§æ‰©å±•ã€‚å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªtopicä¸‹æœ‰å¤šä¸ªqueueï¼Œæ¯ä¸ªqueueæ˜¯ç‚¹å¯¹ç‚¹çš„æ–¹å¼ï¼Œqueueä¹‹é—´æ˜¯å‘å¸ƒè®¢é˜…æ–¹å¼\nkafka apache kafkaæœ€åˆç”¨æ¥è®¾è®¡è§£å†³æµ·é‡æ—¥å¿—ä¼ è¾“ç­‰é—®é¢˜ã€‚kafkaä½¿ç”¨scalaç¼–å†™ã€‚æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®æµå¹³å°ï¼Œå¯ä»¥è¿è¡Œåœ¨å•å°æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨å¤šå°æœåŠ¡å™¨ä¸Šéƒ¨ç½²å½¢æˆé›†ç¾¤ã€‚å®ƒæä¾›äº†å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ï¼Œä½¿ç”¨è€…å¯ä»¥å‘é€æ•°æ®åˆ°kafkaä¸­ï¼Œä¹Ÿå¯ä»¥ä»kafkaä¸­è¯»å–æ•°æ®ï¼ˆä»¥ä¾¿è¿›è¡Œåç»­çš„å¤„ç†ï¼‰ã€‚kafkaå…·æœ‰é«˜ååé‡ã€ä½å»¶è¿Ÿã€é«˜å®¹é”™ç­‰ç‰¹ç‚¹ã€‚\nimage-20210823161642535\rimage-20210823161731945\rimage-20210823161916638\rimage-20210823162018291\rimage-20210823162112407\rimage-20210823162150526\rimage-20210823162256871\rkafka kafkaé›†ç¾¤çš„æ¶æ„ broker topic partitionåˆ†åŒºï¼ŒæŠŠåŒä¸€ä¸ªtopicåˆ†æˆä¸åŒçš„åˆ†åŒºï¼Œæé«˜è´Ÿè½½ leaderï¼šåˆ†åŒºçš„ä¸»èŠ‚ç‚¹ï¼Œboss flowerï¼šåˆ†åŒºçš„ä»èŠ‚ç‚¹ consumer group ç”Ÿäº§è€…å¾€kafkaå‘é€æ•°æ®çš„æµç¨‹ è·å–é›†ç¾¤çš„leader ç”Ÿäº§è€…å‘é€ç»™leader leaderè½ç›˜ followerä»leaderæ‹‰å– followerè½ç›˜å›å¤ack leaderå›å¤ç”Ÿäº§è€… kafkaé€‰æ‹©åˆ†åŒºçš„æ¨¡å¼ æŒ‡å®šå¾€å“ªä¸ªåˆ†åŒºå†™ æŒ‡å®škeyï¼Œkafkaæ ¹æ®keyåšhashç„¶åå†³å®šå†™å“ªä¸ªåˆ†åŒº è½®è¯¢ ç”Ÿäº§è€…å¾€kafkaå‘é€æ•°æ®çš„æ¨¡å¼ 0 æŠŠæ•°æ®å‘ç»™leaderå°±æˆåŠŸï¼Œæ•ˆç‡æœ€é«˜ã€å®‰å…¨æ€§æœ€ä½ 1 æŠŠæ•°æ®å‘ç»™leaderï¼Œç­‰å¾…leaderå›ack all æŠŠæ•°æ®å‘ç»™leaderï¼Œfolloweræ‹‰å–åå›ackï¼Œleaderå†å›ackï¼Œå®‰å…¨æ€§æœ€é«˜ ä¸ºä»€ä¹ˆå¿«ï¼Ÿ è½ç›˜çš„æ—¶å€™ä¸æ˜¯éšæœºçš„è€Œæ˜¯é¡ºåºçš„ image-20210823163451045\rimage-20210823163547230\rimage-20210823163621907\rimage-20210823163708974\rimage-20210823163926776\rimage-20210823164008727\rimage-20210823164021727\rå¯åŠ¨zookeeper ä¸‹è½½kafka\nkafkaå†…ç½®zookeeper\nä¿®æ”¹configä¸‹zookeeper.propertiesé…ç½®æ–‡ä»¶\rimage-20210823191107893\rå‘½ä»¤è¡Œå¯åŠ¨zookeeper\nD:\\Softwares\\kafka_2.12-2.8.0\u0026gt;bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties ä¿®æ”¹configä¸‹kafka.propertiesé…ç½®æ–‡ä»¶\rimage-20210823192529505\rå‘½ä»¤è¡Œå¯åŠ¨kafka\nD:\\Softwares\\kafka_2.12-2.8.0\u0026gt;bin\\windows\\kafka-server-start.bat config\\server.properties è¦ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œ\nzookeeper image-20210823192857710\rç±»ä¼¼äºconsul æœåŠ¡æ³¨å†Œä¸å‘ç°\ntailç¬¬ä¸‰æ–¹æ—¥å¿—åº“demo tailä½œç”¨ å°è¯•è¯»å–æŸä¸ªlogæ—¥å¿—æ–‡ä»¶\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/nxadm/tail\u0026#34; \u0026#34;time\u0026#34; ) func main() { //tailç”¨æ³• fileName:=\u0026#34;./my.log\u0026#34; config:=tail.Config{ Location: \u0026amp;tail.SeekInfo{Offset: 0,Whence: 2}, //ä»æ–‡ä»¶çš„é‚£ä¸ªåœ°æ–¹å¼€å§‹è¯» ReOpen: true, //é‡æ–°æ‰“å¼€ MustExist: false, //æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™ Poll: true, Pipe: false, Follow: true, //æ˜¯å¦è·Ÿéš MaxLineSize: 0, RateLimiter: nil, Logger: nil, } tails, err := tail.TailFile(fileName, config) if err != nil { fmt.Println(\u0026#34;tail file failed , err: \u0026#34;,err) return } var ( line *tail.Line ok bool ) for { line, ok =\u0026lt;-tails.Lines if !ok { fmt.Printf(\u0026#34;tail file close reopen , filename :%s\\n\u0026#34;,tails.Filename) time.Sleep(time.Second) continue } fmt.Println(\u0026#34;msg: \u0026#34;,line.Text) } } saramaç¬¬ä¸‰æ–¹åº“demo ä½œç”¨:å‘kafkaå‘é€æ¶ˆæ¯\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/Shopify/sarama\u0026#34; ) func main() { config := sarama.NewConfig() //tailfåŒ…ä½¿ç”¨ config.Producer.RequiredAcks= sarama.WaitForAll //å‘é€å®Œæ•°æ®éœ€è¦ leader å’Œ follower éƒ½ç¡®è®¤ config.Producer.Partitioner = sarama.NewRandomPartitioner //æ–°é€‰å‡ºä¸€ä¸ª partitioner config.Producer.Return.Successes = true //æˆåŠŸäº¤ä»˜çš„æ¶ˆæ¯å°†åœ¨success channel è¿”å› //æ„é€ ä¸€ä¸ªæ¶ˆæ¯ msg:= \u0026amp;sarama.ProducerMessage{} msg.Topic = \u0026#34;web_log\u0026#34; msg.Value = sarama.StringEncoder(\u0026#34;this is a test blog\u0026#34;) //è¿æ¥kafka client, err := sarama.NewSyncProducer([]string{\u0026#34;127.0.0.1:9092\u0026#34;}, config) if err != nil { fmt.Println(\u0026#34;producer closed, err : \u0026#34;, err) return } defer client.Close() //å‘é€æ¶ˆæ¯ pid, offSet, err := client.SendMessage(msg) if err != nil { fmt.Println(\u0026#34;send msg failed , err : \u0026#34;, err) return } fmt.Printf(\u0026#34;pid:%v offSet:%v\\n\u0026#34;,pid,offSet) } image-20210823202230801\rimage-20210823202240537\rç´¢å¼•\næ¥ä¸‹æ¥å°±æ˜¯æ—¥å¿—æ”¶é›†é¡¹ç›® åˆå§‹åŒ–sarama è®©ä»–è¿æ¥ä¸Škafka ä»¥ä¾¿ç»™kafkaå‘é€æ¶ˆæ¯ åˆå§‹åŒ–tail è®©ä»–èƒ½å¤Ÿè¯»å–æ—¥å¿—æ–‡ä»¶ ä½¿ç”¨åˆå§‹åŒ–å¥½çš„sarama å°†tailè¯»å–åˆ°çš„ä¸œè¥¿å‘é€ç»™kafka kafkaæ¨¡å—ä»£ç \npackage kafka import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/Shopify/sarama\u0026#34; ) //ä¸“é—¨å¾€kafkaå†™æ—¥å¿—çš„æ¨¡å— var ( client sarama.SyncProducer //å£°æ˜ä¸€ä¸ªå…¨å±€çš„è¿æ¥kafkaçš„ç”Ÿäº§è€…client ) //Init åˆå§‹åŒ–client func Init(address []string)(err error) { config := sarama.NewConfig() //tailfåŒ…ä½¿ç”¨ config.Producer.RequiredAcks= sarama.WaitForAll //å‘é€å®Œæ•°æ®éœ€è¦ leader å’Œ follower éƒ½ç¡®è®¤ config.Producer.Partitioner = sarama.NewRandomPartitioner //æ–°é€‰å‡ºä¸€ä¸ª partitioner config.Producer.Return.Successes = true //æˆåŠŸäº¤ä»˜çš„æ¶ˆæ¯å°†åœ¨success channel è¿”å› //è¿æ¥kafka client, err = sarama.NewSyncProducer(address, config) if err != nil { fmt.Println(\u0026#34;producer closed, err : \u0026#34;, err) return } return } func SendToKafka(topic, msg string) { //æ„é€ ä¸€ä¸ªæ¶ˆæ¯ saramaMsg:= \u0026amp;sarama.ProducerMessage{} saramaMsg.Topic = topic saramaMsg.Value = sarama.StringEncoder(msg) //å‘é€æ¶ˆæ¯ pid, offSet, err := client.SendMessage(saramaMsg) if err != nil { fmt.Println(\u0026#34;send msg failed , err : \u0026#34;, err) return } fmt.Printf(\u0026#34;pid:%v offSet:%v\\n\u0026#34;,pid,offSet) } tailæ¨¡å—ä»£ç \npackage tail import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/nxadm/tail\u0026#34; ) var tails *tail.Tail //Init ä¸“é—¨æ”¶é›†æ—¥å¿— func Init(address string) (err error){ //tailç”¨æ³• fileName:=address config:=tail.Config{ Location: \u0026amp;tail.SeekInfo{Offset: 0,Whence: 2}, //ä»æ–‡ä»¶çš„é‚£ä¸ªåœ°æ–¹å¼€å§‹è¯» ReOpen: true, //é‡æ–°æ‰“å¼€ MustExist: false, //æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™ Poll: true, Pipe: false, Follow: true, //æ˜¯å¦è·Ÿéš MaxLineSize: 0, RateLimiter: nil, Logger: nil, } tails, err = tail.TailFile(fileName, config) if err != nil { fmt.Println(\u0026#34;tail file failed , err: \u0026#34;,err) return } return } func ReadLog() \u0026lt;-chan *tail.Line { return tails.Lines } mainæ¨¡å—ä»£ç \npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;src/code.oldboyedu.com/logAgent/kafka\u0026#34; tail \u0026#34;src/code.oldboyedu.com/logAgent/tail_log\u0026#34; \u0026#34;time\u0026#34; ) func main() { //1.åˆå§‹åŒ–kafkaè¿æ¥ err := kafka.Init([]string{\u0026#34;127.0.0.1:9092\u0026#34;}) if err != nil { fmt.Println(\u0026#34;init kafka failed, err : \u0026#34; ,err) return } fmt.Println(\u0026#34;init kafka success!\u0026#34;) //2.æ‰“å¼€æ—¥å¿—æ–‡ä»¶å‡†å¤‡æ”¶é›†æ—¥å¿— err = tail.Init(\u0026#34;./my.log\u0026#34;) if err != nil { fmt.Println(\u0026#34;init taillog failed, err : \u0026#34;,err) return } fmt.Println(\u0026#34;init tail success!\u0026#34;) run() } func run() { //1.æ”¶é›†æ—¥å¿— for { select { case line:=\u0026lt;-tail.ReadLog(): //2.å‘é€ç»™kafka kafka.SendToKafka(\u0026#34;web_log\u0026#34;,line.Text) default: time.Sleep(time.Second) } } } å®šä¹‰æ¶ˆè´¹è€…\nbin\\windows\\kafka-console-consumer.bat --bootstrap-server=127.0.0.1:9092 --topic=web_log --from-beginning image-20210823210549292\rä¼˜åŒ–ç‰ˆé…ç½®æ–‡ä»¶ä¸­è¯»å–\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;gopkg.in/ini.v1\u0026#34; \u0026#34;src/code.oldboyedu.com/logAgent/kafka\u0026#34; tail \u0026#34;src/code.oldboyedu.com/logAgent/tail_log\u0026#34; \u0026#34;time\u0026#34; ) type appConf struct { KafkaConf `ini:\u0026#34;Kafka\u0026#34;` TailLogConf `ini:\u0026#34;Taillog\u0026#34;` } type KafkaConf struct { Address string `ini:\u0026#34;Address\u0026#34;` Topic string `ini:\u0026#34;Topic\u0026#34;` } type TailLogConf struct { FileName string `ini:\u0026#34;Filename\u0026#34;` } var appCfg =new(appConf) func main() { //0.åŠ è½½é…ç½®æ–‡ä»¶ è·å–ip:ç«¯å£ æ—¥å¿—æ–‡ä»¶ å‘é€çš„topic err := ini.MapTo(appCfg, \u0026#34;./config.ini\u0026#34;) if err != nil { fmt.Println(\u0026#34;config init failed, err : \u0026#34;,err) return } //1.åˆå§‹åŒ–kafkaè¿æ¥ fmt.Println(appCfg.KafkaConf.Address) fmt.Println(appCfg.KafkaConf.Topic) fmt.Println(appCfg.TailLogConf.FileName) err = kafka.Init([]string{appCfg.KafkaConf.Address}) if err != nil { fmt.Println(\u0026#34;init kafka failed, err : \u0026#34; ,err) return } fmt.Println(\u0026#34;init kafka success!\u0026#34;) //2.æ‰“å¼€æ—¥å¿—æ–‡ä»¶å‡†å¤‡æ”¶é›†æ—¥å¿— err = tail.Init(appCfg.TailLogConf.FileName) if err != nil { fmt.Println(\u0026#34;init taillog failed, err : \u0026#34;,err) return } fmt.Println(\u0026#34;init tail success!\u0026#34;) run() } func run() { //1.æ”¶é›†æ—¥å¿— for { select { case line:=\u0026lt;-tail.ReadLog(): //2.å‘é€ç»™kafka kafka.SendToKafka(appCfg.KafkaConf.Topic,line.Text) default: time.Sleep(time.Second) } } } å†…å®¹å¤ä¹  go module ä¾èµ–ç®¡ç†å·¥å…·\ncontext goroutineç®¡ç†\ncontext.Context\nä¸¤ä¸ªæ ¹èŠ‚ç‚¹ context.todo context.background\nå››ä¸ªæ–¹æ³• context.withTimeout() context.withCancel() context.withdeadline() context.withvalue()\næ—¥å¿—æ”¶é›†é¡¹ç›® ELK:éƒ¨ç½²çš„æ—¶å€™éº»çƒ¦,æ¯ä¸€ä¸ªfilebeatéƒ½éœ€è¦é…ç½®ä¸€ä¸ªé…ç½®æ–‡ä»¶\nä½¿ç”¨etcdæ¥ç®¡ç†è¢«æ”¶é›†çš„æ—¥å¿—é¡¹\né¡¹ç›®çš„æ¶æ„ image-20210824195131980\rä¸ŠèŠ‚è¯¾é¡¹ç›®è¿›åº¦ kafka:æ¶ˆæ¯é˜Ÿåˆ— tailf:ä»æ–‡ä»¶é‡Œè¯»æ—¥å¿— sarama:å‘kafkaå‘é€æ•°æ® go-ini:è§£æé…ç½®æ–‡ä»¶ ä»Šæ—¥å†…å®¹ etcd ä½¿ç”¨etcdä¼˜åŒ–æ—¥å¿—æ”¶é›†é¡¹ç›® image-20210824195924259\rraftåè®®\né€‰ä¸¾ æ—¥å¿—å¤åˆ¶æœºåˆ¶ å¼‚å¸¸å¤„ç† zookeeperçš„zadåè®®å’Œraftåè®®çš„åŒºåˆ«\nimage-20210824201151410\rimage-20210824201255712\rimage-20210824201531623\rimage-20210824201641847\rimage-20210824201859917\rimage-20210824201921279\rimage-20210824202013396\rimage-20210824202041613\rimage-20210824202051395\rimage-20210824202203749\rimage-20210824202403398\ræ¸…åå­¦ç¥å°¹æˆ\nimage-20210826231049867\rimage-20210826231828312\rLogTransfer ä»kafkaé‡Œé¢æŠŠæ—¥å¿—å–å‡ºæ¥,å†™å…¥ES\nElastic Search ESæ˜¯ä¸€ä¸ªåŸºäºluceneæ„å»ºçš„å¼€æºçš„/åˆ†å¸ƒå¼/restfulæ¥å£çš„å…¨æ–‡æœç´¢å¼•æ“.elastic searchè¿˜æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡æ¡£æ•°æ®åº“,å…¶ä¸­æ¯ä¸ªå­—æ®µå‡å¯è¢«ç´¢å¼•,è€Œä¸”æ¯ä¸ªå­—æ®µçš„æ•°æ®å‡å¯è¢«æœç´¢,ESèƒ½å¤Ÿæ¨ªå‘æ‰©å±•è‡³æ•°ä»¥ç™¾è®¡çš„æœåŠ¡å™¨å­˜å‚¨ä»¥åŠå¤„ç†PBçº§çš„æ•°æ®.å¯ä»¥åœ¨æçŸ­çš„æ—¶é—´å†…å­˜å‚¨/æœç´¢å’Œåˆ†æå¤§é‡çš„æ•°æ®.é€šå¸¸ä½œä¸ºå…·æœ‰å¤æ‚æœç´¢åœºæ™¯æƒ…å†µä¸‹çš„æ ¸å¿ƒå‘åŠ¨æœº.\nElasticSearchèƒ½åšä»€ä¹ˆ å½“ä½ ç»è¥ä¸€å®¶ç½‘ä¸Šå•†åº—,ä½ å¯ä»¥è®©ä½ çš„å®¢æˆ·æœç´¢ä½ å–çš„å•†å“.åœ¨è¿™ç§æƒ…å†µä¸‹,ä½ å¯ä»¥ä½¿ç”¨Elastic searchæ¥å­˜å‚¨ä½ çš„æ•´ä¸ªäº§å“ç›®å½•å’Œåº“å­˜ä¿¡æ¯,ä¸ºå®¢æˆ·æä¾›ç²¾å‡†æœç´¢,å¯ä»¥ä¸ºå®¢æˆ·æ¨èç›¸å…³å•†å“. å½“ä½ æƒ³æ”¶é›†æ—¥å¿—æˆ–è€…äº¤æ˜“æ•°æ®çš„æ—¶å€™,éœ€è¦åˆ†æå’ŒæŒ–æ˜è¿™äº›æ•°æ®,å¯»æ‰¾è¶‹åŠ¿,è¿›è¡Œç»Ÿè®¡,æ€»ç»“,æˆ–è€…å‘ç°å¼‚å¸¸.åœ¨è¿™ç§æƒ…å†µä¸‹,ä½ å¯ä»¥ä½¿ç”¨logstashæˆ–è€…å…¶ä»–å·¥å…·æ¥è¿›è¡Œæ”¶é›†æ•°æ®,å½“è¿™å¼•èµ·æ•°æ®å­˜å‚¨åˆ°elastic searchä¸­.ä½ å¯ä»¥æœç´¢å’Œæ±‡æ€»è¿™äº›æ•°æ®,æ‰¾åˆ°ä»»ä½•ä½ æ„Ÿå…´è¶£çš„ä¿¡æ¯ å¯¹äºç¨‹åºå‘˜æ¥è¯´,æ¯”è¾ƒæœ‰åçš„æ¡ˆä¾‹æ˜¯github.githubçš„æœç´¢æ˜¯åŸºäºelasticsearchæ„å»ºçš„,åœ¨github.com/searché¡µé¢,ä½ å¯ä»¥æœç´¢é¡¹ç›®,ç”¨æˆ·/issue/pull request,è¿˜æœ‰ä»£ç .å…¬æœ‰40-50ä¸ªç´¢å¼•åº“,åˆ†åˆ«ç”¨äºç´¢å¼•ç½‘ç«™éœ€è¦è·Ÿè¸ªçš„å„ç§æ•°æ®,è™½ç„¶åªç´¢å¼•é¡¹ç›®çš„ä¸»åˆ†æ”¯master,ä½†è¿™ä¸ªæ•°æ®é‡ä¾ç„¶å·¨å¤§,åŒ…æ‹¬20äº¿ä¸ªç´¢å¼•æ–‡æ¡£,30TBçš„ç´¢å¼•æ–‡ä»¶. ElasticSearchåŸºæœ¬æ¦‚å¿µ near realtime å‡ ä¹å®æ—¶ elasticsearchæ˜¯ä¸€ä¸ªå‡ ä¹å®æ—¶çš„æœç´¢å‡­æ¡,æ„æ€æ˜¯,ä»ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£åˆ°è¿™ä¸ªæ–‡æ¡£å¯ä»¥è¢«æœç´¢åªéœ€è¦ä¸€ç‚¹ç‚¹çš„å»¶è¿Ÿ,è¿™ä¸ªæ—¶é—´ä¸€åŠä¸ºæ¯«ç§’çº§\nclusteré›†ç¾¤ é›†ç¾¤æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªèŠ‚ç‚¹æœåŠ¡å™¨çš„é›†åˆ,è¿™äº›èŠ‚ç‚¹å…±åŒä¿å­˜æ•´ä¸ªæ•°æ®,å¹¶åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šæä¾›è”åˆç´¢å¼•å’Œæœç´¢åŠŸèƒ½.ä¸€ä¸ªé›†ç¾¤ç”±ä¸€ä¸ªå”¯ä¸€é›†ç¾¤IDç¡®å®š,å¹¶æŒ‡å®šä¸€ä¸ªé›†ç¾¤å(é»˜è®¤ä¸ºelasticsearch).è¯¥é›†ç¾¤åéå¸¸é‡è¦,å› ä¸ºèŠ‚ç‚¹å¯ä»¥é€šè¿‡è¿™ä¸ªé›†ç¾¤ååŠ å…¥é›†ç¾¤,ä¸€ä¸ªèŠ‚ç‚¹åªèƒ½æ˜¯é›†ç¾¤çš„ä¸€éƒ¨åˆ†.\nç¡®ä¿åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä¸è¦ä½¿ç”¨ç›¸åŒçš„é›†ç¾¤åç§°,å¦åˆ™å¯èƒ½ä¼šå¯¼è‡´è¿æ¥é”™è¯¯çš„é›†ç¾¤èŠ‚ç‚¹,ä¾‹å¦‚ä½ å¯ä»¥ä½¿ç”¨logging\u0026ndash;dev/ logging-stage/ logging-prod åˆ†åˆ«ä¸ºå¼€å‘/é˜¶æ®µäº§å“/ç”Ÿäº§é›†ç¾¤åšè®°å½•.\nnodeèŠ‚ç‚¹ èŠ‚ç‚¹æ˜¯å•ä¸ªæœåŠ¡å™¨å®ä¾‹\nindexç´¢å¼• ç´¢å¼•æ˜¯å…·æœ‰ç›¸ä¼¼ç‰¹æ€§çš„æ–‡æ¡£é›†åˆ\ntypeç±»å‹ åœ¨ç´¢å¼•ä¸­,å¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»å‹,ç±»å‹æ˜¯ç´¢å¼•çš„é€»è¾‘ç±»åˆ«/åˆ†åŒº,å…¶è¯­ä¹‰å®Œå…¨å–å†³äºä½ .\ndocumentæ–‡æ¡£ æ–‡æ¡£æ˜¯å¯ä»¥è¢«ç´¢å¼•çš„ä¿¡æ¯çš„åŸºæœ¬å•ä½.ä¾‹å¦‚,ä½ å¯ä»¥ä¸ºå•ä¸ªå®¢æˆ·æä¾›ä¸€ä¸ªæ–‡æ¡£,å•ä¸ªäº§å“æä¾›å¦ä¸€ä¸ªæ–‡æ¡£,ä»¥åŠå•ä¸ªè®¢å•æä¾›å¦ä¸€ä¸ªæ–‡æ¡£.\nshards\u0026amp;replicasåˆ†ç‰‡ä¸å‰¯æœ¬ ESåŸºæœ¬æ¦‚å¿µä¸å…³ç³»å‹æ•°æ®åº“çš„æ¯”è¾ƒ ESæ¦‚å¿µ å…³ç³»å‹æ•°æ®åº“ indexç´¢å¼•æ”¯æŒå…¨æ–‡æ£€ç´¢ databaseæ•°æ®åº“ typeç±»å‹ tableè¡¨ documentæ–‡æ¡£,ä¸åŒæ–‡æ¡£å¯ä»¥æœ‰ä¸åŒçš„å­—æ®µé›†åˆ rowæ•°æ®è¡Œ fieldå­—æ®µ columnæ•°æ®åˆ— mappingæ˜ å°„ schemaæ¨¡å¼ ES API ä¸‹è½½å®‰è£…\nimage-20210902001925922\ræŸ¥çœ‹\nimage-20210902001948107\ræŸ¥çœ‹å¿ƒè·³\nimage-20210902002107349\ræŸ¥è¯¢å½“å‰esé›†ç¾¤ä¸­æ‰€æœ‰çš„indices\ncurl -X get 127.0.0.1:9200/_cat/indices?v\nimage-20210902002202915\rginå­¦ä¹  hello world demo\npackage main import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;net/http\u0026#34; ) func main() { //1.åˆ›å»ºè·¯ç”± engine := gin.Default() //2.ç»‘å®šè·¯ç”±è§„åˆ™,æ‰§è¡Œçš„å‡½æ•° //gin.context , å°è£…äº†requestå’Œresponse engine.GET(\u0026#34;/\u0026#34;, func(c *gin.Context) { c.String(http.StatusOK,\u0026#34;hello world!!!\u0026#34;) }) //3.ç›‘å¬ç«¯å£ é»˜è®¤åœ¨8080ç«¯å£ engine.Run(\u0026#34;:8000\u0026#34;) } ginè·¯ç”± åŸºæœ¬è·¯ç”± ginæ¡†æ¶ä¸­é‡‡ç”¨çš„è·¯ç”±åº“æ˜¯åŸºäºtprouteråšçš„ åœ°å€ä¸º:https://github.com/julienschmidt/httprouter restfulé£æ ¼çš„API ginæ”¯æŒrestfulé£æ ¼çš„API å³representational state transfer çš„ç¼©å†™ ç›´æ¥ç¿»è¯‘æ˜¯è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–,æ˜¯ä¸€ç§äº’è”ç½‘åº”ç”¨ç¨‹åºçš„apiè®¾è®¡ç†å¿µ,urlå®šä½èµ„æº,ç”¨httpæè¿°æ“ä½œ è·å–æ–‡ç«  /blog/getxxx get blog/xxx\næ·»åŠ  /blog/addxxx\tpost blog/xxx\nä¿®æ”¹ /blog/updatexxx put blog/xxx\nåˆ é™¤ /blog/delxxx delete blog/xxx\nAPIå‚æ•° å¯ä»¥é€šè¿‡contextçš„paramæ–¹æ³•æ¥è·å–apiå‚æ•° localhost:8000/xxx/zhangsan localhost:8000/user/zhangsan/lisi\nURLå‚æ•° URLå‚æ•°å¯ä»¥é€šè¿‡defaultquery()æˆ–è€…query()æ–¹æ³•æ¥å– defaultquery()è‹¥å‚æ•°ä¸å­˜åœ¨,è¿”å›é»˜è®¤å€¼ query()è‹¥å‚æ•°ä¸å­˜åœ¨,è¿”å›ç©ºå­—ç¬¦ä¸² localhost:8000/welcome?name=yourtreedad\nè¡¨å•å‚æ•° è¡¨å•ä¼ è¾“ä¸ºpostè¯·æ±‚,httpå¸¸è§çš„ä¼ è¾“æ ¼å¼åŒ–ä¸ºå››ç§ application/json jsonä¼ å‚ application/x-www-urlencoded è¡¨å•ä¼ å‚ application/xml xmlä¼ å‚ multipart/form-data è¡¨å•ä¸Šä¼ æ–‡ä»¶ è¡¨å•å‚æ•°å¯ä»¥é€šè¿‡postform()æ–¹æ³•è·å–,è¯¥æ–¹æ³•é»˜è®¤è§£æçš„æ˜¯x-www-form-urlencoded æˆ– from-dataæ ¼å¼çš„å‚æ•° ä¸Šä¼ å•ä¸ªæ–‡ä»¶ multipart/form-dataæ ¼å¼ç”¨äºæ–‡ä»¶ä¸Šä¼  gin æ–‡ä»¶ä¸Šä¼ ä¸åŸç”Ÿçš„net/http æ–¹æ³•ç±»ä¼¼,ä¸åŒåœ¨äºginæŠŠåŸç”Ÿçš„requestå°è£…åˆ°äº†c.Requestä¸­ ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ MultipartFormä½¿ç”¨è¿™ä¸ªæ–¹æ³•è·å¾—æ‰€æœ‰æ–‡ä»¶çš„\nä½¿ç”¨multipartForm.File[\u0026ldquo;files\u0026rdquo;]æ¥å–æ‰€æœ‰æ–‡ä»¶æŒ‡é’ˆ\néå†, ç„¶åå­˜ç€å°±è¡Œäº†\nroutes Group routes Group æ˜¯ä¸ºäº†ç®¡ç†ä¸€äº›ç›¸åŒçš„URL è·¯ç”±åŸç† httprouter ä¼šå°†æ‰€æœ‰è·¯ç”±è§„åˆ™æ„é€ æˆä¸€ä¸ªå‰ç¼€æ ‘ å‘½ä»¤è¡Œä¹Ÿå¯ä»¥å°è¯•ä¼ postå’ŒgetæŒ‡ä»¤\nimage-20210828214026568\rpackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; ) func main() { //1.åˆ›å»ºè·¯ç”± //é»˜è®¤ä½¿ç”¨äº†2ä¸ªä¸­é—´ä»¶ Logger(), Recovery() engine := gin.Default() //engine:=gin.New()ä¹Ÿå¯ä»¥çš„ //2.ç»‘å®šè·¯ç”±è§„åˆ™,æ‰§è¡Œçš„å‡½æ•° //gin.context , å°è£…äº†requestå’Œresponse //è·¯ç”±ç»„ å®é™…ä¸Šå°±æ˜¯ä¾¿äºç®¡ç† å°‘å†™ç‚¹ä¸œè¥¿ routerGroup := engine.Group(\u0026#34;/Get\u0026#34;) routerGroup.GET(\u0026#34;/v1\u0026#34;, func(context *gin.Context) { query := context.DefaultQuery(\u0026#34;name\u0026#34;, \u0026#34;getParam\u0026#34;) context.String(http.StatusOK,query) }) group := engine.Group(\u0026#34;/Post\u0026#34;) group.POST(\u0026#34;/v1\u0026#34;, func(context *gin.Context) { postParam := context.DefaultPostForm(\u0026#34;name\u0026#34;, \u0026#34;postParam\u0026#34;) context.String(http.StatusOK,postParam) }) //index ç•Œé¢ engine.GET(\u0026#34;/\u0026#34;, func(c *gin.Context) { c.String(http.StatusOK,\u0026#34;hello world!!!\u0026#34;) }) //apiå‚æ•° ç”¨ : æ¥å– engine.GET(\u0026#34;/user/:name/*action\u0026#34;, func(context *gin.Context) { // name:= context.Param(\u0026#34;name\u0026#34;) action := context.Param(\u0026#34;action\u0026#34;) context.String(http.StatusOK,name+\u0026#34; is \u0026#34;+action) }) //urlå‚æ•° ?name=\u0026#34;xxx\u0026#34; engine.GET(\u0026#34;/welcome\u0026#34;, func(context *gin.Context) { query := context.DefaultQuery(\u0026#34;name\u0026#34;, \u0026#34;Jack\u0026#34;) context.String(http.StatusOK,fmt.Sprintf(\u0026#34;Hello %s !\u0026#34;,query)) }) //formè¡¨å•ä¼ å‚ engine.POST(\u0026#34;/PostForm\u0026#34;, PostFormParams) //fromä¸Šä¼ å•ä¸ªæ–‡ä»¶ engine.POST(\u0026#34;/Upload\u0026#34;,UploadFile) //é™åˆ¶è¡¨å•ä¸Šä¼ å¤§å° 8mb,é»˜è®¤å€¼ä¸º32mb engine.MaxMultipartMemory = 8\u0026lt;\u0026lt;20 //formä¸Šä¼ å¤šä¸ªæ–‡ä»¶ engine.POST(\u0026#34;UploadFiles\u0026#34;,UploadFiles) engine.PUT(\u0026#34;/xxxput\u0026#34;) //3.ç›‘å¬ç«¯å£ é»˜è®¤åœ¨8080ç«¯å£ engine.Run(\u0026#34;:8000\u0026#34;) } func UploadFiles(context *gin.Context) { multipartForm, err := context.MultipartForm() if err != nil { fmt.Println(\u0026#34;received multiple files failed , err :\u0026#34;,err) context.String(http.StatusBadRequest,fmt.Sprintf(\u0026#34;get err %s \u0026#34;,err.Error())) return } //è·å–æ‰€æœ‰æ–‡ä»¶ files := multipartForm.File[\u0026#34;files\u0026#34;] //éå†æ‰€æœ‰files for _, file := range files { //é€ä¸ªå­˜ err := context.SaveUploadedFile(file, file.Filename) if err != nil { context.String(http.StatusBadRequest,fmt.Sprintf(\u0026#34;upload err %s \u0026#34;,err.Error())) return } } context.String(200,fmt.Sprintf(\u0026#34;upload ok %d files!\u0026#34;, len(files))) } func UploadFile(context *gin.Context) { //ä»è¡¨å•ä¸­å–æ–‡ä»¶ file, err := context.FormFile(\u0026#34;file\u0026#34;) if err != nil { fmt.Println(\u0026#34;receive file error, cause : \u0026#34;,err) return } log.Println(file.Filename) //ä¼ åˆ°é¡¹ç›®çš„æ ¹ç›®å½•, åå­—å°±ç”¨æœ¬èº«çš„å°±å¥½ err = context.SaveUploadedFile(file, file.Filename) if err != nil { fmt.Println(\u0026#34;file save failed , error : \u0026#34;,err) return } //æ‰“å°ä¿¡æ¯ context.String(200,fmt.Sprintf(\u0026#34;\u0026#39;%s\u0026#39; has already uploaded!\u0026#34;,file.Filename)) } func PostFormParams(context *gin.Context) { //è¡¨å•å‚æ•° è®¾ç½®é»˜è®¤å€¼ type1 := context.DefaultPostForm(\u0026#34;type\u0026#34;, \u0026#34;alert\u0026#34;) //æ¥æ”¶å…¶ä»–çš„ userName := context.PostForm(\u0026#34;username\u0026#34;) password := context.PostForm(\u0026#34;password\u0026#34;) //å¤šé€‰æ¡† hobbys := context.PostFormArray(\u0026#34;hobby\u0026#34;) context.String(http.StatusOK,fmt.Sprintf(\u0026#34;type is %s, username is %s, password is %s , hobbys is %v\u0026#34;,type1,userName,password,hobbys)) } htmlå‰ç«¯ç•Œé¢\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ç™»é™†\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;http://127.0.0.1:8000/PostForm\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;application/x-www-form-urlencoded\u0026#34;\u0026gt; ç”¨æˆ·å:\u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt; \u0026lt;br\u0026gt; å¯†\u0026amp;nbsp\u0026amp;nbspç : \u0026lt;input type=\u0026#34;password\u0026#34; name=\u0026#34;password\u0026#34;\u0026gt; \u0026lt;br\u0026gt; å…´\u0026amp;nbsp\u0026amp;nbspè¶£: \u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;run\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt;è·‘æ­¥ \u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;game\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt;æ¸¸æˆ \u0026lt;input type=\u0026#34;checkbox\u0026#34; value=\u0026#34;money\u0026#34; name=\u0026#34;hobby\u0026#34;\u0026gt;é‡‘é’± \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;ç™»é™†\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;br\u0026gt; \u0026lt;br\u0026gt; \u0026lt;br\u0026gt; \u0026lt;form action=\u0026#34;http://127.0.0.1:8000/Upload\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; å¤´åƒ: \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;file\u0026#34;\u0026gt; \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;form action=\u0026#34;http://127.0.0.1:8000/UploadFiles\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; ä¸Šä¼ å¤šä¸ªæ–‡ä»¶: \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;files\u0026#34; multiple\u0026gt; \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ginæ•°æ®è§£æå’Œç»‘å®š jsonæ•°æ®è§£æå’Œç»‘å®š å®¢æˆ·ç«¯ä¼ å‚,åç«¯æ¥æ”¶å¹¶è§£æåˆ°ç»“æ„ä½“ ä½¿ç”¨ShouldBindJSONæ¥è§£æåˆ°ç»“æ„ä½“\nengine.GET(\u0026#34;loginJSON\u0026#34;, func(context *gin.Context) { //å£°æ˜æ¥æ”¶çš„å˜é‡ var json Login //å°†requestçš„bodyä¸­çš„æ•°æ®,è‡ªåŠ¨æŒ‰ç…§jsonæ ¼å¼è§£æåˆ°ç»“æ„ä½“ err := context.ShouldBindJSON(\u0026amp;json) if err != nil { //è¿”å›é”™è¯¯ä¿¡æ¯ //gin.H å°è£…äº†ç”Ÿæˆjsonæ•°æ®çš„å·¥å…· context.JSON(http.StatusBadRequest,gin.H{\u0026#34;error \u0026#34;:err.Error()}) return } //åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡® if json.User!=\u0026#34;2020170281\u0026#34;||json.Password!=\u0026#34;lalala123\u0026#34; { context.JSON(http.StatusBadRequest,gin.H{\u0026#34;status\u0026#34;:\u0026#34;304\u0026#34;}) return } context.JSON(http.StatusOK,gin.H{\u0026#34;status\u0026#34;:\u0026#34;200\u0026#34;}) }) image-20210828224803650\rè¡¨å•æ•°æ®è§£æå’Œç»‘å®š ä½¿ç”¨Bindæ¥è§£æç»“æ„ä½“\nengine.GET(\u0026#34;loginForm\u0026#34;, func(context *gin.Context) { var form Login //bind()é»˜è®¤è§£æå¹¶ç»‘å®šformæ ¼å¼ //æ ¹æ®è¯·æ±‚å¤´ä¸­çš„content-typeè‡ªåŠ¨æ¨æ–­ err := context.Bind(\u0026amp;form) if err != nil { context.JSON(http.StatusBadRequest,gin.H{\u0026#34;error\u0026#34;:err.Error()}) return } if form.User!=\u0026#34;2020170281\u0026#34;||form.Password!=\u0026#34;lalala123\u0026#34;{ context.JSON(http.StatusBadRequest,gin.H{\u0026#34;status\u0026#34;:\u0026#34;304\u0026#34;}) return } context.JSON(http.StatusOK,gin.H{\u0026#34;status\u0026#34;:\u0026#34;200\u0026#34;}) }) htmlç•Œé¢\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ç™»é™†\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;http://127.0.0.1:8000/loginForm\u0026#34; method=\u0026#34;get\u0026#34; enctype=\u0026#34;application/x-www-form-urlencoded\u0026#34;\u0026gt; ç”¨æˆ·å:\u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt; \u0026lt;br\u0026gt; å¯†\u0026amp;nbsp\u0026amp;nbspç : \u0026lt;input type=\u0026#34;password\u0026#34; name=\u0026#34;password\u0026#34;\u0026gt; \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;ç™»é™†\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;br\u0026gt; \u0026lt;br\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; URIæ•°æ®è§£æå’Œç»‘å®š ä½¿ç”¨shouldbinduriæ–¹æ³•\nengine.GET(\u0026#34;loginURI/:user/:password\u0026#34;, func(context *gin.Context) { var URI Login err := context.ShouldBindUri(\u0026amp;URI) if err != nil { context.JSON(http.StatusBadRequest,gin.H{\u0026#34;error\u0026#34;:err.Error()}) return } if URI.User!=\u0026#34;2020170281\u0026#34;||URI.Password!=\u0026#34;lalala123\u0026#34; { context.JSON(http.StatusBadRequest,gin.H{\u0026#34;status\u0026#34;:304}) return } context.JSON(http.StatusOK,gin.H{\u0026#34;status\u0026#34;:200}) }) image-20210828231200951\rå“åº”ç±»å‹ xml json protobuf yaml package main\rimport (\r\u0026#34;github.com/gin-gonic/gin\u0026#34;\r\u0026#34;github.com/gin-gonic/gin/testdata/protoexample\u0026#34;\r\u0026#34;net/http\u0026#34;\r)\r//å¤šç§å“åº”æ–¹å¼\rfunc main() {\r//1.åˆ›å»ºè·¯ç”±\r//2.é»˜è®¤ä½¿ç”¨äº†2ä¸ªä¸­é—´ä»¶logger recovery\rengine := gin.Default()\r//1.json\rengine.GET(\u0026#34;/someJson\u0026#34;, func(context *gin.Context) {\rcontext.JSON(http.StatusOK,gin.H{\u0026#34;message\u0026#34;:\u0026#34;someJson\u0026#34;,\u0026#34;Status\u0026#34;:200})\r})\r//2.ç»“æ„ä½“å“åº”\rengine.GET(\u0026#34;someStruct\u0026#34;, func(context *gin.Context) {\rcontext.JSON(http.StatusOK, struct {\rName , Message string\rNumber int\r}{\u0026#34;root\u0026#34;,\u0026#34;message\u0026#34;,123})\r})\r//3.XMLå“åº”\rengine.GET(\u0026#34;/someXML\u0026#34;, func(context *gin.Context) {\rcontext.XML(http.StatusOK,gin.H{\u0026#34;message\u0026#34;:\u0026#34;xml\u0026#34;})\r})\r//4.yamlå“åº”\rengine.GET(\u0026#34;/someYaml\u0026#34;, func(context *gin.Context) {\rcontext.YAML(http.StatusOK,gin.H{\u0026#34;name\u0026#34;:\u0026#34;YAML\u0026#34;})\r})\r//5.protobufæ ¼å¼ å‰¯æ­Œå¼€å‘çš„é«˜æ ¡å­˜å‚¨è¯»å–çš„å·¥å…·\rengine.GET(\u0026#34;/someProtoBuf\u0026#34;, func(context *gin.Context) {\rreps:=[]int64{1,2}\r//å®šä¹‰è¿”å›æ•°æ®\rlabel:=\u0026#34;protobuf\u0026#34;\rdata:=\u0026amp;protoexample.Test{\rLabel: \u0026amp;label,\rReps: reps,\r}\rcontext.ProtoBuf(http.StatusOK,data)\r})\rengine.Run(\u0026#34;:8000\u0026#34;)\r} HTML æ¨¡ç‰ˆæ¸²æŸ“ ginæ”¯æŒåŠ è½½htmlæ¨¡ç‰ˆ,ç„¶åæ ¹æ®æ¨¡ç‰ˆå‚æ•°è¿›è¡Œé…ç½®å¹¶è¿”å›ç›¸åº”çš„æ•°æ®,æœ¬è´¨ä¸Šå°±æ˜¯å­—ç¬¦ä¸²çš„æ›¿æ¢ loadhtmlglob()æ–¹æ³•å¯ä»¥åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶ func main() { engine:= gin.Default() //åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶ engine.LoadHTMLGlob(\u0026#34;templates/*\u0026#34;) //ä»¥ä¸‹è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥å•¦ //engine.LoadHTMLFiles(\u0026#34;templates/index.tmpl\u0026#34;) engine.GET(\u0026#34;/index\u0026#34;, func(context *gin.Context) { //æ ¹æ®æ–‡ä»¶åæ¸²æŸ“ //æœ€ç»ˆjsonå°†titleæ›¿æ¢ context.HTML(http.StatusOK,\u0026#34;index.tmpl\u0026#34;,gin.H{\u0026#34;title\u0026#34;:\u0026#34;æˆ‘çš„æ ‡é¢˜\u0026#34;}) }) engine.Run(\u0026#34;:8000\u0026#34;) } image-20210828234359001\ré‡å®šå‘ func main() { engine := gin.Default() engine.GET(\u0026#34;/redirect\u0026#34;, func(context *gin.Context) { //æ”¯æŒå†…éƒ¨å’Œå¤–éƒ¨çš„é‡å®šå‘ context.Redirect(http.StatusMovedPermanently,\u0026#34;http://www.baidu.com\u0026#34;) }) engine.Run(\u0026#34;:8000\u0026#34;) } åŒæ­¥å¼‚æ­¥ goroutineæœºåˆ¶å¯ä»¥æ–¹ä¾¿åœ°å®ç°å¼‚æ­¥å¤„ç† å¦å¤–,åœ¨å¯åŠ¨æ–°çš„goroutineæ—¶,ä¸åº”è¯¥ä½¿ç”¨åŸå§‹ä¸Šä¸‹æ–‡,å¿…é¡»ä½¿ç”¨ä»–çš„åªè¯»å‰¯æœ¬ unc main() { engine := gin.Default() //1.å¼‚æ­¥ engine.GET(\u0026#34;/long_async\u0026#34;, func(context *gin.Context) { //éœ€è¦æä¸€ä¸ªåªè¯»çš„å‰¯æœ¬ copyContext := context.Copy() //æ¨¡ä»¿å¼‚æ­¥å¤„ç† go func() { time.Sleep(3 *time.Second) log.Println(\u0026#34;å¼‚æ­¥æ‰§è¡Œ...\u0026#34;+copyContext.Request.URL.Path) }() }) //2.åŒæ­¥ engine.GET(\u0026#34;/long_sync\u0026#34;, func(context *gin.Context) { time.Sleep(3*time.Second) log.Println(\u0026#34;åŒæ­¥æ‰§è¡Œ...\u0026#34;+context.Request.URL.Path) }) engine.Run(\u0026#34;:8000\u0026#34;) } ginä¸­é—´ä»¶ image-20210828235642323\rginå¯ä»¥æ„å»ºä¸­é—´ä»¶,ä½†å®ƒåªå¯¹æ³¨å†Œè¿‡çš„è·¯ç”±å‡½æ•°èµ·ä½œç”¨ å¯¹äºåˆ†ç»„è·¯ç”±,åµŒå¥—ä½¿ç”¨ä¸­é—´ä»¶,å¯ä»¥é™å®šä¸­é—´ä»¶çš„ä½œç”¨èŒƒå›´ ä¸­é—´ä»¶åˆ†ä¸ºå…¨å±€ä¸­é—´ä»¶,å•ä¸ªè·¯ç”±ä¸­é—´ä»¶å’Œç¾¤ç»„ä¸­é—´ä»¶ ginä¸­é—´ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªgin.handlerfuncç±»å‹ å…¨å±€ä¸­é—´ä»¶ æ‰€æœ‰è¯·æ±‚éƒ½ç»è¿‡æ­¤ä¸­é—´ä»¶ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;time\u0026#34; ) //å®šä¹‰å…¨å±€ä¸­é—´ä»¶ func MiddleWare() gin.HandlerFunc { return func(context *gin.Context) { t:=time.Now() fmt.Println(\u0026#34;ä¸­é—´ä»¶å¼€å§‹æ‰§è¡Œäº†...\u0026#34;) //è®¾ç½®å˜é‡åˆ°contextçš„keyä¸­,å¯ä»¥é€šè¿‡getå– context.Set(\u0026#34;request\u0026#34;,\u0026#34;ä¸­é—´ä»¶\u0026#34;) //æ‰§è¡Œå‡½æ•° context.Next() //ä¸­é—´ä»¶æ‰§è¡Œå®Œåç»­çš„ä¸€äº›äº‹æƒ… status := context.Writer.Status() fmt.Println(\u0026#34;ä¸­é—´ä»¶æ‰§è¡Œå®Œæ¯•\u0026#34;,status) fmt.Println(\u0026#34;ç”¨æ—¶ : \u0026#34;,time.Now().Sub(t)) } } func main() { engine:= gin.Default() //æ³¨å†Œä¸­é—´ä»¶ engine.Use(MiddleWare()) { engine.GET(\u0026#34;/middleware\u0026#34;, func(context *gin.Context) { //å–å€¼ request, _ := context.Get(\u0026#34;request\u0026#34;) fmt.Println(request) //é¡µé¢æ¥æ”¶ context.JSON(http.StatusOK,gin.H{\u0026#34;request\u0026#34;:request}) }) } engine.Run(\u0026#34;:8000\u0026#34;) } next()æ–¹æ³• çœ‹åŸç  å®é™…ä¸Šå°±æ˜¯éå†äº†æ³¨å†Œçš„æ‰€æœ‰ä¸­é—´ä»¶çš„ä¸ªæ•°,\nå±€éƒ¨ä¸­é—´ä»¶ //å¦‚æ­¤å°±æ˜¯åœ¨è¿™ä¸ªè·¯ç”±ä¹‹ä¸‹å®šä¹‰äº†æ–°çš„ä¸­é—´ä»¶,å¯ä»¥è§†ä¸ºå•ä¸ªä¸­é—´ä»¶ engine.GET(\u0026#34;/middlewareDouble\u0026#34;,MiddleWare(), func(context *gin.Context) { //å–å€¼ request, _ := context.Get(\u0026#34;request\u0026#34;) fmt.Println(request) //é¡µé¢æ¥æ”¶ context.JSON(http.StatusOK,gin.H{\u0026#34;request\u0026#34;:request}) }) ç»ƒä¹  package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;time\u0026#34; ) func middleTimer() gin.HandlerFunc { return func(context *gin.Context) { now := time.Now() context.Next() fmt.Println(\u0026#34;ç”¨æ—¶: \u0026#34;,time.Now().Sub(now)) } } func main() { engine := gin.Default() engine.Use(middleTimer()) group := engine.Group(\u0026#34;/timer\u0026#34;) group.GET(\u0026#34;/countTimer\u0026#34;, func(context *gin.Context) { time.Sleep(3*time.Second) }) group.GET(\u0026#34;/counTimer1\u0026#34;, func(context *gin.Context) { time.Sleep(5*time.Second) }) engine.Run(\u0026#34;:8000\u0026#34;) } ä¼šè¯æ§åˆ¶ cookieæ˜¯ä»€ä¹ˆ httpæ˜¯æ— çŠ¶æ€åè®®,æœåŠ¡å™¨ä¸èƒ½è®°å½•é‡Œæµè§ˆå™¨çš„è®¿é—®çŠ¶æ€,ä¹Ÿå°±æ˜¯è¯´æœåŠ¡å™¨ä¸èƒ½åŒºåˆ†ä¸¤æ¬¡è¯·æ±‚æ˜¯å¦æ˜¯ç”±åŒä¸€ä¸ªå®¢æˆ·ç«¯å‘å‡ºçš„ cookieå°±æ˜¯è§£å†³httpåè®®æ— çŠ¶æ€çš„æ–¹æ¡ˆä¹‹ä¸€,ä¸­æ–‡æ˜¯å°ç”œé¥¼çš„æ„æ€ cookieå®é™…ä¸Šå°±æ˜¯æœåŠ¡å™¨ä¿å­˜åœ¨æµè§ˆå™¨ä¸Šçš„ä¸€æ®µä¿¡æ¯,æµè§ˆå™¨æœ‰äº†cookieä¹‹å,æ¯æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶éƒ½ä¼šåŒæ—¶å°†è¯¥ä¿¡æ¯å‘é€ç»™æœåŠ¡å™¨,æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å,å°±å¯ä»¥æ ¹æ®è¯¥ä¿¡æ¯å¤„ç†è¯·æ±‚ cookieç”±æœåŠ¡å™¨åˆ›å»º,å¹¶å‘é€ç»™æµè§ˆå™¨,æœ€ç»ˆç”±æµè§ˆå™¨ä¿å­˜ cookieç”¨é€” ä¿æŒç™»é™†çŠ¶æ€ äº¬ä¸œè´­ç‰©è½¦ cookieçš„ä½¿ç”¨ æœåŠ¡ç«¯å‘é€cookieid cookieç»ƒä¹  æ¨¡æ‹Ÿå®ç°æƒé™éªŒè¯ä¸­é—´ä»¶ æœ‰ä¸¤ä¸ªè·¯ç”±,loginç”¨æ¥è®¾ç½®cookie homeç”¨æ¥è®¿é—® package main import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; \u0026#34;net/http\u0026#34; ) func MiddleWareAuth() gin.HandlerFunc { return func(context *gin.Context) { cookie, err := context.Cookie(\u0026#34;loginToken\u0026#34;) if err != nil { //è¿”å›é”™è¯¯ context.JSON(http.StatusOK, gin.H{\u0026#34;error\u0026#34;: \u0026#34;StatusUnauthorized\u0026#34;}) context.Abort() return } if cookie == \u0026#34;true\u0026#34; { context.Next() } } } func main() { engine := gin.Default() engine.GET(\u0026#34;/login\u0026#34;, func(context *gin.Context) { http.SetCookie(context.Writer, \u0026amp;http.Cookie{ Name: \u0026#34;loginToken\u0026#34;, Value: \u0026#34;true\u0026#34;, }) context.String(http.StatusOK, \u0026#34;Login successful\u0026#34;) }) engine.GET(\u0026#34;/home\u0026#34;, MiddleWareAuth(), func(context *gin.Context) { context.JSON(http.StatusOK, gin.H{\u0026#34;data\u0026#34;: \u0026#34;home\u0026#34;}) }) engine.Run(\u0026#34;:8000\u0026#34;) } cookieçš„ç¼ºç‚¹ ä¸å®‰å…¨ æ˜æ–‡ å¢åŠ å¸¦å®½æ¶ˆè€— å¯ä»¥è¢«ç¦ç”¨ cookieæœ‰ä¸Šé™ sessionæ˜¯ä»€ä¹ˆ sessionå¯ä»¥å¼¥è¡¥cookieçš„ä¸è¶³,sessionå¿…é¡»ä¾èµ–äºcookieæ‰èƒ½ä½¿ç”¨,ç”Ÿæˆä¸€ä¸ªsessionidæ”¾åœ¨cookieé‡Œä¼ ç»™å®¢æˆ·ç«¯å°±å¯ä»¥äº† image-20210829104620811\rimage-20210829104914310\rsessionå­˜åœ¨æœåŠ¡ç«¯ä¸­\nsessionä¸­é—´ä»¶å¼€å‘ è®¾è®¡ä¸€ä¸ªé€šç”¨çš„sessionæœåŠ¡,æ”¯æŒå†…å­˜å­˜å‚¨å’Œrediså­˜å‚¨\nsessionæ¨¡å—è®¾è®¡\næœ¬è´¨ä¸Šæ˜¯k-vç³»ç»Ÿ,é€šè¿‡keyæ¥è¿›è¡Œå¢åˆ æ”¹æŸ¥ sessionå¯ä»¥å­˜å‚¨åœ¨å†…å­˜æˆ–è€…redis(2ä¸ªç‰ˆæœ¬) image-20210829105225472\rsessionæ¥å£è®¾è®¡ set get del save sessionå­˜å‚¨,redisçš„å®ç°å»¶è¿ŸåŠ è½½ sessionmgræ¥å£è®¾è®¡ init åˆå§‹åŒ– åŠ è½½redisåœ°å€ createsession åˆ›å»ºä¸€ä¸ªæ–°çš„session getsession é€šè¿‡sessionidè·å–å¯¹åº”çš„sessionå¯¹è±¡ memorysessionè®¾è®¡ å®šä¹‰memorysessionå¯¹è±¡ å­—æ®µsessionid å­˜kvçš„map è¯»å†™é” æ„é€ å‡½æ•° ä¸ºäº†è·å–å¯¹è±¡ sessionmgrè®¾è®¡ å®šä¹‰memorysessionmgrå¯¹è±¡ å­—æ®µå­˜æ”¾æ‰€æœ‰çš„sessionçš„map,è¯»å†™é” æ„é€ å‡½æ•° init cretesession getsession redisressionè®¾è®¡ å®šä¹‰redissessionå¯¹è±¡ ssionidå­—æ®µ å­˜kvçš„map è¯»å†™é” redisè¿æ¥æ±  è®°å½•å†…å­˜ä¸­mapå¦è¢«ä¿®æ”¹çš„æ ‡è®° æ„é€ å‡½æ•° setå°†sessionå­˜åˆ°å†…å­˜ä¸­çš„map getå–æ•°æ®å®ç°å»¶è¿ŸåŠ è½½ del save å°†sessionå­˜åˆ°redis redissessionmgrè®¾è®¡ å®šä¹‰redissessionmgrå¯¹è±¡ image-20210829110208079\rè¿™é‡Œè¿˜æ˜¯è¦é‡ç”³ä¸€ä¸‹ httpä¼ å‚å•Š\né¦–å…ˆ ä¼ å‚å¯ä»¥åˆ†ä¸ºç½‘å€ä¼ å‚å’Œè¡¨å•ä¼ å‚\nç½‘å€ä¼ å‚åˆåˆ†ä¸ºapiä¼ å‚å’Œurlä¼ å‚\napiä¼ å‚ä½¿ç”¨/book/:name\nname:= context.Param(\u0026#34;name\u0026#34;) urlä¼ å‚ä½¿ç”¨/book\nquery := context.Query(\u0026#34;name\u0026#34;) è¡¨å•ä¼ å‚\nåˆ†ä¸ºgetå’Œpost getçš„è¯æˆ‘ä»¬å‘ç° getçš„methodæœ€ç»ˆä¼šå˜æˆurl\nquery := context.Query(\u0026#34;searchThing\u0026#34;) postå°±ä½¿ç”¨\nsearchThing, ok := context.GetPostForm(\u0026#34;searchThing\u0026#34;) form := context.PostForm(\u0026#34;searchThing\u0026#34;) Elastic Search image-20210903210305686\ræŸ¥çœ‹å¥åº· curl -X GET127.0.0.1:9200/_cat/health?v\nåˆ›å»ºç´¢å¼• curl -X PUT 127.0.0.1:9200/www\nåˆ é™¤ç´¢å¼• curl -X DELETE 127.0.0.1:9200/www\næ’å…¥æ•°æ® image-20210903210614663\ræ£€ç´¢æ•°æ® image-20210903211123288\rgoæ“ä½œES å¾®æœåŠ¡ æ³¨å†Œä¸­å¿ƒé€‰å‹ consul / zookeeper / etcd / euerka\né€‰é¡¹è®¾è®¡æ¨¡å¼ package main import \u0026#34;fmt\u0026#34; func main() { newOptions(\u0026#34;str1\u0026#34;, \u0026#34;str2\u0026#34;, \u0026#34;str3\u0026#34;, 1, 2, 3) newOptionsNew(WithStrOption(\u0026#34;str1\u0026#34;)) } type OptionsNew struct { strOption1 string strOption2 string strOption3 string intOption1 int intOption2 int intOption3 int } // Option å…ˆå£°æ˜ä¸€ä¸ªå‡½æ•°ç±»å‹,ç”¨äºä¼ å‚ type Option func(option *OptionsNew) // WithStrOption å®šä¹‰å…·ä½“ç»™æŸä¸ªå­—æ®µèµ‹å€¼çš„æ–¹æ³• è¿”å›ä¸€ä¸ªæ–¹æ³• é€šè¿‡è¿™ä¸ªæ–¹æ³•ç»™ç»“æ„ä½“èµ‹å€¼ func WithStrOption(str string) Option { return func(option *OptionsNew) { option.strOption1 = str } } //åˆå§‹åŒ–ç»“æ„ä½“ func newOptionsNew(otions ...Option) { options :=\u0026amp;OptionsNew{} //éå†otions,å¾—åˆ°æ¯ä¸€ä¸ªå‡½æ•° for _, fun:= range otions { //è°ƒç”¨å‡½æ•°, åœ¨å‡½æ•°é‡Œ,ç»™ä¼ è¿›å»çš„å¯¹è±¡èµ‹å€¼ fun(options) } fmt.Printf(\u0026#34;init options %#v\\n\u0026#34;,options) } type Options struct { strOption1 string strOption2 string strOption3 string intOption1 int intOption2 int intOption3 int } func newOptions(strOption1, strOption2, strOption3 string, intOption1, intOption2, intOption3 int) { options := Options{ strOption1: strOption1, strOption2: strOption2, strOption3: strOption3, intOption1: intOption1, intOption2: intOption2, intOption3: intOption3, } fmt.Printf(\u0026#34;init option %#v\\n\u0026#34;, options) } æ³¨å†Œç»„ä»¶æ¥å£å¼€å‘ ç›®æ ‡ æ”¯æŒå¤šæ³¨å†Œä¸­å¿ƒ,æ—¢æ”¯æŒconsulåˆæ”¯æŒetcd æ”¯æŒå¯æ‰©å±• æä¾›åŸºäºåå­—çš„æ’ä»¶ç®¡ç†å‡½æ•°,ç”¨æ¥æ³¨å†Œæ’ä»¶ image-20210903224236637\ræµè¡ŒRPCæ¡†æ¶çš„å¯¹æ¯” dubbo / motan / thrift / grpc\ngRPCç®€ä»‹ pcè¯­è¨€ä¸­ç«‹/å¹³å°ä¸­ç«‹/å¼€æºçš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ç³»ç»Ÿ grpcç”±å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å¤šç§ç¯å¢ƒä¸­è¿è¡Œå’Œäº¤äº’,ä¾‹å¦‚å†™ä¸€ä¸ªjavaæœåŠ¡ç«¯,å¯ä»¥ç”¨goè¯­è¨€å†™å®¢æˆ·ç«¯è°ƒç”¨ grpcä¸protobufä»‹ç» å¾®æœåŠ¡æ¶æ„ä¸­,ç”±äºæ¯ä¸ªæœåŠ¡å¯¹åº”çš„ä»£ç åº“æ˜¯ç‹¬ç«‹è¿è¡Œçš„,æ— æ³•ç›´æ¥è°ƒç”¨,å½¼æ­¤é—´çš„é€šä¿¡å°±æ˜¯ä¸ªå¤§é—®é¢˜ grpcå¯ä»¥å®ç°å¾®æœåŠ¡,å°†å¤§çš„é¡¹ç›®æ‹†åˆ†ä¸ºå¤šä¸ªå°ä¸”ç‹¬ç«‹çš„ä¸šåŠ¡æ¨¡å—,ä¹Ÿå°±æ˜¯æœåŠ¡,å„æœåŠ¡ä¹‹é—´ä½¿ç”¨é«˜æ ¡çš„protobufåè®®è¿›è¡Œrpcè°ƒç”¨,grpcé»˜è®¤ä½¿ç”¨protocol buffers,è¿™ä¸ªgoogleå¼€æºçš„ä¸€å¥—æˆç†Ÿçš„ç»“æ„æ•°æ®åºåˆ—åŒ–æœºåˆ¶(å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æ•°æ®æ ¼å¼å¦‚json) å¯ä»¥ç”¨proto files åˆ›å»ºgrpcæœåŠ¡,ç”¨messageç±»å‹æ¥å®šä¹‰æ–¹æ³•å‚æ•°å’Œè¿”å›ç±»å‹ å®‰è£…grpcå’Œprotubuf git clone https://github.com/grpc/grpc-go.git $GOPATH/src/google.golang.org/grpc\ngit clone https://github.com/golang/net.git $GOPATH/src/golang.org/x/net\ngit clone https://github.com/golang/text.git $GOPATH/src/golang.org/x/text\ngo get -u github.com/golang/protobuf/{proto,protoc-gen-go}\ngit clone https://github.com/google/go-genproto.git $GOPATH/src/google.golang.org/genproto\nè¿›å…¥src,å¹¶install cd $GOPATH/src/\ngo install google.golang.org/grpc\n","date":"2021-08-24T00:17:57+08:00","permalink":"https://linjianshu.github.io/p/go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/","title":"Goè¯­è¨€å­¦ä¹ "},{"content":"dockerå­¦ä¹  dockeræ¦‚è¿°\ndockerå®‰è£…\ndockerå‘½ä»¤\né•œåƒå‘½ä»¤ å®¹å™¨å‘½ä»¤ æ“ä½œå‘½ä»¤ \u0026hellip; dockeré•œåƒ\nå®¹å™¨æ•°æ®å·\ndockerfile\ndockerç½‘ç»œåŸç†\nideaæ•´åˆdocker\nä»¥ä¸Šå•æœºç‰ˆæœ¬docker\né›†ç¾¤ docker compose docker swarm ç®€åŒ–ç‰ˆk8s ci/cd jenkins dockeræ¦‚è¿°\nå¼€å‘\u0026ndash;ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®\nå¼€å‘äººå‘˜ è¿ç»´äººå‘˜\nå¼€å‘å³è¿ç»´ï¼\nç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤redisã€esã€hadoop\u0026hellip;ï¼‰è´¹äº‹è´¹åŠ›\nå‘å¸ƒé¡¹ç›® jarï¼ˆredis mysql jdk esï¼‰ war\njarå¸¦ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…\nä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ redis mysql jdk es hadoop ï¼Œé…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°\nwindowsä¸linux\nä¼ ç»Ÿï¼šå¼€å‘æä¾›jar è¿ç»´éƒ¨ç½²ç¯å¢ƒ\nç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œ\ndockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè§£å†³æ–¹æ¡ˆ\njava\u0026mdash;apk\u0026mdash;å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ \u0026mdash;å¼ ä¸‰ä½¿ç”¨apk \u0026mdash;å®‰è£…å³å¯ç”¨\njava\u0026mdash;jarï¼ˆç¯å¢ƒï¼‰\u0026mdash;æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ \u0026mdash;-dockerä»“åº“ï¼šå•†åº— \u0026mdash;- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ \u0026ndash;ç›´æ¥è¿è¡Œå³å¯\ndockeræ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼\njre\u0026mdash;å¤šä¸ªåº”ç”¨ ï¼ˆç«¯å£å†²çªï¼‰\u0026mdash;åŸæ¥éƒ½æ˜¯äº¤å‰çš„\néš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼Œæ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼\ndockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´\næœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ã€‚\ndockerå†å²\nå®¹å™¨åŒ–æŠ€æœ¯å‘½åå°±æ˜¯docker\nåˆšåˆšè¯ç”Ÿçš„æ—¶å€™æ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotcloudï¼Œå¼€æº\nå¼€æºï¼Œdockerä¼˜ç‚¹\nåœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œ\nè™šæ‹Ÿæœºï¼šåœ¨windowsä¸­è£…ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶vmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼\nè™šæ‹Ÿæœºï¼šä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œdockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯\nvmï¼šlinux centos åŸç”Ÿé•œåƒï¼ˆä¸€ä¸ªç”µè„‘ï¼‰ éš”ç¦»ï¼šéœ€è¦å¼€å¯å¤šä¸ªè™šæ‹Ÿæœº å‡ åˆ†é’Ÿ dockerï¼šéš”ç¦» é•œåƒæœºåˆ¶ï¼ˆæœ€æ ¸å¿ƒçš„ç¯å¢ƒ 4m +jdk+mysqlï¼‰ååˆ†å°å·§ï¼Œè¿è¡Œé•œåƒå°±å¯ä»¥äº† å‡ M å‡ s dockeræ˜¯åŸºäºgoè¯­è¨€å¼€å‘çš„ï¼å¼€æº\ndockerçš„æ–‡æ¡£è¶…çº§è¯¦ç»†\nä»“åº“åœ°å€ï¼špull push\ndockerèƒ½å¹²å˜›\nä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ï¼\nä»å†…æ ¸åˆ°åº“å‡½æ•°åˆ°app\nè™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š\n1.èµ„æºå ç”¨ååˆ†å¤š\n2.å†—ä½™æ­¥éª¤å¤š\n3.å¯åŠ¨å¾ˆæ…¢\nå®¹å™¨åŒ–æŠ€æœ¯\nå®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ\næ¯”è¾ƒdockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š\nä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€ä¸ªç¡¬ä»¶ï¼Œè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç„¶åå†è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶ å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è™šæ‹Ÿæˆ‘ä»¬çš„ç¡¬ä»¶ï¼Œæ‰€ä»¥å°±è½»ä¾¿äº† æ¯ä¸ªå®¹å™¨é—´äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“ devops\næ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²\nä¼ ç»Ÿï¼šä¸€å †å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åº\ndockerï¼šä¸€é”®è¿è¡Œï¼Œæ‰“åŒ…é•œåƒï¼Œå‘å¸ƒæµ‹è¯•\næ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹\nä½¿ç”¨äº†dockerä¹‹åï¼Œæˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±å’Œæ­ç§¯æœ¨ä¸€æ ·\nspringboot1.5 redis5 tomcat8\né¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•ï¼ŒæœåŠ¡å™¨Aï¼å¼€æœåŠ¡å™¨Bï¼Œåšæ‰©å±•\næ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´\nåœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒé«˜åº¦ä¸€è‡´\næ›´é«˜æ•ˆçš„åˆ©ç”¨è®¡ç®—èµ„æºï¼š\n1æ ¸ 2gçš„æœåŠ¡å™¨ï¼\ndockeræ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼ŒæœåŠ¡å™¨çš„æ€§èƒ½å¯ä»¥è¿è¡Œåˆ°æè‡´\ndockerçš„åŸºæœ¬ç»„æˆ\né•œåƒï¼šimage å°±æ˜¯ä¸€ä¸ªç±»ï¼Œå¥½æ¯”ä¸€ä¸ªæ¨¡ç‰ˆï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡ç‰ˆæ¥åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œtomcaté•œåƒ\u0026ndash;\u0026gt;run\u0026mdash;\u0026ndash;\u0026gt;tomcat01å®¹å™¨ï¼ˆæä¾›æœåŠ¡ï¼‰ é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼ˆæœ€ç»ˆæœåŠ¡æˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­ï¼‰\nå®¹å™¨ï¼šcontainer dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ä¸ªç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºçš„ã€‚å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€åŸºæœ¬å‘½ä»¤ï¼ç›®å‰å°±å¯ä»¥å§å®¹å™¨ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªç®€æ˜“çš„linuxç³»ç»Ÿ\nä»“åº“ï¼šrespository ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ï¼ dockerhub é˜¿é‡Œäº‘ éƒ½æœ‰å®¹å™¨æœåŠ¡å™¨ï¼ˆé…ç½®é•œåƒåŠ é€Ÿï¼‰ï¼\nå®‰è£…docker\n1.éœ€è¦linuxåŸºç¡€\n2.centos7\n3.ä½¿ç”¨xshellè¿æ¥è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ“ä½œ\nimage-20210607214021379\rimage-20210607214316440\ræŸ¥çœ‹ä¸€ä¸‹ä¸‹è½½çš„è¿™ä¸ªhello-worldé•œåƒ\nimage-20210607214400376\ré˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ\n1.ç™»é™†é˜¿é‡Œäº‘\n2.å®¹å™¨é•œåƒæœåŠ¡\nimage-20210607215031767\r3.é…ç½®ä½¿ç”¨\nsudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;-\u0026#39;EOF\u0026#39; { \u0026#34;registry-mirrors\u0026#34;: [\u0026#34;https://lufuant6.mirror.aliyuncs.com\u0026#34;] } EOF sudo systemctl daemon-reload sudo systemctl restart docker å›é¡¾helloworldæµç¨‹\nå¼€å§‹\u0026ndash;\u0026gt;æœ¬åœ°å¯»æ‰¾é•œåƒ\u0026ndash;\u0026gt;å¦‚æœæœ‰å°±ä½¿ç”¨è¿™ä¸ªé•œåƒè¿è¡Œï¼Œå¦‚æœæ²¡æœ‰å°±å»ä»“åº“ä¸‹è½½pull\nåº•å±‚åŸç†\ndockeræ€ä¹ˆå·¥ä½œçš„\ndockeræ˜¯ä¸€ä¸ªclient\u0026ndash;serverç»“æ„çš„ç³»ç»Ÿï¼Œdockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œé€šè¿‡socketä»å®¢æˆ·ç«¯è®¿é—®\ndockerserveræ¥æ”¶åˆ°docker-clientçš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤\ndockerä¸ºä»€ä¹ˆæ¯”vmå¿«\n1.dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚\n2.dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼Œvméœ€è¦guest OS\næ‰€ä»¥æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œ dockerä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œé¿å…å¼•å¯¼ã€‚è™šæ‹Ÿæœºæ˜¯åŠ è½½guestOSï¼Œåˆ†é’Ÿçº§åˆ«çš„ï¼Œè€Œdockeræ˜¯åˆ©ç”¨å®¿ä¸»ï¼›æœºåŠ çš„æ“ä½œç³»ç»Ÿï¼Œçœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œå¦™çº§çš„\ndockerçš„å¸¸ç”¨å‘½ä»¤\nå¸®åŠ©å‘½ä»¤\ndocker version\ndocker info\ndocker å‘½ä»¤ \u0026ndash;help\né•œåƒå‘½ä»¤\ndocker images docker search docker pull docker rmi image-20210607222535947\rå®¹å™¨å‘½ä»¤\ndocker pull centos æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨\ndocker run [] image --name =\u0026#34;\u0026#34; å®¹å™¨åå­— -d åå°æ–¹å¼è¿è¡Œ -i ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œ è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹ -t -p æŒ‡å®šå®¹å™¨çš„ç«¯å£-p 8080:8080 ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£ -p å®¹å™¨ç«¯å£ -p ipï¼šä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£ exit ä»å®¹å™¨ä¸­é€€å›ä¸»æœº docker ps åˆ—å‡ºæ‰€æœ‰è¿è¡Œå®¹å™¨ -a æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+è¿è¡Œè¿‡çš„å®¹å™¨ -n=? æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨ docker ps -q åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å· image-20210608200503679\rimage-20210608200706097\ré€€å‡ºå®¹å™¨\nexit é€€å‡ºå®¹å™¨ï¼Œå¹¶åœæ­¢ ctrl+P+Q åˆ é™¤å®¹å™¨\ndocker rm å®¹å™¨id\tdocker rm -f $(docker ps -aq) image-20210608201640486\rå¯åŠ¨åœæ­¢å®¹å™¨\ndocker start å®¹å™¨id docker restart å®¹å™¨id docker stop å®¹å™¨id docker kill å®¹å™¨id image-20210608203048244\rå¸¸ç”¨å…¶ä»–å‘½ä»¤\nåå°å¯åŠ¨\ndocker run -d centos dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢ dockerlogs æŸ¥çœ‹å®¹å™¨å½“ä¸­çš„è¿›ç¨‹ä¿¡æ¯\ndocker top å‘½ä»¤ docker inspect å®¹å™¨id æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ image-20210609223653271\rè¿›å…¥å½“å‰æ­£åœ¨è¿›è¡Œçš„å®¹å™¨\næˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ä½¿ç”¨åå°æ–¹å¼è¿è¡Œçš„ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹ä¸€äº›é…ç½® docker exec -it å®¹å™¨id docker attach å®¹å™¨id æ­£åœ¨æ‰§è¡Œå½“å‰çš„ä»£ç  execè¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œï¼ˆå¸¸ç”¨ï¼‰ attach è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹ image-20210609224319430\rä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š\ndocker cp å®¹å™¨id ï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„çš„ä¸»æœºè·¯å¾„ image-20210609230304773\rå½“å‰ä¸»æœºç›®å½• root@yourtreedad:~# cd /home root@yourtreedad:/home# ls kuanshen.java test.java root@yourtreedad:/home# touch kuangshen.java root@yourtreedad:/home# ls kuangshen.java kuanshen.java test.java è¿›å…¥å®¹å™¨å†…éƒ¨ root@yourtreedad:/home# docker attach 3a26ef468c27 [root@3a26ef468c27 /]# cd /home bash: cd: $\u0026#39;\\343/home\u0026#39;: No such file or directory [root@3a26ef468c27 /]# ls bin dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var [root@3a26ef468c27 /]# cd /home [root@3a26ef468c27 home]# ls åˆ›å»ºæ–‡ä»¶ [root@3a26ef468c27 home]# touch test1.java [root@3a26ef468c27 home]# ls test1.java é€€å‡ºå®¹å™¨ [root@3a26ef468c27 home]# exit exit root@yourtreedad:/home# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES root@yourtreedad:/home# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 3a26ef468c27 centos \u0026#34;/bin/bash\u0026#34; 20 minutes ago Exited (0) 16 seconds ago suspicious_wilbur cee72dcd9187 centos \u0026#34;-it /bin/bash\u0026#34; 21 minutes ago Created eager_einstein 73d060aad5ac centos \u0026#34;/bin/bash\u0026#34; 27 hours ago Exited (255) About an hour ago optimistic_leakey ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶è‡³ä¸»æœº root@yourtreedad:/home# docker cp 3a26ef468c27:/home/test1.java /home root@yourtreedad:/home# ls kuangshen.java kuanshen.java test.java test1.java æ‹·è´æ˜¯ä¸€ä¸ªæ‰‹åŠ¨è¿‡ç¨‹ï¼Œæœªæ¥æˆ‘ä»¬ä½¿ç”¨ -v å·çš„æŠ€æœ¯ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åŒæ­¥ dockerå‘½ä»¤å¾ˆå¤šï¼Œä»¥ä¸Šæ˜¯æœ€å¸¸ç”¨çš„\ndockerå®‰è£…nginx\n1.æœç´¢é•œåƒ\n2.ä¸‹è½½é•œåƒ\n3.å¯åŠ¨é•œåƒ\nimage-20210609233757534\ræµ‹è¯•\nimage-20210609234211565\rç«¯å£æ˜ å°„\nè¿›å…¥å®¹å™¨ï¼ŒæŸ¥çœ‹æ–‡ä»¶\nimage-20210609234650627\ræ€è€ƒé—®é¢˜ï¼šæ¯æ¬¡æ”¹åŠ¨nignxé…ç½®æ–‡ä»¶ï¼Œéƒ½éœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Ÿéƒ½ååˆ†éº»çƒ¦ï¼Œæˆ‘è¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œè¾¾åˆ°åœ¨å®¹å™¨å¤–éƒ¨ä¿®æ”¹æ–‡ä»¶ï¼Œå®¹å™¨å†…éƒ¨å°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ï¼Ÿ -v æ•°æ®å·æŠ€æœ¯\ndockerè£…ä¸€ä¸ªtomcat\ndocker run -it --rm tomcat:9.0 ä¹‹å‰çš„å¯åŠ¨éƒ½æ˜¯åå°ï¼Œåœæ­¢äº†å®¹å™¨ä¹‹åï¼Œå®¹å™¨è¿˜æ˜¯å¯ä»¥æŸ¥åˆ° docker run -it --rm ä¸€èˆ¬ç”¨æ¥æµ‹è¯•ï¼Œç”¨å®Œå°±åˆ é™¤ è¿›å…¥å®¹å™¨ PS C:\\Users\\Sweetie\u0026gt; docker run -d -p 3355:8080 --name tomcat01 tomcat c42f39b1590834eb3720faa3cee74b79a909550fe02bc2ed383676908c3accf2 PS C:\\Users\\Sweetie\u0026gt; docker exec -it tomcat01 /bin/bash root@c42f39b15908:/usr/local/tomcat# ls linuxå‘½ä»¤å°‘äº† æ²¡æœ‰webapps é˜¿é‡Œäº‘é•œåƒåŸå› ï¼Œé»˜è®¤æ˜¯æœ€å°çš„é•œåƒï¼Œæ‰€æœ‰çš„ä¸å¿…è¦çš„éƒ½å‰”é™¤äº†ã€‚ ä¿è¯æœ€å°å¯è¿è¡Œçš„ç¯å¢ƒ root@c42f39b15908:/usr/local/tomcat/webapps# cd .. root@c42f39b15908:/usr/local/tomcat# ls BUILDING.txt LICENSE README.md RUNNING.txt conf logs temp webapps.dist CONTRIBUTING.md NOTICE RELEASE-NOTES bin lib native-jni-lib webapps work root@c42f39b15908:/usr/local/tomcat# cd webapps.dist root@c42f39b15908:/usr/local/tomcat/webapps.dist# ls ROOT docs examples host-manager manager root@c42f39b15908:/usr/local/tomcat/webapps.dist# cd .. root@c42f39b15908:/usr/local/tomcat# cp -r webapps.dist/* webapps root@c42f39b15908:/usr/local/tomcat# cd webapps root@c42f39b15908:/usr/local/tomcat/webapps# ls ROOT docs examples host-manager manager ä»¥åè¦éƒ¨ç½²é¡¹ç›®ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦è¿›å…¥å®¹å™¨æ˜¯ä¸æ˜¯ååˆ†éº»çƒ¦ï¼Œè¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œè¾¾åˆ°åœ¨å®¹å™¨ä¿®æ”¹æ–‡ä»¶åï¼Œå®¹å™¨å†…éƒ¨å°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ï¼Ÿ -v æ•°æ®å·æŠ€æœ¯\nwebappsï¼Œåœ¨å¤–éƒ¨æ”¾ç½®é¡¹ç›®ï¼Œå°±è‡ªåŠ¨åŒæ­¥åˆ°å†…éƒ¨å°±å¥½äº†ï¼ï¼ï¼\ndockerå®¹å™¨ tomcat+ç½‘ç«™ docker+mysql\néƒ¨ç½²es+kibana\nesæš´éœ²çš„ç«¯å£å¾ˆå¤š esååˆ†è€—å†…å­˜ esçš„æ•°æ®ä¸€èˆ¬éœ€è¦æ”¾ç½®åœ¨å®‰å…¨ç›®å½•ï¼æŒ‚è½½ --net somenetwork ? ç½‘ç»œé…ç½® ä¸‹è½½å¯åŠ¨ docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e \u0026#34;discovery.type=single-node\u0026#34; elasticsearch:7.6.2 ä¸€å¯åŠ¨å°±é¡¶ä¸ä½äº†ï¼Œå¾ˆå¥½å†…å­˜ docker statuc æŸ¥çœ‹cpuçš„çŠ¶æ€ èµ¶ç´§å…³é—­ï¼Œå¢åŠ å†…å­˜çš„é™åˆ¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ -e é…ç½®ä¿®æ”¹ docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e \u0026#34;discovery.type=single-node\u0026#34; -e ES_JAVA_OPTS=\u0026#34;-Xms64m -Xmx512m\u0026#34; elasticsearch:7.6.2 ç¯å¢ƒé…ç½® ä½œä¸šï¼šä½¿ç”¨kibana è¿æ¥elasticsearch\nå› ä¸ºç›¸äº’éš”ç¦»ï¼Œæ‰€ä»¥ç›´æ¥localhostæ¥è¿ä¸ç°å®ï¼Œå¯ä»¥ä½¿ç”¨linuxå†…ç½‘ipæ¥æï¼Œéœ€è¦äº†è§£dockerç½‘ç»œåŸç†ï¼Œç½‘ç»œçš„åŸºæœ¬çŸ¥è¯†\nå¯è§†åŒ–\nportainerå…ˆç”¨è¿™ä¸ª\nrancherï¼ˆCIã€CDå†ç”¨ï¼‰\nä»€ä¹ˆæ˜¯portainer\ndockerå›¾å½¢åŒ–ç•Œé¢ç®¡ç†å·¥å…·ï¼æä¾›ä¸€ä¸ªåå°é¢æ¿ï¼Œä¾›æˆ‘ä»¬æ“ä½œï¼\ndocker run -d -p 8088:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer è®¿é—®æµ‹è¯• å¤–ç½‘8088ç«¯å£ é€šè¿‡å®ƒæ¥è®¿é—® å¯è§†åŒ–é¢æ¿ï¼Œæˆ‘ä»¬å¹³æ—¶ä¸ä¼šä½¿ç”¨ï¼Œæµ‹è¯•ç©ç©å³å¯ dockeré•œåƒè®²è§£\né•œåƒæ˜¯ä»€ä¹ˆ\né•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶\næ‰€æœ‰çš„åº”ç”¨ï¼Œç›´æ¥æ‰“åŒ…dockeré•œåƒï¼Œå°±å¯ä»¥ç›´æ¥è·‘èµ·æ¥\nå¦‚ä½•å¾—åˆ°é•œåƒï¼š\nä»è¿œç¨‹ä»“åº“ä¸‹è½½ æœ‹å‹æ‹·è´ç»™ä½  è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒ dockerfile unionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ\næˆ‘ä»¬ä¸‹è½½çš„æ—¶å€™çœ‹åˆ°çš„ä¸€å±‚å±‚çš„å°±æ˜¯è¿™ä¸ª\nunionfsè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ï¼Œä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚åœ¨åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹unite several directories into a single virtual filesystem ã€‚unionæ–‡ä»¶ç³»ç»Ÿæ˜¯docker é•œåƒçš„åŸºç¡€ï¼Œé•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼ˆæ²¡æœ‰çˆ¶é•œåƒï¼‰ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒ\nç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•\ndockeré•œåƒåŠ è½½åŸç†\ndockerçš„é•œåƒå®é™…ä¸Šæ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFS\nbootfs ï¼ˆboot file system ï¼‰ ä¸»è¦åŒ…å«bootloader å’Œ kernel ï¼Œbootloader ä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernel ï¼Œ linux åˆšå¯åŠ¨æ—¶ä¼šåŠ è½½ bootfs æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨docker é•œåƒçš„æœ€åº•å±‚æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„linu/unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfs\nrootfsï¼ˆroot file systemï¼‰ï¼Œåœ¨bootfsä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹linuxç³»ç»Ÿä¸­çš„ /dev , /proc / bin , /etcç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚ubuntuï¼Œcentosç­‰ç­‰\nå¹³æ—¶æˆ‘ä»¬å®‰è£…è¿›è™šæ‹Ÿæœºçš„centoséƒ½æ˜¯å¥½å‡ ä¸ªGï¼Œä¸ºä»€ä¹ˆdockerè¿™é‡Œæ‰200M\nå¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ç”¨hostçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså°±å¯ä»¥äº†ï¼Œç”±æ­¤å¯è§å¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆï¼ŒbootfsåŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œrootfsä¼šæœ‰å·®åˆ«ï¼Œå› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆæœ¬å¯ä»¥å…±ç”¨bootfs\nåˆ†å±‚ç†è§£\nPS C:\\Users\\Sweetie\u0026gt; docker pull redis Using default tag: latest latest: Pulling from library/redis 69692152171a: Already exists a4a46f2fd7e0: Pull complete bcdf6fddc3bd: Pull complete 2902e41faefa: Pull complete df3e1d63cdb1: Pull complete fa57f005a60d: Pull complete æˆ‘ä»¬å¯ä»¥å»ä¸‹è½½ä¸€ä¸ªé•œåƒï¼Œæ³¨æ„è§‚å¯Ÿä¸‹è½½çš„æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€å±‚ä¸€å±‚åœ¨ä¸‹è½½çš„ï¼\næ€è€ƒï¼šä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢ï¼Ÿ\næœ€å¤§çš„å¥½å¤„ï¼Œæˆ‘è§‰å¾—è«è¿‡äºæ˜¯èµ„æºå…±äº«ï¼æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€è¦åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«\n}, \u0026#34;RootFS\u0026#34;: { \u0026#34;Type\u0026#34;: \u0026#34;layers\u0026#34;, \u0026#34;Layers\u0026#34;: [ \u0026#34;sha256:02c055ef67f5904019f43a41ea5f099996d8e7633749b6e606c400526b2c4b33\u0026#34;, \u0026#34;sha256:ec5652c3523d96657d66169c0eb71b572ff065711c705a15ec02f60a21c212c3\u0026#34;, \u0026#34;sha256:76d3e24d63f60e6a73af70be15959eb4021dd7a5a09da6925037d3b4a1673fca\u0026#34;, \u0026#34;sha256:f06719b0aa43029f32c821c8f14f9f5941a8be6d3b61dcd9f3f884b39e9a4f23\u0026#34;, \u0026#34;sha256:b896f490f2edc62cc9d190465bbeab871619590d1e9beeffb92e4ca9cc08116d\u0026#34;, \u0026#34;sha256:e3f4077f577bf07c0940d6345ddd17014ff824d3f4f7f3effc9a8c4dae3e527b\u0026#34; ] }, \u0026#34;Metadata\u0026#34;: { \u0026#34;LastTagTime\u0026#34;: \u0026#34;0001-01-01T00:00:00Z\u0026#34; } ç†è§£ï¼š\næ‰€æœ‰çš„dockeré•œåƒéƒ½èµ·å§‹äºä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“è¿›è¡Œä¿®æ”¹æˆ–è€…å¢åŠ æ–°çš„å†…å®¹æ—¶ï¼Œå°±ä¼šåœ¨å½“å‰é•œåƒå±‚ä¹‹ä¸Šï¼Œåˆ›å»ºæ–°çš„é•œåƒå±‚ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚åŸºäºubuntu linux 16.04 åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œè¿™å°±æ˜¯æ–°é•œåƒçš„ç¬¬ä¸€å±‚ï¼›å¦‚æœåœ¨è¯¥é•œåƒä¸­æ·»åŠ pythonåŒ…ï¼Œè¯¥é•œåƒå°±ä¼šåœ¨åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šåˆ›å»ºç¬¬äºŒä¸ªé•œåƒå±‚ï¼Œå¦‚æœç»§ç»­æ·»åŠ ä¸€ä¸ªå®‰å…¨ä¸å®šï¼Œå°±ä¼šåˆ›å»ºç¬¬ä¸‰ä¸ªé•œåƒå±‚ã€‚\nåœ¨æ·»åŠ é¢å¤–çš„é•œåƒå±‚çš„åŒæ—¶ï¼Œé•œåƒå§‹ç»ˆä¿æŒæ˜¯å½“å‰æ‰€æœ‰é•œåƒçš„ç»„åˆï¼Œç†è§£è¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šå±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶è¦†ç›–äº†åº•å±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶ã€‚è¿™æ ·å°±ä½¿å¾—æ–‡ä»¶çš„æ›´æ–°ç‰ˆæœ¬ä½œä¸ºä¸€ä¸ªæ–°é•œåƒå±‚æ·»åŠ åˆ°é•œåƒä¸­ã€‚dockeré€šè¿‡å­˜å‚¨å¼•æ“ï¼ˆæ–°ç‰ˆæœ¬é‡‡ç”¨å¿«ç…§æœºåˆ¶ï¼‰çš„æ–¹å¼æ¥å®ç°æƒŠé™©å±‚å †æ ˆï¼Œå¹¶ä¿è¯å¤šé•œåƒå±‚å¯¹å¤–å±•ç¤ºä¸ºç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿã€‚\nlinuxä¸Šå¯ç”¨çš„å­˜å‚¨å¼•æ“æœ‰AUFSã€Overlay2ã€Device Mapperã€Btrfsä»¥åŠZFSã€‚é¡¾åæ€ä¹‰ï¼Œæ¯ç§å­˜å‚¨å¼•æ“éƒ½åŸºäºLinuxä¸­å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å—è®¾å¤‡æŠ€æœ¯ï¼Œå¹¶ä¸”æ¯ç§å¼•æ“éƒ½æœ‰å…¶ç‹¬æœ‰çš„æ€§èƒ½ç‰¹ç‚¹ã€‚\nDockeråœ¨windowsä¸Šä»…æ”¯æŒwindowsfilterä¸€ç§å­˜å‚¨å¼•æ“ï¼Œè¯¥å¼•æ“åŸºäºNTFSæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šå®ç°äº†åˆ†å±‚å’Œcow\ndockeré•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œä¸€ä¸ªæ–°çš„åˆ»å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ï¼\nè¿™ä¸€å±‚å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å®¹å™¨å±‚ï¼Œå®¹å™¨ä¹‹ä¸‹çš„éƒ½å«é•œåƒ\nå¦‚ä½•æäº¤ä¸€ä¸ªè‡ªå·±çš„é•œåƒ\ncommité•œåƒ\ndocker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬ docker commit -m=\u0026#34;æäº¤çš„æè¿°ä¿¡æ¯\u0026#34; -a=\u0026#34;ä½œè€…\u0026#34; å®¹å™¨id ç›®æ ‡é•œåƒå:[TAG] æµ‹è¯•\nå¯åŠ¨é»˜è®¤tomcat æ²¡æœ‰æ–‡ä»¶çš„webapps root@e7c2f9ef26e4:/usr/local/tomcat# cp -r webapps.dist/* webapps root@e7c2f9ef26e4:/usr/local/tomcat# ls BUILDING.txt LICENSE README.md RUNNING.txt conf logs temp webapps.dist CONTRIBUTING.md NOTICE RELEASE-NOTES bin lib native-jni-lib webapps work root@e7c2f9ef26e4:/usr/local/tomcat# cd webapps root@e7c2f9ef26e4:/usr/local/tomcat/webapps# ls ROOT docs examples host-manager manager cpå‘½ä»¤æ‹·è´è¿›webapps image-20210612162156751\ræµè§ˆå™¨å¯ä»¥è®¿é—® commitæäº¤ä¸ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œæˆ‘ä»¬ä»¥åå°±ä½¿ç”¨æˆ‘ä»¬ä¿®æ”¹è¿‡çš„é•œåƒå³å¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ªä¿®æ”¹è¿‡çš„é•œåƒ PS C:\\Users\\Sweetie\u0026gt; docker commit -m=\u0026#34;add webapps app\u0026#34; -a=\u0026#34;ljs\u0026#34; e7c2f9ef26e4 tomcatupdate1.0 sha256:2a308d5b7f5a2b5b471a193c596369ee1ec2168d04221397ced9c9201a94075e PS C:\\Users\\Sweetie\u0026gt; docker images REPOSITORY TAG IMAGE ID CREATED SIZE tomcatupdate1.0 latest 2a308d5b7f5a 8 seconds ago 672MB redis latest fad0ee7e917a 10 days ago 105MB nginx latest d1a364dc548d 2 weeks ago 133MB tomcat latest c43a65faae57 4 weeks ago 667MB portainer/portainer latest 580c0e4e98b0 2 months ago 79.1MB centos latest 300e315adb2f 6 months ago 209MB elasticsearch 7.6.2 f29a1ee41030 14 months ago 791MB elasticsearch latest 5acf0e8da90b 2 years ago 486MB image-20210612162537739\rå¦‚æœä½ æƒ³è¦ä¿å­˜å½“å‰å®¹å™¨çš„çŠ¶æ€ï¼Œå°±å¯ä»¥é€šè¿‡commitæ¥æäº¤ï¼Œè·å¾—ä¸€ä¸ªé•œåƒã€‚\nå°±å¥½æ¯”ä»¥å‰æˆ‘ä»¬å­¦ä¹ VMçš„æ—¶å€™ï¼Œå¿«ç…§\nåˆ°è¿™é‡Œæ‰ç®—å…¥é—¨\nå®¹å™¨æ•°æ®å·ã€dockerfileã€dockerç½‘ç»œï¼šdockerç²¾é«“\nä¼ä¸šå®æˆ˜\ndocker compose\ndocker swarm\nci ã€ cd jenkins æµæ°´çº¿\nå®¹å™¨æ•°æ®å·\nä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·\ndockerçš„ç†å¿µå›é¡¾ï¼š\nå°†åº”ç”¨å’Œç¯å¢ƒæ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼\næ•°æ®ï¼Ÿå¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠå®¹å™¨åˆ é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ï¼\néœ€æ±‚ï¼šæ•°æ®å¯ä»¥æŒä¹…åŒ–\nMYsqlï¼Œå®¹å™¨åˆ äº†ï¼Œåˆ åº“è·‘è·¯!\néœ€æ±‚ï¼šMYsqlçš„æ•°æ®å¯ä»¥å­˜å‚¨åœ¨æœ¬åœ°ï¼\nå®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªå®¹å™¨å…±äº«çš„æŠ€æœ¯ï¼dockerå®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ°ï¼\nè¿™å°±æ˜¯æ•°æ®å·æŠ€æœ¯ï¼ç›®å½•çš„æŒ‚è½½ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½linuxä¸Š\næ€»ç»“ä¸€å¥è¯ï¼šå®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œï¼å®¹å™¨é—´ä¹Ÿæ˜¯å¯ä»¥æ•°æ®å…±äº«çš„ï¼\nä½¿ç”¨æ•°æ®å·\næ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æŒ‚è½½ -v docker run -it -v ä¸»æœºç›®å½•åœ°å€ï¼šå®¹å™¨å†…ç›®å½•åœ°å€ -p ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£ root@yourtreedad:~# cd /home root@yourtreedad:/home# ls kuangshen.java kuanshen.java test.java test1.java root@yourtreedad:/home# cd .. root@yourtreedad:/# docker run -it -v /home/ceshi:/home centos /bin/bash image-20210612164241555\rä½¿ç”¨ docker inspect å®¹å™¨id æŸ¥çœ‹å…·ä½“ä¿¡æ¯\nåœ¨å¤–é¢å»ºç«‹æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢ä¹Ÿæœ‰\n[root@ffb011d1322a /]# cd home [root@ffb011d1322a home]# ls outtoint.txt åœ¨é‡Œé¢è§æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢ä¹Ÿæœ‰\n[root@ffb011d1322a home]# touch intoout.java [root@ffb011d1322a home]# ls intoout.java outtoint.txt [root@ffb011d1322a home]# exit exit root@yourtreedad:/# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ffb011d1322a centos \u0026#34;/bin/bash\u0026#34; 12 minutes ago Up 10 minutes eager_heyrovsky e7c2f9ef26e4 tomcat:latest \u0026#34;catalina.sh run\u0026#34; 34 minutes ago Up 34 minutes 0.0.0.0:5555-\u0026gt;8080/tcp sweet_ramanujan b90d3528ae04 portainer/portainer \u0026#34;/portainer\u0026#34; 6 hours ago Up 37 minutes 0.0.0.0:8088-\u0026gt;9000/tcp, :::8088-\u0026gt;9000/tcp confident_villani root@yourtreedad:/# cd home root@yourtreedad:/home# cd ceshi root@yourtreedad:/home/ceshi# ls intoout.java outtoint.txt root@yourtreedad:/home/ceshi# å®¹å™¨åœæ­¢äº†ï¼Œä½†æ˜¯åªè¦å®¹å™¨è¿˜åœ¨ï¼Œå°±èƒ½å®ç°åŒæ­¥æ•°æ®ï¼Œç±»ä¼¼åŒå‘ç»‘å®š\nimage-20210612165925505\rå¥½å¤„ï¼šæˆ‘ä»¬ä»¥åä¿®æ”¹åªéœ€è¦åœ¨æœ¬åœ°ä¿®æ”¹å³å¯ï¼Œå®¹å™¨å†…ä¼šè‡ªåŠ¨åŒæ­¥ï¼\nå®æˆ˜ï¼šå®‰è£…mysql\næ€è€ƒï¼šmysqlçš„æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜ï¼\nè·å–é•œåƒ docker pull mysql è¿è¡Œå®¹å™¨ï¼Œéœ€è¦åšæ•°æ®æŒ‚è½½ï¼Œéœ€è¦é…ç½®å¯†ç ï¼Œè¿™éœ€è¦æ³¨æ„ å®˜æ–¹æµ‹è¯•ï¼šdocker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag -d åå°è¿è¡Œ -p ç«¯å£æ˜ å°„ -v æ•°æ®å·æŒ‚åœ¨ -e ç¯å¢ƒé…ç½® --name docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7 å¯åŠ¨æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨ sqlyog æ¥æµ‹è¯•ä¸€ä¸‹ sqlyog --h -u -p è¿æ¥åˆ°æœåŠ¡å™¨çš„3310 ----3310 å’Œå®¹å™¨å†…çš„3306è¿›è¡Œæ˜ å°„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿æ¥ä¸Šäº† åœ¨æœ¬åœ°æµ‹è¯•åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ˜ å°„çš„è·¯å¾„æ˜¯å¦ok å‡è®¾æˆ‘ä»¬å°†å®¹å™¨åˆ é™¤ï¼Œå‘ç°æˆ‘ä»¬æŒ‚è½½åˆ°æœ¬åœ°çš„æ•°æ®å·ä¾æ—§æ²¡æœ‰ä¸¢å¤±ï¼Œè¿™å°±å®ç°äº†å®¹å™¨æ•°æ®æŒä¹…åŒ–åŠŸèƒ½ image-20210612172111412\rå…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½\nåŒ¿åæŒ‚è½½ -v å®¹å™¨å†…è·¯å¾„ ç›¸å½“äºä¸æŒ‡å®šä¸»æœºçš„åœ°å€ï¼Œç›´æ¥æŒ‡å®šå®¹å™¨åœ°å€ root@yourtreedad:/# docker run -d -P --name nginx01 -v /etc/nginx nginx æŸ¥çœ‹æ‰€æœ‰å·çš„æƒ…å†µ docker volume ls è¿™é‡Œå‘ç° DRIVER VOLUME NAME local 0faef3ffc2187555023c9a8e5dca5c11e47f0b436657e48f95e972e33c951c49 è¿™ç§å°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œæˆ‘ä»¬-vçš„æ—¶å€™åªå†™äº†å®¹å™¨çš„è·¯å¾„ï¼Œæ²¡æœ‰å†™å®¹å™¨å¤–çš„è·¯å¾„ï¼ é€šè¿‡-v å·åï¼šå®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯å…·åæŒ‚è½½ root@yourtreedad:/# docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx nginx 11c306e0a80402c0c235042326f5db9da58570e01abac55379414d9d53abc797 root@yourtreedad:/# docker volume ls DRIVER VOLUME NAME local 0faef3ffc2187555023c9a8e5dca5c11e47f0b436657e48f95e972e33c951c49 local 3c63eeef73128b24bbf1830f9cec7d383aae8413e232a857f1216456fb07fedf local 941b4501fa7cefd9a341366fbe18cfeddd0f2d223c1eb87addf1a77a42c2ace8 local 3826373b692739fc44eac10a00d8ddada7b0200c5833963c459d6db001384a70 local 8440372a24dc57f1bcf100c1ef256abbff5713f1c96c2bd65276aea10f54864d local cb64d53be430f816088a1f1bbd1f5aea8885a1be33ddd98a5fb98a9d452fa03c local juming-nginx æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå·æŒ‚è½½åœ¨ä¸»æœºçš„å“ªä¸ªä½ç½®äº†å‘¢ root@yourtreedad:/# docker volume inspect juming-nginx [ { \u0026#34;CreatedAt\u0026#34;: \u0026#34;2021-06-13T02:11:30Z\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Labels\u0026#34;: null, \u0026#34;Mountpoint\u0026#34;: \u0026#34;/var/lib/docker/volumes/juming-nginx/_data\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;juming-nginx\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34; } ] æ‰€æœ‰dockerå®¹å™¨å†…çš„å·ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯åœ¨/var/lib/docker/volumes/xxxxä¸‹ æˆ‘ä»¬é€šè¿‡å…·åæŒ‚è½½å¯ä»¥æ–¹ä¾¿çš„æ‰¾åˆ°æˆ‘ä»¬çš„ä¸€ä¸ªå·ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯å…·åæŒ‚è½½ image-20210613100849422\rå¦‚ä½•ç¡®å®šæ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½ ï¼Œè¿˜æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½ -v å®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯åŒ¿åæŒ‚è½½ -v å·åï¼šå®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯å…·åæŒ‚è½½ -v /å®¿ä¸»æœºè·¯å¾„ï¼š/å®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½ æ‹“å±•ï¼š é€šè¿‡ -v å®¹å™¨å†…è·¯å¾„ï¼Œro ã€ rw æ”¹å˜è¯»å†™æƒé™ docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx:ro nginx docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx:rw nginx åªè¯»ro readonly å¯è¯»å¯å†™rw readwrite ä¸€æ—¦è®¾ç½®äº†ro å®¹å™¨å¯¹æˆ‘ä»¬æŒ‚è½½å‡ºæ¥çš„å†…å®¹å°±æœ‰é™å®šäº†ï¼ roåªè¦çœ‹åˆ°roï¼Œå°±è¯´æ˜è¿™ä¸ªè·¯å¾„åªèƒ½é€šè¿‡å®¿ä¸»æœºæ¥æ“ä½œï¼Œå®¹å™¨å†…éƒ¨æ˜¯æ— æ³•æ“ä½œçš„ åˆè¯†dockerfile\næ–¹å¼äºŒï¼š\ndockerfileå°±æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼å‘½ä»¤è„šæœ¬ï¼å…ˆä½“éªŒä¸€ä¸‹ï¼\nctrl+U åˆ é™¤å½“å‰å‘½ä»¤ mkdir ç”Ÿæˆæ–‡ä»¶å¤¹ rm -rf æ–‡ä»¶å¤¹åå­— å¼ºåˆ¶åˆ é™¤æ–‡ä»¶å¤¹åå­— pwd æŸ¥çœ‹å½“å‰åœ¨é‚£ä¸ªç›®å½•ä¸­ è¿›å…¥æ–‡ä»¶å esc å†ï¼šwqå°±æ˜¯ä¿å­˜å¹¶é€€å‡º vim ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨è¿›å…¥æ–‡ä»¶ aåå°±å¯ä»¥ç¼–è¾‘ é€šè¿‡è„šæœ¬å¯ä»¥ç”Ÿæˆé•œåƒï¼Œé•œåƒæ˜¯ä¸€å±‚ä¸€å±‚çš„ touch åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ ##åˆ›å»ºä¸€ä¸ªdockerfileæ–‡ä»¶ï¼Œåå­—å¯ä»¥éšæœºï¼Œå»ºè®® dockerfile ##æ–‡ä»¶ä¸­çš„å†…å®¹ æŒ‡ä»¤éƒ½æ˜¯å¤§å†™ å‚æ•° ##è¿™é‡Œçš„æ¯ä¸ªå‘½ä»¤ï¼Œéƒ½æ˜¯é•œåƒçš„ä¸€å±‚ FROM centos VOLUME[\u0026#34;volume01\u0026#34;,\u0026#34;volume02\u0026#34;] CMD echo \u0026#34;-----end-----\u0026#34; CMD /bin/bash å¥½åƒè¦ç©ºè¡Œï¼ï¼ï¼ï¼ é€šè¿‡dockerfile å»æ„å»ºé•œåƒ root@yourtreedad:/home/docker-test-volume# docker build -f /home/docker-test-volume/dockerfile1 -t kuangshen/centos:1.0 . å¯åŠ¨ä¸€ä¸‹è‡ªå·±çš„ç”Ÿæˆçš„å®¹å™¨\nroot@yourtreedad:/# docker images REPOSITORY TAG IMAGE ID CREATED SIZE tomcatupdate 1.0 ee149e8cdc20 5 hours ago 672MB portainer/portainer-ce latest 45be17a5903a 2 weeks ago 209MB nginx latest d1a364dc548d 2 weeks ago 133MB tomcat latest c43a65faae57 4 weeks ago 667MB mysql latest c0cdc95609f1 4 weeks ago 556MB portainer/portainer latest 580c0e4e98b0 2 months ago 79.1MB kuangshen/centos 1.0 f75a47123694 6 months ago 209MB root@yourtreedad:/# docker run -it f75a47123694 /bin/bash ä½†æ˜¯è¿™ä¸ªåœ°æ–¹æŠ¥é”™äº†ï¼Œå¥½è±¡æ˜¯è¯´ç°åœ¨çš„destination ä¸èƒ½ä¸ºç›¸å¯¹è·¯å¾„ docker: Error response from daemon: OCI runtime create failed: invalid mount {Destination:volume01 Type:bind Source:/var/lib/docker/volumes/67cb8e440bfc475a6b8e0f091779f2c56fed443d1ca4e6edd10ca37f37d09e05/_data Options:[rbind]}: mount destination volume01 not absolute: unknown. ERRO[0000] error waiting for container: context canceled æŸ¥çœ‹ä¸€ä¸‹å·æŒ‚è½½çš„è·¯å¾„\nimage-20210613192809990\ræµ‹è¯•ä¸€ä¸‹åˆšæ‰çš„æ–‡ä»¶æ˜¯å¦åŒæ­¥å‡ºå»äº†ï¼Œå¯ä»¥åœ¨å·é‡Œå†™ä¸ªæ–‡ä»¶ï¼Œåœ¨å®¿ä¸»æœºçš„æŒ‚è½½ä½ç½®å¤„æŸ¥çœ‹æ˜¯å¦æœ‰è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥è¾£\nè¿™ç§æ–¹å¼æˆ‘ä»¬æœªæ¥ä½¿ç”¨çš„ååˆ†å¤šï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸ä¼šæ„å»ºè‡ªå·±çš„é•œåƒï¼\nå‡è®¾æ„å»ºé•œåƒçš„æ—¶å€™æ²¡æœ‰æŒ‚è½½å·ï¼Œè¦æ‰‹åŠ¨é•œåƒæŒ‚è½½ -vå·åï¼šå®¹å™¨å†…è·¯å¾„\næ•°æ®å·å®¹å™¨ï¼šå¤šä¸ªå®¹å™¨ä¹‹é—´åŒæ­¥æ•°æ®\nä¸¤ä¸ªmysqlåŒæ­¥æ•°æ®ï¼\nä¸»ä»å¤åˆ¶ä¹‹ç±»çš„å°±å¯èƒ½ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯ ä½¿ç”¨ --volumes-from docker run -it --name docker02 --volumes-from docker01 centos docker run -it --name docker03 --volumes-from docker01 centos å¾ˆåƒç»§æ‰¿ å¯åŠ¨3ä¸ªå®¹å™¨ï¼Œé€šè¿‡æˆ‘ä»¬åˆšæ‰è‡ªå·±å†™çš„é•œåƒå¯åŠ¨ å¯åŠ¨å®Œäº†å°±æµ‹è¯•ï¼Œæµ‹è¯•çš„æ—¶å€™åœ¨ä¸»docker01ä¸­åˆ›å»ºæ–‡ä»¶çœ‹çœ‹docker0203ä¸­ä¼šä¸ä¼šæœ‰å°±å¥½äº†\nroot@yourtreedad:/# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES dfb328e8f37f centos \u0026#34;/bin/bash\u0026#34; 3 minutes ago Up 2 minutes docker03 5787d6ea92e4 centos \u0026#34;/bin/bash\u0026#34; 5 minutes ago Up 3 minutes docker02 c8ba46a34155 centos \u0026#34;/bin/bash\u0026#34; 13 minutes ago Up 12 minutes docker01 root@yourtreedad:/# docker attach c8ba46a34155 [root@c8ba46a34155 /]# cd bin [root@c8ba46a34155 bin]# cd bash bash: cd: bash: Not a directory [root@c8ba46a34155 bin]# cd .. [root@c8ba46a34155 /]# ls bin dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var [root@c8ba46a34155 /]# mkdir ceshi [root@c8ba46a34155 /]# ls bin ceshi dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var [root@c8ba46a34155 /]# cd ceshi [root@c8ba46a34155 ceshi]# ls [root@c8ba46a34155 ceshi]# touch ceshi.java [root@c8ba46a34155 ceshi]# ls ceshi.java [root@c8ba46a34155 ceshi]# cd .. [root@c8ba46a34155 /]# cd .. [root@c8ba46a34155 /]# exit exit æ²¡é—®é¢˜\noot@yourtreedad:/# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES dfb328e8f37f centos \u0026#34;/bin/bash\u0026#34; 6 minutes ago Up 6 minutes docker03 5787d6ea92e4 centos \u0026#34;/bin/bash\u0026#34; 8 minutes ago Up 7 minutes docker02 c8ba46a34155 centos \u0026#34;/bin/bash\u0026#34; 17 minutes ago Up 41 seconds docker01 root@yourtreedad:/# docker attach c8ba46a34155 [root@c8ba46a34155 /]# ls bin ceshi dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var [root@c8ba46a34155 /]# cd ceshi [root@c8ba46a34155 ceshi]# ls ceshi.java [root@c8ba46a34155 ceshi]# é—®é¢˜ï¼šå¦‚æœdocker01 åˆ é™¤äº†ï¼Œé‚£ä¹ˆæ•°æ®è¿˜æœ‰åœ¨docker02å’Œdocker03ä¸Šæœ‰å—\næœ‰çš„ï¼Œå®ƒæ˜¯ä¸€ç§æ‹·è´çš„æ¦‚å¿µ ï¼Œå¯èƒ½æ˜¯é“¾æ¥å§\nç»“è®ºï¼šå®¹å™¨ä¹‹é—´é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ä¸ºæ­¢\nä½†æ˜¯ä¸€æ—¦ä½ æŒä¹…åŒ–åˆ°äº†æœ¬åœ°ï¼Œé‚£ä¹ˆæ•°æ®å°±å¯ä»¥æŒä¹…åŒ–ä¿å­˜äº†ï¼Œæœ¬åœ°çš„æ•°æ®æ˜¯ä¸ä¼šåˆ é™¤çš„\ndockerfile\ndockerfileæ ¸å¿ƒæ˜¯ç”¨æ¥æ„å»ºdocker images çš„æ–‡ä»¶ï¼å‘½ä»¤å‚æ•°è„šæœ¬ï¼\næ„å»ºæ­¥éª¤ï¼š\n1.ç¼–å†™ä¸€ä¸ªdockerfileæ–‡ä»¶\n2.docker build æ„å»ºä¸€ä¸ªé•œåƒ\n3.docker run è¿è¡Œé•œåƒ\n4.docker push å‘å¸ƒé•œåƒï¼ˆdockerhub ã€ é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼‰\næŸ¥çœ‹ä¸€ä¸‹å®˜æ–¹æ˜¯æ€ä¹ˆåšçš„\nå¾ˆå¤šå®˜æ–¹é•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼Œå¾ˆå¤šåŠŸèƒ½æ²¡æœ‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè‡ªå·±æ­å»ºè‡ªå·±çš„é•œåƒï¼\nå®˜æ–¹æ—¢ç„¶å¯ä»¥åˆ¶ä½œé•œåƒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ï¼\ndockerfileæ„å»ºè¿‡ç¨‹\nå¾ˆå¤šæŒ‡ä»¤ï¼š\nåŸºç¡€çŸ¥è¯†ï¼š\n1.æ¯ä¸ªä¿ç•™å…³é”®å­—ï¼ˆæŒ‡ä»¤ï¼‰ éƒ½å¿…é¡»æ˜¯å¤§å†™å­—æ¯\n2.æ‰§è¡Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ\n3.#è¡¨ç¤ºæ³¨é‡Š\n4.æ¯ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤\ndockerfile æ˜¯é¢å‘å¼€å‘çš„ï¼Œæˆ‘ä»¬ä»¥åè¦å‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒï¼Œå°±éœ€è¦ç¼–å†™dockerfileæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•\ndocker é•œåƒ ä¾‹å¦‚æ„å»ºä¸€ä¸ªspringboot å¾®æœåŠ¡ é•œåƒ\ndockeré•œåƒä¸»é”®æˆä¸ºä¼ä¸šäº¤ä»˜çš„æ ‡å‡†ï¼Œå¿…é¡»è¦æŒæ¡\næ­¥éª¤ï¼šå¼€å‘è¿ç»´ä¸Šçº¿éƒ¨ç½²\ndockerfileï¼šæ„å»ºæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤ï¼Œæºä»£ç \ndockerimagesï¼šé€šè¿‡dockerfileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œè¿™å°±æ˜¯æœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“\ndockercontainerï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡çš„\ndockerfileçš„æŒ‡ä»¤ï¼š\nä»¥å‰çš„è¯æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨åˆ«äººçš„ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“äº†è¿™äº›æŒ‡ä»¤åï¼Œæˆ‘ä»¬æ¥ç»ƒä¹ è‡ªå·±å†™ä¸€ä¸ªé•œåƒï¼\nFROM åŸºç¡€é•œåƒ ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»º MAINTAINER é•œåƒæ˜¯è°å†™çš„ï¼Œæœ‰ä½ çš„å§“å+é‚®ç®± RUN dockeré•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ ADD æ­¥éª¤ï¼štomcaté•œåƒï¼Œè¿™ä¸ªtomcatå‹ç¼©åŒ…å‘å®šè¦è¢«æ·»åŠ è¿›å»å˜› WORKDIR é•œåƒçš„å·¥ä½œç›®å½• VOLUME å®¹å™¨å·ï¼Œè¦æŒ‚è½½çš„ç›®å½• EXPOSE æŒ‡å®šæš´éœ²ç«¯å£ CMD æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ ENTRYPOINT æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ çš„å‘½ä»¤ ONBUILD å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„dockerfileæ—¶å€™ å°±ä¼šè¿è¡ŒonbuildæŒ‡ä»¤ï¼Œè§¦å‘æŒ‡ä»¤ COPY ç±»ä¼¼ADD,å°†æˆ‘ä»¬çš„æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­ ENV\tæ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡ å®æˆ˜æµ‹è¯•ï¼\ndocker hub ä¸­ 99% éƒ½æ˜¯ä»è¿™ä¸ªåŸºç¡€é•œåƒè¿‡æ¥çš„ FROM scratch ï¼Œ ç„¶åé…ç½®éœ€è¦çš„è½¯ä»¶å’Œé…ç½®æ¥è¿›è¡Œçš„æ„å»º\nimage-20210613202655507\råˆ›å»ºä¸€ä¸ªè‡ªå·±çš„centos\nimage-20210613203001901\ré—®é¢˜ï¼švim clear ç­‰å‘½ä»¤éƒ½ä¸æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤é•œåƒçš„åŸºç¡€ä¸Šåœ¨åŠ ä¸€ç‚¹å®Œå–„ä¸€ä¸‹\n1.ç¼–å†™dockerdileçš„æ–‡ä»¶ root@yourtreedad:/# cd home root@yourtreedad:/home# ls docker-test-volume mysql nginx tomcat root@yourtreedad:/home# mkdir dockerfile root@yourtreedad:/home# ls docker-test-volume dockerfile mysql nginx tomcat root@yourtreedad:/home# cd dockerfile root@yourtreedad:/home/dockerfile# ls root@yourtreedad:/home/dockerfile# vim mydockerfile root@yourtreedad:/home/dockerfile# cat mydockerfile FROM centos MAINTAINER ljs\u0026lt;1018814650@qq.com\u0026gt; ENV MYPATH /uer/local WORKDIR $MYPATH RUN yum -y install vim RUN yum -y install clear RUM yum -y install net-tools EXPOSE 80 CMD echo $MYPATH CMD echo \u0026#34;-----end-----\u0026#34; CMD /bin/bash root@yourtreedad:/home/dockerfile# 2.é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ„å»ºé•œåƒ docker build -f dockerfileæ–‡ä»¶è·¯å¾„ -t é•œåƒåï¼š[tag] root@yourtreedad:/home/dockerfile# docker build -f mydockerfile -t mycentos:0.1 . [+] Building 2.2s (8/8) FINISHED =\u0026gt; [internal] load build definition from mydockerfile 0.0s =\u0026gt; =\u0026gt; transferring dockerfile: 245B 0.0s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; =\u0026gt; transferring context: 2B 0.0s =\u0026gt; [internal] load metadata for docker.io/library/centos:latest 0.0s =\u0026gt; [1/4] FROM docker.io/library/centos 0.0s =\u0026gt; CACHED [2/4] WORKDIR /uer/local 0.0s =\u0026gt; CACHED [3/4] RUN yum -y install vim 0.0s =\u0026gt; [4/4] RUN yum -y install net-tools 1.8s =\u0026gt; exporting to image 0.3s =\u0026gt; =\u0026gt; exporting layers 0.3s =\u0026gt; =\u0026gt; writing image sha256:2734e41a96b14a3e45a820363638a9f62dfd2c7d901757ea5e2a9ba25ababf50 0.0s =\u0026gt; =\u0026gt; naming to docker.io/library/mycentos:0.1\t3.æµ‹è¯• root@yourtreedad:/home/dockerfile# docker run -it --name mycentosdemo mycentos:0.1 [root@51e42c44c78d local]# pwd /uer/local [root@51e42c44c78d local]# ifconfig eth0: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1500 inet 172.17.0.4 netmask 255.255.0.0 broadcast 172.17.255.255 ether 02:42:ac:11:00:04 txqueuelen 0 (Ethernet) RX packets 9 bytes 726 (726.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 lo: flags=73\u0026lt;UP,LOOPBACK,RUNNING\u0026gt; mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 loop txqueuelen 1000 (Local Loopback) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 å¯¹æ¯”:ä¹‹å‰çš„åŸç”Ÿçš„centosï¼Œå·¥ä½œç›®å½•é»˜è®¤æ ¹ç›®å½•ï¼Œæ²¡æœ‰vim ifconfig å‘½ä»¤\nç°åœ¨ï¼šåŸºäºåŸç”Ÿcentosï¼Œæ·»åŠ äº†è¿™äº›å‘½ä»¤\næˆ‘ä»¬å¯ä»¥åˆ—å‡ºæœ¬åœ°é•œåƒçš„å˜æ›´å†å²\ndocker history imageId image-20210613204852480\ræ‰€ä»¥æˆ‘ä»¬å¹³æ—¶æ‹¿åˆ°ä¸€ä¸ªé•œåƒï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹ä»–æ˜¯æ€ä¹ˆåšçš„äº†\nCMD å’Œ ENTRYPOINT çš„åŒºåˆ«\nCMD æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ cmdçš„æƒ…å†µä¸‹ -l æ›¿æ¢äº†CMDçš„[\u0026#34;ls\u0026#34;,\u0026#34;-a\u0026#34;]å‘½ä»¤ï¼Œ-l ä¸æ˜¯å‘½ä»¤æ‰€ä»¥æŠ¥é”™ ENTRYPOINT æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ä½ ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤ image-20210613235037903\rimage-20210613235823435\rimage-20210613235940096\rä¸ä¼šæ›¿æ¢äººå®¶çš„å‘½ä»¤\næˆ‘ä»¬çš„è¿½åŠ å‘½ä»¤ï¼Œæ˜¯ç›´æ¥å‡­å€Ÿåœ¨æˆ‘ä»¬çš„ENTRYPOINT å‘½ä»¤çš„åé¢ï¼\ndockerfileä¸­å¾ˆå¤šå‘½ä»¤éƒ½ååˆ†ç›¸ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å¥¹ä»¬çš„åŒºåˆ«ï¼Œæˆ‘ä»¬æœ€å¥½çš„å­¦ä¹ å°±æ˜¯å¯¹æ¯”å¥¹ä»¬ç„¶åæµ‹è¯•æ•ˆæœ\nå®æˆ˜ï¼š\ntomcaté•œåƒ\n1.å‡†å¤‡é•œåƒæ–‡ä»¶ tomcatå‹ç¼©è¡¨ï¼Œjdkçš„å‹ç¼©åŒ…ï¼\nimage-20210614104621398\r2.ç¼–å†™dockerfileæ–‡ä»¶ ï¼Œ å®˜æ–¹å‘½åDockerfile ï¼Œbuildä¼šè‡ªåŠ¨å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¸éœ€è¦-f æŒ‡å®šäº†\nroot@yourtreedad:/home/kuangshen# cat Dockerfile FROM centos MAINTAINER ljs\u0026lt;1018814650@qq.com\u0026gt; COPY readme.txt /usr/local/readme.txt ADD jdk-8u291-linux-aarch64.tar.gz /usr/local/ ADD apache-tomcat-9.0.46.tar.gz /usr/local/ RUN yum -y install vim ENV MYPATH /usr/local WORKDIR $MYPATH ENV JAVA_HOME /usr/local/jdk1.8.0_291 ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.46 ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.46 ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin EXPOSE 8080 CMD /usr/local/apache-tomcat-9.0.46/bin/startup.sh \u0026amp;\u0026amp; tail -F /usr/local/apache-tomcat-9.0.46/bin/logs/catalina.out root@yourtreedad:/home/kuangshen# image-20210614112215796\r3.æ„å»ºé•œåƒ\nimage-20210614110353773\rroot@yourtreedad:/home/kuangshen# docker build -f Dockerfile -t diytomcat . [+] Building 0.1s (11/11) FINISHED =\u0026gt; [internal] load build definition from Dockerfile 0.0s =\u0026gt; =\u0026gt; transferring dockerfile: 670B 0.0s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; =\u0026gt; transferring context: 2B 0.0s =\u0026gt; [internal] load metadata for docker.io/library/centos:latest 0.0s =\u0026gt; [1/6] FROM docker.io/library/centos 0.0s =\u0026gt; [internal] load build context 0.0s =\u0026gt; =\u0026gt; transferring context: 130B 0.0s =\u0026gt; CACHED [2/6] COPY readme.txt /usr/local/readme.txt 0.0s =\u0026gt; CACHED [3/6] ADD jdk-8u291-linux-aarch64.tar.gz /usr/local/ 0.0s =\u0026gt; CACHED [4/6] ADD apache-tomcat-9.0.46.tar.gz /usr/local/ 0.0s =\u0026gt; CACHED [5/6] RUN yum -y install vim 0.0s =\u0026gt; CACHED [6/6] WORKDIR /usr/local 0.0s =\u0026gt; exporting to image 0.0s =\u0026gt; =\u0026gt; exporting layers 0.0s =\u0026gt; =\u0026gt; writing image sha256:d65fc7234bf254fb93a262a640dcfb543b6f4780fa36ef881bb9992d9705359f 0.0s =\u0026gt; =\u0026gt; naming to docker.io/library/diytomcat å¯åŠ¨å®¹å™¨ åˆ†é…ç«¯å£ ä½¿ç”¨æŒ‚è½½ æŒ‡å®šé•œåƒ root@yourtreedad:/home/kuangshen# docker run -d -p 9090:8080 --name kuangshendiytomcat -v /home/kuangshen/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/kuangshen/build/tomcat/tomcatlogs:/usr/local/apache-tomcat-9.0.46/logs diytomcat:1.0 image-20210614110934343\rroot@yourtreedad:/home/kuangshen# docker images REPOSITORY TAG IMAGE ID CREATED SIZE diytomcat latest d65fc7234bf2 4 hours ago 464MB mycentos 0.1 2734e41a96b1 20 hours ago 284MB tomcatupdate 1.0 ee149e8cdc20 28 hours ago 672MB portainer/portainer-ce latest 45be17a5903a 2 weeks ago 209MB nginx latest d1a364dc548d 2 weeks ago 133MB tomcat latest c43a65faae57 4 weeks ago 667MB mysql latest c0cdc95609f1 4 weeks ago 556MB portainer/portainer latest 580c0e4e98b0 2 months ago 79.1MB mycentosentrypointtest 1.0 5198b187e833 6 months ago 209MB mycentostest 1.0 be8cf7de8763 6 months ago 209MB kuangshen/centos 1.0 f75a47123694 6 months ago 209MB centos latest 300e315adb2f 6 months ago 209MB root@yourtreedad:/home/kuangshen# docker run --name diytomcat01 -d -p 9090:8080 -v /home/kuangshen/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/kuangshen/build/tomcat/tomcatlogs:/usr/local/apache-tomcat-9.0.46/logs diytomcat 174cd08dab23fce852cae1ac5e721c985b377d1ff85a1e769384cb9dd369bde0 è¿›å…¥å®¹å™¨æŸ¥çœ‹\nroot@yourtreedad:/home/kuangshen/build/tomcat# docker exec -it c7cff52b8760 /bin/bash è¿™é‡Œçš„bin/bashå°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°æˆ‘ä»¬è®¾å®šå¥½çš„usr/localç›®å½•ä¹‹ä¸‹ image-20210614111326218\r4.å¯åŠ¨é•œåƒ\n5.è®¿é—®æµ‹è¯•\n6.å‘å¸ƒé¡¹ç›®ï¼ˆç”±äºåšäº†å·æŒ‚è½½ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æœ¬åœ°ç¼–å†™é¡¹ç›®å°±å¯ä»¥ç›´æ¥å‘å¸ƒäº†ï¼ï¼‰\nå‘ç°é¡¹ç›®éƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼\næˆ‘ä»¬ä»¥åå¼€å‘çš„æ­¥éª¤ï¼šéœ€è¦æŒæ¡dockerfileçš„ç¼–å†™ï¼æˆ‘ä»¬ä¹‹åçš„ä¸€åˆ‡éƒ½æ˜¯ä½¿ç”¨dockeré•œåƒæ¥å‘å¸ƒè¿è¡Œï¼ï¼ï¼\nå‘å¸ƒé•œåƒ\ndockerhub\n1.åœ°å€ æ³¨å†Œè‡ªå·±çš„è´¦å·\n2.ç¡®å®šè¿™ä¸ªè´¦å·å¯ä»¥ç™»é™†\nimage-20210614162522282\r3.åœ¨æœåŠ¡å™¨ä¸Šæäº¤è‡ªå·±çš„é•œåƒ\nåœ¨æ­¤ä¹‹å‰éœ€è¦æ‰“tag\nroot@yourtreedad:/# docker tag --help Usage: docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG] Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE root@yourtreedad:/# docker tag tomcatupdate:1.0 yourtreedad/tomcatupdate:2.0 image-20210614165331722\rroot@yourtreedad:/# docker push yourtreedad/tomcateupdatehub:1.0 image-20210614165502602\ræäº¤çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰ç…§é•œåƒçš„å±‚çº§ä¸€å±‚ä¸€å±‚æäº¤çš„\nå¯ä»¥å‘å¸ƒåˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸Šå˜»å˜»\n1.ç™»é™†é˜¿é‡Œäº‘\n2.æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡\n3.åˆ›å»ºå‘½åç©ºé—´ ä¸ºäº†éš”ç¦»\nimage-20210614170103181\r4.åˆ›å»ºå®¹å™¨é•œåƒ\nimage-20210614170213918\r5.æµè§ˆé˜¿é‡Œäº‘\nimage-20210614170251978\rroot@yourtreedad:/# docker login --username=æŠŠä¹¦æå‡ºæ¥ registry.cn-hangzhou.aliyuncs.com Password: Login Succeeded\tç™»é™†\nroot@yourtreedad:/# docker tag ee149e8cdc20 registry.cn-hangzhou.aliyuncs.com/hfutie/yourtree-test:1.0 image-20210614171742651\rä¸Šä¼ \nroot@yourtreedad:/# docker push registry.cn-hangzhou.aliyuncs.com/hfutie/yourtree-test:1.0 image-20210614171949041\rimage-20210614172425553\rdockerå°ç»“\ndockerfile build\nimages tagã€run/push/pull/save/load\ncontainers stop/kill/start/restart/commit\ndockerrepository\nbackup.tar\nimage-20210614172933295\rç²¾é€šçš„è¯éœ€è¦å­¦ä¼šdockerç½‘ç»œï¼ˆé“ºå«ã€å®¹å™¨ç¼–æ’ã€é›†ç¾¤éƒ¨ç½²ï¼‰\ndockerç½‘ç»œ\nç†è§£dockerç½‘ç»œ docker0\næ¸…ç©ºæ‰€æœ‰ç¯å¢ƒ\næµ‹è¯•\nimage-20210614185814918\rå¥½å¤šä¸ªç½‘ç»œï¼Œdockeræ˜¯å¦‚ä½•å¤„ç†å®¹å™¨ç½‘ç»œè®¿é—®çš„ï¼Ÿ\nESä¹‹å‰çš„é—®é¢˜\nroot@yourtreedad:/# docker run -d -P --name tomcat01 tomcat æŸ¥çœ‹å®¹å™¨çš„å†…éƒ¨ç½‘ç»œåœ°å€ ip addr,å‘ç°å®¹å™¨å¯åŠ¨çš„æ—¶å€™ä¼šå¾—åˆ°ä¸€ä¸ªeth0@if22 ipåœ°å€ï¼Œdockeråˆ†é…çš„ root@yourtreedad:~# docker exec -it tomcat01 ip addr 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever 2: sit0@NONE: \u0026lt;NOARP\u0026gt; mtu 1480 qdisc noop state DOWN group default qlen 1000 link/sit 0.0.0.0 brd 0.0.0.0 21: eth0@if22: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc noqueue state UP group default link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0 valid_lft forever preferred_lft forever å‘ç°windowså¥½åƒpingä¸é€šå•Š linuxå¯ä»¥pingé€š dockerå®¹å™¨å†…éƒ¨ åŸç†\n192.168.0.1è·¯ç”±å™¨\n192.168.0.3 åŒä¸€ä¸ªç½‘æ®µæ˜¯èƒ½pingé€šçš„\n1.æˆ‘ä»¬æ¯å®‰è£…ä¸€ä¸ªdockerå®¹å™¨ ï¼Œ dockerå°±ä¼šç»™dockerå®¹å™¨åˆ†é…ä¸€ä¸ªipï¼Œæˆ‘ä»¬åªè¦å®‰è£…äº†dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç½‘å¡docker0ï¼Œï¼ˆwindows for dockerå¥½åƒå’©æœ‰ï¼‰ ï¼Œ æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨çš„æŠ€æœ¯æ˜¯evth-pairæŠ€æœ¯ï¼\nå†æ¬¡æµ‹è¯• ip addrä¹‹å\nimage-20210614190941605\rç½‘è¯¾é‡Œè¯´çš„æ˜¯åˆå¤šäº†ä¸€ä¸ªï¼Œä½†windowsä¸­æ²¡æœ‰å‘ç°\n2.åœ¨å¯åŠ¨ä¸€ä¸ªå®¹å™¨æµ‹è¯•\nç½‘è¯¾é‡Œè¯´çš„æ˜¯åˆå¤šäº†ä¸€ä¸ªï¼Œä½†windowsä¸­æ²¡æœ‰\nimage-20210614191119464\ræˆ‘ä»¬å‘ç°è¿™ä¸ªå®¹å™¨å¸¦æ¥çš„ç½‘å¡ï¼Œéƒ½æ˜¯ä¸€å¯¹ä¸€å¯¹çš„ veth-pair å°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œå¥¹ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸€ç«¯è¿ç€åè®®ï¼Œä¸€ç«¯å½¼æ­¤ç›¸è¿ æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§ æˆ‘ä»¬å°±ä½¿ç”¨veth-pair å……å½“ä¸€ä¸ªæ¡¥æ¢ï¼Œè¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„ OpenStacï¼ŒDockerå®¹å™¨ä¹‹é—´çš„é“¾æ¥ï¼ŒOVSçš„è¿æ¥ï¼Œéƒ½æ˜¯ä½¿ç”¨ veth-pairæŠ€æœ¯ 3.æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹tomca01 å’Œ tomcat02 æ˜¯å¦å¯ä»¥pingé€š\nimage-20210614194957533\råœ¨linuxä¸­ï¼Œtomcat01å’Œå®¿ä¸»æœºå’Œtomcat02å¯ä»¥ç›¸äº’pingé€š\nåœ¨windows for dockerä¸­ï¼Œtomcat01å’Œtomcat02å¯ä»¥é€šï¼Œä½†æ˜¯ä¸èƒ½å’Œå®¿ä¸»æœºpingé€š\nç»“è®ºï¼šå®¹å™¨å’Œå®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥äº’ç›¸pingé€šçš„\nåœ¨linuxä¸­ï¼Œtomcat01å’Œtomcat02æ˜¯å…±ç”¨çš„ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå³docker0\næ‰€æœ‰çš„å®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯docker0è·¯ç”±çš„ï¼Œdockerä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨IP\n0-255 A B C\n255.255.0.1/16 åŸŸ\n00000000.00000000.00000000.00000000\nå°ç»“\ndockerä½¿ç”¨çš„æ˜¯linuxæ¡¥æ¥ï¼Œå®¿ä¸»æœºä¸­æ˜¯ä¸€ä¸ªdockerå®¹å™¨çš„ç½‘æ¡¥ï¼Œdocker0\ndockerä¸­çš„æ‰€æœ‰çš„ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œè™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼å†…ç½‘ä¼ é€’æ–‡ä»¶ï¼\nåªè¦å®¹å™¨åˆ é™¤äº†ï¼Œå¯¹åº”çš„ç½‘æ¡¥å°±æ²¡äº†\n\u0026ndash;link\næ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œdatabase url = ipï¼š\né¡¹ç›®ä¸é‡å¯ï¼Œæ•°æ®åº“ipæ¢æ‰äº†ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åå­—æ¥è¿›è¡Œè®¿é—®å®¹å™¨ï¼Ÿ\nç›´æ¥pingæœåŠ¡åæ˜¯ä¸è¡Œçš„ root@yourtreedad:~# docker exec -it tomcat02 ping tomcat01 ping: tomcat01: Name or service not known è§£å†³ï¼Ÿ é€šè¿‡--link å°±å¯ä»¥è§£å†³äº†ç½‘ç»œè¿é€š root@yourtreedad:~# docker run -d --name tomcat03 --link tomcat02 tomcat 832afb5618b02262a5f9cbe48072941cc4784c009d0f91962b371c218afa31c0 root@yourtreedad:~# docker exec -it tomcat02 ping tomcat03 ping: tomcat03: Name or service not known root@yourtreedad:~# docker exec -it tomcat03 ping tomcat02 image-20210614200734188\ré»˜è®¤ç½‘å…³docker0 ï¼Œå°±æ˜¯è¿™é‡Œçš„172.17.0.1\nimage-20210614201015974\ræ¢ç©¶ï¼šinspect å®¹å™¨id\nimage-20210614201318560\rlinkçš„æœ¬è´¨ æŸ¥çœ‹hostsé…ç½®ï¼Œåœ¨è¿™é‡ŒåŸç†å‘ç° root@yourtreedad:~# docker exec -it tomcat03 cat /etc/hosts image-20210614201902916\r\u0026ndash;link å°±æ˜¯æˆ‘ä»¬åœ¨hostsé…ç½®ä¸­ï¼Œå¢åŠ äº†ä¸€ä¸ª172.18.0.3 tomcat02 çš„æ˜ å°„\nimage-20210614202018329\rç”±äº02æ²¡æœ‰ä½¿ç”¨\u0026ndash;linkï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä½¿ç”¨ æœåŠ¡åå­—æ¥è·³è½¬\nå®é™…ä¸Šå°±æ˜¯hostæ˜ å°„\næˆ‘ä»¬ç°åœ¨ä½¿ç”¨dockerå·²ç»ä¸å»ºè®®ä½¿ç”¨\u0026ndash;linkäº†ï¼\néœ€è¦è‡ªå®šä¹‰ç½‘ç»œï¼ä¸é€‚ç”¨docker0ï¼\ndocker0é—®é¢˜ï¼šä»–ä¸æ”¯æŒå®¹å™¨åè¿æ¥è®¿é—®ï¼\nè‡ªå®šä¹‰ç½‘ç»œ\nå®¹å™¨äº’è”ï¼š\næŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œ docker network ls image-20210614202322526\rç½‘ç»œæ¨¡å¼\nbridge ç½‘ç»œæ¡¥æ¥æ¨¡å¼ æ­æ¡¥ï¼šï¼ˆé»˜è®¤ï¼Œè‡ªå·±åˆ›å»ºçš„æ¨èä½¿ç”¨bridgeæ¨¡å¼ï¼‰\nnone ï¼šä¸é…ç½®ç½‘ç»œ\nhostï¼šå’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ\ncontainerï¼šå®¹å™¨å†…ç½‘ç»œè¿é€šï¼ï¼ˆç”¨å¾—å°‘ï¼Œå±€é™å¾ˆå¤§ï¼‰\næµ‹è¯•\næˆ‘ä»¬ç›´æ¥å¯åŠ¨çš„å‘½ä»¤ é»˜è®¤ï¼Œè¿™ä¸ªæˆ‘ä»¬çœ‹äº†å°±æ˜¯æˆ‘ä»¬çš„docker0 root@yourtreedad:~# docker run -d -P --name tomcat01 --net bridge tomcat å®é™…ä¸Šä¸å†™--netä¹Ÿæ˜¯é»˜è®¤çš„ docker0 ç‰¹ç‚¹ï¼Œé»˜è®¤ï¼ŒåŸŸåä¸èƒ½è®¿é—® --link å¯ä»¥æ‰“é€šè¿æ¥ï¼ æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç½‘ç»œï¼ image-20210614202926510\rimage-20210614203159484\råˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œ docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet æ¡¥æ¥ã€å­ç½‘ã€ç½‘å…³è®¾ç½® æˆ‘ä»¬è‡ªå·±çš„ç½‘ç»œå°±åˆ›å»ºå¥½äº†ï¼ image-20210614203427052\rä½¿ç”¨è‡ªå·±æ„å»ºçš„ç½‘ç»œæ¥åˆ›å»ºå®¹å™¨ï¼Œå¡è¿›å» root@yourtreedad:~# docker run -d -P --name tomcat-net-01 --net mynet tomcat 8d24df7fb899de77db6b600aedbfacc32fdd161836dd638b56666ca2014ff5bf root@yourtreedad:~# docker run -d -P --name tomcat-net-02 --net mynet tomcat eee0d29dbed8e780487fcc4bf93f1b3a9ab5ad8ffac194861a3c2ee948d8ea9e æŸ¥çœ‹ç½‘ç»œæƒ…å†µ root@yourtreedad:~# docker inspect mynet image-20210614203821209\rçœ‹çœ‹èƒ½ä¸èƒ½pingé€š\nç°åœ¨ä¸ä½¿ç”¨ --linkä¹Ÿå¯ä»¥pingåå­—äº†ï¼ root@yourtreedad:~# docker exec -it tomcat-net-01 ping 192.168.0.3 root@yourtreedad:~# docker exec -it tomcat-net-01 ping tomcat-net-02 æˆ‘ä»¬è‡ªå®šä¹‰çš„ç½‘ç»œdockeréƒ½å·²ç»å¸®æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”çš„å…³ç³»ï¼Œæ¨èæˆ‘ä»¬å¹³æ—¶è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼\nimage-20210614204033670\rå¥½å¤„ï¼š\nredis - ä¿è¯ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„ç½‘ç»œï¼Œä¿è¯é›†ç¾¤æ˜¯å®‰å…¨å’Œå¥åº·çš„\nmysql\nç½‘ç»œè¿é€š\næ²¡æœ‰ç¡®ä¿ä¸¤ä¸ªé›†ç¾¤ç½‘ç»œè¿é€šçš„æƒ…å†µä¸‹ ï¼Œ ä¸¤ä¸ªå­ç½‘æ˜¯æ— æ³•ç›¸è¿çš„\nimage-20210614204746483\ræ„å»ºä¸¤ä¸ªtomcat ä½†æ˜¯é»˜è®¤æ˜¯docker0ç½‘ç»œä¸‹çš„ root@yourtreedad:~# docker run -d -P --name tomcat01 tomcat 86e292de23f4c821375058608f49f6a5bbdcd0220a5c3e36999cafa86eb25f79 root@yourtreedad:~# docker run -d -P --name tomcat02 tomcat e45223474886d4f490ed66446c2eb1b7809b273c5b104fde27301d9746f4ebf6 è€Œtomcat-net-01æ˜¯åœ¨mynetä¸‹çš„ï¼Œæ‰€ä»¥è¿ä¸é€š root@yourtreedad:~# docker exec -it tomcat02 ping 192.168.0.3 ä¸èƒ½è®©docker0å’Œmynetè¿é€šï¼Œè¿™æ ·ä¸å®‰å…¨ï¼Œè¦å•ç‹¬è®©tomcat01 å’Œmynetè¿é€š å¦‚ä½•æ“ä½œ docker network connect æµ‹è¯•æ‰“é€š tomcat01 åˆ° mynet image-20210614205014081\rroot@yourtreedad:~# docker network connect mynet tomcat01 root@yourtreedad:~# docker network inspect mynet è¿é€šä¹‹åå°±æ˜¯å°†tomcat01 æ”¾ç½®åˆ°äº† mynet ç½‘ç»œä¸‹ï¼Ÿ ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªipåœ°å€ï¼ é˜¿é‡Œäº‘æœåŠ¡ï¼Œå…¬ç½‘ip å’Œ ç§ç½‘ip image-20210614205144180\rå†è¯•è¯•\nroot@yourtreedad:~# docker exec -it tomcat01 ping tomcat-net-01 0102å¥½åƒéƒ½å¯ä»¥æ‰“é€š\nimage-20210614205634156\rç»“è®ºï¼šå‡è®¾è¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨docker network connect è¿é€šï¼\nå®æˆ˜ï¼šéƒ¨ç½²redisé›†ç¾¤\nåˆ†ç‰‡+é«˜å¯ç”¨+è´Ÿè½½å‡è¡¡\nshellè„šæœ¬å»ºç«‹ï¼\n3ä¸»3ä»\n1.å»ºç«‹ç½‘ç»œ\nroot@yourtreedad:/# docker network create redisnet --subnet 172.38.0.0/16 root@yourtreedad:/# docker network ls root@yourtreedad:/# docker network inspect redisnet image-20210617192710761\r2.é€šè¿‡è„šæœ¬åˆ›å»ºå…­ä¸ªredisé…ç½®\nroot@yourtreedad:/# for port in $(seq 1 6); do mkdir -p /mydata/redis/node-${port}/conf touch /mydata/redis/node-${port}/conf/redis.conf cat \u0026lt;\u0026lt; EOF \u0026gt;\u0026gt;/mydata/redis/node-${port}/conf/redis.conf port 6379 bind 0.0.0.0 cluster-enabled yes cluster-config-file nodes.conf cluster-node-timeout 5000 cluster-announce-ip 172.38.0.1${port} cluster-announce-port 6379 cluster-announce-bus-port 16379 appendonly yes EOF done image-20210617194321734\rimage-20210617194434797\r3.æ‹‰å–é•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼Œåˆ†é…ç«¯å£ï¼Œæ•°æ®å·æ˜ å°„\nroot@yourtreedad:/# docker run -p 6371:6379 -p 16371:16379 --name redis-1 -v /mydata/redis/node-1/data:/data -v /mydata/redis/node-1/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.11 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf docker run -p 6372:6379 -p 16372:16379 --name redis-2 -v /mydata/redis/node-2/data:/data -v /mydata/redis/node-2/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.12 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf docker run -p 6373:6379 -p 16373:16379 --name redis-3 -v /mydata/redis/node-3/data:/data -v /mydata/redis/node-3/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.13 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf docker run -p 6374:6379 -p 16374:16379 --name redis-4 -v /mydata/redis/node-4/data:/data -v /mydata/redis/node-4/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.14 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf docker run -p 6375:6379 -p 16375:16379 --name redis-5 -v /mydata/redis/node-5/data:/data -v /mydata/redis/node-5/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.15 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf docker run -p 6376:6379 -p 16376:16379 --name redis-6 -v /mydata/redis/node-6/data:/data -v /mydata/redis/node-6/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.16 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf image-20210617200000188\rè¿›å…¥å®¹å™¨å†…éƒ¨\nroot@yourtreedad:/# docker exec -it redis-1 /bin/sh image-20210617200316068\rå»ºç«‹é›†ç¾¤ åˆ‡ç‰‡\n/data # redis-cli --cluster create 172.38.0.11:6379 172.38.0.12:6379 172.38.0.13:6379 172.38.0.14:6379 172.38.0.15:6379 172.38.0.16:6379 --clust er-replicas 1 image-20210617200738182\ræŸ¥çœ‹é›†ç¾¤ä¿¡æ¯\n/data # redis-cli -c 127.0.0.1:6379\u0026gt; cluster info 127.0.0.1:6379\u0026gt; cluster nodes 127.0.0.1:6379\u0026gt; set a b image-20210617201019736\ræµ‹è¯•ï¼Œåœæ‰ä¸€ä¸ªmasterä¸»æœºredisä¼šä¸ä¼šä½¿ç”¨å¤‡æœºæ¥é¡¶æ›¿ä¸»æœº\nroot@yourtreedad:/# docker stop redis-3 root@yourtreedad:/# docker exec -it redis-1 /bin/sh /data # redis-cli -c 127.0.0.1:6379\u0026gt; cluster info 127.0.0.1:6379\u0026gt; get a image-20210617201403193\rimage-20210617201528497\rdocker æ­å»º redisé›†ç¾¤å®Œæˆï¼\næˆ‘ä»¬ä½¿ç”¨äº†dockerä¹‹åï¼Œæ‰€æœ‰çš„æŠ€æœ¯éƒ½ä¼šæ…¢æ…¢å˜å¾—ç®€å•èµ·æ¥\nspringboot å¾®æœåŠ¡æ‰“åŒ…dockeré•œåƒ\n1.æ¶æ„springbooté¡¹ç›®\n2.æ‰“åŒ…åº”ç”¨\n3.ç¼–å†™dockerfile\n4.æ„å»ºé•œåƒ\n5.å‘å¸ƒè¿è¡Œï¼\nimage-20210617204707930\rimage-20210617204834101\rcmdæµ‹è¯•\nimage-20210617204915044\rimage-20210617213140315\rå›åˆ°ideaä¸­ç¼–å†™dockerfile\nimage-20210617224102830\rå¼„å¥½ä¹‹åè¿æ¥linux ï¼Œ å§windowsä¸Šçš„dockerfileå’ŒjaråŒ…ä¼ åˆ°linuxæœåŠ¡å™¨ä¸Šï¼Œéœ€è¦ä½¿ç”¨filezillaè½¯ä»¶ä¼ è¾“\nlinuxæœåŠ¡å™¨ipåœ°å€æŒ‡ä»¤ ifconfig\nimage-20210617213836333\råˆ‡æ¢ç”¨æˆ·\næŠŠæ–‡ä»¶ä¼ åˆ°linuxä¸Š\nimage-20210617221920977\rå‘æ­»äº† ENTRYPOINT ä¸[]ä¹‹é—´æœ‰ä¸ªæ‰“ç©ºæ ¼\né€šè¿‡build æ„å»ºé•œåƒ\nroot@yourtreedad:/home/idea# docker build -f Dockerfile -t kuangshen666 . image-20210617224515040\ræµ‹è¯•\nroot@yourtreedad:/home/idea# docker run -d --name kuangshen-springboot-web -P kuangshen666 root@yourtreedad:/home/idea# curl localhost:49158/hello image-20210617225833450\rimage-20210617230044609\rä»¥åæˆ‘ä»¬ä½¿ç”¨äº†Dockerä¹‹åï¼Œç»™åˆ«äººäº¤ä»˜çš„å°±æ˜¯ä¸€ä¸ªé•œåƒå³å¯\né¢„å‘Šï¼šå¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šé•œåƒï¼Ÿ100ä¸ª\nè¿˜è¦å­¦\nDocker Compost\nDocker Swarm\nK8s\nCI/CD ä¹‹ Jenkins\nå°è¯•åŸºäºECSå¿«é€Ÿæ­å»ºdockerç¯å¢ƒ\nimage-20210618223452399\rimage-20210618223539027\rimage-20210618223624125\rimage-20210618223650264\rECSäº‘æœåŠ¡å™¨æ–°æ‰‹ä¸Šè·¯\nimage-20210619103343896\rimage-20210619103400085\rimage-20210619103431630\rä¸‹é¢å°è¯•éƒ¨ç½²äº†ä¸€ä¸‹ç»§æ©çš„vueå’Œnginx\nnginxä½¿ç”¨æŒ‚è½½çš„æ–¹å¼-v æ¥å®ç°å¯¹å®¹å™¨å†…éƒ¨nginxé…ç½®æ–‡ä»¶çš„æ›¿æ¢ï¼Œ\nåˆ©ç”¨docker cp æ¥æŠŠdistæ–‡ä»¶æ‹·è´è¿›å»\nä½¿ç”¨-p çš„æ–¹å¼æ›¿æ¢ç«¯å£\nroot@yourtreedad:~# docker pull nginx Using default tag: latest latest: Pulling from library/nginx b4d181a07f80: Already exists 66b1c490df3f: Pull complete d0f91ae9b44c: Pull complete baf987068537: Pull complete 6bbc76cbebeb: Pull complete 32b766478bc2: Pull complete Digest: sha256:353c20f74d9b6aee359f30e8e4f69c3d7eaea2f610681c4a95849a2fd7c497f9 Status: Downloaded newer image for nginx:latest docker.io/library/nginx:latest root@yourtreedad:~# root@yourtreedad:~# docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx latest 4cdc5dd7eaad 10 days ago 133MB yourtreedad/blazordemo latest aa1397c0af05 2 weeks ago 207MB mysql latest 5c62e459e087 3 weeks ago 556MB root@yourtreedad:~# cd .. root@yourtreedad:/# pwd / root@yourtreedad:/# cd home root@yourtreedad:/home# ls blazortest haierDemo ljs mvcwindowstest nginx tomcat consoletest1 kuangshen mvctest mysql nginxdemo webapitest root@yourtreedad:/home# cd nginxdemo root@yourtreedad:/home/nginxdemo# ls nginx-1.14.2 nginx-1.14.2.zip root@yourtreedad:/home/nginxdemo# cd nginx-1.14.2 root@yourtreedad:/home/nginxdemo/nginx-1.14.2# ls conf contrib dist docs html logs nginx.exe temp root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker run --name nginxdemo2 -p 8889:8765 -v /home/nginxdemo/nginx-1 .14.2/conf/myconf1.conf:/etc/nginx/nginx.conf:ro -d nginx 6bed1ace8c9942f62e61ea18f7f632973fa1d7536ac3a6d1ada11e3d2c093b6e root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker cp /home/nginxdemo/nginx-1.14.2/dist 6bed1ace8c9942f62e:/etc/nginx root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker exec -it 6bed1ace8c9942f62e61ea18f7f632973fa1d7536ac3a6d1ada11e3d2c093b6e /bin/bash ls ls root@6bed1ace8c99:/# ls bin docker-entrypoint.d home media proc sbin tmp boot docker-entrypoint.sh lib mnt root srv usr dev etc lib64 opt run sys var root@6bed1ace8c99:/# cd /etc root@6bed1ace8c99:/etc# cd nginx root@6bed1ace8c99:/etc/nginx# ls conf.d dist fastcgi_params mime.types modules nginx.conf scgi_params uwsgi_params root@6bed1ace8c99:/etc/nginx# cat nginx.conf #user nobody; c553c6ba5f13: Pushed #error_log logs/error.log; #error_log logs/error.log notice; Head https://registry-1.docker.io/v2/yourtreedad/nginxcontaindist/blobs/sha256:4d7903a7ce4bdf92461e0dd87d1fb712facb6881df3cbce68f55f4ec54791546: dial tcp: lookup registry-1.docker.io on 192.168.65.5:53: no such host root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; # \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; # \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; #access_log logs/access.log main; # server { # listen 8765; # listen localhost; # location / { # root dist; # index index.html index.htm; # } # } sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 8765; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root dist; index index.html index.htm; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} 67f2e8eb8c87: Pushing [\u0026gt; ] 77.82kB/4.758MB # concurs with nginx\u0026#39;s one # #location ~ /\\.ht { # deny all; #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #} } root@6bed1ace8c99:/etc/nginx# exit exit root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker commit -a=\u0026#34;yourtreedad\u0026#34; -m=\u0026#34;jien\u0026#39;s ui add ljs\u0026#39;s deploy new nginx that contains dist\u0026#34; 6bed1ace8c nginx:1.0 sha256:4d7903a7ce4bdf92461e0dd87d1fb712facb6881df3cbce68f55f4ec54791546 root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker push yourtreedad/nginx:1.0 The push refers to repository [docker.io/yourtreedad/nginx] An image does not exist locally with the tag: yourtreedad/nginx root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker tag nginx:1.0 yourtreedad/nginxcontaindist:1.0 root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker push yourtreedad/nginxcontaindist:1.0 The push refers to repository [docker.io/yourtreedad/nginxcontaindist] 67f2e8eb8c87: Preparing 9d1af766c818: Preparing d97733c0a3b6: Preparing c553c6ba5f13: Preparing 48b4a40de359: Preparing ace9ed9bcfaf: Waiting 764055ebc9a7: Waiting è¿™æ˜¯éƒ¨ç½²åœ¨æœ¬åœ° ï¼Œ ç°åœ¨å¼€å§‹æ¼”ç¤ºéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š\nimage-20210718003213326\ré€šè¿‡sshæŠŠé…ç½®æ–‡ä»¶ä¼ è¿›å»\nimage-20210718003244110\rä»dockerhubä¸Šæ‹‰å–é•œåƒ\nimage-20210718003546820\rimage-20210718003653954\rhttp://47.106.218.61:8888/\n","date":"2021-07-26T00:23:34+08:00","permalink":"https://linjianshu.github.io/p/docker-learning/","title":"Docker Learning"},{"content":"Gitå­¦ä¹ æ–‡æ¡£ å­¦ä¹ gitä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ˜ç™½ä¸€ä¸ªæ¦‚å¿µï¼Œç‰ˆæœ¬æ§åˆ¶ï¼\nç‰ˆæœ¬æ§åˆ¶ ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶ ç‰ˆæœ¬è¿­ä»£ ç‰ˆæœ¬ç®¡ç†å™¨\nç‰ˆæœ¬æ§åˆ¶ï¼ˆrevision controlï¼‰æ˜¯ä¸€ç§åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æˆ‘ä»¬å¯¹æ–‡ä»¶ã€ç›®å½•æˆ–å·¥ç¨‹ç­‰å†…å®¹çš„ä¿®æ”¹å†å²ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ›´æ”¹å†å²è®°å½•ï¼Œå¤‡ä»½ä¸€éæ¢å¤ä»¥å‰çš„ç‰ˆæœ¬çš„è½¯ä»¶å·¥ç¨‹æŠ€æœ¯ã€‚\nå®ç°è·¨åŒºåŸŸå¤šäººååŒå¼€å‘ è¿½è¸ªå’Œè®°è½½ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶çš„å†å²è®°å½• ç»„ç»‡å’Œä¿æŠ¤ä½ çš„æºä»£ç å’Œæ–‡æ¡£ ç»Ÿè®¡å·¥ä½œé‡ å¹¶è¡Œå¼€å‘ã€æé«˜å¼€å‘æ•ˆç‡ è·Ÿè¸ªè®°å½•æ•´ä¸ªè½¯ä»¶çš„å¼€å‘è¿‡ç¨‹ å‡è½»å¼€å‘äººå‘˜çš„è´Ÿæ‹…ï¼ŒèŠ‚çœæ—¶é—´ï¼ŒåŒæ—¶é™ä½äººä¸ºé”™è¯¯ ç®€å•è¯´å°±æ˜¯ç”¨äºç®¡ç†å¤šäººååŒå¼€å‘é¡¹ç›®çš„æŠ€æœ¯ã€‚\næ²¡æœ‰è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æˆ–è€…ç‰ˆæœ¬æ§åˆ¶æœ¬èº«ç¼ºä¹æ­£ç¡®çš„æµç¨‹ç®¡ç†ï¼Œåœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å°†å¼•å…¥å¾ˆå¤šé—®é¢˜ï¼Œå¦‚å…³é”®ä»£ç çš„å†—ä½™ï¼Œè½¯ä»¶è¿‡ç¨‹çš„äº‹ç‰©æ€§ï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„å¹¶å‘æ€§ã€è½¯ä»¶æºä»£ç çš„å®‰å…¨æ€§ï¼Œä»¥åŠè½¯ä»¶çš„æ•´åˆç­‰é—®é¢˜ã€‚\nå¤šäººå¼€å‘å°±å¿…é¡»è¦ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼Œå¦åˆ™ä»£ä»·æ¯”è¾ƒå¤§\nå¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·\nä¸»æµçš„ç‰ˆæœ¬æ§åˆ¶å™¨æœ‰å¦‚ä¸‹è¿™äº›ï¼š\nGit SVN(subversion) CVS(concurrent versions system) VSS(Microsoft Visual SourceSafe) TFS(team Foundation Server) Visual Studio Online ç‰ˆæœ¬æ§åˆ¶äº§å“éå¸¸çš„å¤šï¼ˆpreforce ã€ rational clearcase ã€ rcs ã€serena dimention ã€ svk ã€bitkeeperã€ monotone ã€ bazaar ã€ mercurial ã€ sourcegear vaultï¼‰ï¼Œç°åœ¨å½±å“åŠ›æœ€å¤§ä¸”ä½¿ç”¨æœ€å¹¿æ³›çš„æ˜¯gitå’Œsvn\nç‰ˆæœ¬æ§åˆ¶åˆ†ç±»\næœ¬åœ°ç‰ˆæœ¬æ§åˆ¶\nè®°å½•æ–‡ä»¶æ¯æ¬¡çš„æ›´æ–°ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰ˆæœ¬åšä¸€ä¸ªå¿«ç…§ï¼Œæˆ–è€…è®°å½•è¡¥ä¸æ–‡ä»¶ï¼Œé€‚åˆä¸ªäººç”¨ï¼Œå¦‚RCS\nimage-20210722211743148\ré›†ä¸­ç‰ˆæœ¬æ§åˆ¶\næ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼ŒååŒå¼€å‘è€…ä»æœåŠ¡å™¨ä¸ŠåŒæ­¥æ›´æ–°æˆ–ä¸Šä¼ è‡ªå·±çš„ä¿®æ”¹\nimage-20210722211927845\ræ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·çš„æœ¬åœ°åªæœ‰è‡ªå·±ä»¥å‰æ‰€åŒæ­¥çš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸è¿ç½‘çš„è¯ï¼Œç”¨æˆ·å°±çœ‹ä¸åˆ°å†å²ç‰ˆæœ¬ï¼Œä¹Ÿæ— æ³•åˆ‡æ¢ç‰ˆæœ¬éªŒè¯é—®é¢˜ï¼Œæˆ–åœ¨ä¸åŒåˆ†æ”¯å·¥ä½œã€‚è€Œä¸”ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å•ä¸€çš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰å¾ˆå¤§é£é™©è¿™ä¸ªæœåŠ¡å™¨ä¼šæŸåï¼Œè¿™æ ·å°±ä¼šä¸¢å¤±æ‰€æœ‰çš„æ•°æ®ï¼Œå½“ç„¶å¯ä»¥å®šæœŸå¤‡ä»½ã€‚ä»£è¡¨äº§å“æœ‰ï¼šSVNã€CVSã€VSS\nåˆ†å¸ƒç‰ˆæœ¬æ§åˆ¶ â€œGITâ€\næ¯ä¸ªäººéƒ½æ‹¥æœ‰å…¨éƒ¨çš„ä»£ç  å®‰å…¨éšæ‚£\næ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ä»“åº“å…¨éƒ¨åŒæ­¥åˆ°æœ¬åœ°çš„æ¯ä¸ªç”¨æˆ·ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æœ¬åœ°æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œå¯ä»¥ç¦»çº¿åœ¨æœ¬åœ°æäº¤ï¼Œåªéœ€åœ¨è¿ç½‘æ—¶pushåˆ°ç›¸åº”çš„æœåŠ¡å™¨æˆ–å…¶ä»–ç”¨æˆ·é‚£é‡Œã€‚ç”±äºæ¯ä¸ªç”¨æˆ·é‚£é‡Œä¿å­˜çš„éƒ½æ˜¯æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œåªè¦æœ‰ä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡æ²¡æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥æ¢å¤æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¿™å¢åŠ äº†æœ¬åœ°å­˜å‚¨ç©ºé—´çš„å ç”¨\nä¸ä¼šå› ä¸ºæœåŠ¡å™¨æŸåæˆ–è€…ç½‘ç»œé—®é¢˜ï¼Œé€ æˆä¸èƒ½å·¥ä½œçš„æƒ…å†µï¼\nimage-20210722212449100\rgitå’Œsvnæœ€ä¸»è¦åŒºåˆ«\nsvnæ˜¯é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå·¥ä½œçš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€æœ‰é¦–å…ˆè¦ä»ä¸­å¤®æœåŠ¡å™¨å¾—åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå·¥ä½œï¼Œå®Œæˆå·¥ä½œåï¼Œéœ€è¦å§è‡ªå·±åšå®Œçš„æ¨é€åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶æ˜¯å¿…é¡»è¿ç½‘æ‰èƒ½å·¥ä½œï¼Œå¯¹ç½‘ç»œå¸¦å®½è¦æ±‚è¾ƒé«˜ã€‚\ngitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ²¡æœ‰ä¸­å¤®æœåŠ¡å™¨ï¼Œæ¯ä¸ªäººçš„ç”µè„‘å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œå·¥ä½œçš„æ—¶å€™ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬éƒ½åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šï¼ŒååŒçš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šæ¯”å¦‚è¯´è‡ªå·±åœ¨ç”µè„‘ä¸Šä¿®æ”¹äº†æ–‡ä»¶Aï¼Œå…¶ä»–äººä¹Ÿåœ¨ç”µè„‘ä¸Šä¿®æ”¹äº†æ–‡ä»¶Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¿©ä¹‹é—´åªéœ€è¦å§å„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥ç›¸äº’çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚gitå¯ä»¥ç›´æ¥çœ‹åˆ°æ›´æ–°äº†é‚£äº›ä»£ç å’Œæ–‡ä»¶ï¼ï¼\nGitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚\nèŠèŠgitçš„å†å² åŒç”Ÿæ´»ä¸­çš„è®¸å¤šä¼Ÿå¤§äº‹ç‰©ä¸€æ ·ï¼Œgitè¯ç”Ÿäºä¸€ä¸ªæå¯Œçº·äº‰å¤§ä¸¾åˆ›æ–°çš„æ—¶ä»£ã€‚\nlinuxå†…æ ¸å¼€æºé¡¹ç›®æœ‰ç€ä¸ºæ•°ä¼—å¤šçš„å‚ä¸è€…ï¼Œç»å¤§å¤šæ•°çš„linuxå†…æ ¸ç»´æŠ¤å·¥ä½œéƒ½èŠ±åœ¨äº†æäº¤è¡¥ä¸å’Œä¿å­˜å½’æ¡£çš„ç¹çäº‹åŠ¡ä¸Š1991-2002å¹´ï¼Œåˆ°äº†2002å¹´ï¼Œæ•´ä¸ªé¡¹ç›®ç»„å¼€å§‹å¯ç”¨ä¸€ä¸ªä¸“æœ‰çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿbitkeeperæ¥ç®¡ç†å’Œç»´æŠ¤ä»£ç ã€‚\nåˆ°äº†2005å¹´ï¼Œå¼€å‘bitkeeperçš„å•†ä¸šå…¬å¸é€šlinuxå†…æ ¸å¼€æºç¤¾åŒºçš„åˆä½œå…³ç³»ç»“æŸï¼Œå¥¹ä»¬æ”¶å›äº†linuxå†…æ ¸ç¤¾åŒºå…è´¹ä½¿ç”¨bitkeeperçš„æƒåŠ›ã€‚è¿™å°±è¿«ä½¿linuxå¼€æºç¤¾åŒºï¼ˆç‰¹åˆ«æ˜¯linuxçš„ç¼”é€ è€…linux torvaldsï¼‰åŸºäºä½¿ç”¨bitkeeperæ—¶çš„ç»éªŒæ•™è®­ï¼Œå¼€å‘å‡ºäº†è‡ªå·±çš„ç‰ˆæœ¬ç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯åæ¥çš„gitï¼\ngitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚\ngitå¼€æºã€å…è´¹ï¼Œæœ€åˆgitæ˜¯ä¸ºäº†è¾…åŠ©linuxå†…æ ¸å¼€å‘çš„ï¼Œæ¥æ›¿ä»£bitkeeperã€‚\ngitç¯å¢ƒé…ç½® è½¯ä»¶ä¸‹è½½\næ‰“å¼€gitï¼Œä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬\næ‰€æœ‰ä¸œè¥¿ä¸‹è½½æ…¢çš„è¯å°±å»æ‰¾é•œåƒï¼\nå®˜ç½‘ä¸‹è½½å¤ªæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒä¸‹è½½\nå¸è½½\nç›´æ¥åå®‰è£…ã€ç„¶åæ¸…ç†ç¯å¢ƒå˜é‡\nå®‰è£…ï¼Œæ— è„‘å®‰è£…\ngit bash ï¼š unixä¸linuxé£æ ¼çš„å‘½ä»¤è¡Œï¼Œä½¿ç”¨æœ€å¤šï¼Œæ¨èæœ€å¤š\ngit cmd ï¼š windowsé£æ ¼çš„å‘½ä»¤è¡Œ\ngit gui ï¼š å›¾å½¢ç•Œé¢çš„git ï¼Œ ä¸å»ºè®®åˆå­¦è€…ä½¿ç”¨ï¼Œå°½é‡å…ˆç†Ÿæ‚‰å¸¸ç”¨å‘½ä»¤\nåŸºæœ¬çš„linuxå‘½ä»¤å­¦ä¹ \ncdï¼š æ”¹å˜ç›®å½• cd .. å›é€€åˆ°ä¸Šä¸€ä¸ªç›®å½•ï¼Œç›´æ¥cdè¿›é»˜è®¤ç›®å½• pwd æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ ls ï¼ˆllï¼‰ åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªä¸è¿‡llåˆ—å‡ºçš„å†…å®¹æ›´ä¸ºè¯¦ç»† touch æ–°å»ºä¸€ä¸ªæ–‡ä»¶ rm åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ mkdir æ–°å»ºä¸€ä¸ªç›®å½• ï¼Œ å°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ rm - r åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ rm-r src å°±æ˜¯åˆ é™¤srcç›®å½• mv ç§»åŠ¨æ–‡ä»¶ reset é‡æ–°åˆå§‹åŒ–ç»ˆç«¯ã€æ¸…å± clearæ¸…å± historyæŸ¥çœ‹å‘½ä»¤å†å² helpå¸®åŠ© exit é€€å‡º #\u0026rsquo;\u0026rsquo; è¡¨ç¤ºæ³¨é‡Š å¹³æ—¶ä¸€å®šè¦å¤šä½¿ç”¨è¿™äº›å‘½ä»¤\ngité…ç½®\næ‰€æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œå…¶å®éƒ½ä¿å­˜åœ¨æœ¬åœ°ï¼\næŸ¥çœ‹é…ç½® git config -l\nimage-20210722223828219\rç”¨æˆ·åæ˜¯å¿…é¡»è¦æœ‰çš„\ngitç›¸å…³çš„é…ç½®æ–‡ä»¶\ngit\\etc\\gitconfig: git å®‰è£…ç›®å½•ä¸‹çš„gitconfig \u0026ndash;systemç³»ç»Ÿçº§ users\\administrator.gitconfig åªé€‚ç”¨äºå½“å‰ç™»é™†ç”¨æˆ·çš„é…ç½® \u0026ndash;globalå…¨å±€ è¿™é‡Œå¯ä»¥ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤è®¾ç½®åä¼šå“åº”åˆ°è¿™é‡Œ è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ã€å¿…è¦ï¼‰\ngit config \u0026ndash;global user.name \u0026ldquo;linjianshu\u0026rdquo;\ngit config \u0026ndash;global user.email 1018814650@qq.com\nGitåŸºæœ¬ç†è®ºï¼ˆæ ¸å¿ƒï¼‰ å·¥ä½œåŒºåŸŸ\ngitæœ¬åœ°æœ‰ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆworking directoryï¼‰ã€æš‚å­˜åŒºï¼ˆstage/indexï¼‰ã€èµ„æºåº“ï¼ˆrepositoryæˆ–Git Directoryï¼‰ã€‚å¦‚æœåœ¨åŠ ä¸Šè¿œç¨‹çš„gitä»“åº“ï¼ˆRemote Directoryï¼‰å°±å¯ä»¥åˆ†ä¸ºå››ä¸ªå·¥ä½œåŒºåŸŸã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸè´¨æ£€çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š\nimage-20210722235632313\rworkspaceï¼šå·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹ stageï¼šæš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ historyï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤çš„æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥çš„ç‰ˆæœ¬ remoteï¼šè¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢æœ¬åœ°çš„ä¸‰ä¸ªåŒºåŸŸç¡®åˆ‡çš„è¯´åº”è¯¥æ˜¯gitä¸­HEADæŒ‡å‘çš„ç‰ˆæœ¬ master ä¸»åˆ†æ”¯\nimage-20210723000244325\rdirectory ï¼š ä½¿ç”¨gitç®¡ç†çš„ä¸€ä¸ªç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä»“åº“ï¼ŒåŒ…å«æˆ‘ä»¬çš„å·¥ä½œç©ºé—´å’Œgitçš„ç®¡ç†ç©ºé—´ã€‚ workspaceï¼šéœ€è¦é€šè¿‡gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œè¿™äº›ç›®å½•å’Œæ–‡ä»¶ç»„æˆäº†å·¥ä½œç©ºé—´ .gitï¼š å­˜æ”¾gitç®¡ç†ä¿¡æ¯çš„ç›®å½•ï¼Œåˆå§‹åŒ–ä»“åº“çš„æ—¶å€™è‡ªåŠ¨åˆ›å»º index/stageï¼š æš‚å­˜åŒºï¼Œæˆ–è€…å«å¾…æäº¤æ›´æ–°åŒºï¼Œåœ¨æäº¤è¿›å…¥repoä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„æ›´æ–°æ”¾åœ¨æš‚å­˜åŒºã€‚ local repoï¼šæœ¬åœ°ä»“åº“ï¼Œä¸€ä¸ªå­˜æ”¾åœ¨æœ¬åœ°çš„ç‰ˆæœ¬åº“ï¼›HEADä¼šåªæ˜¯å½“å‰çš„å¼€å‘åˆ†æ”¯(branch) Stashï¼šéšè—ï¼Œæ˜¯ä¸€ä¸ªå·¥ä½œçŠ¶æ€ä¿å­˜æ ˆï¼Œç”¨äºä¿å­˜/æ¢å¤ WorkSpaceä¸­çš„ä¸´æ—¶çŠ¶æ€ã€‚ å·¥ä½œæµç¨‹\ngitçš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„:\nåœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ï¼› å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºåŸŸï¼› å°†æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“ å› æ­¤ï¼Œgitç®¡ç†çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹(modified) , å·²æš‚å­˜(staged) , å·²æäº¤(committed)\nimage-20210723000906476\rgit add .\ngit commit\ngit push\ngité¡¹ç›®æ­å»º åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤\nå·¥ä½œç›®å½•ï¼ˆworkspaceï¼‰ä¸€èˆ¬å°±æ˜¯ä½ å¸Œæœ›gitå¸®åŠ©ä½ ç®¡ç†çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ˜¯ä½ é¡¹ç›®çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç©ºç›®å½•ï¼Œå»ºè®®ä¸è¦æœ‰ä¸­æ–‡ã€‚\næ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä¸‹å›¾6ä¸ªå‘½ä»¤ï¼š\nimage-20210723232353522\ræœ¬åœ°ä»“åº“æ­å»º\nåˆ›å»ºæœ¬åœ°ä»“åº“çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œå¦ä¸€ç§æ˜¯å…‹éš†è¿œç¨‹ä»“åº“\n1.åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨gitç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š\n# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªgitä»£ç åº“ $ git init 2.æ‰§è¡Œåå¯ä»¥çœ‹åˆ°ï¼Œä»…ä»…åœ¨é¡¹ç›®ç›®å½•å¤šå‡ºäº†ä¸€ä¸ª.gitç›®å½•ï¼Œå…³äºç‰ˆæœ¬ç­‰çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ã€‚\nå…‹éš†è¿œç¨‹ä»“åº“\n1.å¦ä¸€ç§æ–¹å¼æ˜¯å…‹éš†è¿œç¨‹ç›®å½•ï¼Œç”±äºæ˜¯å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å®Œå…¨é•œåƒä¸€ä»½è‡³æœ¬åœ°ï¼\n# å…‹éš†ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²ï¼ˆç‰ˆæœ¬ä¿¡æ¯ï¼‰ git clone [url] 2.å»giteeæˆ–è€…githubä¸Šå…‹éš†ä¸€ä¸ªè¯•è¯•çœ‹\nimage-20210724000439421\rgitæ–‡ä»¶æ“ä½œ æ–‡ä»¶4ç§çŠ¶æ€\nç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨è¿˜ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Šã€‚\nuntrackedï¼šæœªè·Ÿè¸ªï¼Œæ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“ï¼Œä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶ï¼Œé€šè¿‡ git add çŠ¶æ€å˜ä¸ºstaged unmodifyï¼šæ–‡ä»¶å·²ç»å…¥åº“ï¼Œæœªä¿®æ”¹ï¼Œå³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´ï¼Œè¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„ï¼Œå¦‚æœå®ƒè¢«ä¿®æ”¹ï¼Œè€Œå˜ä¸ºmodified ï¼Œ å¦‚æœä½¿ç”¨ git rm ç§»å‡ºç‰ˆæœ¬åº“ï¼Œåˆ™æˆä¸ºuntrackedæ–‡ä»¶ modifiedï¼šæ–‡ä»¶å·²ä¿®æ”¹ï¼Œä»…ä»…æ˜¯ä¿®æ”¹ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„ï¼Œé€šè¿‡git add å¯è¿›å…¥æš‚å­˜staggedçŠ¶æ€ï¼Œä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡ï¼Œè¿”å›åˆ°unmodifiyçŠ¶æ€ï¼Œè¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶ï¼Œè¦†ç›–å½“å‰ä¿®æ”¹ï¼ stagedï¼šæš‚å­˜çŠ¶æ€ï¼Œ æ‰§è¡Œgit commitï¼Œåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´ï¼Œæ–‡ä»¶ä¸ºunmodifyçŠ¶æ€ï¼Œæ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜ï¼Œæ–‡ä»¶çŠ¶æ€ä¸ºmodified image-20210724001457370\rimage-20210724001837514\ræŸ¥çœ‹æ–‡ä»¶çŠ¶æ€\nä¸Šé¢è¯´æ–‡ä»¶æœ‰å››ç§çŠ¶æ€ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶çš„çŠ¶æ€ï¼š\n# æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€ git status [filename] # æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€ git status # git add . æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº # git commit -m æäº¤æš‚å­˜åŒºä¸­çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤ä¿¡æ¯ å¿½ç•¥æ–‡ä»¶\næœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³å§æŸäº›æ–‡ä»¶çº³å…¥è¿›ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰\nåœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹.gitignoreæ–‡ä»¶ ï¼Œ æ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š\n1.å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥#å·å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥\n2.å¯ä»¥ä½¿ç”¨linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚æ˜Ÿå·*ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼Ÿä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·[abc]ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·({string1},{string2})ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰\n3.å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥\n4.å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦/ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ­¤æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚\n5.å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦/ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰\n# ä¸ºæ³¨é‡Š *.txt #å¿½ç•¥æ‰€æœ‰ .txt ç»“å°¾çš„æ–‡ä»¶ï¼Œè¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ !llib.txt #ä½†lib.txté™¤å¤– /temp #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„todoæ–‡ä»¶ï¼Œä¸åŒ…æ‹¬å…¶ä»–ç›®å½•temp build/ #ä»…å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ doc/*.txt #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬doc/server/arch.txt ä½¿ç”¨ç äº‘ githubæ˜¯æœ‰å¢™çš„ï¼Œæ¯”è¾ƒæ…¢ï¼Œåœ¨å›½å†…çš„è¯ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨giteeï¼Œå…¬å¸ä¸­æœ‰æ—¶å€™ä¼šæ­å»ºè‡ªå·±çš„gitlabæœåŠ¡å™¨\n1.æ³¨å†Œç™»é™†ç äº‘ï¼Œå®Œå–„ä¸ªäººä¿¡æ¯\nè¿™ä¸ªå…¶å®å¯ä»¥ä½œä¸ºå¤§å®¶æœªæ¥æ‰¾å·¥ä½œçš„\n2.è®¾ç½®æœ¬æœºç»‘å®šsshå…¬é’¥ï¼Œå®ç°å…å¯†ç ç™»é™†ï¼ï¼ˆå…å¯†ç ç™»é™†ï¼Œè¿™ä¸€æ­¥æŒºé‡è¦çš„ï¼Œç äº‘æ˜¯è¿œç¨‹ä»“åº“ï¼Œæˆ‘ä»¬æ˜¯å¹³æ—¶å·¥ä½œåœ¨æœ¬åœ°ä»“åº“ï¼ï¼‰\n# è¿›å…¥C:\\Users\\Sweetie\\.ssh ç›®å½• # ç”Ÿæˆå…¬é’¥ ssh-keygen image-20210724202958752\rä½¿ç”¨ssh-keygen -t rsa å‘½ä»¤\n3.å°†å…¬é’¥ä¿¡æ¯public key æ·»åŠ åˆ°ç äº‘è´¦æˆ·ä¸­å³å¯ï¼\nimage-20210724203418738\r4.ä½¿ç”¨ç äº‘åˆ›å»ºä¸€ä¸ªè€Œè‡ªå·±çš„ä»“åº“\næ–°å»ºä»“åº“\rimage-20210724203745902\rè®¸å¯è¯ï¼šå¼€æºæ˜¯å¦å¯ä»¥éšæ„è½¬è½½ï¼Œå¼€æºä½†æ˜¯ä¸èƒ½å•†ä¸šä½¿ç”¨ï¼Œä¸èƒ½è½¬è½½ï¼Œ\u0026hellip;é™åˆ¶ï¼\nä¹Ÿå°±æ˜¯åœ¨gitä¸Šå›¾å½¢åŒ–ç•Œé¢ä¸Šå»ºç«‹ä»“åº“ï¼Œåœ¨æœ¬åœ°é€šè¿‡git bash å…‹éš†è¿œç¨‹ä»“åº“\nimage-20210724203950054\rIEDAä¸­é›†æˆgit æ–°å»ºé¡¹ç›®ï¼Œç»‘å®šgit\nå°†æˆ‘ä»¬è¿œç¨‹çš„gitæ–‡ä»¶ç›®å½•æ‹·è´åˆ°é¡¹ç›®ä¸­å³å¯ï¼ image-20210724204839883\rimage-20210724204938532\rä¿®æ”¹æ–‡ä»¶ï¼Œä½¿ç”¨IDEAæ“ä½œgit\nä¸€ç§æ–¹å¼\rimage-20210724205441507\rç¬¬äºŒç§æ–¹å¼\nimage-20210724205923872\rç¬¬ä¸‰ç§æ–¹å¼ å¯¹äºå•ä¸ªæ–‡ä»¶çš„add\nimage-20210724210043644\ræäº¤æµ‹è¯•\nimage-20210724210212802\rcommitåªæ˜¯æ·»åŠ åˆ°æœ¬åœ°ä»“åº“\npushåˆ°è¿œç¨‹ä»“åº“\ngit push é€šè¿‡terminalæˆ–è€…å¯è§†åŒ–æ¥æ\nåœ¨logä¸­å¯ä»¥çœ‹åˆ°æ¯æ¬¡çš„æ“ä½œ\nimage-20210724211848407\rè¯´æ˜ï¼šgitåˆ†æ”¯ åˆ†æ”¯åœ¨gitä¸­ç›¸å¯¹è¾ƒéš¾ï¼Œåˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œçš„å¹³è¡Œå®‡å®™ï¼Œå¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œå“ªå¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡æœ‰å½±å“ã€‚ä¸è¿‡åœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦å¤„ç†ä¸€ä¸‹é—®é¢˜äº†\nimage-20210724212223989\rimage-20210724212233880\rgitåˆ†æ”¯ä¸­å¸¸ç”¨æŒ‡ä»¤ï¼š\n# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch # åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ git branch -r # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯ git branch [branch-name] # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ git checkout -b [branch] # åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ git merge [branch] # åˆ é™¤åˆ†æ”¯ git branch -d [branch-name] # åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete [branch-name] git branch -dr [remote/branch] image-20210724212621289\ræ–°å»ºåˆ†æ”¯ git branch dev ä½†æ˜¯åœç•™åœ¨å½“å‰åˆ†æ”¯\nimage-20210724212732716\rå¤šä¸ªåˆ†æ”¯å¦‚æœå¹¶è¡Œæ‰§è¡Œï¼Œå°±ä¼šå¯¼è‡´æˆ‘ä»¬ä»£ç ä¸å†²çªï¼Œä¹Ÿå°±æ˜¯åŒæ—¶å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ï¼\nå¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶è¢«ä¿®æ”¹äº†ï¼Œåˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼\nmasterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œæˆåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°æœ±åˆ†æ”¯masterä¸Šæ¥ã€‚\nå› æ­¤å¯ä»¥è¿™æ ·ï¼Œåœ¨devä¸Šåšæ”¹åŠ¨ï¼Œæ”¹åŠ¨å®Œåœ¨devä¸Šè¿›è¡Œcommitå’Œpushï¼Œè¿™æ ·devå°±æ˜¯ç›¸å½“äºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬\n","date":"2021-07-24T16:18:59+08:00","permalink":"https://linjianshu.github.io/p/git%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"gitå­¦ä¹ æ–‡æ¡£"},{"content":"Linuxå­¦ä¹  å¦‚æœæ˜¯é˜¿é‡Œäº‘è®°å¾—é…ç½®å®‰å…¨ç»„!!!\ncss js é™æ€æ–‡ä»¶éƒ½åœ¨wwwrootä¸­,æ‰€ä»¥å¦‚æœåå°å¯åŠ¨æˆ–è€…ä½¿ç”¨mvcTest.dll çš„è¯ä¼šæ— æ³•æ‰¾åˆ°é™æ€æ–‡ä»¶ å› ä¸ºé™æ€æ–‡ä»¶çš„å±‚çº§åœ¨å¥¹ä»¬ä¸Šé¢ä¸€å±‚ , æ‰€ä»¥è¦cpä¸€ä»½wwwrootåˆ°å­˜æ”¾dllé‚£ä¸€å±‚ä¸­ , è¿™æ ·å°±å¯ä»¥çœ‹åˆ°æ ·å¼äº†!!!\nwindowså€¾å‘äºGUIæ“ä½œï¼Œwindowsä¸‹çš„å‘½ä»¤åˆ°äº†linuxä¸‹ä¸ä¸€å®šèƒ½ç”¨\nwindowsæœ‰æ‰©å±•åï¼Œlinuxä¸­å¯ä»¥æ²¡æœ‰æ‰©å±•å\nwindowsä¸åŒºåˆ†å¤§å°å†™ï¼ŒlinuxåŒºåˆ†å¤§å°å†™\nlinuxä¸åŒç‰ˆæœ¬ä½¿ç”¨æ–¹æ³•é…ç½®æ–‡ä»¶å˜åŒ–å¾ˆå¤§ï¼Œè¦åå¤æŸ¥æ‰¾å’Œè°ƒè¯•\nlinuxå†…æ ¸å’Œå‘è¡Œç‰ˆ\nlinuxå†…æ ¸æ˜¯ç”±linusåŠå¼€æºç¤¾åŒºç»´æŠ¤ï¼Œå†…æ ¸åŒ…å«å†…å­˜ç®¡ç†ã€å­˜å‚¨ç®¡ç†ã€è¿›ç¨‹ç®¡ç†ã€ç½‘ç»œé€šè®¯ç­‰åŸºç¡€æ¨¡å—ã€‚å¾ˆå¤šå…¬å¸ã€å¼€å…ƒç»„ç»‡åŸºäºlinuxå†…æ ¸æ‰“åŒ…å‡ºå¾ˆå¤šå‘è¡Œç‰ˆï¼Œä¸åŒçš„å‘è¡Œç‰ˆçš„å†…æ ¸ç‰ˆæœ¬å¯èƒ½ä¸ä¸€è‡´ï¼ŒåŒ…å«çš„è½¯ä»¶ä¹Ÿä¸ä¸€è‡´ï¼Œç•Œé¢å·®åˆ«è¾ƒå¤§ï¼Œä½†æ˜¯å‘½ä»¤è¡Œæ“ä½œæ—¶äº’é€šçš„ï¼Œå¤§éƒ¨åˆ†ç¨‹åºä¹Ÿæ˜¯äº’é€šçš„ã€‚\nå†…æ ¸å’Œå‘è¡Œç‰ˆçš„å…³ç³»å°±åƒandroidå†…æ ¸å’Œå°ç±³æ‰‹æœºç³»ç»Ÿã€åä¸ºæ‰‹æœºç³»ç»Ÿçš„å…³ç³»ä¸€æ ·ã€‚å¸¸ç”¨çš„å‘è¡Œç‰ˆæœ‰redhatã€centosã€debianã€ubuntuç­‰ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨ubuntuï¼Œå› ä¸ºå…¶å†…ç½®çš„è½¯ä»¶æœ€é€‚åˆç¨‹åºå‘˜ï¼Œå…¶ä»–å‘è¡Œç‰ˆè¦è‡ªå·±è£…ã€‚\nlinuxå¸¸è§å‘½ä»¤\nwindowsæœ‰å¤šæ ¹ç›®å½•\nlinuxæ˜¯å•æ ¹\nå¸¸ç”¨ç›®å½•\nboot å­˜æ”¾ç”¨äºç³»ç»Ÿå¼•å¯¼æ—¶çš„å„ç§æ–‡ä»¶\nbin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ ä¾‹å¦‚lsï¼Œcatï¼Œmkdirç­‰ç­‰\nsbin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæœ‰rootç”¨æˆ·æ‰èƒ½è®¿é—®\nusr ç”¨äºå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åºï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•/usr/local æœ¬åœ°ç®¡ç†å‘˜è½¯ä»¶å®‰è£…ç›®å½•\nopt é¢å¤–å®‰è£…çš„å¯é€‰åº”ç”¨ç¨‹åºåŒ…æ‰€æ”¾ç½®çš„ä½ç½®\ndevç”¨äºå­˜æ”¾è®¾å¤‡æ–‡ä»¶\netcå­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶\nhomeå­˜æ”¾æ‰€æœ‰ç”¨æˆ·æ–‡ä»¶çš„æ ¹ç›®å½•\nlibå­˜æ”¾è·Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„å…±äº«åº“åŠå†…æ ¸æ¨¡å—\ntmp ç”¨äºå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶\nvar ç”¨äºå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶\nmnt å®‰è£…ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿçš„å®‰è£…ç‚¹\nå¸¸è§å‘½ä»¤\npwd æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½• print working directory\nls ç›®å½•\ncd æ›´æ”¹ç›®å½• cd .. è¿”å›ä¸Šçº§ç›®å½• cd / è¿”å›æ ¹ç›®å½• cd æ–‡ä»¶å¤¹ è¿›å…¥æ–‡ä»¶å¤¹\nmkdir åˆ›å»ºç›®å½•\nrmdir ç›®å½•å åˆ é™¤éç©ºç›®å½•\nrm-r ç›®å½•å åˆ é™¤ç›®å½•åŠå…¶ä¸‹ç›®å½•ä¸æ–‡ä»¶ï¼ˆé€’å½’åˆ é™¤ï¼‰\nmv ç§»åŠ¨ç›®å½• mv test home/test\ncp å¤åˆ¶æ–‡ä»¶ cp test test1\ncat æŸ¥çœ‹æ–‡ä»¶å†…å®¹\nmore åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹\nfind -name â€˜lib*â€™ æŸ¥æ‰¾æ–‡ä»¶\nps æŸ¥çœ‹å½“å‰ç”¨äºè¿è¡Œè¿›ç¨‹\nps -ef æ‰€æœ‰è¿›ç¨‹\nreboot é‡å¯\nshutdown-now ç«‹å³å…³æœº\nexit é€€å‡ºç»ˆç«¯\nclear æ¸…å±\nctrl+Læ¸…å±\nä¸Šä¸‹é”®å¯ä»¥æŸ¥çœ‹å†å²å‘½ä»¤\nctrl+Cä¸è¦å½“å‰è¾“å…¥çš„æŒ‡ä»¤äº†\nä½¿ç”¨tabå¯èƒ½å¯ä»¥è‡ªåŠ¨è¡¥é½\ntar å‹ç¼©æ–‡ä»¶\ntar -c -f name.tar t1 å°†t1å‹ç¼©ä¸ºname.tarçš„å‹ç¼©åŒ…\ntar -x -C è§£å‹åˆ°æŒ‡å®šç›®å½• -f å‹ç¼©åŒ…\nmanå‘½ä»¤ å‘½ä»¤å¸®åŠ©æ‰‹å†Œ\n-r \u0026ndash;recursive æ˜¯ä¸€æ ·çš„\nlinuxç®¡é“æŒ‡ä»¤ï¼Œé“¾å¼è°ƒç”¨å‘—\nä¸å›¾å½¢åŒ–ç•Œé¢ç›¸æ¯”ï¼Œå‘½ä»¤å°±å¯ä»¥ç²˜åˆåœ¨ä¸€èµ·\nä¾‹å¦‚ ps-ef |more å…ˆæŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ï¼Œç„¶ååˆ†é¡µæ˜¾ç¤º\ngrep æŸ¥æ‰¾\nsudoï¼šåŸºäºå®‰å…¨è€ƒè™‘ï¼Œä¸€èˆ¬ä¸å»ºè®®è¶…çº§ç”¨æˆ·æƒé™ç™»é™†linuxï¼Œè€Œæ˜¯å¹³æ—¶ä½¿ç”¨ä½æƒé™ç”¨æˆ·è®¿é—®ï¼Œéœ€è¦é«˜æƒé™çš„æ“ä½œå†ç”¨sudoåè·Ÿç€æŒ‡ä»¤ã€‚æ¯”å¦‚åœ¨/ä¸‹æ— æ³•åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯sudo mkdir aå°±å¯ä»¥ï¼Œå½“ç„¶éœ€è¦è¾“å…¥å¯†ç ã€‚suå°±æ˜¯super user çš„ç®€å†™ï¼Œsudoå°±æ˜¯ç”¨è¶…çº§ç”¨æˆ·æƒé™æ‰§è¡Œå‘½ä»¤\nVIç¼–è¾‘å™¨\nesc + w + q\nä¸Šä¸‹ç§»åŠ¨çš„è¯é¦–å…ˆè¦æŒ‰esc ç„¶åæ‰èƒ½ä¸Šä¸‹ç§»åŠ¨\nvimæ˜¯viçš„åŠ å¼ºç‰ˆ\nié”® æ’å…¥æ¨¡å¼ xå°±æ˜¯x ï¼Œdå°±æ˜¯d ï¼Œ ä¸Šä¸‹å·¦å³å¯¹åº”ç€ABCDçš„å­—ç¬¦å‘¢\næŒ‰esc å‘½ä»¤æ¨¡å¼ æŒ‰håˆ æ‰ä¸€ä¸ªå­—ç¬¦ï¼ŒæŒ‰ddåˆ é™¤ä¸€è¡Œï¼ŒæŒ‰ä¸Šä¸‹å·¦å³å°±æ§åˆ¶å…‰æ ‡ç§»åŠ¨\næœ«è¡Œæ¨¡å¼ æŒ‰ï¼š è¿›å…¥æœ«è¡Œæ¨¡å¼ wå†™ qé€€å‡º\nimage-20210626201259638\råœ¨æœ«è¡Œæ¨¡å¼ä¸­è¾“å…¥ï¼æŒ‡ä»¤ å¯ä»¥ä¸ç¦»å¼€viæ‰§è¡ŒæŒ‡ä»¤\nshift+^ ç§»åŠ¨åˆ°è¡Œé¦–\nshift+$ ç§»åŠ¨åˆ°è¡Œå°¾\næ­£åˆ™è¡¨è¾¾å¼ ï¼Œ åŒ¹é…è¡Œé¦–å°±æ˜¯^ åŒ¹é…è¡Œå°¾å°±æ˜¯$\nctrl + b æ»šå± ctrl + f å‘ä¸‹æ»šå±\nuå°±æ˜¯æ’¤é”€ undo\noå°±æ˜¯åœ¨å½“å‰è¡Œä¸‹æ–°å¢ä¸€è¡Œï¼Œå¹¶ä¸”è‡ªåŠ¨è¿›å…¥æ’å…¥æ¨¡å¼\niå’Œaéƒ½æ˜¯æ’å…¥æ¨¡å¼ï¼Œå°±æ˜¯åœ¨å‰é¢åœ¨åé¢æ’å…¥çš„åŒºåˆ«è€Œå·²\naå°±æ˜¯append iå°±æ˜¯insert\nnanoå°±æ˜¯ç®€åŒ–ç‰ˆçš„å‚»ç“œå¼çš„æ–‡æœ¬ç¼–è¾‘å™¨\nå˜»å˜»å˜»\nlinuxä¸‹å¾ˆå¤šè½¯ä»¶éƒ½æ˜¯è‡ªå·±ä¸‹è½½æºç ã€è‡ªå·±ç¼–è¯‘çš„ï¼Œæœ‰ç‚¹ç—›è‹¦ã€‚å¾ˆå¤šå‘è¡Œç‰ˆéƒ½æœ‰è‡ªå·±çš„å®‰è£…åŒ…æ ¼å¼ã€‚æ¯”å¦‚redhatä½¿ç”¨*.rpmæ–‡ä»¶ï¼Œubuntuä¸­ä½¿ç”¨ *.debæ–‡ä»¶ã€‚\nè‡ªå·±æŸ¥æ‰¾ã€ä¸‹è½½å®‰è£…è¿˜æ˜¯å¾ˆéº»çƒ¦çš„ã€‚å› æ­¤å¾ˆå¤šå‘è¡Œç‰ˆä¸­éƒ½æä¾›äº†ç±»ä¼¼äºåº”ç”¨å¸‚åœºã€nugetçš„ä¸œè¥¿ã€‚\nubuntuæ¨èä½¿ç”¨aptè¿›è¡Œä¸‹è½½ã€å®‰è£…ã€‚ä¼šä»ubuntuå®˜ç½‘ä¸‹è½½ï¼Œå¦‚æœä¸‹è½½é€Ÿåº¦æ…¢çš„è¯ï¼Œå¯ä»¥è®¾ç½®ä»å…¶ä»–é•œåƒä¸‹è½½ï¼Œå…·ä½“æœç´¢ubuntu atp-get é•œåƒ\næ‰§è¡ŒæŸäº›ç¨‹åºçš„æ—¶å€™ï¼Œå¦‚æœç¨‹åºæ²¡æœ‰å®‰è£…è¿˜ä¼šæç¤ºä½ ï¼Œæ¯”å¦‚æ‰§è¡Œ vim treeç­‰ç­‰\nå®‰è£…è½¯ä»¶éœ€è¦sudoæ‰§è¡Œã€‚å¦‚ï¼š\n1.å®‰è£… sudo apt-get install ç¨‹åºå\n2.å¸è½½ sudo apt-get remove ç¨‹åºå\nä½¿ç”¨ifconfig\nç½‘ç»œé—®é¢˜\nè™šæ‹Ÿæœºå’Œä¸»æœºä¹‹é—´ç»„ä»¶äº†ä¸€ä¸ªå±€åŸŸç½‘ï¼Œè™šæ‹Ÿæœºé€šè¿‡ä¸»æœºä¸Šç½‘ã€‚è™šæ‹Ÿæœºçš„è®¾ç½®çš„ç½‘ç»œå¯ä»¥è®¾ç½®ä¸åŒçš„é“¾æ¥æ–¹å¼ã€‚ä¸»æœºå¯ä»¥é€šè¿‡ifconfigçœ‹åˆ°ipåœ°å€è¿æ¥è™šæ‹Ÿæœºçš„ç½‘ç»œã€‚\nè™šæ‹Ÿæœºçš„ç½‘ç»œè¿æ¥æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ€ä¸»è¦çš„æœ‰ä¸‰ç§ï¼šhostonlyã€natã€æ¡¥æ¥ï¼ˆbridgeï¼‰ã€‚hostonlyé…ç½®è¾ƒéº»çƒ¦ï¼Œéœ€è¦æ‡‚å¾ˆå¤šç½‘ç»œå·¥ç¨‹çš„ä¸œè¥¿ï¼›NATæ˜¯è™šæ‹Ÿæœºå€ŸåŠ©äºä¸»æœºç½‘å¡è®¿é—®ç½‘ç»œï¼Œè—åœ¨ä¸»æœºåé¢ï¼Œç½‘ç»œä¸­å…¶ä»–è®¾å¤‡ä¸èƒ½è¿è¿™ä¸ªè™šæ‹Ÿæœºï¼Œè¿ä¸»æœºéƒ½ä¸èƒ½ï¼Œä½†æ˜¯è™šæ‹Ÿæœºèƒ½è¿æ¥ä¸»æœºçš„ç½‘ç»œï¼Œèƒ½ä¸Šå¤–ç½‘ï¼›æ¡¥æ¥æ¨¡å¼åˆ™æ˜¯æŠŠè™šä¸»æœºä¹Ÿæš´éœ²ä¸ºç½‘ç»œä¸­çš„ä¸€ä¸ªè®¾å¤‡ï¼Œä¸»æœºå’Œè™šæ‹Ÿä¸»æœºåœ¨ç½‘ç»œå†…æ˜¯å¹³ç­‰çš„ï¼Œå¯ä»¥äº’ç›¸è®¿é—®ï¼Œä½†æ˜¯è¦æ±‚ç½‘ç»œä¸­æ²¡æœ‰è®¾å¤‡è®¿é—®çš„é™åˆ¶ï¼Œå¦‚æœæœ‰é™åˆ¶è¦ä¿®æ”¹è·¯ç”±å™¨çš„é…ç½®ã€‚å› ä¸ºå’±ä»¬éœ€è¦ä¸»æœºå’Œè™šæ‹Ÿæœºç›¸äº’è®¿é—®ï¼Œé™¤éç½‘ç»œæœ‰é™åˆ¶ï¼Œå¦åˆ™æœ€å¥½é…ç½®ä¸ºæ¡¥æ¥ï¼Œé…ç½®æ¡¥æ¥è¦é€‰æ‹©é€šè¿‡å“ªä¸ªç½‘å¡ä¸Šå¤–ç½‘ï¼Œä¸èƒ½é€‰é”™äº†ï¼Œå¦åˆ™å°±æ— æ³•è®¿é—®å¤–ç½‘äº†ã€‚åé¢æˆ‘ä»¬éƒ½é…ç½®ä¸ºæ¡¥æ¥ï¼ˆbridgeï¼‰ã€‚\nsshæœåŠ¡\nè®²è¿ç»´äººå‘˜æ˜¯æ€ä¹ˆè¿œç¨‹è¿æ¥åˆ°æœºæˆ¿ä¸Šçš„æœåŠ¡å™¨çš„ï¼Œå¾ˆå°‘ä½¿ç”¨å›¾å½¢ç•Œé¢ï¼ˆå¡ï¼Œæ— æ³•è‡ªåŠ¨åŒ–ï¼‰\nè¿œç¨‹ç™»é™†æœ‰ä¸“é—¨çš„é€šä¿¡åè®®telnetï¼Œtelnetå°±æ˜¯é€šè¿‡ç½‘ç»œè¿›è¡Œå‘½ä»¤è¡Œæ“ä½œæœåŠ¡å™¨ã€‚åªæœ‰æœåŠ¡å™¨ç«¯å¼€å§‹äº†è¿œç¨‹ç™»é™†æœåŠ¡ï¼Œå®¢æˆ·ç«¯æ‰èƒ½é€šè¿‡telnetåè®®æ§åˆ¶æœåŠ¡å™¨ç«¯ã€‚\nä½†telnetåè®®æ˜¯ä½¿ç”¨æ˜æ–‡ä¼ è¾“æ•°æ®ï¼Œè¿™ä¼šé€ æˆä¸¥é‡çš„å®‰å…¨æ€§é—®é¢˜ï¼Œæ‰€ä»¥ç°åœ¨å‡ ä¹ä¸æ¨èä½¿ç”¨ï¼Œè€Œæ˜¯æ›¿ä»£åè®®çš„æ˜¯sshï¼Œsshé€šè®¯æ•°æ®æ˜¯åŠ å¯†çš„ã€‚\nå®‰è£…openssh\nubuntu é»˜è®¤åªå®‰è£…äº†å®¢æˆ·ç«¯ openssh-client\nå®‰è£…æœåŠ¡å™¨\nsudo apt-get install openssh-server\nsshæœåŠ¡é»˜è®¤ç«¯å£æ˜¯22ï¼Œå¯é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¿®æ”¹ç«¯å£/etc/ssh/sshd_config\né‡å¯çš„è¯å°±æ˜¯service ssh restart\nputtyä¸‹è½½åç›´æ¥è¿œç¨‹è¿æ¥linux\nä½¿ç”¨mysql\nå®‰è£…sudo apt-get install mysql-server\næ ¹æ®æç¤ºè®¾ç½®root ç”¨æˆ·çš„å¯†ç ï¼Œæµ‹è¯•çš„æ—¶å€™è®¾ç½®ä¸ºroot\nsudo apt-get install mysql-client å®‰è£…ç®¡ç†å®¢æˆ·ç«¯\nmysql-uroot-proot é€šè¿‡ç®¡ç†å®¢æˆ·ç«¯è¿æ¥mysql ä¸æŠ¥é”™å°±ok\nmysql å®¢æˆ·ç«¯ä¸­æ‰§è¡Œï¼ˆä¸è¦ç›´æ¥åœ¨shellä¸­ç›´æ¥æ‰§è¡Œï¼‰show databases; (ä¸è¦ä¸¢äº†ç»“å°¾çš„è‹±æ–‡åˆ†å·) æŸ¥çœ‹æœ‰é‚£äº›æ•°æ®åº“ï¼Œæ‰§è¡Œä¸€ä¸‹ select now(); æ­£ç¡®æ‰§è¡Œã€‚æ‰§è¡Œquitï¼› é€€å‡ºmysql å®¢æˆ·ç«¯\nps ï¼š è®°å¾—æ‰“å¼€æœåŠ¡\nservice mysql start\nimage-20210626211935982\råŸºäºå®‰å…¨è€ƒè™‘ï¼Œmysqlé»˜è®¤åªèƒ½æœ¬æœºè¿æ¥ï¼Œå¦‚æœæƒ³é€šè¿‡å…¶ä»–ç”µè„‘è¿æ¥ï¼ˆæ¯”å¦‚ä¸»æœºè®¿é—®è™šæ‹Ÿæœºä¸­çš„mysqlï¼‰ï¼Œå°±éœ€è¦é…ç½®ï¼Œæœ€å¥½ä¸è¦é…ç½®æˆä»»æ„ç”µè„‘éƒ½å¯ä»¥è¿æ¥ï¼Œå› ä¸ºå±é™©ï¼Œè¦é…ç½®æˆåªå…è®¸æŸäº›ipè®¿é—®\né…ç½®mysqlè¿œç¨‹è®¿é—®ï¼ˆéœ€è¦ç½‘ç»œé…ç½®ä¸ºæ¡¥æ¥ç½‘ç»œï¼‰è™šæ‹Ÿæœºæƒ…å†µçš„è¯\nç¼–è¾‘mysqlçš„é…ç½®æ–‡ä»¶mysqld.cnf ï¼Œ ç”±äºmysqlæ˜¯ç³»ç»ŸæœåŠ¡ï¼Œå› æ­¤éœ€è¦ä»¥su è¿è¡Œvi , æ‰æœ‰æƒé™ï¼Œæ‰§è¡Œsudo vi /etc/mysql/mysql.conf.d/mysqld.cnf ï¼Œ ç”±äºä¸åŒmysqlç‰ˆæœ¬é…ç½®æ–‡ä»¶çš„ä½ç½®å¯èƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤æœ€å¥½çš„æ‰¾è·¯å¾„çš„æ–¹å¼å°±æ˜¯cd / dir ä¸€çº§çº§çš„çœ‹çœ‹ã€‚linuxä¸‹ä¸åŒç‰ˆæœ¬å·®å¼‚æ€§å¾ˆå¤§ï¼Œä¹‹å‰æŸ¥èµ„æ–™éƒ½æ˜¯æ”¹/etc/mysql/conf.d/mysql.cnf ï¼Œä½†æ˜¯ä½¿ç”¨statusï¼›å‘½ä»¤æŸ¥è¯¢mysqlç‰ˆæœ¬ä¹‹åæœç´¢mysql5.7 è¿œç¨‹è®¿é—®ï¼Œå°±å¯ä»¥æ‰¾åˆ°æ­£ç¡®çš„åšæ³•\rimage-20210626212914858\ræŠŠbind-address=127.0.0.1æ³¨é‡Šæ‰ æ‰§è¡Œ sudo /etc/init.d/mysql restart é‡å¯ mysqlæœåŠ¡ åœ¨ä¸»æœºä¸Šæ‰§è¡Œipconfigï¼ŒæŸ¥çœ‹ipåœ°å€ï¼ŒåŠ å…¥æ˜¯192.168.0.11ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œgrant all privileges on *** . *** to root@\u0026ldquo;192.168.0.11\u0026rdquo; identified by \u0026ldquo;è¿™é‡Œæ¢æˆå¯†ç \u0026rdquo; with grant option; å†æ‰§è¡Œ flush privileges; å¤–éƒ¨æ•°æ®åº“ç®¡ç†å·¥å…·navicatè¿æ¥è™šæ‹Ÿæœºçš„ipï¼Œè®¿é—®mysql ä¸»æœºä¸Šè¿æ¥è™šæ‹Ÿæœºå†…çš„mysqlä¸€å®šè¦è¿æ¥è™šæ‹Ÿæœºçš„ipï¼Œåˆ«è¿é”™äº† ä¸»æœºçš„ipå¦‚æœå˜äº†å°±è¦é‡æ–°é…ç½® åœ¨4ä¹‹å‰ï¼Œç”±äºè¿™ä¸ªç‰ˆæœ¬çš„mysqlå¯†ç æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥æ²¡åŠæ³•å‘œå‘œå‘œï¼Œéœ€è¦æ”¹ä¸ªå¯†ç \nimage-20210626220925687\rMySQL 8.0 å®‰è£…åä¿®æ”¹root@localhostçš„é»˜è®¤ç©ºå¯†ç  - æ±‰å®¶ç¾½æ—éƒ - åšå®¢å›­ (cnblogs.com)\nimage-20210626220955199\rè§£å†³mysql8 æç¤º ERROR 1410 (42000): You are not allowed to create a user with GRANT_zhouzhiwengangçš„ä¸“æ -CSDNåšå®¢\nå‘½ä»¤æœ‰ç‚¹ç‚¹ä¸ä¸€æ ·\nmysql8.0ä¹‹åå¿…é¡»è¦å…ˆåˆ›å»ºç”¨æˆ·ï¼Œç„¶åæ‰èƒ½æˆæƒ\nimage-20210626232148904\rå®‰è£…vsftpæœåŠ¡å™¨\nfile transport protol\nä»€ä¹ˆæ˜¯ftp ã€‚é€šè¿‡ftpè¿›è¡Œæ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½ sudo apt-get install vsftpd è¿™æ—¶å€™å¯ä»¥ç”¨linuxç”¨æˆ·ç™»é™†ï¼Œèƒ½å¤Ÿè®¿é—®/home/ç”¨æˆ·åä¸‹çš„æ–‡ä»¶å¤¹ã€‚ä½†æ˜¯æ²¡æœ‰ä¸Šä¼ æƒé™ã€‚éœ€è¦ sudo vi /etc/vsftpd.conf å°†write_enable=YES å‰é¢çš„æ³¨é‡Š# å–æ¶ˆï¼Œç„¶åæ‰§è¡Œ sudo /etc/init.d/vsftpd restarté‡å¯ å¯¹äºæ–‡ä»¶æ•°é‡æ¯”è¾ƒå¤šçš„ï¼Œå¯ä»¥å…ˆå‹ç¼©æˆzipï¼Œç„¶ååœ¨linuxç«¯ä½¿ç”¨ unzip æ–‡ä»¶å è¿›è¡Œè§£å‹ å¯¹äºæ–‡ä»¶ç¼©é‡æ¯”è¾ƒå¤šçš„ï¼Œå¯ä»¥åœ¨linuxç«¯ä½¿ç”¨zipå‘½ä»¤å‹ç¼©ï¼Œç„¶åå†windowsç«¯è§£å‹ .net core\nå†å²\n.net è®¾è®¡ä¹‹å¤„å°±æ˜¯è€ƒè™‘åƒjavaä¸€æ ·è·¨å¹³å°çš„ï¼Œ.net framework æ˜¯åœ¨windowsä¸‹è¿è¡Œçš„ï¼Œå¤§éƒ¨åˆ†ç±»æ˜¯å¯ä»¥å…¼å®¹ç§»æ¤åˆ°linuxä¸‹çš„ï¼Œä½†æ˜¯æ²¡äººåšè¿™ä¸ªå·¥ä½œã€‚åæ¥novellå…¬å¸å¼€å‘äº†monoï¼ŒæŠŠå¤§éƒ¨åˆ†.net frameworkåŠŸèƒ½ç§»æ¤åˆ°äº†linuxä¸‹ã€‚monoä¹Ÿæˆä¸ºxamarinï¼ˆä½¿ç”¨.net å¼€å‘Androidã€IOS appçš„æŠ€æœ¯ï¼‰å’Œunity3d ï¼ˆä½¿ç”¨.Net å¼€å‘android /ios æ¸¸æˆçš„æŠ€æœ¯ï¼‰çš„åŸºç¡€ã€‚\n.net coreæ˜¯å¾®è½¯å¼€å‘çš„å¦ä¸€ä¸ªå¯ä»¥è·¨linuxã€windowsã€macç­‰å¹³å°çš„.net ã€‚\nå¾®è½¯æ”¶è´­äº†monoçš„å…¬å¸ï¼Œxamarinã€‚ä¸ºä»€ä¹ˆè¿˜è¦æ.net coreã€‚å› ä¸ºmonoå®Œå…¨å…¼å®¹.net framework ,æ¶æ„å¤ªé™ˆæ—§ï¼Œä¸åˆ©äºç°åœ¨äº‘è®¡ç®—ã€é›†ç¾¤ç­‰æ–°çš„æ¶æ„å†å¹´ã€‚å› æ­¤å¾®è½¯æ¨ç¿»é‡å†™äº†.net coreã€‚\n.net framework .net core monoçš„å…³ç³»\n.net framework .net core xamarin æœ‰é€šç”¨çš„ç±»ï¼Œä¹Ÿæœ‰ç‰¹æœ‰çš„ã€‚ä¸ºäº†ä¿è¯ä»£ç é€šç”¨ã€‚å¾®è½¯å®šä¹‰äº†å…¬å…±çš„.net standard library (.net æ ‡å‡†åº“ï¼ŒåƒFileStream / Listç­‰è¿™äº›)ï¼ŒæŒ‰ç…§.net standard libraryç¼–å†™çš„ä»£ç å¯ä»¥åœ¨å‡ ä¸ªå¹³å°ä¸‹é€šç”¨ã€‚\nå¤§éƒ¨åˆ†.net frameworkä¸­çš„ç±»åœ¨.net coreä¸­è¿˜æœ‰ï¼Œæ–¹æ³•ä¹Ÿè¿˜æœ‰ï¼Œåªæ˜¯namespaceå¯èƒ½å˜äº†ï¼Œæœ‰äº›æ–¹æ³•ä¹Ÿæœ‰ä¸ä¸€æ ·ï¼Œéƒ¨åˆ†apiç¼ºå¤±ï¼ˆæ³¨å†Œè¡¨ç­‰windowså¹³å°ç‰¹æœ‰çš„apiï¼‰ï¼Œåé¢ä¼šè®²åŒºåˆ«ã€‚\nä¹‹å‰é‚£äº›åœ¨.net framework ä¸­è°ƒç”¨çš„dllï¼Œä¸ä¸€å®šéƒ½èƒ½ç”¨åœ¨.net core (linux)ä¸­ã€‚å¦‚ä½•åˆ¤æ–­\nåœ¨linuxä¸‹éœ€è¦å®‰è£….net core çš„ç¯å¢ƒ\nä¾‹å¦‚.net core sdk å’Œ .net core runtimes\nhttps://docs.microsoft.com/zh-cn/dotnet/core/install/linux-ubuntu\nå®‰è£…å®ŒéªŒè¯ä¸€ä¸‹\nä½¿ç”¨linux æ¥åˆ›å»º.net core æ§åˆ¶å°åº”ç”¨ç¨‹åºå¹¶è¿è¡Œ\nåˆ›å»ºæ§åˆ¶å°é¡¹ç›®\ndotnet new console -o test1 åœ¨å½“å‰ç›®å½•åˆ›å»ºç›®å½• test1 , å¹¶ä¸”åˆå§‹åŒ–æ§åˆ¶å°ï¼ˆconsoleï¼‰ç±»å‹çš„é¡¹ç›®ç»“æ„ï¼ˆç¬¬ä¸€æ¬¡è¿è¡Œdotnet new æ¯”è¾ƒæ…¢ï¼‰ã€‚ä½¿ç”¨å‘½ä»¤åˆ›å»ºé¡¹ç›®ï¼Œæ˜¯ç›®å‰å¾ˆæµè¡Œçš„é£æ ¼ã€‚ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºtest1ç›®å½•ï¼Œè¿›å…¥ç›®å½•ï¼Œå†æ‰§è¡Œdotnet new consoleã€‚ä¹Ÿå°±ç›¸å½“äºåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºæ§åˆ¶å°é¡¹ç›®ã€‚ dotnet restore é€šè¿‡nugetè¿˜åŸå®‰è£…å½“å‰ç›®å½•çš„é¡¹ç›®ç”¨åˆ°çš„åŒ…ï¼Œä¸€å®šè¦cd åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ. restoreæ‰§è¡Œæ¶ˆæ¯é‡Œç»™å‡ºäº†nugetä¸‹è½½ç›®å½•çš„è·¯å¾„ æ”¹ä¸€ä¸‹é¡¹ç›®çš„ä»£ç  dotnet run ç¼–è¯‘å¹¶è¿è¡Œå½“å‰ç›®å½•çš„é¡¹ç›®,ä¸€å®šè¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ.å¦‚æœç¼–è¯‘æŠ¥é”™å°±ä¼šæ ¹æ®æŠ¥é”™ä¿¡æ¯è¯¥ä»£ç æˆ–è€…æ˜¯å¿˜äº†dotnet restoreäº†ã€‚ æ³¨æ„.net core ä¸‹çš„æ§åˆ¶å°ç¨‹åºä¸æ˜¯ç”Ÿæˆexeçš„,è¦é€šè¿‡dotnet å…¥å£dllæ–‡ä»¶å æ–¹å¼è¿è¡Œ ä¸‰ä¸ªæ­¥éª¤:new restore run image-20210627111809617\rimage-20210627112544733\rä¹Ÿå¯ä»¥æ‰§è¡Œdebugé‡Œçš„dllæ–‡ä»¶ï¼Œlinuxæ²¡æœ‰exeå“ˆï¼Œæ‰§è¡Œdllå°±å¯ä»¥äº†\nimage-20210627113402515\raps .net mvc core é¡¹ç›®\ndotnet new mvc -o test2 æˆ–è€… dotnet new mvc\ndotnet restore\næ”¹ä¸€ä¸‹é¡¹ç›®çš„ä»£ç \ndotnet run webé¡¹ç›®è‡ªå¸¦åµŒå…¥å¼æœåŠ¡å™¨ï¼Œæµ‹è¯•é˜¶æ®µä¸ç”¨IISç­‰å•ç‹¬çš„æœåŠ¡å™¨ï¼Œéƒ¨ç½²é˜¶æ®µå†éƒ¨ç½²åˆ°iisã€nginxç­‰ä¸Š\nå†linuxçš„æœåŠ¡å™¨ä¸Šçš„æµè§ˆå™¨ä¸­æ‰“å¼€httpï¼š//127.0.0.1:5000 (åªèƒ½æœ¬æœºè®¿é—®ï¼Œåé¢è®²é€šè¿‡nginxé…ç½®è¿œç¨‹è®¿é—®)\nctrl+c åœæ­¢æœåŠ¡å™¨\nä¿®æ”¹é»˜è®¤ç«¯å£ç»‘å®šçš„æ–¹æ³•ï¼šå†program.csçš„buildä¹‹å‰åŠ å…¥useurls(\u0026ldquo;http://*.5001\u0026rdquo;);\nimage-20210627121128266\ræ–°ç‰ˆæœ‰ç‚¹åŒºåˆ«\nimage-20210627121508698\rhttps://blog.csdn.net/zxy13826134783/article/details/105908201/\nimage-20210627121540245\rECSåšåˆ°äº†å‘œå‘œå‘œ\nimage-20210627122036170\ræ’å…¥ä¸ªçŸ¥è¯†ç‚¹ï¼Œè¿™é‡Œæˆ‘ä»¬é€€å‡ºç»ˆç«¯åå¤–ç½‘å°±è®¿é—®ä¸äº†äº†ï¼Œå› æ­¤éœ€è¦ç¨‹åºåå°è¿è¡Œ\nhttps://www.cnblogs.com/bjxxlbm/articles/14790054.html\nnohup dotnet mvctest.dll \u0026amp;\nps -ef |grep dotnet æŸ¥çœ‹dotneté¡¹ç›®\nkill -9 PIDï¼ˆè¿›ç¨‹idå°±è¡Œäº†ï¼‰\nimage-20210627154748097\rwwwrootåº•ä¸‹æ”¾çš„æ˜¯é™æ€æ–‡ä»¶\nimage-20210627114214395\råˆ›å»ºå…¶ä»–é¡¹ç›®\n.net coreç›®å‰åªæ”¯æŒæ§åˆ¶å°å’Œaps .net mvc core ä¸çŸ¥é“winformå’Œwebform\nå¯ä»¥åˆ›å»ºç±»åº“ã€webapiã€è§£å†³æ–¹æ¡ˆ\næ–°å»ºç±»åº“\ndotnet new classlib -o classlibtest\næ–°å»ºwebapi\ndotnet new webapi -o webapitest\næ–°å»ºè§£å†³æ–¹æ¡ˆï¼ˆä¸€ä¸ªè§£å†³æ–¹æ¡ˆä¸­åŒ…æ‹¬å¤šä¸ªé¡¹ç›®ï¼‰\ndotnet new sln\nè¿˜æœ‰dotnet new \u0026ndash;help\nå†å²é—®é¢˜\næ—§ç‰ˆæœ¬.net core æ›¾ç»ä½¿ç”¨project.jsonåšé¡¹ç›®æè¿°æ–‡ä»¶ï¼Œåæ¥åˆæ”¹å›äº†project.csproj\n.net coreå¼€å‘çš„ä¸¤ç§æ–¹å¼\nç”¨viç¼–è¾‘ä»£ç æ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¼€å‘éº»çƒ¦ï¼Œæ‰€ä»¥åªæ˜¯è¿›è¡ŒåŸç†å±•ç¤ºã€‚ä¸ä¼šçœŸçš„ç”¨viå†™ä»£ç \næ–¹å¼1ï¼šwindowsä¸‹ç”¨vså¼€å‘ï¼Œç„¶åéƒ¨ç½²åˆ°linuxä¸‹éƒ¨ç½²è¿è¡Œ\næ–¹å¼2ï¼šlinuxä¸‹ä½¿ç”¨vscodeå¼€å‘ï¼Œç„¶ålinuxä¸‹éƒ¨ç½²è¿è¡Œã€‚vscodeè¿˜æ˜¯æ²¡æœ‰vså¼ºå¤§\nwindowsä¸‹å¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥å»ºç«‹é¡¹ç›®ï¼Œå°±åƒlinuxä¸‹æ“ä½œçš„ä¸€æ ·\nimage-20210627162043186\rå‘å¸ƒdotnet publish\nimage-20210627162548407\ræ‰¾åˆ°publishï¼Œå¹¶å‹ç¼©æˆzipæ ¼å¼\nç„¶åé€šè¿‡filezilla ä¼ è¾“åˆ°linuxä¸Š\nlinuxé€šè¿‡ unzip åå­— è§£å‹ç¼©\nç„¶ådotnet dllæ–‡ä»¶ å°±å¯ä»¥è¿è¡Œèµ·æ¥äº†å‘œå‘œå‘œ\né—®é¢˜ï¼šç»™wsl windows subå­ç³»ç»Ÿ linux\næˆ‘ä»¬çš„linuxå‘è¡Œç‰ˆ ubuntu æ˜¯wsl\néœ€è¦ç»™ä»–å®‰è£…ä¸€ä¸ªå›¾å½¢åŒ–ç•Œé¢\nWSL2 Ubuntu GUI å›¾å½¢ç”¨æˆ·ç•Œé¢_å“”å“©å“”å“©_bilibili\nè¿œç¨‹æ¡Œé¢éœ€è¦å¯åŠ¨ä¸€ä¸‹xrdpæœåŠ¡\nimage-20210627195747795\rä½¿ç”¨å‘½ä»¤è¡Œæ·»åŠ è§£å†³æ–¹æ¡ˆå’Œå¼•ç”¨å…³ç³»\nå¦‚ä½•åˆ›å»ºå¤šä¸ªé¡¹ç›®çš„è§£å†³æ–¹æ¡ˆ å…ˆåˆ›å»ºè§£å†³æ–¹æ¡ˆæ–‡ä»¶å¤¹rupengbbs,ç„¶åå†å…¶ä¸­dotnet new sln dotnet new mvc-o rupengbbs.web è¯´æ˜ï¼šåˆ›å»ºwebé¡¹ç›® dotnet new classlib -o rupengbbs.common åˆ›å»ºcommoné¡¹ç›® dotnet new sln è¯´æ˜ï¼šè§£å†³æ–¹æ¡ˆï¼Œè§£å†³æ–¹æ¡ˆåå­—é»˜è®¤æ˜¯å½“å‰ç›®å½•çš„åå­— dotnet sln rupengbbs.sln add rupengbbs.common / rupengbbs.common.csproj è¯´æ˜Lå§rupengbbs.commoné¡¹ç›®ä¸­çš„rupengbbs.common.csprojæ·»åŠ åˆ°è§£å†³æ–¹æ¡ˆæ–‡ä»¶ä¸­ã€‚æ³¨æ„æœ€åä¸€ä¸ªå‚æ•°åœ¨/ å‰åä¸è¦åŠ ç©ºæ ¼ è¿™é‡ŒæŒ‡çš„æ˜¯rupengbbs.commonç›®å½•ä¸‹çš„rupengbbs.common.csprojæ–‡ä»¶ dotnet sln rupengbbs.sln add rupengbbs.web/rupengbbs.web.csproj è¯´æ˜ï¼šæŠŠwebé¡¹ç›®æ·»åŠ åˆ°è§£å†³æ–¹æ¡ˆä¸­ dotnet add rupengbbs.web/rupengbbs.web.csproj reference rupengbbs.common/rupengbbs.common.csproj è¯´æ˜ï¼šrupengbbs.web.csproj é¡¹ç›®æ·»åŠ å¯¹rupengbbs.common.csprojé¡¹ç›®çš„å¼•ç”¨ dotnet restore è¯´æ˜ï¼šåœ¨è§£å†³æ–¹æ¡ˆä¸‹æ¯ä¸ªé¡¹ç›®ä¸­æ‰§è¡Œdotnet restore å¦‚æœæ˜¯åœ¨æŸä¸ªé¡¹ç›®ä¸‹æ‰§è¡Œ dotnet restore åˆ™åªæ˜¯restore æŸä¸ªé¡¹ç›® æŸ¥çœ‹ä¸€ä¸‹csproj å’Œslnæ–‡ä»¶æ ¼å¼ï¼ŒçŸ¥é“å¦‚ä½•æ‰‹åŠ¨ä¿®æ”¹ vscodeæ‰“å¼€è§£å†³æ–¹æ¡ˆæ–‡ä»¶å¤¹å³å¯ã€‚åœ¨commoné¡¹ç›®ä¸­å»ºä¸€ä¸ªperson.csï¼Œå†™ä¸€ä¸ªhelloæ–¹æ³•ï¼Œç„¶ååœ¨webé¡¹ç›®ä¸­è°ƒç”¨ ï¼ˆ*ï¼‰ç¼–è¯‘æ•´ä¸ªè§£å†³æ–¹æ¡ˆçš„æ–¹æ³•ï¼Œåœ¨è§£å†³æ–¹æ¡ˆæ–‡ä»¶å¤¹ä¸‹dotnet build rupengbbs.sln æ‰‹åŠ¨åˆ›å»ºä¸‰å±‚é¡¹ç›®ï¼šwebé¡¹ç›® ã€ modelé¡¹ç›®ã€dalé¡¹ç›®ã€bllé¡¹ç›® å†™ä¸€ä¸ªåˆ›å»ºä¸‰å±‚è§£å†³æ–¹æ¡ˆçš„è„šæœ¬ï¼Œä½“ç°å‘½ä»¤è¡Œçš„å¥½å¤„ï¼Œè„šæœ¬ä¸­çš„$1$2ä»£è¡¨ç¬¬1.2ä¸ªå‚æ•°çš„å€¼ image-20210627202824466\rimage-20210627203154894\rå¯¹ç€ä¸»é¡¹ç›®è¿è¡Œ\nimage-20210627203449885\rå¦‚æœæŸä¸€äº›æ“ä½œéœ€è¦åå¤æ‰§è¡Œï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™æˆè„šæœ¬ã€‚\nwindowsä¸Š\n.bat æ‰¹å¤„ç†å‘½ä»¤\npowershell\nlinuxä¸Š\nshellè„šæœ¬\nå†™å¥½shè„šæœ¬ä¹‹åï¼Œæ‰§è¡Œbash ./ cjsc.sh RuPeng ä¼šè‡ªåŠ¨æŠŠé¡¹ç›®å’Œè§£å†³æ–¹æ¡ˆåˆ›å»ºèµ·æ¥äº†\nå› ä¸ºå‘½ä»¤è¡Œæ‰€æœ‰è„šæœ¬ï¼Œå› ä¸ºè„šæœ¬æ‰€ä»¥è‡ªåŠ¨åŒ–ã€‚windowsä¸‹çš„è„šæœ¬è¯­è¨€æœ‰ä¼ ç»Ÿçš„batä»¥åŠæ–°çš„powershellï¼Œwindows10å®‰è£…linuxè‡ªç³»ç»Ÿåä¹Ÿå¯ä»¥ä½¿ç”¨bash\n7.é¡¹ç›®æ·»åŠ nugutå¼•ç”¨çš„æ–¹æ³•ï¼šåœ¨é¡¹ç›®ä¸‹æ‰§è¡Œdotnet add package newtonsoft.json ç„¶ådotnet resotre ä¸€ä¸‹\ndotnet add package å°±ç­‰é©¾é©­nuget çš„install-package ï¼ˆ*ï¼‰è¿˜å¯ä»¥é€šè¿‡dotnet addnew nugetconfig åˆ›å»ºä¸€ä¸ªnugeté…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šæº\ndotnet core æ— æ³•åœ¨å¼•ç”¨é‡Œå¼•ç”¨è‡ªå·±å®¶çš„æ ‡å‡†ç¨‹åºé›†ï¼Œ.netframework å¯ä»¥ï¼Œ.net coreç»Ÿä¸€åœ¨nugeté‡Œå®‰è£…\nå› æ­¤å¦‚æœæ¶‰å¯†çš„dllè¿˜å¾—ä¼ åˆ°nugutä¸Šï¼Œé€šè¿‡nugetå®‰è£…ï¼Œå¯ä»¥è€ƒè™‘æ­å»ºnugetç§æœ\n6.æ§åˆ¶å°ã€webåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°linuxç­‰æœåŠ¡å™¨ä¸Šçš„ç»Ÿä¸€æ–¹å¼ï¼šæœåŠ¡å™¨ä¸Šå…ˆå®‰è£….net coreï¼Œç„¶åå†å¼€å‘ç¯å¢ƒå‘å¸ƒï¼Œç„¶åå§å‘å¸ƒåŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶ååˆ°ç›®å½•ä¸‹æ‰§è¡Œï¼Œdotnet ä¸»ç¨‹åº dll å³å¯\næ³¨ï¼šå¯ä»¥é€šè¿‡å‘å¸ƒåˆ°FTPã€FTPSæœåŠ¡å™¨ä¸Šçš„æ–¹å¼ï¼Œæ¥è¯•è¯•çœ‹ï¼Œç«¯å£æ˜¯21\nimage-20210630110707778\rä½†æ˜¯ï¼Œéœ€è¦ç»™ljsç”¨æˆ·æˆäºˆ777æƒé™ï¼Œç„¶åç»™srv/ftpæˆäºˆ777æƒé™\nå¦åˆ™ä¼šå‡ºç°æ— æ³•å‘å¸ƒwww.root å’Œ configçš„é—®é¢˜\nchmod -R 777 ljs chmod -R 777 srv/ftp\nimage-20210630230743574\rhttpwebrequestã€webclientä¸æ”¯æŒï¼Œå¿…é¡»ä½¿ç”¨å¼‚æ­¥çš„httpclient\nåç¼–è¯‘å·¥å…· JustDecompiler åç¼–è¯‘dllæ–‡ä»¶\n.net core ä¸­é…ç½®æ–‡ä»¶çš„è§£æ\n.net coer çš„é…ç½®æ–‡ä»¶ï¼Œä¸å†æ˜¯é…ç½®åœ¨web.configä¸­äº†ï¼Œè€Œæ˜¯å•ç‹¬çš„jsoné…ç½®æ–‡ä»¶\nåªè¦å’Œåˆæ³•çš„jsonæ ¼å¼ï¼Œæ€ä¹ˆå†™éšæ„ï¼Œæ€ä¹ˆå†™å°±æ€ä¹ˆè§£æ\nè§£ææ–¹æ³•ï¼š\n1.é¦–å…ˆnugetå®‰è£…ï¼šmicrosoft.extensions.configuration å’Œ microsoft.extensions.configutation.json\n2.ç„¶åå¼•ç”¨å‘½åç©ºé—´\n3.ä¸‹é¢çš„ä»£ç å°±æŠŠloggingä¸‹çš„loglevelä¸‹çš„defaultè¯»å‡ºæ¥äº†\nvar builder = new configurationbuilder().setbasepath(directory.getcurrentdirectory()).addJsonfile(\u0026#34;appsettings.json\u0026#34;) ; //è®¾ç½®é…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„ var configRoot = builder.Build() ; var value = configRoot.GetSection(\u0026#34;Logging\u0026#34;).getSection(\u0026#34;loglevel\u0026#34;).getsection(\u0026#34;default\u0026#34;).value ; sys.console.writeline(value) ; image-20210630235351891\rEFcoreçš„ä½¿ç”¨\nEfCore æ˜¯EFçš„.net coreç‰ˆæœ¬ã€‚EF core å¯¹ sqlserveræ”¯æŒå¾ˆå¥½ï¼Œä¹Ÿå¯ä»¥åœ¨linuxä¸‹è¿æ¥sqlserverã€‚ä¸è¿‡å¦‚æœåœ¨linuxä¸‹é¦–é€‰mysqlï¼Œå› æ­¤æˆ‘ä»¬ä¸»è¦ä»‹ç»mysql ä¸­æ›´å®ç”¨efcoreã€‚sqlserverç”¨æ³•å‡ ä¹ä¸€æ ·ï¼Œåªæ˜¯æ¢ä¸€ä¸ªEf providerçš„nugetåŒ…è€Œå·²ã€‚\nEFcoreçš„nugetï¼š entityFrameworkcore\n1.å®˜æ–¹çš„mysql ef provider\n2.å¯ä»¥è¯•è¯•ç¬¬ä¸‰æ–¹çš„ eF core provider\n3.ä½¿ç”¨mysql efcore\nâ€‹\tæŠŠmysqlæ•°æ®åº“ã€è¡¨åˆ›å»ºèµ·æ¥\nâ€‹\tinstall-package entityframeworkcore.mysql\nâ€‹\tç¼–å†™personç±»\nâ€‹\né€šè¿‡usemysqlè¿™æ ·çš„æ‰©å±•æ–¹æ³•æ¥é…ç½®è¿æ¥å­—ç¬¦ä¸²ï¼Œè¿™æ˜¯.net coreçš„é£æ ¼ï¼å¯ä»¥æŠŠè¿æ¥å­—ç¬¦ä¸²å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åå†è¯»å–ã€‚\nEF core å’ŒEFçš„åŒºåˆ«\nè¦ä½¿ç”¨ AsNoTracking ã€ Include ç­‰è¦using microsoft.entityframeworkdcore ï¼Œä¸èƒ½ä½¿ç”¨ System.Data.Entity\nç›®å‰è¿˜ä¸æ”¯æŒlazyloadï¼Œéœ€è¦æ˜¾å¼çš„include\næ²¡æœ‰å†…ç½®entitytypeconfigurationï¼ˆè¦ä¹ˆæ‰‹åŠ¨æ³¨å†Œconfigç±»ï¼Œå¤ä¹ ä¸€ä¸‹ï¼›è¦ä¹ˆåç»­è¯¾ç¨‹ä¼šç»™å¤§å®¶æä¾›ä¸€ä¸ªï¼‰\nä¸€å¯¹å¤šå…³ç³»é…ç½®ä»builder.hasrequired(e=\u0026gt;e.author).withmany() ; æ”¹æˆäº†ï¼šbuilder.hasone(e=\u0026gt;e.author).withmany().hasforeignkey(e=\u0026gt;e.authorid).isrequired();\næˆ–è€…builder.hasoptionnal(e=\u0026gt;e.author).withMyan();æ”¹æˆï¼šbuilder.HasOne(e=\u0026gt;e.author).withmany().hasforeignkey(e=\u0026gt;e.antuorid) ;\nä¸è¦ä¸­é—´å®ä½“çš„å¤šå¯¹å¤šè¿˜ä¸æ”¯æŒï¼Œè¦è‡ªå·±æ‹†æˆç”¨ä¸­é—´å®ä½“çš„ä¸¤å¯¹ä¸€å¯¹å¤š\nåªè¦å§é…ç½®æ–‡ä»¶æ”¾åˆ°uié¡¹ç›®ä¸­å³å¯ï¼Œä¸å†éœ€è¦åœ¨Uié¡¹ç›®ä¸­åœ¨å®‰è£…EF\naps.net core mvc\nselfhost\nimage-20210701213916890\rasp.net core ioc\n1.asp.net mvc coer å†…ç½®äº†iocå®¹å™¨ï¼Œä¸åœ¨éœ€è¦autofacç­‰ç­‰ï¼Œå½“ç„¶autofac ä¹Ÿæ˜¯æ”¯æŒ.net core çš„ ï¼Œ å†…ç½®iocæ˜¯é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ï¼Œè€Œä¸æ˜¯å±æ€§æ³¨å…¥ã€‚\n2.åœ¨startup çš„configureservicesä¸­è¿›è¡Œæ³¨å…¥çš„å‡†å¤‡å·¥ä½œ\n3.åœ¨å†…ç½®çš„iocæœ‰ä¸‰ç§ç”Ÿå‘½å‘¨æœŸ\ntransient : transient æœåŠ¡åœ¨æ¯æ¬¡è¢«è¯·æ±‚çš„æ—¶å€™éƒ½ä¼šè¢«åˆ›å»ºã€‚è¿™ç§ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé€‚ç”¨äºè½»é‡çº§çš„æ— çŠ¶æ€æœåŠ¡ã€‚\nscopedï¼šscopedç”Ÿå‘½å‘¨æœŸçš„æœåŠ¡æ˜¯æ¯æ¬¡webè¯·æ±‚è¢«åˆ›å»º\nsingletonï¼šsingletonç”Ÿå‘½å‘¨æœŸæœåŠ¡åœ¨ç¬¬ä¸€æ¬¡è¢«è¯·æ±‚æ—¶åˆ›å»ºï¼Œåœ¨åç»­çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šä½¿ç”¨åŒä¸€ä¸ªå®ä¾‹ã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦å•ä¾‹æœåŠ¡ï¼Œæ¨èçš„åšæ³•æ˜¯äº¤ç»™æœåŠ¡å®¹å™¨æ¥è´Ÿè´£å•ä¾‹çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œè€Œä¸æ˜¯è‡ªå·±æ¥èµ°è¿™äº›äº‹æƒ…ã€‚\nè°ƒç”¨æ–¹æ³• services.addsingleton(typeof(imyservice),new myservice())ï¼› æ¥è¿›è¡Œæ³¨å†Œ\nä½†æ˜¯æœ€å¥½ services.addsingleton (typeof(imyservice),typeof(myeservice)) ;\nå› ä¸ºè¿™æ ·çš„è¯å¯ä»¥åœ¨myservciceä¸­é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥å…¶ä»–æœåŠ¡\nimage-20210701215502596\rimage-20210701215509943\rimage-20210701215618664\r4.controlleræ³¨å…¥\nè¿™é‡Œå¼•å…¥ä¸€ä¸ªé—®é¢˜ï¼Œä¹‹å‰publishçš„éƒ½ä¸è¡Œï¼ŒåŸå› æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼ï¼ï¼\nå°±æ¨ä»–å—ç¦»è°± ï¼Œ æ³¨æ„è¿è¡Œæ—¶ ï¼Œä¸èƒ½é€‰æ‹©å¯ç§»æ¤\nimage-20210702000338015\rdotnet test.dll \u0026ndash;urls http://*:5005\næ‰‹åŠ¨æŒ‡å®šç«¯å£\nå•å…ƒæµ‹è¯•\nimage-20210722203914320\r","date":"2021-06-16T00:25:03+08:00","permalink":"https://linjianshu.github.io/p/csharplinux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"CSharpLinuxç¯å¢ƒéƒ¨ç½²å­¦ä¹ æ–‡æ¡£"},{"content":"å°ç¨‹åºç»„ä»¶\nviewæ ‡ç­¾ ç±»æ¯”pä¾¿ç­¾\ntextæ ‡ç­¾ ç±»æ¯”spanæ ‡ç­¾\nselecttable :æ–‡æ¡£æ˜¯å¦å¯é€‰\nimage-20210404164128223\rdecodeæ ‡ç­¾ :é€‰ä¸­ï¼†ï½ï½‚ï½“ï½ï¼›/lt/gt/amp.apos/ensp/emspè¿™æ ·çš„å¯ä»¥è¯†åˆ«å‡ºæ¥\nbuttonæ ‡ç­¾:\nâ€‹\ttype: primary / default / warn\nimage-20210404164342281\râ€‹\tform-type=\u0026ldquo;submit\u0026rdquo;/reset\nâ€‹\topen-type getuserinfo/getphonenumber/contact\nimage-20210404164741208\rcheckbox image-20210404165141036\rå¼€é—­æ ‡ç­¾,å¯ä»¥åœ¨å¼€é—­æ ‡ç­¾å†…å†™ä¸Šå¤é€‰æ–‡å­—å†…å®¹\nvalueå¯ä»¥å¡«å…¥çœŸå®çš„å€¼\ncheckboxgroup\nradioå•é€‰æŒ‰é’®\nå¼€é—­æ ‡ç­¾ , valueå¯ä»¥å¡«å…¥çœŸå®çš„å€¼ , å®ç°å•é€‰éœ€è¦é…åˆå®ç°radiogroup\nimage-20210404165511648\rblockæ ‡ç­¾\nâ€‹\tæ ‡ç­¾å— , å…¶æœ¬èº«ä¸ä¼šè¢«æ¸²æŸ“åˆ°é¡µé¢ä¸­ , åªæœ‰å†…éƒ¨çš„æ ‡ç­¾ä¼šè¢«æ¸²æŸ“è¿›htmlé¡µé¢\nimage-20210404170226484\rimage-20210404171030254\rç»‘å®šäº‹ä»¶+ç¼–å†™jsæ–¹æ³•\nimage-20210404183815644\rimage-20210404183822112\rdataçš„æ•°æ®ç»‘å®šä»¥åŠæ•°æ®æ›´æ–°\nimage-20210404185119026\rimage-20210404190648374\rimage-20210404190705626\rå¯Œæ–‡æœ¬è¯†åˆ«å±•ç¤º\nimage-20210404191510461\rimage-20210404191516120\rå¯ä»¥æºå¸¦cssæ ·å¼ç»“æ„\nimage-20210404191528289\rå¼¹å‡ºçª—ä½“\nimage-20210404193546211\rimage-20210404193554023\råŠ è½½çª—ä½“ , ç­‰å¾…æ—¶é—´ , å›¾æ ‡ æˆåŠŸçš„äº‹ä»¶\nimage-20210404193628433\rå¼¹å‡ºç¡®å®š/å–æ¶ˆæŒ‰é’®\nclickäº‹ä»¶åˆ¤å®š\né¡µé¢è·³è½¬äº‹ä»¶å¹¶ä¸”ä¼ å‚\nä¸¤ç§æ–¹å¼\n1.\rimage-20210404195554226\r2.\rimage-20210404195605659\ræºå¸¦æ•°æ®\nimage-20210404195614999\rjsä¸­å¤„ç†\né€šè¿‡webapiè·å–åç«¯æ•°æ®\nimage-20210404212911407\rxy+5x/2+20y/2 = (5+y)(20+x)/2\n100 + 5x + 20 y +xy = 2xy + 5x + 20y\nimage-20210404213731063\rwebapié‡‡ç”¨çš„æ˜¯.net 5.0 ä½¿ç”¨efcore , æ‰€ä»¥å’ŒåŸæ¥çš„ç•¥æœ‰ä¸åŒå‘¢ äº²çˆ±çš„ , ä¾‹å¦‚ä½¿ç”¨ä¾èµ–è¯¸å¦‚, appconnectionstringå¾—å†™åœ¨ä¸åŒçš„åœ°æ–¹,åœ¨é™é»˜ç®¡é“é‡Œæ·»åŠ sqlserveræœåŠ¡,å¹¶ä¸”æŒ‡å®šç‰¹å®šçš„dbcontext,ä»¥åŠé‡æ„ä¸€ä¸‹dbcontextçš„æ„é€ å‡½æ•°ç­‰ç­‰,æ­¤å¤–è¿˜éœ€è¦é¢å¤–æ·»åŠ efsqlserverçš„nugetåŒ…\nvideoæ ‡ç­¾ ä»¥åŠå¡«å……æ ·å¼\nimage-20210405105945483\rimageæ ‡ç­¾ä»¥åŠå®½åº¦ä¿®æ­£æ ·å¼\nimage-20210405110043711\ræ•°å€¼å›ä¼ ä»¥åŠæ ·å¼ç»‘å®š\nåœ¨dataé‡Œç»‘å®šé™æ€æ•°æ®\nimage-20210405110238337\råœ¨wxmlé‡Œåˆ©ç”¨wx:foræ¥éå†dataä¸­çš„é™æ€æ•°æ®\nimage-20210405110319681\ré€šè¿‡æ’å€¼åˆ¤æ–­æ˜¯å¦é¡µç­¾è¢«é€‰ä¸­,ä»¥åŠé¡µç­¾é¢œè‰²æ ·å¼ä¿®æ­£\ndata-idä¼ å€¼\nselectbaræ–¹æ³•å¤„ç†\nä¼ å€¼å¤„éƒ½è¦ç”¨æ’å€¼æ³•åŒ…è£¹ å®é™…ä¸Šå¾ˆåƒjavaçš„æ¨¡ç‰ˆå¼•æ“\nimage-20210405110458011\ræºå¸¦idå€¼è¿‡æ¥,å¤„ç†dataä¸­çš„é™æ€typeindex\nä½¿ç”¨wx:if wx:else wx:foré…åˆblockæ¥è¿›è¡Œå†…å®¹å±•ç¤º\nimage-20210405152741173\rdataä¸­å±•ç¤ºæ–°é—»çš„content\nviewç•Œé¢ä¸­ä½¿ç”¨wxï¼šforæ¥éå†newslist\nä½¿ç”¨æ’å€¼æ³•å–æ•°æ®\nä½¿ç”¨wx:ifå’Œelseé…åˆä½¿ç”¨\nimage-20210405152813430\ræ¨¡æ‹Ÿåç«¯æ¥æ”¶æ•°æ®,onloadæ“ä½œ\nå¹¶ä¸”å­˜å…¥dataä¸­\nå¹¶ä¸”åœ¨å‰ç«¯å°†dataä¸­çš„å€¼å–å‡ºæ¥å±•ç¤º\nimage-20210405154550041\ré€šè¿‡wxï¼šrequestæ–¹æ³•è·å–ï¼Œé€šè¿‡successå›è°ƒå‡½æ•°æ¥å°†å€¼å­˜å…¥dataä¸­\nimage-20210405154625869\ræ¥ç€å°±æ˜¯å‰ç«¯çš„wxmlå»å–æ•°æ®å•¦\nwx:for éœ€è¦é…åˆwx:key ä½¿ç”¨ä»¥æé«˜æ€§èƒ½\nå¦åˆ™é»˜è®¤å°†ä»¥indexä¸ºæ£€ç´¢\nimage-20210405162607882\rimage-20210405162912572\r","date":"2021-06-01T00:27:43+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"å¾®ä¿¡å°ç¨‹åºå­¦ä¹ æ–‡æ¡£"},{"content":"è®¡ç®—æœºç»„æˆåŸç†å­¦ä¹ æ–‡æ¡£ CPU\nå†…å­˜\nç¡¬ç›˜\nä¸»æ¿\nè®¡ç®—æœºç¡¬ä»¶è¯†åˆ«æ•°æ®\né«˜ä½ç”µå¹³0/1\né€šè¿‡ç”µä¿¡å·ä¼ é€’æ•°æ®\né‡‘å±é’ˆè„šï¼šä¼ é€’ç”µä¿¡å·ç”¨çš„é€šé“\né€šè¿‡å¾ˆå¤šæ¡ç”µè·¯ï¼Œå¯ä»¥ä¼ é€’å¤šä¸ªäºŒè¿›åˆ¶æ•°ä½ï¼Œæ¯ä¸ªäºŒè¿›åˆ¶æ•°ä½ç§°ä¸º1bitæ¯”ç‰¹\næ–‡å­—ã€æ•°å­—ã€å›¾åƒå¦‚ä½•ç”¨äºŒè¿›åˆ¶è¡¨ç¤º\nå¦‚ä½•å­˜å‚¨äºŒè¿›åˆ¶æ•°\nCPUå¦‚ä½•å¯¹äºŒè¿›åˆ¶æ•°å­—è¿›è¡ŒåŠ å‡ä¹˜é™¤\nå¦‚ä½•ä»å†…å­˜ä¸­å–å‡ºæƒ³è¦çš„æ•°æ®\nCPUå¦‚ä½•è¯†åˆ«å’Œæ‰§è¡Œæˆ‘ä»¬å†™çš„ç¨‹åº\nè®¡ç®—æœºç³»ç»Ÿ = ç¡¬ä»¶ + è½¯ä»¶\nç¡¬ä»¶æ˜¯è®¡ç®—æœºçš„å®ä½“ï¼Œè½¯ä»¶ç”±å…·æœ‰å„ç±»ç‰¹æ®ŠåŠŸèƒ½çš„ç¨‹åºç»„æˆ\nè®¡ç®—æœºæ€§èƒ½çš„å¥½åå–å†³äºè½¯ç¡¬ä»¶åŠŸèƒ½çš„æ€»å’Œ\nè½¯ä»¶\nç³»ç»Ÿè½¯ä»¶ï¼šç”¨æ¥ç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿ\næ“ä½œç³»ç»Ÿã€DBMSã€æ ‡å‡†ç¨‹åºåº“ã€ç½‘ç»œè½¯ä»¶ã€è¯­è¨€å¤„ç†ç¨‹åºã€æœåŠ¡ç¨‹åº åº”ç”¨è½¯ä»¶\næŒ‰ç…§ä»»åŠ¡éœ€è¦ç¼–åˆ¶æˆçš„å„ç§ç¨‹åº ç¡¬ä»¶çš„å‘å±•\nç¬¬ä¸€å°ç”µå­æ•°å­—è®¡ç®—æœº ENIAC1946 å†¯è¯ºä¾æ›¼\né€»è¾‘å…ƒä»¶ï¼šç”µå­ç®¡\nç¬¬ä¸€ä»£ï¼šç”µå­ç®¡æ—¶ä»£ çº¸å¸¦æœºç¼–ç¨‹\nç¬¬äºŒä»£ï¼šæ™¶ä½“ç®¡ å¼€å§‹å‡ºç°æ“ä½œç³»ç»Ÿ å¼€å§‹å‡ºç°é«˜çº§è¯­è¨€\nç¬¬ä¸‰ä»£ï¼šä¸­å°è§„æ¨¡é›†æˆç”µè·¯ é«˜çº§è¯­è¨€è¿…é€Ÿå‘å±• å¼€å§‹å‡ºç°åˆ†æ—¶æ“ä½œç³»ç»Ÿ\nç¬¬å››ä»£ï¼šå¤§è§„æ¨¡ã€è¶…å¤§è§„æ¨¡é›†æˆç”µè·¯ å‡ºç°å¾®å¤„ç†å™¨ã€å¾®å‹è®¡ç®—æœºã€ä¸ªäººè®¡ç®—æœºPCèŒèŠ½ ã€ æ“ä½œç³»ç»Ÿ\nå¾®å¤„ç†å™¨çš„å‘å±•ï¼š\næœºå™¨å­—é•¿ï¼šè®¡ç®—æœºä¸€æ¬¡æ•´æ•°è¿ç®—æ‰€èƒ½å¤„ç†çš„äºŒè¿›åˆ¶ä½æ•°\næ‘©å°”å®šå¾‹ï¼šæ­ç¤ºäº†ä¿¡æ¯æŠ€æœ¯è¿›æ­¥çš„é€Ÿåº¦ï¼Œé›†æˆç”µè·¯ä¸Šå¯å®¹çº³çš„æ™¶ä½“ç®¡æ•°ç›®ï¼Œçº¦æ¯éš”18ä¸ªæœˆå°±ä¼šå¢åŠ ä¸€å€ï¼Œæ•´ä½“æ€§èƒ½ä¹Ÿå°†æå‡ä¸€å€\nè½¯ä»¶çš„å‘å±•ï¼š\næœºå™¨è¯­è¨€010101=\u0026gt;æ±‡ç¼–è¯­è¨€=\u0026gt;FORTRAN/PASCAL/C++=\u0026gt;javaã€python\nDOCæ“ä½œç³»ç»Ÿ=\u0026gt;windowsã€androidã€ios\nç›®å‰çš„å‘å±•è¶‹åŠ¿ï¼š\nä¸¤æåˆ†åŒ–ï¼š\n1.å¾®å‹è®¡ç®—æœºæ›´å¾®å‹åŒ–ã€ç½‘ç»œåŒ–ã€é«˜æ€§èƒ½ã€å¤šç”¨é€”æ–¹å‘å‘å±•\n2.å·¨å‹åŒ–ã€è¶…é«˜é€Ÿã€å¹¶è¡Œå¤„ç†ã€æ™ºèƒ½åŒ–æ–¹å‘å‘å±•\nè®¡ç®—æœºç¡¬ä»¶çš„åŸºæœ¬ç»„æˆï¼š\n1.æ—©æœŸå†¯è¯ºä¾æ›¼çš„ç»“æ„\n2.ç°ä»£è®¡ç®—æœºçš„ç»“æ„\nENIACæ‰‹åŠ¨æ¥çº¿æ¥æ§åˆ¶è®¡ç®—\nå†¯è¯ºä¾æ›¼ï¼šâ€å­˜å‚¨ç¨‹åºâ€œçš„æ¦‚å¿µæ˜¯æŒ‡å°†æŒ‡ä»¤ä»¥äºŒè¿›åˆ¶ä»£ç çš„å½¢å¼äº‹å…ˆè¾“å…¥è®¡ç®—æœºçš„ä¸»å­˜å‚¨å™¨ï¼ˆå†…å­˜ï¼‰ï¼Œç„¶åæŒ‰å…¶åœ¨å­˜å‚¨å™¨ä¸­çš„é¦–åœ°å€æ‰§è¡Œç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼Œä»¥åå°±æŒ‰è¯¥ç¨‹åºçš„è§„å®šé¡ºåºæ‰§è¡Œå…¶ä»–æŒ‡ä»¤ï¼Œç›´è‡³ç¨‹åºæ‰§è¡Œç»“æŸã€‚\næ—©æœŸå†¯è¯ºä¾æ›¼æœºï¼š\næ•°æ®/ç¨‹åºï¼šå³è½¯ä»¶\nç¡¬ä»¶ï¼š\nè¾“å…¥è®¾å¤‡ï¼šå°†ä¿¡æ¯è½¬æ¢æˆæœºå™¨èƒ½è¯†åˆ«çš„å½¢å¼\nå­˜å‚¨å™¨ï¼šå­˜æ”¾æ•°æ®å’Œç¨‹åº\nè¿ç®—å™¨ï¼šç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—\næ§åˆ¶å™¨ï¼šæŒ‡æŒ¥ç¨‹åºè¿è¡Œ\nè¾“å‡ºè®¾å¤‡ï¼šå°†ç»“æœè½¬æ¢æˆäººä»¬ç†Ÿæ‚‰çš„å½¢å¼\nåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œè½¯ä»¶å’Œç¡¬ä»¶åœ¨é€»è¾‘ä¸Šæ˜¯ç­‰æ•ˆçš„ã€‚\nå†¯è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹ï¼š\nè®¡ç®—æœºç”±5å¤§éƒ¨ä»¶ç»„æˆï¼šè¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡ã€å­˜å‚¨å™¨ã€è¿ç®—å™¨ã€æ§åˆ¶å™¨ æŒ‡ä»¤å’Œæ•°æ®ä»¥åŒç­‰åœ°ä½å­˜å‚¨äºå­˜å‚¨å™¨ï¼Œå¯æŒ‰åœ°å€å¯»è®¿ æŒ‡ä»¤å’Œæ•°æ®ç”¨äºŒè¿›åˆ¶è¡¨ç¤º æŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆ å­˜å‚¨ç¨‹åº ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒ è¾“å…¥/è¾“å‡ºè®¾å¤‡ä¸å­˜å‚¨å™¨ä¹‹é—´çš„æ•°æ®ä¼ é€é€šè¿‡è¿ç®—å™¨å®Œæˆ\nç°ä»£è®¡ç®—æœºçš„ç»“æ„ä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ\nCPU=è¿ç®—å™¨+æ§åˆ¶å™¨\nè®¡ç®—æœºç»„æˆåŸç†ä¸­ï¼Œä¸»æœºçš„æ¦‚å¿µå°±æ˜¯è¿ç®—å™¨+æ§åˆ¶å™¨ï¼ˆcpuï¼‰+å­˜å‚¨å™¨\nå­˜å‚¨å™¨ï¼šä¸»å­˜ï¼ˆå†…å­˜ï¼‰+è¾…å­˜ï¼ˆç¡¬ç›˜ï¼‰\nä¸»æœºçš„å­˜å‚¨å™¨æ˜¯å†…å­˜ä¹Ÿå°±æ˜¯ä¸»å­˜\nè¾…å­˜æ˜¯IOè®¾å¤‡\nè®¡ç®—æœºç¡¬ä»¶çš„åŸºæœ¬ç»„æˆï¼š\näº”å¤§éƒ¨åˆ† è¾“å…¥è®¾å¤‡ï¼šå°†ä¿¡æ¯è½¬æ¢æˆæœºå™¨èƒ½è¯†åˆ«çš„å½¢å¼ è¾“å‡ºè®¾å¤‡ï¼šå°†ç»“æœè½¬æ¢æˆäººä»¬ç†Ÿæ‚‰çš„å½¢å¼ ä¸»å­˜å‚¨å™¨ï¼šå­˜æ”¾æ•°æ®å’Œç¨‹åº è¿ç®—å™¨ï¼šç®—æœ¯è¿ç®—ã€é€»è¾‘è¿ç®— æ§åˆ¶å™¨ï¼šæŒ‡æŒ¥å„éƒ¨ä»¶ï¼Œä½¿ç¨‹åºè¿è¡Œ å†¯è¯ºä¾æ›¼ç»“æ„ é¦–æ¬¡æå‡ºå­˜å‚¨ç¨‹åºæ¦‚å¿µ ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒ ç°ä»£è®¡ç®—æœºç»“æ„ ä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ CPU=è¿ç®—å™¨+æ§åˆ¶å™¨ ä¸»å­˜å‚¨å™¨çš„åŸºæœ¬ç»„æˆï¼š\nä¸»å­˜å‚¨å™¨ï¼š\nå­˜å‚¨ä½“ MAR memory address register å­˜å‚¨åœ°å€å¯„å­˜å™¨ MDR memory data register å­˜å‚¨æ•°æ®å¯„å­˜å™¨ è¯»å’Œå†™\nå­˜å‚¨å™¨ï¼š\nå­˜å‚¨å•å…ƒï¼šæ¯ä¸ªå­˜å‚¨å•å…ƒå­˜æ”¾ä¸€ä¸²äºŒè¿›åˆ¶ä»£ç  å­˜å‚¨å­—ï¼šword å­˜å‚¨å•å…ƒä¸­äºŒè¿›åˆ¶ä»£ç çš„ç»„åˆ å­˜å‚¨å­—é•¿ï¼šå­˜å‚¨å•å…ƒä¸­äºŒè¿›åˆ¶ä»£ç çš„ä½æ•° å­˜å‚¨å…ƒï¼šå­˜å‚¨äºŒè¿›åˆ¶çš„ç”µå­åŸä»¶ï¼Œé€šå¸¸ä¸ºç”µå®¹ï¼Œæ¯ä¸ªå­˜å‚¨å…ƒå¯å­˜1bit MARä½æ•°åæ˜ å­˜å‚¨å•å…ƒçš„ä¸ªæ•°\nMDRä½æ•°=å­˜å‚¨å­—é•¿\nMAR4ä½ = ä¸€å…±æœ‰2çš„å››æ¬¡æ–¹ä¸ªå­˜å‚¨å•å…ƒ\nMDR16ä½ = æ¯ä¸ªå­˜å‚¨å•å…ƒå¯å­˜æ”¾16bit 1ä¸ªå­—word = 16bit\næ··æ·†ç‚¹\n1ä¸ªå­—èŠ‚=8bit\n1B=ä¸€ä¸ªå­—èŠ‚\n1b=1bit\nè¿ç®—å™¨çš„åŸºæœ¬ç»„æˆï¼šç”¨äºå®ç°ç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—\nACC accumulator ç´¯åŠ å™¨ ç”¨äºå­˜æ”¾æ“ä½œæ•°æˆ–è¿ç®—ç»“æœ MQ multiple-quotient register ä¹˜å•†å¯„å­˜å™¨ ï¼Œ åœ¨ä¹˜é™¤è¿ç®—æ—¶ï¼Œç”¨äºå­˜æ”¾æ“ä½œæ•°æˆ–è¿ç®—ç»“æœ ALU arithmetic and logic unit ç®—æœ¯é€»è¾‘å•å…ƒï¼Œ é€šè¿‡å†…éƒ¨å¤æ‚çš„ç”µè·¯å®ç°ç®—æœ¯è¿ç®—ã€é€»è¾‘è¿ç®— X é€šç”¨çš„æ“ä½œæ•°å¯„å­˜å™¨ï¼Œ ç”¨äºå­˜æ”¾æ“ä½œæ•° æ§åˆ¶å™¨çš„åŸºæœ¬ç»„æˆï¼š\nCUï¼š control unitæ§åˆ¶å•å…ƒï¼Œåˆ†ææŒ‡ä»¤ï¼Œç»™å‡ºæ§åˆ¶ä¿¡å· IRï¼š instruction register æŒ‡ä»¤å¯„å­˜å™¨ï¼Œå­˜æ”¾å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤ PCï¼š program counter ç¨‹åºè®¡æ•°å™¨ ï¼Œ å­˜æ”¾ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼Œ æœ‰è‡ªåŠ¨åŠ 1åŠŸèƒ½ å®Œæˆä¸€æ¡æŒ‡ä»¤=å–æŒ‡ä»¤PC + åˆ†ææŒ‡ä»¤ IR + æ‰§è¡ŒæŒ‡ä»¤CU\nå„ç¡¬ä»¶éƒ¨ä»¶ï¼š\nä¸»å­˜ MARï¼šå†…å­˜åœ°å€å¯„å­˜å™¨ï¼Œç”¨äºæŒ‡æ˜è¦è¯»/å†™å“ªä¸ªå­˜å‚¨å•å…ƒã€‚å…¶ä½æ•°åæ˜ å­˜å‚¨å•å…ƒçš„æ•°é‡ MDRï¼šå†…å­˜æ•°æ®å¯„å­˜å™¨ï¼Œç”¨äºæš‚å­˜è¦è¯»/å†™çš„æ•°æ®ã€‚å…¶ä½æ•°åæ˜ å­˜å‚¨å­—é•¿ å­˜å‚¨ä½“: æ¦‚å¿µï¼šå­˜å‚¨å…ƒã€å­˜å‚¨å•å…ƒã€å­˜å‚¨å­—ã€å­˜å‚¨å­—é•¿ã€åœ°å€ è¿ç®—å™¨ X é€šç”¨å¯„å­˜å™¨ï¼Œå­˜æ”¾æ“ä½œæ•° ACC ç´¯åŠ è®¡æ•°å™¨ï¼Œå­˜æ”¾æ“ä½œæ•°ã€è¿ç®—ç»“æœ ALU ç®—æœ¯é€»è¾‘å•å…ƒï¼Œç”¨ç”µè·¯å®ç°å„ç§ç®—æœ¯è¿ç®—ã€é€»è¾‘è¿ç®— MQ ä¹˜å•†å¯„å­˜å™¨ï¼Œè¿›è¡Œä¹˜é™¤æ³•æ—¶ç”¨åˆ° æ§åˆ¶å™¨ IR æŒ‡ä»¤å¯„å­˜å™¨ï¼Œå­˜æ”¾å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤ PC ç¨‹åºè®¡æ•°å™¨ï¼Œå­˜æ”¾ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ CU æ§åˆ¶å•å…ƒï¼Œåˆ†ææŒ‡ä»¤ï¼Œç»™å‡ºæ§åˆ¶ä¿¡å· å·¥ä½œè¿‡ç¨‹ åˆå§‹ï¼šæŒ‡ä»¤ã€æ•°æ®å­˜å…¥ä¸»å­˜ï¼ŒPCæŒ‡å‘ç¬¬ä¸€æ¡æŒ‡ä»¤ ä»ä¸»å­˜ä¸­å–æŒ‡ä»¤æ”¾å…¥IRã€PCè‡ªåŠ¨åŠ 1ã€CUåˆ†ææŒ‡ä»¤ã€CUæŒ‡æŒ¥å…¶ä»–éƒ¨ä»¶æ‰§è¡ŒæŒ‡ä»¤ è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„\né«˜çº§è¯­è¨€æœºå™¨ ç”¨ç¼–è¯‘ç¨‹åºç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€ç¨‹åº\næ±‡ç¼–è¯­è¨€æœºå™¨ ç”¨æ±‡ç¼–ç¨‹åºç¿»è¯‘æˆæœºå™¨è¯­è¨€ç¨‹åº\næ“ä½œç³»ç»Ÿæœºå™¨ å‘ä¸Šæä¾›å¹¿ä¹‰æŒ‡ä»¤(ç³»ç»Ÿè°ƒç”¨)\nç”¨æœºå™¨è¯­è¨€çš„æœºå™¨ æ‰§è¡ŒäºŒè¿›åˆ¶æœºå™¨æŒ‡ä»¤\nå¾®æŒ‡ä»¤ç³»ç»Ÿ ç”±ç¡¬ä»¶ç›´æ¥æ‰§è¡Œå¾®æŒ‡ä»¤\nä¸‰ç§çº§åˆ«çš„è¯­è¨€\né«˜çº§è¯­è¨€ æ±‡ç¼–è¯­è¨€ æœºå™¨è¯­è¨€ é€šå¸¸é«˜çº§è¯­è¨€å¾—ç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€ï¼Œæ±‡ç¼–è¯­è¨€ç¿»è¯‘æˆæœºå™¨è¯­è¨€æ‰å¯ä»¥æ‰§è¡Œ\nä½†æœ‰æ—¶å€™é«˜çº§è¯­è¨€å¯ä»¥ç›´æ¥é€šè¿‡ç¼–è¯‘ç¨‹åºç›´æ¥ç¿»è¯‘æˆæœºå™¨è¯­è¨€è¿›è¡Œæ‰§è¡Œ\nç¼–è¯‘ç¨‹åºï¼šç¼–è¯‘ã€æ±‡ç¼–ã€è§£é‡Šç¨‹åº\nè§£é‡Šç¨‹åºçš„è¯­è¨€å°±æ˜¯è§£é‡Šæ€§è¯­è¨€\nç¼–è¯‘çš„è¯­è¨€å°±æ˜¯ç¼–è¯‘æ€§è¯­è¨€\nç¼–è¯‘ç¨‹åºæ˜¯ä¸€æ¬¡å…¨éƒ¨ç¿»è¯‘æˆæœºå™¨è¯­è¨€çš„ç¨‹åºï¼Œè€Œåå†æ‰§è¡Œæœºå™¨è¯­è¨€ç¨‹åºï¼Œåªéœ€è¦ç¿»è¯‘ä¸€æ¬¡\nè§£é‡Šç¨‹åºæ˜¯å°†æºç¨‹åºçš„ä¸€æ¡è¯­å¥ç¿»è¯‘æˆå¯¹åº”äºæœºå™¨è¯­è¨€çš„è¯­å¥å¹¶ç«‹å³æ‰§è¡Œã€‚ç´§æ¥ç€å†ç¿»è¯‘ä¸‹ä¸€å¥ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½è¦ç¿»è¯‘\nè®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡\nå­˜å‚¨å™¨çš„æ€§èƒ½æŒ‡æ ‡\nMARä½æ•°åæ˜ å­˜å‚¨å•å…ƒçš„ä¸ªæ•°ï¼ˆå¯¹å¤šæ”¯æŒå¤šå°‘ä¸ªï¼‰\nMDRä½æ•°=å­˜å‚¨å­—é•¿=æ¯ä¸ªå­˜å‚¨å•å…ƒçš„å¤§å°\næ€»å®¹é‡=å­˜å‚¨å•å…ƒä¸ªæ•°*å­˜å‚¨å­—é•¿ bit = å­˜å‚¨å•å…ƒä¸ªæ•° * å­˜å‚¨å­—é•¿/8 byte\n2çš„åæ¬¡æ–¹ = K\n2çš„äºŒåæ¬¡æ–¹=M\n2çš„ä¸‰åæ¬¡æ–¹=G\n2çš„å››æ˜¯æ¬¡æ–¹=T\nCPUçš„æ€§èƒ½æŒ‡æ ‡\nCPUä¸»é¢‘ï¼šCPUå†…éƒ¨æ•°å­—è„‰å†²ä¿¡å·æŒ¯è¡çš„æ¦‚ç‡ = 1/CPUæ—¶é’Ÿå‘¨æœŸ\nCPI:æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸ\næ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„è€—æ—¶ï¼šCPI * CPU æ—¶é’Ÿå‘¨æœŸ\nCPUæ‰§è¡Œæ—¶é—´ï¼šæ•´ä¸ªç¨‹åºçš„è€—æ—¶\nIPSï¼š instructions per second æ¯ç§’æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤ = ä¸»é¢‘/å¹³å‡CPI\nFLOPS:æ¯ç§’æ‰§è¡Œå¤šå°‘æ¬¡æµ®ç‚¹è¿ç®—\nç³»ç»Ÿæ•´ä½“çš„æ€§èƒ½æŒ‡æ ‡\næ•°æ®é€šè·¯å¸¦å®½ï¼šæ•°æ®æ€»çº¿ä¸€æ¬¡æ‰€èƒ½å¹¶è¡Œä¼ é€ä¿¡æ¯çš„ä½æ•°ï¼ˆå„ç¡¬ä»¶éƒ¨ä»¶é€šè¿‡æ•°æ®æ€»çº¿ä¼ è¾“æ•°æ®ï¼‰\nååé‡ï¼šç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…å¤„ç†è¯·æ±‚çš„æ•°é‡\nå“åº”æ—¶é—´ï¼šç”¨æˆ·å‘è®¡ç®—æœºå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œåˆ°ç³»ç»Ÿå¯¹è¯¥è¯·æ±‚åšå‡ºå“åº”å¹¶è·å¾—å®ƒæ‰€éœ€è¦çš„ç»“æœçš„ç­‰å¾…æ—¶é—´ã€‚\nåŸºå‡†ç¨‹åºï¼šç”¨æ¥æµ‹é‡è®¡ç®—æœºå¤„ç†é€Ÿåº¦çš„ä¸€ç§å®ç”¨ç¨‹åºï¼Œä»¥ä¾¿äºè¢«æµ‹é‡çš„è®¡ç®—æœºæ€§èƒ½å¯ä»¥ä¸è¿è¡Œç›¸åŒç¨‹åºçš„å…¶ä»–è®¡ç®—æœºæ€§èƒ½è¿›è¡Œæ¯”è¾ƒã€‚\nè®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡ï¼š\nå­˜å‚¨å™¨çš„å®¹é‡ MARçš„ä½æ•°åæ˜ å­˜å‚¨å•å…ƒæ•°é‡ MDRåæ˜ æ¯ä¸ªå­˜å‚¨å•å…ƒå¤§å° CPU ä¸»é¢‘ æ—¶é’Ÿé¢‘ç‡ =1/æ—¶é’Ÿå‘¨æœŸ å•ä½:HZ æ—¶é’Ÿå‘¨æœŸ CPUä¸­çš„æœ€å°å•ä½ï¼Œæ¯ä¸ªåŠ¨ä½œè‡³å°‘è¦ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ CPUæ‰§è¡Œæ—¶é—´ è¿è¡Œä¸€ä¸ªç¨‹åºæ‰€èŠ±è´¹çš„æ—¶é—´ æŒ‡ä»¤æ¡æ•° * CPI /ä¸»é¢‘ CPI æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸæ•° IPS æ¯ç§’æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤ =ä¸»é¢‘/å¹³å‡CPI FLOPSï¼šæ¯ç§’æ‰§è¡Œå¤šå°‘æµ®ç‚¹è¿ç®— å…¶ä»– æ•°æ®é€šè·¯å®½åº¦ã€ååé‡ã€å“åº”æ—¶é—´ã€åŸºå‡†ç¨‹åº å¸¸ç”¨æ•°é‡å•ä½ æè¿°å­˜å‚¨å®¹é‡ã€æ–‡ä»¶å¤§å°æ—¶ï¼šK=2^10 M=2^20 G=2^30 t=2^40 æè¿°é¢‘ç‡ã€é€Ÿç‡æ—¶ï¼šK=10^3 M=10^6 G=10^9 T=10^12 è¿›ä½è®¡æ•°åˆ¶\nåè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ å…¶ä»–è¿›åˆ¶=\u0026gt;åè¿›åˆ¶ äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ä¹‹é—´çš„ç›¸äº’è½¬æ¢ åè¿›åˆ¶=\u0026gt;å…¶ä»–è¿›åˆ¶ çœŸå€¼å’Œæœºå™¨æ•° åŸºæ•°ï¼šæ¯ä¸ªæ•°ç ä½æ‰€ç”¨åˆ°çš„ä¸åŒç¬¦å·çš„ä¸ªæ•°ï¼Œrè¿›åˆ¶çš„åŸºæ•°ä¸ºr\näºŒè¿›åˆ¶ï¼š0,1\nå…«è¿›åˆ¶ï¼š01234567\nåè¿›åˆ¶ï¼š0123456789\nåå…­è¿›åˆ¶ï¼š0123456789ABCDEF\näºŒè¿›åˆ¶ä¼˜åŠ¿ï¼š\nå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¨³å®šçŠ¶æ€çš„ç‰©ç†å™¨ä»¶è¡¨ç¤º 01æ­£å¥½å¯¹åº”é€»è¾‘å€¼çš„å‡çœŸã€‚æ–¹ä¾¿å®ç°é€»è¾‘è¿ç®— å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨é€»è¾‘é—¨ç”µè·¯å®ç°ç®—æœ¯è¿ç®— ä»»æ„è¿›åˆ¶=\u0026gt;åè¿›åˆ¶\näºŒè¿›åˆ¶=\u0026gt;å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶\näºŒè¿›åˆ¶åŸºæ•°ä¸º2\nå…«è¿›åˆ¶åŸºæ•°ä¸º8\nä¸ºäº†ä¿è¯å¯¹åº”ï¼Œåº”è¯¥å°†äºŒè¿›åˆ¶çš„3ä½ä½œä¸ºä¸€ç»„ï¼Œæ¯ç»„è½¬æ¢ä½å¯¹åº”çš„å…«è¿›åˆ¶ç¬¦å·\nå…«è¿›åˆ¶=\u0026gt;äºŒè¿›åˆ¶\nå…«è¿›åˆ¶åŸºæ•°ä¸º8\näºŒè¿›åˆ¶åŸºæ•°ä¸º2\nä¸ºäº†ä¿è¯å¯¹åº”ï¼Œåº”è¯¥å°†å…«è¿›åˆ¶çš„æ¯ä½éƒ½ç”¨äºŒè¿›åˆ¶çš„ä¸‰ä½æ¥ä»£æ›¿ï¼Œæ¯3ä¸ºè½¬æ¢ä½å¯¹åº”çš„äºŒè¿›åˆ¶ç¬¦å·\näºŒè¿›åˆ¶è¡¨ç¤º 10101010B\nåå…­è¿›åˆ¶ 349820347H 0x2234623876\nåè¿›åˆ¶ 2134234D\nåè¿›åˆ¶=\u0026gt;äºŒè¿›åˆ¶ ä½¿ç”¨ ï¼ˆæ•´æ•°éƒ¨åˆ†ï¼‰é™¤åŸºå–ä½™æ³•+ï¼ˆå°æ•°éƒ¨åˆ†ï¼‰ä¹˜åŸºå–æ•´æ³•\nçœŸå€¼ï¼šç¬¦åˆäººç±»ä¹ æƒ¯çš„æ•°å­—\næœºå™¨æ•°ï¼šæ•°å­—å®é™…å­˜åˆ°æœºå™¨é‡Œçš„å½¢å¼ï¼Œæ­£è´Ÿå·éœ€è¦è¢«æ•°å­—åŒ–\nBCDç ï¼šBinary-Coded Decimal ,ç”¨äºŒè¿›åˆ¶ç¼–ç çš„åè¿›åˆ¶\n8421ç  ä½™ä¸‰æ³• 2421ç  åŸç†ï¼šç”¨4ä¸ªäºŒè¿›åˆ¶æ¥è¡¨ç¤ºä¸€ä¸ªåè¿›åˆ¶ ï¼Œ è™½ç„¶è¿™æ ·ä¼šé€ æˆ6ç§å†—ä½™ï¼Œå› ä¸º2çš„å››æ¬¡æ–¹=16 å³èƒ½è¡¨ç¤ºä»0-15 ï¼Œ åè¿›åˆ¶è¡¨ç¤ºä»0-9 ï¼Œ æ‰€ä»¥ä¼šé€ æˆ6ä¸ªå†—ä½™\n8421ç å¯¹åº”å…³ç³»ï¼š\nX X X X\n8 4 2 1\næ‰€ä»¥å¦‚æœæƒ³è¡¨ç¤º985 ï¼Œ 8421ç åº”è¯¥è¿™ä¹ˆå†™ 1001 1000 0101 å˜»å˜»å˜»ï¼\nåè¿›åˆ¶çš„åŠ æ³• 8+5\n8421ç åŠ æ³• 8+5 = 1000 + 0101 = 1101 ä½†æ˜¯è¿™ä¸ªè½åœ¨1010~10010ä¸­ï¼Œä¹Ÿå°±æ˜¯8421ç ä¸å…è®¸æˆ–è€…è¯´æ²¡æœ‰å®šä¹‰çš„èŒƒå›´å†…ï¼Œä¸ºäº†è®©ä»–æœ‰æ„ä¹‰ï¼Œéœ€è¦+6ï¼Œè®©å®ƒè¿›ä¸€ä½ï¼Œä¹Ÿå³1101+0110 = 11011 = 0001 0011 ä¹Ÿå°±æ˜¯1 3\nä½™3ç ï¼š8421ç +ï¼ˆ0011ï¼‰B\n2421ç ï¼šæ”¹å˜æƒå€¼å®šä¹‰\nX X X X\n2 4 2 1\nå¦‚æœæƒ³è¡¨ç¤º985 ï¼Œ åˆ™ 1111 1110 1011\nè§„åˆ™ï¼š0-4 ç¬¬ä¸€ä½ä¸èƒ½ä¸º1 ï¼› 5-9 ç¬¬ä¸€ä½å¿…é¡»ä¸º1\nBCDç \n8421ç  æ¯4ä¸ªäºŒè¿›åˆ¶ä½å¯¹åº”ä¸€ä¸ªåè¿›åˆ¶ä½ï¼ˆæœ‰6ä¸ªå†—ä½™çŠ¶æ€ï¼‰ 8ã€4ã€2ã€1åˆ†åˆ«å¯¹åº”æ¯ä¸€ä½çš„æƒå€¼ 0000-1011 åˆ†åˆ«å¯¹åº” 0-9 ï¼Œè¿›è¡ŒåŠ æ³•åè‹¥è¶…å‡ºè¯¥èŒƒå›´ï¼Œåˆ™éœ€è¦+0110Bè¿›è¡Œä¿®æ­£ï¼ˆå¼ºåˆ¶å‘é«˜ä½è¿›1ï¼‰ ä½™3ç  8421ç  + 0011 2421ç  2ã€4ã€2ã€1åˆ†åˆ«å¯¹åº”æ¯ä¸€ä½çš„æƒå€¼ è¡¨ç¤º0~4æ—¶æœ€é«˜ä½ä¸º0 ï¼Œ è¡¨ç¤º5~9æ—¶æœ€é«˜ä½ä¸º1 å­—ç¬¦ä¸å­—ç¬¦ä¸²\nè‹±æ–‡è¡¨ç¤º\nASCIIç \n128ä½å­—ç¬¦ ç”¨7ä½æ¥è¡¨ç¤ºå°±å¥½ ï¼Œä½†1B=8bit é€šå¸¸å°±ç”¨1Bæ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦\nå¯å°åˆ·å­—ç¬¦ï¼š32-126 ï¼Œ å…¶ä½™ä¸ºæ§åˆ¶ã€é€šä¿¡å­—ç¬¦\n97=01100001B\n122=01110110B\næ±‰å­—è¡¨ç¤º\nä¸ºäº†æ–¹ä¾¿åŒºåˆ† ï¼Œ å°†1980ç‰ˆå›½æ ‡åˆ—å‡ºäº†å¸¸ç”¨çš„7000å¤šä¸ªæ±‰å­—ï¼Œå¯¹åº”çš„æ˜¯ä¸€ä¸ª93 * 93 çš„çŸ©é˜µï¼Œç”¨çŸ©é˜µçš„è¡Œå’Œåˆ—æ¥è¡¨ç¤ºï¼Œå³åŒºç +ä½ç \nåŒºä½ç ï¼š94ä¸ªåŒºï¼Œæ¯åŒº94ä¸ªä½ç½®\nä½†æ˜¯å‰æ–‡æåˆ°ASCIIç çš„0-32æ˜¯ç”¨äºæ§åˆ¶å’Œé€šä¿¡ï¼Œä¸ºäº†é˜²æ­¢æ±‰å­—çš„ç¼–ç å’Œè‹±æ–‡çš„ç¼–ç äº§ç”Ÿå†²çªï¼Œæˆ‘ä»¬éœ€è¦åœ¨åŸæœ‰çš„åŸºç¡€ä¸Š+20H ï¼ˆ20Hå°±æ˜¯åå…­è¿›åˆ¶çš„20 ï¼Œ ä¹Ÿå°±æ˜¯32ï¼‰ åŠ ä¸Š32ä¹‹åå°±é¿å¼€äº†é€šä¿¡å’Œæ§åˆ¶åŒºåŸŸ ï¼Œ ä½†æ˜¯ASCIIç 32-125æ˜¯å¯å°åˆ·å­—ç¬¦ï¼Œä¸ºäº†é˜²æ­¢æ±‰å­—çš„ç¼–ç å’Œè‹±æ–‡çš„ç¼–ç äº§ç”Ÿå†²çªï¼Œæˆ‘ä»¬éœ€è¦åœ¨åŸæœ‰çš„åŸºç¡€ä¸Š+80Hï¼ˆ80Hå°±æ˜¯åå…­è¿›åˆ¶çš„128ï¼‰è¿™æ ·å°±å¯ä»¥è¶Šå¼€ASCIIç äº§ç”Ÿçš„å†²çªï¼Œå› ä¸ºASCIIç æ˜¯1Bï¼Œå¹¶ä¸”1Bæ˜¯ä»¥0xxx xxxx è¡¨ç¤ºçš„ï¼Œé«˜ä½ä¸æ˜¯1ï¼Œä½†æ±‰å­—çš„åŒºä½ç ï¼Œåˆ†ä¸ºåŒºç å’Œä½ç ï¼ŒåŠ ä¸Š20Hå’Œ80Hä¹‹åï¼Œé«˜ä½å¿…ç„¶æ˜¯1ï¼Œå¦‚æœé«˜ä½æ˜¯1ï¼Œå°±ä»£è¡¨ä»–æ˜¯æ±‰å­—ä¸æ˜¯è‹±æ–‡å­—ç¬¦ï¼Œæ‰€ä»¥è¦è¯»ä¸¤ä¸ªBï¼Œä¹Ÿå°±æ˜¯2Bï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆè‹±æ–‡ç¬¦å·æ˜¯1ä¸ªå­—èŠ‚è€Œä¸­æ–‡ç¬¦å·æ˜¯2ä¸ªå­—èŠ‚äº†ã€‚\næ±‰å­—çš„è¾“å…¥ï¼šè¾“å…¥ç¼–ç  ä¾‹å¦‚nei2\næ±‰å­—çš„è¾“å‡ºï¼šæ±‰å­—å­—å½¢ç \nå­—ç¬¦ä¸²:æŸè®¡ç®—æœºæŒ‰å­—èŠ‚ç¼–å€ï¼Œç¼–å€å³æ¯ä¸ªåœ°å€å¯¹åº”1Bï¼Œä»åœ°å€ä¸º2çš„å•å…ƒå¼€å§‹ï¼Œå­˜å‚¨å­—ç¬¦ä¸²ä¸ºâ€œabc\u0026quot;,é‚£ä¹ˆï¼Œ2-5çš„åœ°å€åˆ†åˆ«å­˜ï¼Œ61H 62H 63H 00Hï¼ˆ\\0ï¼‰ æœ€åä¸€è¡Œä½¿ç”¨\u0026rsquo;\\0\u0026rsquo;ä½œä¸ºå­—ç¬¦ä¸²ç»“å°¾æ ‡è¯†\nå½“å­˜æ”¾â€abcå•Šâ€œçš„æ—¶å€™ï¼Œå› ä¸ºæ±‰å­—éœ€è¦å ç”¨2Bï¼Œæ‰€ä»¥2-6çš„åœ°å€åˆ†åˆ«å­˜ï¼Œ 61H 62H 63H B0H A1H 00H æˆ–è€… 61H 62H 63H A1H B0H 00H ï¼Œ\nå¤§ç«¯æ¨¡å¼ï¼šå°†æ•°æ®çš„æœ€é«˜æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨ä½åœ°å€å•å…ƒä¸­\nå°ç«¯æ¨¡å¼ï¼šå°†æ•°æ®çš„æœ€é«˜æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨é«˜åœ°å€å½“ä¸­\nå­—ç¬¦ä¸å­—ç¬¦ä¸²\nASCIIç  é€šå¸¸ç”¨8bitè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œæœ€é«˜ä½éƒ½ä¸º0 å…±128ä¸ªå­—ç¬¦ã€‚0-31ä¸ºæ§åˆ¶/é€šä¿¡å­—ç¬¦ï¼›32-126ä¸ºå¯å°åˆ·å­—ç¬¦ æ‰€æœ‰å¤§å†™å­—æ¯ã€æ‰€æœ‰å°å†™å­—æ¯ã€æ‰€æœ‰æ•°å­—çš„ç¼–ç éƒ½è¿ç»­ æ±‰å­— åŒºä½ç ã€å›½æ ‡ç ã€æ±‰å­—å†…ç ã€è¾“å…¥ç¼–ç ã€å­—å½¢ç  å›½æ ‡ç =åŒºä½ç +2020H æœºå†…ç =å›½æ ‡ç +8080H å­—ç¬¦ä¸² ä»ä½åœ°å€åˆ°é«˜åœ°å€é€ä¸ªå­—ç¬¦å­˜å‚¨ï¼Œå¸¸é‡‡ç”¨\u0026rsquo;\\0\u0026rsquo;ä½œä¸ºç»“å°¾æ ‡å¿— å¯¹äºå¤šå­—èŠ‚çš„æ•°æ®ï¼ˆå¦‚æ±‰å­—ï¼‰ï¼Œå¯é‡‡å–å¤§/å°ç«¯å­˜å‚¨æ¨¡å¼ å¤§ç«¯æ¨¡å¼ï¼šå°†æ•°æ®çš„æœ€é«˜æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨ä½åœ°å€å•å…ƒä¸­ å°ç«¯æ¨¡å¼ï¼šå°†æ•°æ®çš„æœ€é«˜æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨é«˜åœ°å€å•å…ƒä¸­ å¥‡å¶æ ¡éªŒç \nå¥‡å¶æ ¡éªŒ\næ ¡éªŒåŸç† å¥‡å¶æ ¡éªŒ ç”±è‹¥å¹²ä½ä»£ç ç»„æˆçš„ä¸€ä¸ªå­—å«ç å­—\nå°†ä¸¤ä¸ªç å­—é€ä½è¿›è¡Œå¯¹æ¯”ï¼Œå…·æœ‰ä¸åŒçš„ä½çš„ä¸ªæ•°æˆä¸ºä¸¤ä¸ªç å­—é—´çš„è·ç¦»\nä¸€ç§ç¼–ç æ–¹æ¡ˆå¯èƒ½æœ‰è‹¥å¹²ä¸ªåˆæ³•ç å­—ï¼Œå„åˆæ³•ç å­—é—´çš„æœ€å°è·ç¦»æˆä¸ºç è·\nå½“ç è·=1æ—¶ï¼Œæ— æ£€é”™èƒ½åŠ› ï¼› å½“ç è·=2æ—¶ï¼Œæœ‰æ£€é”™èƒ½åŠ› ï¼› å½“ç è·\u0026gt;=3æ—¶ï¼Œè‹¥è®¾è®¡åˆç†ï¼Œå¯èƒ½å…·æœ‰æ£€é”™çº é”™èƒ½åŠ›\nå¥‡æ ¡éªŒç ï¼šæ•´ä¸ªæ ¡éªŒç ï¼ˆæœ‰æ•ˆä¿¡æ¯ä½å’Œæ ¡éªŒä½ï¼‰ä¸­1çš„ä¸ªæ•°ä¸ºå¥‡æ•°\nå¶æ ¡éªŒç ï¼šæ•´ä¸ªæ ¡éªŒç ï¼ˆæœ‰æ•ˆä¿¡æ¯ä½å’Œæ ¡éªŒä½ï¼‰ä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•°\nå¥‡å¶æ ¡éªŒä¸­ï¼Œå¦‚æœå¶æ•°ä¸ªä½å‘ç”Ÿä½é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯ä½è·³å˜çš„è¯æ˜¯æ£€æµ‹ä¸å‡ºé”™è¯¯çš„\nå¦‚ä½•æ±‚æ ¡éªŒä½ï¼š\næ±‚å¶æ ¡éªŒä½ï¼šå¯¹æœ‰æ•ˆä¿¡æ¯ä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œç®—çš„ç»“æœå°±æ˜¯å¶æ ¡éªŒä½çš„å€¼\nå¦‚ä½•è¿›è¡Œæ ¡éªŒï¼šå¯¹å¶æ ¡éªŒæ¥è¯´ï¼Œå¦‚æœè¿›è¡Œçš„æ˜¯å¼‚æˆ–è¿ç®—å¾—åˆ°çš„ç»“æœæ˜¯1å°±è¯´æ˜å‡ºé”™äº†\næµ·æ˜æ ¡éªŒç \nè®¾è®¡æ€è·¯ï¼šå°†ä¿¡æ¯ä½åˆ†ç»„è¿›è¡Œå¶æ ¡éªŒ=\u0026gt;å¤šä¸ªæ ¡éªŒä½=\u0026gt;å¤šä¸ªæ ¡éªŒä½æ ‡æ³¨å‡ºé”™ä½ç½®\nå¤šä¸ªæ ¡éªŒä½èƒ½å¤Ÿæºå¸¦å¤šç§çŠ¶æ€ä¿¡æ¯ï¼ˆå¯¹/é”™ï¼Œé”™åœ¨å“ªé‡Œï¼‰\n1.ç¡®å®šæµ·æ˜ç çš„ä½æ•°ï¼š2^k \u0026gt;=n+k+1\nkä»£è¡¨å¤šå°‘ä½æ ¡éªŒç \nnä»£è¡¨æœ‰æ•ˆä¿¡æ¯ä½\n2.ç¡®å®šæ ¡éªŒä½åº”è¯¥æ”¾åœ¨å“ªä¸ªä½ç½®\nå°†æ ¡éªŒä½æ”¾åœ¨æµ·æ˜ä½å·ä¸º2^i-1æ¬¡æ–¹çš„ä½ç½®ä¸Š\n3.ç¡®å®šæ ¡éªŒä½å°†å’Œé‚£å‡ ä¸ªæœ‰æ•ˆä½ç»„æˆä¸€ç»„\nå‡è®¾ä¿¡æ¯ä½ï¼š1010\nå°†ä¸€å…±æœ‰å¤šå°‘ä½ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå¦‚H7 H6 H5 H4 H3 H2 H1\nå°†7654321è½¬æˆäºŒè¿›åˆ¶çš„æ•°è¡¨ç¤º\nå³0111 0110 0101 0100 0011 0010 0001\næ‰¾å‡ºæœ‰æ•ˆä½ï¼Œä¹Ÿå°±æ˜¯7653ï¼Œä¹Ÿå°±æ˜¯\nH7: 0111\nH6: 0110\nH5: 0101\nH3: 0011\nä»å°¾å·´å¼€å§‹å¯¹ä¸º1çš„æœ‰æ•ˆä½çš„å®é™…å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¾—åˆ°æ¯ä¸ªæ ¡éªŒä½çš„å€¼ä»¥åŠå’Œé‚£äº›æœ‰æ•ˆä½ä½œä¸ºä¸€ç»„\nå³P1=H7å¼‚æˆ–H5å¼‚æˆ–H3=D4å¼‚æˆ–D2å¼‚æˆ–D1=1å¼‚æˆ–1å¼‚æˆ–0=0\nå³P2=H7 H6 H3 = D4 D3 D1 = 1 0 0 = 1\nå³P3=H7 H6 H5 = D4 D3 D2 = 1 0 1 = 0\nH7 H6 H5 H4 H3 H2 H1 D4 D3 D2 P3 D1 P2 P1 1 0 1 0 åˆ†ç»„ç»“æœå°±æ˜¯ï¼š\nP1 D4 D2 D1\nP2 D4 D3 D1\nP3 D4 D3 D2\n4.çº é”™\nçº é”™å°±æ˜¯å¯¹åˆ†ç»„è¿›è¡Œå¶æ ¡éªŒï¼Œè‹¥ä¸º1å°±è¯´æ˜æœ‰é—®é¢˜\nå¼‚æˆ–çš„ç»“æœä»é«˜åˆ°ä½æ’åˆ— 010 =\u0026gt;åè¿›åˆ¶å°±æ˜¯2 ï¼Œå°±ä»£è¡¨ç¬¬äºŒä½å‡ºé”™äº†\næµ·æ˜ç çš„æ£€é”™ã€çº é”™èƒ½åŠ›:\nçº é”™èƒ½åŠ›\u0026ndash;1ä½\næ£€é”™èƒ½åŠ›\u0026ndash;2ä½\nä¸ºäº†é˜²æ­¢å‡ºç°2ä½åŒæ—¶å‡ºç°ä½é”™è¯¯åˆ¤æ–­é”™è¯¯ä½ä¸å¯¹çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‰å¤´åŠ ä¸Šå…¨æ ¡éªŒä½ï¼Œå¯¹æ•´ä½“è¿›è¡Œå¶æ ¡éªŒ\n1.è‹¥S3S2S1ä¸º000å¹¶ä¸”å…¨ä½“å¶æ ¡éªŒæˆåŠŸ=\u0026gt;æ— é”™è¯¯\n2.è‹¥S3S2S1ä¸ä¸º0å¹¶ä¸”å…¨ä½“å¶æ ¡éªŒå¤±è´¥=\u0026gt;æœ‰ä¸€ä½é”™è¯¯ï¼Œçº æ­£å°±å¯ä»¥äº†\n3.è‹¥S3S2S1ä¸ä¸º0å¹¶ä¸”å…¨ä½“å¶æ ¡éªŒç æˆåŠŸ=\u0026gt;æœ‰ä¸¤ä½é”™è¯¯ï¼Œéœ€è¦é‡ä¼ \næµ·æ˜ç \nåŸºæœ¬æ€æƒ³\nåˆ†ç»„å¶æ ¡éªŒï¼Œå¤šä¸ªæ ¡éªŒä½å¯åæ˜ å‡ºé”™ä½ç½® æ±‚è§£æ­¥éª¤\nç¡®å®šæ ¡éªŒä½ä¸ªæ•°kä¸ªæ ¡éªŒä½ï¼Œnä¸ªä¿¡æ¯ä¸º 2^k\u0026gt;=n+k+1 ç¡®å®šæ ¡éªŒä½åˆ†å¸ƒ P1ã€P2ã€P3\u0026hellip;åˆ†åˆ«åœ¨123416 ç©ºå‡ºæ¥çš„å…¶ä»–ä½ç½®ä¸€æ¬¡å¡«å…¥ä¿¡æ¯ä½ æ±‚æ ¡éªŒä½ å°†ä¿¡æ¯ä½çš„ä½ç½®åºå·ç”¨kä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºå‡ºæ¥ æ ¡éªŒä½Pi ä¸ä½ç½®åºå·ç¬¬iä½ä¸º1çš„ä¿¡æ¯ä¸ºå½’ä¸ºä¸€ç»„ï¼Œè¿›è¡Œå¶æ ¡éªŒ çº é”™ å¯¹P1ã€P2ã€P3\u0026hellip;æ‰€å±å„åˆ†ç»„è¿›è¡Œå¼‚æˆ–ï¼ˆç›¸å½“äºåˆ†ç»„å¶æ ¡éªŒï¼‰æ±‚å¾—S1ã€S2ã€S3 S3 S2 S1 = 000 è¯´æ˜æ— é”™è¯¯ S3 S2 S1 ä¸ç­‰000 å…¶å€¼åæ˜ å‡ºé”™ä½ç½® è¡¥å……\næµ·æ˜ç æœ‰1ä½çº é”™ï¼Œ2ä½æ£€é”™èƒ½åŠ› ä¸ºäº†åŒºåˆ†1ä½é”™å’Œ2ä½é”™ï¼Œè¿˜éœ€æ·»åŠ â€œå…¨æ ¡éªŒä½â€å¯¹æ•´ä½“è¿›è¡Œå¶æ ¡éªŒ å¾ªç¯å†—ä½™æ ¡éªŒç \nåŸºæœ¬æ€æƒ³ï¼šæ•°æ®å‘é€ã€æ¥å—æ–¹çº¦å®šä¸€ä¸ªâ€œé™¤æ•°â€\nKä¸ªä¿¡æ¯ä½+Rä¸ªæ ¡éªŒä½ ä½œä¸ºâ€œè¢«é™¤æ•°â€ ï¼Œ æ·»åŠ æ ¡éªŒä½åéœ€ä¿è¯é™¤æ³•çš„ä½™æ•°ä¸º0\nè‹¥ä½™æ•°é0 è¯´æ˜å‡ºé”™ï¼Œåˆ™è¿›è¡Œé‡ä¼ æˆ–çº é”™\næ„é€  ç”±ç”Ÿæˆå¤šé¡¹å¼ç¡®å®šé™¤æ•°ã€‚è‹¥ç”Ÿæˆå¤šé¡¹å¼ä¸­xçš„æœ€é«˜æ¬¡ä¸ºRï¼Œåˆ™é™¤æ•°æœ‰R+1ä½ Kä¸ªä¿¡æ¯ä½+Rä¸ª0 ï¼Œ ä½œä¸ºè¢«é™¤æ•° è¢«é™¤æ•°ã€é™¤æ•° è¿›è¡Œæ¨¡äºŒé™¤ ï¼Œå¾—åˆ°Rä¸ºä½™æ•° Kä¸ªä¿¡æ¯ä½+Rä½ä½™æ•° = CRCç  æ ¡éªŒ æ”¶åˆ°K+Rä½æ•°æ®ï¼Œä¸ç”Ÿæˆå¤šé¡¹å¼æ¨¡äºŒé™¤ï¼Œè®¡ç®—Rä¸ºä½™æ•° ä½™æ•°ä¸º0ï¼Œè¯´æ˜æ— é”™è¯¯ ä½™æ•°é0ï¼Œè¯´æ˜å‡ºé”™ æ£€é”™ã€çº é”™èƒ½åŠ› å¯ä»¥æ£€æµ‹å‡ºæ‰€æœ‰å¥‡æ•°ä¸ªé”™è¯¯ å¯ä»¥æ£€æµ‹å‡ºæ‰€æœ‰åŒæ¯”ç‰¹çš„é”™è¯¯ å¯ä»¥æ£€æµ‹å‡ºæ‰€æœ‰å°äºç­‰äºæ ¡éªŒä½é•¿åº¦çš„è¿ç»­é”™è¯¯ è‹¥é€‰æ‹©åˆé€‚çš„ç”Ÿæˆå¤šé¡¹å¼ï¼Œä¸”2^R \u0026gt;=K +R +1ï¼Œåˆ™å¯çº æ­£å•æ¯”ç‰¹é”™ å®šç‚¹æ•°ä¸æµ®ç‚¹æ•°\nå®šç‚¹æ•°ï¼šå°æ•°ç‚¹çš„ä½ç½®å›ºå®š \u0026ndash;å¸¸è§„è®¡æ•°æ³•\næµ®ç‚¹æ•°ï¼šå°æ•°ç‚¹çš„ä½ç½®ä¸å›ºå®š \u0026ndash;ç§‘å­¦è®¡æ•°æ³•\nå®šç‚¹æ•°çš„è¡¨ç¤º\næ— ç¬¦å·æ•° æœ‰ç¬¦å·æ•° åŸç  åç  è¡¥ç  ç§»ç  æ— ç¬¦å·æ•°ï¼šæ•´ä¸ªæœºå™¨å­—é•¿çš„å…¨éƒ¨äºŒè¿›åˆ¶å‡ä¸ºæ•°å€¼ä½ï¼Œæ²¡æœ‰ç¬¦å·ä½ï¼Œç›¸å½“äºæ•°çš„ç»å¯¹å€¼ã€‚\n8ä½äºŒè¿›åˆ¶æ•°ï¼š2çš„å…«æ¬¡æ–¹ç§ä¸åŒçŠ¶æ€ï¼Œå¯ä»¥è¡¨ç¤ºçš„æ˜¯0åˆ°2çš„å…«æ¬¡æ–¹-1è¿™ä¹ˆå¤šçš„åè¿›åˆ¶æ•°ã€‚\nnä¸ºçš„æ— ç¬¦å·æ•°è¡¨ç¤ºèŒƒå›´ä¸ºï¼š0åˆ°2çš„næ¬¡æ–¹-1çš„åè¿›åˆ¶\næœ‰ç¬¦å·æ•°çš„å®šç‚¹è¡¨ç¤ºï¼š\nå®šç‚¹æ•´æ•°+å®šç‚¹å°æ•°\næœ€é«˜ä½ä¸ºç¬¦å·ä½\næ•°å€¼éƒ¨åˆ†ç§°ä¸ºå°¾æ•°\næ³¨ï¼šå¯ç”¨åŸç ã€åç ã€è¡¥ç ä¸‰ç§æ–¹å¼æ¥è¡¨ç¤ºå®šç‚¹æ•´æ•°å’Œå®šç‚¹å°æ•°ã€‚è¿˜å¯ç”¨ç§»ç è¡¨ç¤ºå®šç‚¹æ•´æ•°ã€‚\nç¬¦å·ä½0è¡¨ç¤ºæ­£æ•°1è¡¨ç¤ºè´Ÿæ•°\nåŸç ï¼šç”¨å°¾ç è¡¨ç¤ºçœŸå€¼çš„ç»å¯¹å€¼ï¼Œç¬¦å·ä½0/1 ï¼Œ å¯¹åº”æ­£è´Ÿ\nè‹¥æœºå™¨å­—é•¿ä¸ºn+1ä½ï¼Œåˆ™å°¾æ•°å nä½\nè‹¥æœºå™¨å­—é•¿ä¸ºn+1ä½ï¼ŒåŸç æ•´æ•°çš„è¡¨ç¤ºèŒƒå›´ä¸ºï¼š-ï¼ˆ2^n-1)åˆ°2^n-1\nçœŸå€¼0æœ‰+0 å’Œ -0 ä¸¤ç§å½¢å¼\nè‹¥æœºå™¨å­—é•¿ä¸ºn+1ä½ï¼ŒåŸç å°æ•°çš„è¡¨ç¤ºèŒƒå›´ä¸º-ï¼ˆ1-2^-nï¼‰åˆ°1-2^-n\nçœŸå€¼0æœ‰+0 å’Œ -0 ä¸¤ç§å½¢å¼\nåç ï¼šè‹¥ç¬¦å·ä½ä¸º0ï¼Œåˆ™åç ä¸åŸç ç›¸åŒ\nâ€‹\tè‹¥ç¬¦å·ä½ä¸º1ï¼Œåˆ™æ•°å€¼ä½å…¨éƒ¨å–å\nè¡¥ç ï¼šæ­£æ•°çš„è¡¥ç =åŸç \nâ€‹\tè´Ÿæ•°çš„è¡¥ç =åç +1\nç§»ç ï¼šè¡¥ç çš„åŸºç¡€ä¸Šå°†ç¬¦å·ä½å–åã€‚æ³¨æ„ï¼šç§»ç åªèƒ½ç”¨äºè¡¨ç¤ºæ•´æ•°\nç§»ç è¡¨ç¤ºçš„æ•´æ•°å¾ˆæ–¹ä¾¿å¯¹æ¯”å¤§å°\nå„ç§ç çš„ä½œç”¨\nåŠ å‡è¿ç®—ï¼š\næ— ç¬¦å·æ•°çš„è¿ç®—ç»“æœæ²¡æœ‰ä»»ä½•é—®é¢˜\nä½†æ˜¯ç”¨åŸç è¡¨ç¤ºæœ‰ç¬¦å·æ•°çš„è¯ï¼Œéœ€è¦å…ˆåˆ¤æ–­ç¬¦å·ä½æ˜¯ä¸æ˜¯è´Ÿæ•°ï¼Œå¦‚æœæ˜¯è´Ÿæ•°çš„è¯ï¼Œéœ€è¦å°†è´Ÿæ•°çš„ä½æ”¹æˆæ­£æ•°ä½ï¼Œç„¶åå°†åŠ æ³•è¿ç®—æ”¹æˆå‡æ³•è¿ç®—\nä¹Ÿå³ï¼Œä½¿ç”¨åŸç è¿ç®—ï¼š\nåŠ æ³•\u0026ndash;ç”¨åŠ æ³•å™¨å®Œæˆ\nå‡æ³•\u0026ndash;ç”¨å‡æ³•å™¨å®Œæˆ\nä½†å‡æ³•å™¨æˆæœ¬å¾ˆé«˜ï¼Œæ‰€ä»¥è€ƒè™‘ç”¨åŠ æ³•æ¥ä»£æ›¿å‡æ³•è¿ç®—\nå¸¦ä½™é™¤æ³•\u0026mdash;-è®¾xï¼Œmå±äºzï¼Œm\u0026gt;0åˆ™å­˜åœ¨å”¯ä¸€å†³å®šçš„æ•´æ•°qå’Œrï¼Œä½¿å¾—ï¼šx=qm+r ï¼Œ 0\u0026lt;=r\u0026lt;m\nå®é™…ä¸Šå°±æ˜¯å°†æ•´æ•°åˆ†æˆrç±»ï¼Œæ¯ç±»åˆ†åˆ«ä¸ºä½™æ•°ä»0åˆ°r-1\næ¨¡æ•°ç›¸åŒçš„éƒ½æ˜¯åŒä¸€ç±»ï¼Œéƒ½æ˜¯ç­‰ä»·çš„\näºŒè€…ç»å¯¹å€¼ä¹‹å’Œ=æ¨¡çš„ï¼Œäº’ä¸ºè¡¥æ•°\næ¨¡-açš„ç»å¯¹å€¼=açš„è¡¥æ•°\nåœ¨mod m çš„æ¡ä»¶ä¸‹ï¼Œè‹¥èƒ½æ‰¾åˆ°è´Ÿæ•°çš„è¡¥æ•°ï¼Œå°±å¯ä»¥ç”¨æ­£æ•°çš„åŠ æ³•æ¥ç­‰ä»·æ›¿ä»£å‡æ³•\nå¦‚æœæ¨¡æ•°mä¸º12çš„è¯ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯ä½™æ•°0-11\nå¦‚æœè®¡ç®—æœºçš„å­—é•¿ä¸º8bitï¼Œä¹Ÿå°±æ˜¯è¡¨ç¤ºçš„èŒƒå›´æ˜¯0-2^8-1ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯å®é™…ä¸Šæ¨¡æ•°å°±æ˜¯2^8å‘—\næ‰€ä»¥åªè¦æ¨¡-açš„ç»å¯¹å€¼=açš„è¡¥æ•° =\u0026gt; 2^8-açš„ç»å¯¹å€¼=açš„è¡¥æ•° =\u0026gt; açš„è¡¥ç å½¢å¼çš„åŸç”Ÿå®šä¹‰\nè¡¥ç \u0026mdash;å°±æ˜¯è®©å‡æ³•æ“ä½œè½¬å˜ä¸ºåŠ æ³•æ“ä½œï¼ŒèŠ‚çœç¡¬ä»¶æˆæœ¬ ï¼Œ è¿™æ ·ALUä¸­åªéœ€è¦è®¾è®¡åŠ æ³•è¿ç®—å™¨å°±å¯ä»¥å•¦\nè¡¥ç çš„ä½œç”¨ï¼šä½¿ç”¨è¡¥ç å¯å°†å‡æ³•æ“ä½œè½¬å˜ä¸ºç­‰ä»·çš„åŠ æ³•ï¼ŒALUä¸­æ— éœ€é›†æˆå‡æ³•å™¨ã€‚æ‰§è¡ŒåŠ æ³•æ“ä½œæ—¶ï¼Œç¬¦å·ä½ä¸€èµ·å‚ä¸è¿ç®—ã€‚\u0026mdash;-ã€Šæ•°è®ºã€‹\nç§»ç çš„ä½œç”¨ï¼šç§»ç è¡¨ç¤ºçš„æ•´æ•°å¾ˆæ–¹ä¾¿çš„å¯¹æ¯”å¤§å°\nå®šç‚¹æ•°çš„è¡¨ç¤ºå’Œè¿ç®—\nè¡¨ç¤º æ— ç¬¦å·æ•° æœ‰ç¬¦å·æ•° åŸç  è¡¥ç  åç  ç§»ç  è¿ç®— ç§»ä½è¿ç®— åŠ å‡è¿ç®— ä¹˜æ³•è¿ç®— é™¤æ³•è¿ç®— ç§»ä½è¿ç®—\nç®—æ•°ç§»ä½ åŸç  è¡¥ç  åç  é€»è¾‘ç§»ä½ å¾ªç¯ç§»ä½ åŸç  1 0010100. ==-20\nå°æ•°ç‚¹ä½ç½®æ˜¯æ— æ³•æ”¹å˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å·§å¦™çš„æ”¹å˜æ•°çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯\nåŸç  1 0001010. ä¹Ÿå°±æ˜¯å°†å°¾æ•°ï¼Œæ•´ä½“å³ç§»ä¸€ä½ï¼Œå·¦è¾¹å¤šå‡ºæ¥çš„å¯ä»¥è¡¥0 ==-10\nåŸç çš„ç®—æ•°ç§»ä½ï¼šç¬¦å·ä½ä¿æŒä¸å˜ï¼Œä»…å¯¹æ•°å€¼ä½è¿›è¡Œç§»ä½\nå³ç§»ï¼šé«˜ä½è¡¥0ï¼Œä½ä½èˆå¼ƒã€‚è‹¥èˆå¼ƒçš„ä½=0ï¼Œåˆ™ç›¸å½“äºé™¤2ï¼›è‹¥èˆå¼ƒçš„ä½ä¸ç­‰äº0ï¼Œåˆ™ä¼šä¸¢å¤±ç²¾åº¦\nå·¦ç§»ï¼šä½ä½è¡¥0ï¼Œé«˜ä½èˆå¼ƒã€‚è‹¥èˆå¼ƒçš„ä½=0ï¼Œåˆ™ç›¸å½“äºä¹˜2ï¼›è‹¥èˆå¼ƒçš„ä½ä¸ç­‰äº0ï¼Œåˆ™ä¼šå‡ºç°ä¸¥é‡è¯¯å·®\nåç çš„ç®—æ•°ç§»ä½\u0026ndash;æ­£æ•°çš„åç ä¸åŸç ç›¸åŒï¼Œå› æ­¤å¯¹æ­£æ•°åç çš„ç§»ä½è¿ç®—ä¹Ÿå’ŒåŸç ç›¸åŒã€‚\nå³ç§»ï¼šé«˜ä½è¡¥0ï¼Œä½ä½èˆå¼ƒã€‚\nå·¦ç§»ï¼šä½ä½è¡¥0ï¼Œé«˜ä½èˆå¼ƒã€‚\nåç çš„ç®—æ•°ç§»ä½\u0026ndash;è´Ÿæ•°çš„åç æ•°å€¼ä½ä¸åŸç ç›¸åï¼Œå› æ­¤è´Ÿæ•°åç çš„ç§»ä½è¿ç®—è§„åˆ™å¦‚ä¸‹ï¼Œ\nå³ç§»ï¼šé«˜ä½è¡¥1ï¼Œä½ä½èˆå¼ƒ\nå·¦ç§»ï¼šä½ä½è¡¥1ï¼Œé«˜ä½èˆå¼ƒ\nè¡¥ç çš„ç®—æ•°ç§»ä½\u0026ndash;æ­£æ•°çš„è¡¥ç ä¸åŸç ç›¸åŒï¼Œå› æ­¤å¯¹æ­£æ•°è¡¥ç çš„ç§»ä½è¿ç®—ä¹Ÿå’ŒåŸç ç›¸åŒã€‚\nå³ç§»ï¼šé«˜ä½è¡¥0ï¼Œä½ä½èˆå¼ƒã€‚\nå·¦ç§»ï¼šä½ä½è¡¥0ï¼Œé«˜ä½èˆå¼ƒã€‚\nè¡¥ç çš„ç®—æ•°ç§»ä½\u0026ndash;è´Ÿæ•°è¡¥ç =åç æœ«ä½+1å¯¼è‡´åç æœ€å³è¾¹å‡ ä¸ªè¿ç»­çš„1éƒ½å› è¿›ä½è€Œå˜ä¸º0ï¼Œç›´åˆ°è¿›ä½ç¢°åˆ°ç¬¬ä¸€ä¸ª0ä¸ºæ­¢ã€‚\nè§„å¾‹\u0026ndash;è´Ÿæ•°è¡¥ç ä¸­ï¼Œæœ€å³è¾¹çš„1åŠå…¶å³è¾¹å’ŒåŸç ç›¸åŒã€‚æœ€å³è¾¹çš„1çš„å·¦è¾¹å’Œåç ç›¸åŒ\næ‰€ä»¥ï¼Œè´Ÿæ•°è¡¥ç çš„ç®—æ•°ç§»ä½è§„åˆ™å¦‚ä¸‹ï¼š\nå³ç§»ï¼ˆåŒåç ï¼‰ï¼šé«˜ä½è¡¥1ï¼Œä½ä½èˆå¼ƒ\nå·¦ç§»ï¼ˆåŒåŸç ï¼‰ï¼šä½ä½è¡¥0ï¼Œé«˜ä½èˆå¼ƒ\nç‰›åˆ°å®¶çš„ä¾‹å­\n-20*7\nå¯ä»¥ç†è§£ä¸º-20*ï¼ˆ4+2+1ï¼‰\nä¹Ÿå°±æ˜¯-20å·¦ç§»ä¸¤ä½ï¼Œå·¦ç§»1ä½ï¼Œå’Œä¸ç§»ä½ä¸‰è€…ä¹‹å’Œ\né€»è¾‘ç§»ä½ï¼š\né€»è¾‘å³ç§»ï¼šé«˜ä½è¡¥0ï¼Œä½ä½èˆå¼ƒ\né€»è¾‘å·¦ç§»ï¼šä½ä½è¡¥0ï¼Œé«˜ä½èˆå¼ƒ\nå¯ä»¥æŠŠé€»è¾‘ç§»ä½çœ‹ä½œæ˜¯å¯¹æ— ç¬¦å·æ•°çš„ç®—æ•°ç§»ä½\nå¾ªç¯ç§»ä½ï¼š\nå¾ªç¯å·¦ç§»å’Œå¸¦è¿›ä½ä½çš„å¾ªç¯å·¦ç§»\nåº”ç”¨ï¼šæ±‰å­—çš„å¤§ç«¯æ¨¡å¼å’Œå°ç«¯æ¨¡å¼ç›¸äº’è½¬æ¢çš„æ—¶å€™\nå®šç‚¹æ•°ç§»ä½è¿ç®—\nç®—æ•°ç§»ä½ å·¦ç§»1ä½ç›¸å½“äºxåŸºæ•°ï¼›å³ç§»ä»¥ä¸ºç›¸å½“äº/åŸºæ•° åŸç ï¼šç¬¦å·ä½ä¸å‚ä¸ç§»ä½ã€‚å·¦ç§»å³ç§»éƒ½è¡¥0 åç ï¼šç¬¦å·ä½ä¸å‚ä¸ç§»ä½ã€‚å·¦ç§»å³ç§»éƒ½è¡¥1 è¡¥ç ï¼šè´Ÿæ•°è¡¥ç çš„æœ€å³è¾¹çš„1åŠå…¶å³è¾¹ä¸æºç ç›¸åŒï¼Œæœ€å³è¾¹çš„1çš„å·¦è¾¹ä¸åç ç›¸åŒã€‚ç¬¦å·ä½ä¸å‚ä¸ç§»ä½ï¼Œå·¦ç§»è¡¥0ï¼Œå³ç§»è¡¥1ã€‚ é€»è¾‘ç§»ä½ å·¦ç§»ã€å³ç§»éƒ½è¡¥0ï¼Œç§»å‡ºçš„ä½èˆå¼ƒã€‚ å¾ªç¯ç§»ä½ ä¸å¸¦è¿›ä½ä½ï¼šç”¨ç§»å‡ºçš„ä½è¡¥ä¸Šç©ºç¼º å¸¦è¿›ä½ä½ï¼šç§»å‡ºçš„ä½æ”¾åˆ°è¿›ä½ä½ï¼ŒåŸè¿›ä½ä½è¡¥ä¸Šç©ºç¼º æ³¨ï¼šç”±äºåŸã€åã€è¡¥ç çš„æ•°ä½æœ‰é™ï¼Œå› æ­¤æŸäº›æ—¶å€™ç®—æ•°ç§»ä½ä¸èƒ½ç²¾ç¡®ç­‰æ•ˆä¹˜æ³•ã€é™¤æ³•\nåŠ å‡è¿ç®—\nåŸç çš„åŠ å‡æ³• è¡¥ç çš„åŠ å‡æ³• æº¢å‡ºåˆ¤æ–­ ç¬¦å·æ‰©å±• åŸç çš„åŠ æ³•è¿ç®—ï¼š\næ­£+æ­£ï¼šç»å¯¹å€¼åšåŠ æ³•ï¼Œç»“æœä¸ºæ­£ï¼Œå¯èƒ½æº¢å‡º\nè´Ÿ+è´Ÿï¼šç»å¯¹å€¼åšåŠ æ³•ï¼Œç»“æœä¸ºè´Ÿï¼Œå¯èƒ½æº¢å‡º\næ­£+è´Ÿï¼šç»å¯¹å€¼å¤§çš„å‡ç»å¯¹å€¼å°çš„ï¼Œç¬¦å·åŒç»å¯¹å€¼å¤§çš„æ•°\nè´Ÿ+æ­£ï¼šç»å¯¹å€¼å¤§çš„å‡ç»å¯¹å€¼å°çš„ï¼Œç¬¦å·åŒç»å¯¹å€¼å¤§çš„æ•°\nåŸç çš„å‡æ³•è¿ç®—ï¼Œâ€œå‡æ•°â€ç¬¦å·å–åï¼Œè½¬å˜ä¸ºåŠ æ³•ï¼š\næ­£-è´Ÿï¼šæ­£+æ­£\nè´Ÿ-æ­£ï¼šè´Ÿ+è´Ÿ\næ­£-æ­£ï¼šæ­£+è´Ÿ\nè´Ÿ+æ­£ï¼šè´Ÿ-è´Ÿ\nå¤ªéš¾äº†ç”¨å‡æ³•å™¨\næ‰€ä»¥è€ƒè™‘ç”¨è¡¥ç çš„åŠ å‡è¿ç®—\nè´Ÿæ•°è¡¥ç =\u0026gt;åŸç ï¼š\næ•°å€¼ä½å–å+1 è´Ÿæ•°è¡¥ç ä¸­ï¼Œæœ€å³è¾¹çš„1åŠå…¶å³è¾¹åŒåŸç ã€‚æœ€å³è¾¹çš„1çš„å·¦è¾¹åŒåç  å¯¹äºè¡¥ç æ¥è¯´ï¼Œæ— è®ºåŠ æ³•è¿˜æ˜¯å‡æ³•ï¼Œæœ€åéƒ½ä¼šè½¬å˜ä¸ºåŠ æ³•ï¼Œç”±åŠ æ³•å™¨å®ç°è¿ç®—ï¼Œç¬¦å·ä½ä¹Ÿå‚ä¸è¿ç®—\nå½“æ•°å¤ªå¤§çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‘ç”Ÿæº¢å‡ºï¼Œæ‰€ä»¥è¦è¿›è¡Œæº¢å‡ºåˆ¤æ–­\næº¢å‡ºåˆ¤æ–­\nåªæœ‰æ­£æ•°+æ­£æ•°æ‰ä¼šä¸Šæº¢\u0026mdash;\u0026ndash;æ­£+æ­£=è´Ÿ åªæœ‰è´Ÿæ•°+è´Ÿæ•°æ‰ä¼šä¸‹æº¢\u0026mdash;\u0026ndash;è´Ÿ+è´Ÿ=æ­£ æ–¹æ³•1ï¼šé‡‡ç”¨ä¸€ä½ç¬¦å·ä½ è®¾Açš„ç¬¦å·ä½Asï¼ŒBçš„ç¬¦å·ä½Bsï¼Œè¿ç®—ç»“æœçš„ç¬¦å·ä¸ºSsï¼Œåˆ™æº¢å‡ºé€»è¾‘è¡¨è¾¾å¼ä¸º\nV=AsBsï¼ˆéSsï¼‰+ï¼ˆéAsï¼‰ï¼ˆéBsï¼‰Ss\nè‹¥V=0ï¼Œè¡¨ç¤ºæ— æº¢å‡º\nè‹¥V=1ï¼Œè¡¨ç¤ºæœ‰æº¢å‡º\næ–¹æ³•2ï¼šé‡‡ç”¨ä¸€ä½ç¬¦å·ä½ï¼Œæ ¹æ®æ•°æ®ä½è¿›ä½æƒ…å†µåˆ¤æ–­æº¢å‡ºï¼Œç¬¦å·ä½çš„è¿›ä½Cs æœ€é«˜æ•°å€¼ä½çš„è¿›ä½C1\nä¸Šæº¢ï¼šCs=0ï¼ŒC1=1\nä¸‹æº¢ï¼šCs=1ï¼ŒC1=0\nç”¨å¼‚æˆ–æ¥åˆ¤æ–­å°±å¥½\næ–¹æ³•3ï¼šé‡‡ç”¨åŒç¬¦å·ä½\næ­£æ•°ç¬¦å·ä¸º00ï¼Œè´Ÿæ•°ç¬¦å·ä¸º11\nè®°ä¸¤ä¸ªç¬¦å·ä½ä¸ºSs1ï¼ŒSs2ï¼Œåˆ™V=Ss1å¼‚æˆ–Ss2\nè‹¥V=0ï¼Œåˆ™è¡¨ç¤ºæ— æº¢å‡ºï¼Œè‹¥V=1ï¼Œè¡¨ç¤ºæœ‰æº¢å‡º\nåŒç¬¦å·ä½è¡¥ç ç§°ä¸ºï¼šæ¨¡4è¡¥ç \nå•ç¬¦å·ä½è¡¥ç ç§°ä¸ºï¼šæ¨¡2è¡¥ç \nç¬¦å·æ‰©å±•\nç”±äºå¯èƒ½ä¼šå‡ºç°æº¢å‡ºï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘è¡¥ä½ï¼Œå³int-\u0026gt;long ï¼Œ å¦‚8ä½=\u0026gt;16ä½\nå®šç‚¹æ•´æ•°çš„ç¬¦å·æ‰©å±•ï¼š\nåœ¨åŸç¬¦å·ä½å’Œæ•°å€¼ä½ä¸­é—´æ·»åŠ æ–°ä½ï¼Œæ­£æ•°éƒ½æ·»0ï¼›è´Ÿæ•°åŸç æ·»0ï¼Œè´Ÿæ•°åã€è¡¥ç æ·»1\nå®šç‚¹å°æ•°çš„ç¬¦å·æ‰©å±•ï¼š\nåœ¨åŸç¬¦å·ä½å’Œæ•°å€¼ä½ä¸­é—´æ·»åŠ æ–°ä½ï¼Œæ­£æ•°éƒ½æ·»0,ï¼›è´Ÿæ•°åŸç ã€è¡¥ç æ·»0ï¼Œè´Ÿæ•°åç æ·»1\nåŠ å‡è¿ç®—ï¼š\nåŸç  åŠ æ³• å‡æ³• è¡¥ç ï¼šæ€»æ˜¯è¦è½¬å˜æˆåŠ æ³•ï¼Œç¬¦å·ä½å‚ä¸è¿ç®— æº¢å‡ºåˆ¤æ–­ï¼ˆè¡¥ç ï¼‰ Keyï¼šæ­£+æ­£=è´Ÿï¼ˆä¸Šæº¢ï¼‰ï¼›è´Ÿ+è´Ÿ=æ­£ï¼ˆä¸‹æº¢ï¼‰ æ–¹æ³•ä¸‰ï¼šé‡‡ç”¨åŒç¬¦å·ä½ï¼Œæ­£æ•°ç¬¦å·ä¸º00ï¼Œè´Ÿæ•°ç¬¦å·ä¸º11ï¼ŒåŠ æ³•è¿ç®—åè‹¥åŒç¬¦å·ä½=01åˆ™å‘ç”Ÿä¸Šæº¢é”™è¯¯ï¼›è‹¥åŒç¬¦å·ä½ä¸º10åˆ™å‘ç”Ÿä¸‹æº¢é”™è¯¯ï¼Œè‹¥ä¸¤ä¸ªç¬¦å·ä½ç›¸åŒï¼Œåˆ™æœªå‘ç”Ÿé”™è¯¯ ç¬¦å·æ‰©å±• å®šç‚¹æ•´æ•°ç¬¦å·çš„æ‰©å±•ï¼šåœ¨åŸç¬¦å·ä½å’Œæ•°å€¼ä½ä¸­é—´æ·»åŠ æ–°ä½ï¼Œæ­£æ•°éƒ½æ·»0ï¼Œè´Ÿæ•°åŸç æ·»0ï¼Œåç æ·»1ï¼Œè¡¥ç æ·»1 å®šç‚¹å°æ•°ç¬¦å·çš„æ‰©å±•ï¼šåœ¨åŸç¬¦å·ä¸ºå’Œæ•°å€¼ä½åé¢æ·»åŠ æ–°ä½ï¼Œæ­£æ•°éƒ½æ·»0ï¼Œè´Ÿæ•°åŸç ã€è¡¥ç æ·»0ï¼Œåç æ·»1 ä¹˜æ³•è¿ç®—\nä¹˜æ³•è¿ç®—çš„å®ç°æ€æƒ³ åŸç çš„ä¸€ä½ä¹˜æ³• è¡¥ç çš„ä¸€ä½ä¹˜æ³• æ‰‹ç®—ä¹˜æ³•ï¼šå¯ä»¥è€ƒè™‘ç”¨ç§»ä½æ¥å®ç°ï¼Œå·¦ç§»å°±æ˜¯ä¹˜æ³•ï¼Œå³ç§»å°±æ˜¯é™¤æ³•\nè€ƒè™‘ç”¨æœºå™¨æ¥å®ç°ï¼š\nå®é™…æ•°å­—æœ‰æ­£è´Ÿï¼Œç¬¦å·ä½å¦‚ä½•å¤„ç† ä¹˜ç§¯çš„ä½æ•°æ‰©å¤§ä¸€å€å¦‚ä½•å¤„ç† 4ä¸ªä½ç§¯éƒ½è¦ä¿å­˜ä¸‹æ¥æœ€åç»Ÿä¸€ç›¸åŠ å—ï¼Ÿ åŸç ä¸€ä½ä¹˜æ³•\nç¬¦å·å•ç‹¬å¤„ç†ï¼šç¬¦å·ä½=xså’Œysè¿›è¡Œå¼‚æˆ–æ“ä½œ\næ•°å€¼ä½è¿›è¡Œç›¸ä¹˜å°±å¥½äº†\nè¿ç®—å™¨ï¼š\nALUï¼šç®—æœ¯é€»è¾‘å•å…ƒ\nXï¼šé€šç”¨å¯„å­˜å™¨ï¼ˆå­˜æ”¾è¢«ä¹˜æ•°ï¼‰\nACCï¼šç´¯åŠ ã€å­˜æ”¾ä¹˜ç§¯é«˜ä½\nMQï¼šå­˜æ”¾ä¹˜æ•°å’Œä¹˜ç§¯ä½ä½\næœºå™¨å­—é•¿ä¸ºn+1\nå®ç°æ–¹æ³•ï¼šå…ˆåŠ æ³•å†ç§»ä½ï¼Œé‡å¤næ¬¡\né¦–å…ˆï¼ŒACCç½®ä¸º0ï¼ŒXå­˜è¢«ä¹˜æ•°ï¼ŒMQå­˜ä¹˜æ•°\nå½“å‰ä½=1ï¼Œåˆ™ACCåŠ ä¸Šè¢«ä¹˜æ•°\nå½“å‰ä½=0ï¼Œåˆ™ACCåŠ 0\nå¦‚æ­¤å†é€šè¿‡ç§»ä½è¿ç®—ï¼Œè¾¾åˆ°é”™ä½çš„æ•ˆæœ\nè¡¥ç çš„ä¹˜æ³•è¿ç®—\nåŸç çš„ä¸€ä½ä¹˜æ³•ï¼š\nè¿›è¡Œnè½®åŠ æ³•ã€ç§»ä½\næ¯æ¬¡åŠ æ³•å¯èƒ½æ˜¯+0ã€+xçš„åŸç \næ¯æ¬¡ç§»ä½æ˜¯é€»è¾‘å³ç§»\nç¬¦å·ä½ä¸å‚ä¸è¿ç®—\nç¬¦å·ä½æœ€åç”±ä¸€ä¸ªå¼‚æˆ–è¿ç®—æ¥å†³å®š\nè¡¥ç çš„ä¸€ä½ä¹˜æ³•ï¼š\nè¿›è¡Œnè½®åŠ æ³•ã€ç§»ä½ï¼Œæœ€åå†å¤šæ¥ä¸€æ¬¡åŠ æ³•\næ¯æ¬¡åŠ æ³•å¯èƒ½+0ï¼Œ+xçš„è¡¥ç ï¼Œ+-xçš„è¡¥ç \næ¯æ¬¡ç§»ä½æ˜¯è¡¥ç çš„ç®—æ•°å³ç§»\nç¬¦å·ä½å‚ä¸è¿ç®—\nè¾…åŠ©ä½-MQä¸­çš„æœ€ä½ä½=1ï¼ŒACC+xçš„è¡¥ç \nè¾…åŠ©ä½-MQä¸­çš„æœ€ä½ä½=0ï¼ŒACC+0\nè¾…åŠ©ä½-MQä¸­çš„æœ€ä½ä½=-1ï¼ŒACC+-xçš„è¡¥ç \né™¤æ³•è¿ç®—\né™¤æ³•è¿ç®—çš„æ€æƒ³ åŸç é™¤æ³•ï¼šæ¢å¤ä½™æ•°æ³• åŸç é™¤æ³•ï¼šåŠ å‡äº¤æ›¿æ³•ï¼ˆä¸æ¢å¤ä½™æ•°æ³•ï¼‰ è¡¥ç é™¤æ³•ï¼šåŠ å‡äº¤æ›¿æ³• æ¢å¤ä½™æ•°æ³•ï¼š\nå®ç°æ–¹æ³•ï¼šä¸Šå•†0/1ï¼Œå¾—åˆ°ä½™æ•°ï¼Œä½™æ•°æœ«å°¾è¡¥0\nå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š\næ— ç¬¦å·æ•°ä¸æœ‰ç¬¦å·æ•°ï¼š\nä¸æ”¹å˜æ•°æ®å†…å®¹ï¼Œæ”¹å˜è§£é‡Šæ–¹å¼\né•¿æ•´æ•°å˜çŸ­æ•´æ•°ï¼š\né«˜ä½æˆªæ–­ï¼Œä¿ç•™ä½ä½\nçŸ­æ•´å‹å˜é•¿æ•´æ•°ï¼š\nç¬¦å·æ‰©å±•\nå¤§å°ç«¯æ¨¡å¼ï¼š\nå¤§ç«¯æ¨¡å¼ï¼šä¾¿äºäººç±»é˜…è¯»\nå°æ®µæ¨¡å¼ï¼šä¾¿äºæœºå™¨å¤„ç†\nè¾¹ç•Œå¯¹é½\nç°ä»£è®¡ç®—æœºé€šå¸¸æ˜¯æŒ‰å­—èŠ‚ç¼–å€ï¼Œæ¯ä¸ªå­—èŠ‚å¯¹åº”1ä¸ªåœ°å€\né€šå¸¸ä¹Ÿæ”¯æŒæŒ‰å­—ã€æŒ‰åŠå­—ã€æŒ‰å­—èŠ‚å¯»å€\nå‡è®¾å­˜å‚¨å­—é•¿ä¸º32ä½ï¼Œåˆ™1ä¸ªå­—ä¸º=32bit ï¼ŒåŠå­—=16bit æ¯æ¬¡ä»¿å­˜åªèƒ½è¯»å†™1ä¸ªå­—\nè¾¹ç•Œä¸å¯¹é½\nè¾¹ç•Œå¯¹é½è®¿é—®ä¸€ä¸ªå­—/åŠå­—éƒ½åªéœ€è¦ä¸€æ¬¡è®¿å­˜ ï¼Œ å³ç©ºé—´æ¢æ—¶é—´ï¼Œèˆå¼ƒç©ºé—´ï¼Œæ¢å–æœ€ä½³æ—¶é—´\nè¾¹ç•Œä¸å¯¹é½è®¿é—®ä¸€ä¸ªå­—/åŠå­—å¯èƒ½éœ€è¦ä¸¤æ¬¡è®¿å­˜ï¼Œå³æ—¶é—´æ¢ç©ºé—´ï¼Œèˆå¼ƒæ—¶é—´ï¼Œæ¢å–ç©ºé—´å¯†åº¦æœ€ä½³\næµ®ç‚¹æ•°çš„è¡¨ç¤º\næµ®ç‚¹æ•°çš„è¡¨ç¤º æµ®ç‚¹æ•°çš„ä½œç”¨å’ŒåŸºæœ¬åŸç† æµ®ç‚¹æ•°è§„æ ¼åŒ– æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´ IEEE 754æ ‡å‡† æµ®ç‚¹æ•°çš„åŠ å‡è¿ç®— å®šç‚¹æ•°çš„å±€é™æ€§ï¼š\nå®šç‚¹æ•°å¯è¡¨ç¤ºçš„æ•°å­—èŒƒå›´æœ‰é™ï¼Œä½†æˆ‘ä»¬ä¸èƒ½æ— é™åˆ¶åœ°å¢åŠ æ•°æ®çš„é•¿åº¦\nå¦‚ä½•åœ¨ä½æ•°ä¸å˜çš„æƒ…å†µä¸‹å¢åŠ æ•°æ®çš„è¡¨ç¤ºèŒƒå›´\né˜¶ç +å°¾æ•°\né˜¶ç =é˜¶ç¬¦+é˜¶ç çš„æ•°å€¼éƒ¨åˆ†\nå°¾æ•°=æ•°ç¬¦+å°¾æ•°çš„æ•°å€¼éƒ¨åˆ†\næµ®ç‚¹æ•°çš„è¡¨ç¤º\nå®šç‚¹æ•°ï¼šå¦‚çº¯å°æ•°0.1011å’Œçº¯æ•´æ•°11110\næµ®ç‚¹æ•°ï¼šé˜¶ç +å°¾æ•°\né˜¶ç ï¼šå¸¸ç”¨è¡¥ç æˆ–ç§»ç è¡¨ç¤ºçš„å®šç‚¹æ•´æ•°\nå°¾æ•°ï¼šå¸¸ç”¨åŸç æˆ–è¡¥ç è¡¨ç¤ºçš„å®šç‚¹å°æ•°\næµ®ç‚¹æ•°çš„çœŸå€¼ï¼šN=rçš„Eæ¬¡æ–¹*M\né˜¶ç çš„åº•é€šå¸¸ä¸º2\né˜¶ç Eåæ˜ æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´åŠå°æ•°ç‚¹çš„å®é™…ä½ç½®ï¼›\nå°¾æ•°M çš„æ•°å€¼éƒ¨åˆ†çš„ä½æ•°nåæ˜ æµ®ç‚¹æ•°çš„ç²¾åº¦\nä¹‹æ‰€ä»¥å«åšæµ®ç‚¹æ•°ï¼Œæ­£æ˜¯ç”±äºå°æ•°ç‚¹å¯ä»¥é€šè¿‡é˜¶ç çš„å€¼æ¥å¯¹å°¾æ•°è¿›è¡Œè°ƒæ•´ï¼Œä»è€Œçœ‹èµ·æ¥åƒå°æ•°ç‚¹åœ¨å°¾æ•°ä¸­æµ®åŠ¨ï¼Œå› æ­¤å«æµ®ç‚¹æ•°\næµ®ç‚¹æ•°å°¾æ•°çš„è§„æ ¼åŒ–\nä½¿å¾—å°¾æ•°çš„æœ€é«˜ä½æ˜¯æœ‰æ•ˆå€¼ï¼ˆå·¦è§„ï¼‰ï¼Œä»¥å…ä¸¢å¤±ç²¾åº¦\nè§„æ ¼åŒ–æµ®ç‚¹æ•°ï¼šè§„å®šå°¾æ•°çš„æœ€é«˜æ•°å€¼ä½å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆå€¼\nå·¦è§„ï¼šå½“æµ®ç‚¹æ•°è¿ç®—çš„ç»“æœä¸ºéè§„æ ¼åŒ–æ—¶è¦è¿›è¡Œè§„æ ¼åŒ–å¤„ç†ï¼Œå°†å°¾æ•°ç®—æ•°å·¦ç§»ä¸€ä½ï¼Œé˜¶ç åˆ™è¦å‡1\nå³è§„ï¼šå½“æµ®ç‚¹æ•°è¿ç®—çš„ç»“æœå°¾æ•°å‡ºç°æº¢å‡ºï¼ˆåŒç¬¦å·ä½ä¸º01æˆ–10ï¼‰æ—¶ï¼Œå°†å°¾æ•°ç®—æ•°å³ç§»ä¸€ä½ï¼Œé˜¶ç åŠ 1\næ³¨ï¼šé‡‡ç”¨åŒç¬¦å·ä½ï¼Œå½“æº¢å‡ºå‘ç”Ÿæ—¶ï¼Œå¯ä»¥æŒ½æ•‘ã€‚æ›´é«˜çš„ç¬¦å·ä½æ˜¯æ­£ç¡®çš„ç¬¦å·ä½\næµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´ä¹Ÿæœ‰æé™\næµ®ç‚¹æ•°çš„è¡¨ç¤º\nè¡¨ç¤º\né˜¶ç ï¼šé˜¶ç¬¦+æ•°å€¼éƒ¨åˆ†ï¼Œå°¾æ•°ï¼šæ•°ç¬¦+æ•°å€¼éƒ¨åˆ† é˜¶ç +å°¾æ•° å°¾æ•°ç»™å‡ºå…·ä½“æ•°å€¼ï¼Œé˜¶ç æŒ‡æ˜å°æ•°ç‚¹å‰ç§»ã€åç§»å¤šå°‘ä½ é˜¶ç é€šå¸¸æ˜¯ç”¨è¡¥ç ã€ç§»ç è¡¨ç¤ºçš„å®šç‚¹æ•´æ•° å°¾æ•°é€šå¸¸æ˜¯ç”¨è¡¥ç ã€åŸç è¡¨ç¤ºçš„å®šç‚¹å°æ•° çœŸå€¼ï¼šN=rçš„Eæ¬¡æ–¹*M è§„æ ¼åŒ–\nå°¾æ•°çš„æœ€é«˜æ•°å€¼ä½å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆå€¼ï¼ˆç±»æ¯”åè¿›åˆ¶ç§‘å­¦è®¡æ•°æ³•ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šè®©æ•°å€¼éƒ¨åˆ†æœ€é«˜ä½ä¸ºé0ï¼‰ å·¦è§„ï¼šæ•°å€¼ä½æœ€é«˜ä½æ— æ•ˆæ—¶ï¼Œé€šè¿‡å°¾æ•°ç®—æ•°å·¦ç§»ã€é˜¶ç -1çš„æ–¹æ³•å¤„ç†ï¼Œç›´åˆ°å°¾æ•°æœ€é«˜æ•°å€¼ä½æœ‰æ•ˆæ—¶åœæ­¢ å³è§„ï¼šè‹¥é‡‡ç”¨åŒç¬¦å·ä½è¡¨ç¤ºå°¾æ•°ï¼Œåˆ™å½“è¿ç®—åå°¾æ•°å‡æº¢å‡ºæ—¶ï¼Œå¯ä»¥é€šè¿‡å°¾æ•°å³ç§»ã€é˜¶ç +1çš„æ–¹æ³•å¤„ç† åŸç è¡¨ç¤ºçš„å°¾æ•°è§„æ ¼åŒ–ï¼šå°¾æ•°çš„æœ€é«˜æ•°å€¼ä½å¿…é¡»æ˜¯1 è¡¥ç è¡¨ç¤ºçš„å°¾æ•°è§„æ ¼åŒ–ï¼šå°¾æ•°çš„æœ€é«˜æ•°å€¼ä½å¿…é¡»å’Œå°¾æ•°ç¬¦å·ä½ç›¸å è¡¨ç¤ºèŒƒå›´\næµ®ç‚¹æ•°æ ‡å‡†\nIEEE754\nç§»ç ï¼šè¡¥ç åŸºç¡€ä¸Šå°†ç¬¦å·ä½å–åã€‚æ³¨æ„ï¼šç§»ç åªèƒ½ç”¨äºè¡¨ç¤ºæ•´æ•°\nç§»ç çš„å®šä¹‰æ˜¯ï¼šç§»ç =çœŸå€¼+åç½®å€¼\nä»¥å¾€çš„åç½®å€¼é€šå¸¸æ˜¯2çš„n-1æ¬¡æ–¹\nåœ¨IEEE754æ ‡å‡†ä¸­ï¼Œåç½®å€¼å°†è®¾å®šä¸º2çš„n-1æ¬¡æ–¹-1\né‚£ä¹ˆç§»ç å°±ä¼šæœ‰ä¸€ç‚¹ç‚¹æ”¹å˜\nåˆ†ä¸ºæ•°ç¬¦ã€é˜¶ç éƒ¨åˆ†ï¼ˆç”¨ç§»ç è¡¨ç¤ºï¼‰ã€å°¾æ•°ï¼ˆç”¨åŸç è¡¨ç¤ºï¼Œéšè—è¡¨ç¤ºæœ€é«˜ä½ï¼‰\né˜¶ç å…¨1ã€å…¨0ç”¨ä½œç‰¹æ®Šç”¨é€”\næµ®ç‚¹æ•°çš„è¿ç®—\nåŠ å‡è¿ç®— å¼ºåˆ¶ç±»å‹è½¬æ¢ 1.å¯¹é˜¶\n2.å°¾æ•°åŠ å‡\n3.è§„æ ¼åŒ–\n4.èˆå…¥\n5.åˆ¤æº¢å‡º\nchar-\u0026gt;int-\u0026gt;long-\u0026gt;double\nfloat-\u0026gt;double\nèŒƒå›´ã€ç²¾åº¦ä»å°åˆ°å¤§ï¼Œè½¬æ¢è¿‡ç¨‹æ²¡æœ‰æŸå¤±\n32ä½\nintï¼šè¡¨ç¤ºæ•´æ•°\nfloatï¼šè¡¨ç¤ºæ•´æ•°åŠå°æ•°\nå› æ­¤ï¼Œint-\u0026gt;float:å¯èƒ½æŸå¤±ç²¾åº¦\nfloat-\u0026gt;int:å¯èƒ½æº¢å‡ºåŠæŸå¤±ç²¾åº¦\nç®—æ•°é€»è¾‘å•å…ƒ\nä½œç”¨ã€å¤§è‡´åŸç† ç”µè·¯åŸºç¡€çŸ¥è¯† åŠ æ³•å™¨çš„å®ç° ALU:MQ ACC ALU X PSW\nåŸºæœ¬é€»è¾‘è¿ç®—ï¼šä¸æˆ–é\nä¼˜å…ˆçº§ï¼šä¸\u0026gt;æˆ–\nåˆ†é…å¾‹ç»“åˆå¾‹éƒ½æ»¡è¶³çš„\nå¤åˆé€»è¾‘ï¼šä¸éã€æˆ–éã€å¼‚æˆ–ã€åŒæˆ–\nåŠ æ³•å™¨ï¼š\nä¸€ä½å…¨åŠ å™¨ï¼š\nAi+Bi+Ci-1=Siå’ŒCi\nAiæ˜¯ä¸€ä¸ªè¾“å…¥\nBiæ˜¯ä¸€ä¸ªè¾“å…¥\nCi-1æ˜¯æ¥è‡ªä½ä½çš„è¿›ä½\nSiæ˜¯æœ¬ä½çš„è¾“å‡º\nCiæ˜¯æ¥è‡ªæœ¬ä½çš„è¿›ä½\nä¸²è¡ŒåŠ æ³•å™¨ï¼š\nåªæœ‰ä¸€ä¸ªå…¨åŠ å™¨ï¼Œæ•°æ®è¯¸ä½ä¸²è¡Œé€å…¥åŠ æ³•å™¨ä¸­è¿›è¡Œè¿ç®—ã€‚è¿›ä½è§¦å‘å™¨ç”¨æ¥å¯„å­˜è¿›ä½ä¿¡å·ï¼Œä»¥ä¾¿å‚ä¸ä¸‹ä¸€æ¬¡è¿ç®—ã€‚\nå¹¶è¡ŒåŠ æ³•å™¨ï¼š\nä¸²è¡Œè¿›ä½çš„å¹¶è¡ŒåŠ æ³•å™¨ï¼šæŠŠnä¸ªå…¨åŠ å™¨ä¸²æ¥èµ·æ¥ï¼Œå°½å¯ä»¥è¿›è¡Œä¸¤ä¸ªnä½æ•°çš„ç›¸åŠ ã€‚\nä¸²è¡Œè¿›ä½åˆç§°ä¸ºè¡Œæ³¢è¿›ä½ï¼Œæ¯ä¸€çº§è¿›ä½ç›´æ¥ä¾èµ–äºå‰ä¸€çº§çš„è¿›ä½ï¼Œå³è¿›ä½ä¿¡å·æ˜¯é€çº§å½¢æˆçš„ã€‚\nç®—æ•°é€»è¾‘å•å…ƒï¼š\nALU\nå®ç°ç®—æœ¯è¿ç®—ã€é€»è¾‘è¿ç®—ã€è¾…åŠ©åŠŸèƒ½ï¼ˆç§»ä½ã€æ±‚è¡¥ï¼‰ åŸºæœ¬ç»“æ„ï¼šè¾“å…¥ã€è¾“å‡ºã€æ§åˆ¶CU ç”µè·¯åŸºç¡€çŸ¥è¯†\né€»è¾‘è¿ç®—ï¼šä¸æˆ–éã€ä¸éã€æˆ–éã€å¼‚æˆ–ã€åŒæˆ– é—¨ç”µè·¯ï¼šæœ€åŸºç¡€çš„é€»è¾‘å…ƒä»¶ï¼Œç”¨äºå®ç°é€»è¾‘è¿ç®— é€»è¾‘è¡¨è¾¾å¼å°±æ˜¯ç”µè·¯çš„æ•°å­¦åŒ–è¡¨ç¤ºã€‚æ ¹æ®é€»è¾‘è¿ç®—çš„è§„åˆ™å¯¹é€»è¾‘è¡¨è¾¾å¼è¿›è¡Œä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¼˜åŒ–ç”µè·¯ åŠ æ³•å™¨çš„å®ç°\nä¸€ä½å…¨åŠ å™¨çš„è®¾è®¡ æœ¬ä½å’ŒSi=Aiå¼‚æˆ–Biå¼‚æˆ–Ci-1 æœ¬ä½å‘é«˜ä½çš„è¿›ä½Ci=AiBi+ï¼ˆAiå¼‚æˆ–Biï¼‰Ci-1 ä¸²è¡ŒåŠ æ³•å™¨ ä¸€ä½å…¨åŠ å™¨+è¿›ä½è§¦å‘å™¨ï¼Œåªèƒ½ä¸€ä½ä¸€ä½åœ°åŠ  ä¸²è¡Œè¿›ä½çš„å¹¶è¡ŒåŠ æ³•å™¨ å¤šä¸ªå…¨åŠ å™¨ç®€å•ä¸²è”ï¼Œå¯å¤šä½åŒæ—¶ç›¸åŠ  è®¡ç®—é€Ÿåº¦å–å†³äºè¿›ä½äº§ç”Ÿå’Œä¼ é€’çš„é€Ÿåº¦ å›å¿†\nå„ç§é—¨ç”µè·¯çš„å›¾å½¢ï¼Œå…¨åŠ å™¨çš„å›¾å½¢å’Œè¾“å…¥è¾“å‡ºä¿¡å· å¹¶æ–°åŠ æ³•å™¨çš„ä¼˜åŒ–\nå¹¶è¡Œè¿›ä½çš„å¹¶è¡ŒåŠ æ³•å™¨ï¼šå„çº§è¿›ä½ä¿¡å·åŒæ—¶å½¢æˆï¼Œåˆç§°ä¸ºå…ˆè¡Œè¿›ä½ã€åŒæ—¶è¿›ä½\nä¸²è¡ŒåŠ æ³•å™¨=\u0026gt;ä¸²è¡Œè¿›ä½çš„å¹¶è¡ŒåŠ æ³•å™¨=\u0026gt;ç»„å†…å¹¶è¡Œã€ç»„ä»¶ä¸²è¡Œè¿›ä½çš„åŠ æ³•å™¨=\u0026gt;ç»„å†…å¹¶è¡Œã€ç»„ä»¶å¹¶è¡Œè¿›ä½çš„åŠ æ³•å™¨\nç³»ç»Ÿæ€»çº¿\næ€»çº¿çš„åŸºæœ¬æ¦‚å¿µ\næ€»çº¿çš„åˆ†ç±»\næ€»çº¿ç‰¹æ€§åŠæ€§èƒ½æŒ‡æ ‡\næ€»çº¿ç»“æ„\næ€»çº¿æ§åˆ¶\næ€»çº¿æ˜¯è¿æ¥å„ä¸ªéƒ¨ä»¶çš„ä¿¡æ¯ä¼ è¾“çº¿ï¼Œæ˜¯å„ä¸ªéƒ¨ä»¶å…±äº«çš„ä¼ è¾“æœºåˆ¶ã€‚\næ€»çº¿ä¸Šä¿¡æ¯çš„ä¼ é€\nä¸²è¡Œ\u0026mdash;\u0026ndash;\nå¹¶è¡Œ\u0026mdash;-\næ€»çº¿ç»“æ„\n1.å•æ€»çº¿ç»“æ„æ¡†å›¾\nç¼ºç‚¹ï¼šæ€»çº¿ä¼šæˆä¸ºç“¶é¢ˆ\n2.é¢å‘CPUçš„åŒæ€»çº¿ç»“æ„æ¡†å›¾\nCPUå’Œä¸»å­˜ä¹‹é—´åŠ å…¥Mæ€»çº¿\n3.ä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒçš„åŒæ€»çº¿ç»“æ„æ¡†å›¾\næ€»çº¿çš„åˆ†ç±»\n1.ç‰‡å†…æ€»çº¿ï¼šèŠ¯ç‰‡å†…éƒ¨çš„æ€»çº¿\n2.ç³»ç»Ÿæ€»çº¿ï¼šè®¡ç®—æœºå„éƒ¨ä»¶ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“çº¿\næ•°æ®æ€»çº¿ï¼šåŒå‘ ä¸æœºå™¨å­—é•¿ã€å­˜å‚¨å­—é•¿æœ‰å…³ åœ°å€æ€»çº¿ï¼šå•å‘ ä¸å­˜å‚¨åœ°å€ã€IOåœ°å€æœ‰å…³ æ§åˆ¶æ€»çº¿ï¼šæœ‰å‡ºæœ‰å…¥ 3.é€šä¿¡æ€»çº¿\nç”¨äºè®¡ç®—æœºç³»ç»Ÿè´¨æ£€æˆ–è®¡ç®—æœºç³»ç»Ÿä¸å…¶ä»–ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡\nä¼ è¾“æ–¹å¼\nä¸²è¡Œé€šä¿¡æ€»çº¿ å¹¶è¡Œé€šä¿¡æ€»çº¿ æ€»çº¿ç‰¹æ€§åŠæ€§èƒ½æŒ‡æ ‡\n1.æ€»çº¿çš„ç‰©ç†å®ç°\nå®é™…ä¸Šå°±æ˜¯å°åˆ·ç”µè·¯æ¿ï¼šä¸»æ¿\n2.æ€»çº¿ç‰¹æ€§\næœºæ¢°ç‰¹æ€§\tå°ºå¯¸ã€å½¢çŠ¶ã€ç®¡è„šæ•°ã€æ’åˆ—é¡ºåº ç”µæ°”ç‰¹æ€§ ä¼ è¾“æ–¹å‘å’Œæœ‰æ•ˆçš„ç”µå¹³èŒƒå›´ åŠŸèƒ½ç‰¹æ€§ æ¯æ ¹ä¼ è¾“çº¿çš„åŠŸèƒ½ï¼šåœ°å€ã€æ•°æ®ã€æ§åˆ¶ æ—¶é—´ç‰¹æ€§ ä¿¡å·çš„æ—¶åºå…³ç³» 3.æ€»çº¿çš„æ€§èƒ½æŒ‡æ ‡\n1.æ€»çº¿å®½åº¦\tæ•°æ®çº¿çš„æ ¹æ•°\n2.æ ‡å‡†ä¼ è¾“ç‡ æ¯ç§’ä¼ è¾“çš„æœ€å¤§å­—èŠ‚æ•°ï¼ˆMBpsï¼‰\n3.æ—¶é’ŸåŒæ­¥ã€å¼‚æ­¥\tåŒæ­¥ã€ä¸åŒæ­¥\n4.æ€»çº¿å¤ç”¨\tåœ°å€çº¿ä¸æ•°æ®çº¿å¤ç”¨\n5.ä¿¡å·çº¿æ•°\tåœ°å€çº¿ã€æ•°æ®çº¿å’Œæ§åˆ¶çº¿çš„æ€»å’Œ\n6.æ€»çº¿æ§åˆ¶æ–¹å¼\tçªå‘ã€è‡ªåŠ¨ã€ä»²è£ã€é€»è¾‘ã€è®¡æ•°\n7.å…¶ä»–æŒ‡æ ‡\tè´Ÿè½½èƒ½åŠ›\n4.æ€»çº¿æ ‡å‡†\nISA EISA VESA PCI AGP RS-232 USB\næ€»çº¿ç»“æ„\nå•æ€»çº¿ç»“æ„ å¤šæ€»çº¿ç»“æ„ åŒæ€»çº¿ç»“æ„ ä¸»å­˜æ€»çº¿+é€šé“+IOæ€»çº¿ CPUå’Œä¸»å­˜ä¹‹é—´åŠ å…¥Mæ€»çº¿ ä¸‰æ€»çº¿ç»“æ„ ä¸»å­˜æ€»çº¿ã€IOæ€»çº¿ã€DMAæ€»çº¿ï¼ˆIOè®¾å¤‡å’Œä¸»å­˜ç›´æ¥è®¿é—®ï¼‰ CPUå’Œcacheä¹‹é—´çš„å±€éƒ¨æ€»çº¿+ç³»ç»Ÿæ€»çº¿+æ‰©å±•æ€»çº¿ å››æ€»çº¿ç»“æ„ å±€éƒ¨æ€»çº¿+ç³»ç»Ÿæ€»çº¿+é«˜é€Ÿæ€»çº¿+æ‰©å±•æ€»çº¿ å¤šå±‚PCIæ€»çº¿ç»“æ„ æ€»çº¿æ§åˆ¶\næ€»çº¿åˆ¤ä¼˜æ§åˆ¶\nä¸»è®¾å¤‡ï¼šå¯¹æ€»çº¿æœ‰æ§åˆ¶æƒ\nä»è®¾å¤‡ï¼šå“åº”ä»ä¸»è®¾å¤‡å‘æ¥çš„æ€»çº¿å‘½ä»¤\næ€»çº¿åˆ¤ä¼˜æ§åˆ¶ï¼š\né›†ä¸­å¼ é“¾å¼æŸ¥è¯¢ è®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢ ç‹¬ç«‹è¯·æ±‚æ–¹å¼ åˆ†å¸ƒå¼ é“¾å¼æŸ¥è¯¢ï¼š\nBS\u0026ndash;æ€»çº¿å¿™\nBR\u0026ndash;æ€»çº¿è¯·æ±‚\nBG\u0026ndash;æ€»çº¿åŒæ„\nbgçš„åˆ¤æ–­æ˜¯ä¸²è¡Œçš„ï¼Œæ‰€ä»¥æ˜¯å«é“¾å¼æŸ¥è¯¢\nè®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢ï¼š\nè®¡æ•°å™¨æ”¾åœ¨æ€»çº¿æ§åˆ¶éƒ¨ä»¶å†…éƒ¨ï¼Œå½“å¯ä»¥è®©å‡ºæ€»çº¿å ç”¨æƒçš„æ—¶å€™ï¼Œè½®æµå‘IOæ¥å£é€šè¿‡è®¾å¤‡åœ°å€è¿›è¡Œè®¿é—®ï¼Œå°‘äº†BGæ€»çº¿ï¼Œå¤šäº†è®¾å¤‡åœ°å€çº¿ï¼Œæ›´åŠ çµæ´»è®¾å®šä¼˜å…ˆçº§é¡ºåº\nç‹¬ç«‹è¯·æ±‚æ–¹å¼ï¼š\næ’é˜Ÿæ§åˆ¶æ€»çº¿ä¸­è®¾æœ‰æ’é˜Ÿå™¨\nå‘èµ·æ€»çº¿è¯·æ±‚çš„æ—¶å€™ï¼Œæ€»çº¿æ§åˆ¶éƒ¨ä»¶åŒæ—¶å¯¹å¤–å‘èµ·æ€»çº¿å ç”¨è¯·æ±‚\næ€»çº¿é€šä¿¡æ§åˆ¶ï¼š\n1.ç›®çš„ï¼šè§£å†³é€šä¿¡åŒæ–¹åè°ƒé…åˆçš„é—®é¢˜\n2.æ€»çº¿ä¼ è¾“å‘¨æœŸ\nç”³è¯·åˆ†é…é˜¶æ®µ\tä¸»æ¨¡å—ç”³è¯·ï¼Œæ€»çº¿ä»²è£å†³å®š å¯»å€é˜¶æ®µ ä¸»æ¨¡å—å‘ä»æ¨¡å—ç»™å‡ºåœ°å€å’Œå‘½ä»¤ ä¼ æ•°é˜¶æ®µ ä¸»æ¨¡å—å’Œä»æ¨¡å—äº¤æ¢æ•°æ® ç»“æŸé˜¶æ®µ ä¸»æ¨¡å—æ’¤é”€æœ‰å…³ä¿¡æ¯ æ€»çº¿é€šä¿¡çš„å››ç§æ–¹å¼\nåŒæ­¥é€šä¿¡ ç”±ç»Ÿä¸€æ—¶æ ‡æ§åˆ¶æ•°æ®ä¼ é€ å¼‚æ­¥é€šä¿¡ é‡‡ç”¨åº”ç­”æ–¹å¼ï¼Œæ²¡æœ‰å…¬å…±æ—¶é’Ÿæ ‡å‡† åŠåŒæ­¥é€šä¿¡ åŒæ­¥ã€å¼‚æ­¥ç»“åˆ åˆ†ç¦»å¼é€šä¿¡ å……åˆ†æŒ–æ˜ç³»ç»Ÿæ€»çº¿æ¯ä¸ªç¬é—´çš„æ½œåŠ› åŒæ­¥å¼æ•°æ®è¾“å…¥\næ€»çº¿ä¼ è¾“å‘¨æœŸæœ‰å››ä¸ª\nåœ¨ä¸åŒæ—¶é’Ÿå‘¨æœŸä¸Šå‡æ²¿ç»™å‡ºä¿¡å·\nåœ¨ç¬¬ä¸€ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œç»™å‡ºåœ°å€ä¿¡å·\nåœ¨ç¬¬äºŒä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œç»™å‡ºè¯»å‘½ä»¤\nåœ¨ç¬¬ä¸‰ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œç»™å‡ºå†™æ•°æ®ä¿¡å·\nåœ¨ç¬¬å››ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œæ’¤é”€è¯»å‘½ä»¤ä»¥åŠå†™æ•°æ®ä¿¡å·\nåœ¨ç¬¬äº”ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œæ’¤é”€åœ°å€ä¿¡å·\nåŒæ­¥å¼æ•°æ®è¾“å‡º\né€‚ç”¨äºæ€»çº¿æ¯”è¾ƒçŸ­ï¼Œä¸åŒæ¨¡å—è¯»å†™é€Ÿåº¦è¿‘ä¼¼çš„\nå¼‚æ­¥é€šä¿¡ï¼š\nä¸»è®¾å¤‡å’Œä»è®¾å¤‡çš„è¯·æ±‚å’Œå›ç­”\nåˆ†ä¸ºï¼šä¸äº’é”ã€åŠäº’é”å’Œå…¨äº’é”æ–¹å¼\nåŠåŒæ­¥é€šä¿¡ï¼ˆåŒæ­¥ã€å¼‚æ­¥ç»“åˆï¼‰\nåŒæ­¥ï¼šå‘é€æ–¹ç”¨ç³»ç»Ÿæ—¶é’Ÿå‰æ²¿å‘ä¿¡å·ï¼Œæ¥æ”¶æ–¹ç”¨ç³»ç»Ÿæ—¶é’Ÿåæ²¿åˆ¤æ–­ã€è¯†åˆ«\nå¼‚æ­¥ï¼šå…è®¸ä¸åŒé€Ÿåº¦çš„æ¨¡å—å’Œè°å·¥ä½œï¼Œå¢åŠ ä¸€æ¡â€œç­‰å¾…â€å“åº”ä¿¡å·\nT1 ä¸»æ¨¡å—å‘åœ°å€\nT2 ä¸»æ¨¡å—å‘å‘½ä»¤\nTw å½“WAITä¸ºä½ç”µå¹³æ—¶ï¼Œç­‰å¾…ä¸€ä¸ªT\nTw å½“WAITä¸ºä½ç”µå¹³æ—¶ï¼Œç­‰å¾…ä¸€ä¸ªT\nå½“WAITä¸ºé«˜ç”µå¹³æ—¶ï¼Œä¸»æ¨¡å—å¼€å§‹å‘ä»æ¨¡å—å¯¹æ¥\nT3 ä»æ¨¡å—æä¾›æ•°æ®\nT4 ä»æ¨¡å—æ’¤é”€æ•°æ®ï¼Œä¸»æ¨¡å—æ’¤é”€å‘½ä»¤\nä»¥ä¸Šä¸‰ç§é€šä¿¡çš„å…±åŒç‚¹ï¼š\nä¸€ä¸ªæ€»çº¿ä¼ è¾“å‘¨æœŸä¸­:\nä¸»æ¨¡å—å‘åœ°å€ã€å‘½ä»¤\tå ç”¨æ€»çº¿ ä»æ¨¡å—å‡†å¤‡æ•°æ® ä¸å ç”¨æ€»çº¿ æ€»çº¿ç©ºé—² ä»æ¨¡å—å‘ä¸»æ¨¡å—å‘é€æ•°æ® å ç”¨æ€»çº¿ ç¬¬å››ç§åˆ™æ˜¯åœ¨æ€»çº¿ç©ºé—²çš„æ—¶å€™ï¼Œå……åˆ†æ³•è¯€ç³»ç»Ÿæ€»çº¿æ¯ä¸ªç¬é—´çš„æ½œåŠ›ï¼Œä¹Ÿå°±æ˜¯åˆ†ç¦»å¼é€šä¿¡\nä¸€ä¸ªæ€»çº¿ä¼ è¾“å‘¨æœŸä¸­ï¼Œä¸»æ¨¡å—ç”³è¯·å ç”¨æ€»çº¿ï¼Œä½¿ç”¨å®Œåå³æ”¾å¼ƒæ€»çº¿çš„ä½¿ç”¨æƒï¼Œåœ¨ä»æ¨¡å—å‡†å¤‡å¥½æ•°æ®çš„æ—¶å€™ï¼Œç”³è¯·å ç”¨æ€»çº¿ï¼Œå°†å„ç§ä¿¡æ¯é€è‡³æ€»çº¿ä¸Š\nåˆ†ç¦»å¼é€šä¿¡ç‰¹ç‚¹\nå„æ¨¡å—æœ‰æƒç”³è¯·å ç”¨æ€»çº¿ é‡‡ç”¨åŒæ­¥æ–¹å¼é€šä¿¡ï¼Œä¸ç­‰å¯¹æ–¹å›ç­” å„æ¨¡å—å‡†å¤‡æ•°æ®æ—¶ï¼Œä¸å ç”¨æ€»çº¿ æ€»çº¿è¢«å ç”¨æ—¶ï¼Œæ— ç©ºé—² å­˜å‚¨å™¨\nä¸»å­˜å‚¨å™¨å’Œé«˜é€Ÿç¼“å†²å­˜å‚¨å™¨å¾ˆé‡è¦\nå­˜å‚¨å™¨å¯åˆ†å“ªäº›ç±»å‹ ç°ä»£å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„ï¼Œä¸ºä»€ä¹ˆè¦åˆ†å±‚ å­˜å‚¨å™¨åˆ†ç±»\næŒ‰ç…§å­˜å–æ–¹å¼åˆ†ç±»\nå­˜å–æ—¶é—´ä¸ç‰©ç†åœ°å€æ— å…³ï¼ˆéšæœºè®¿é—®ï¼‰ éšæœºå­˜å‚¨å™¨ åœ¨ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­å¯è¯»å¯å†™ åªè¯»å­˜å‚¨å™¨ åœ¨ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­åªè¯» å­˜å–æ—¶é—´ä¸ç‰©ç†åœ°å€æœ‰å…³ï¼ˆä¸²è¡Œè®¿é—®ï¼‰ é¡ºåºå­˜å–å­˜å‚¨å™¨\tç£å¸¦ ç›´æ¥å­˜å–å­˜å‚¨å™¨ ç£ç›˜ æŒ‰åœ¨è®¡ç®—æœºä¸­çš„ä½œç”¨åˆ†ç±»\nä¸»å­˜å‚¨å™¨\nRAM éšæœºå­˜å‚¨å™¨ å¯è¯»å¯å†™ é™æ€RAM åŠ¨æ€RAM ROMåªè¯»å­˜å‚¨å™¨ ç³»ç»Ÿç¨‹åº ä¸å…è®¸ä¿®æ”¹ MROM PROM EPROM EEPROM Flash Memory ä¾‹å¦‚Uç›˜ã€å›ºæ€\né«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼ˆCacheï¼‰\nè¾…åŠ©å­˜å‚¨å™¨ï¼šç£ç›˜ã€ç£å¸¦ã€å…‰ç›˜\nå­˜å‚¨ä»‹è´¨åˆ†ç±»\nåŠå¯¼ä½“å­˜å‚¨å™¨\tTTLã€MOS æ˜“å¤± ç£è¡¨é¢å­˜å‚¨å™¨ ç£å¤´ã€è½½ç£ä½“ ä¸æ˜“å¤± ç£èŠ¯å­˜å‚¨å™¨ ç¡¬ç£ææ–™ã€ç¯çŠ¶å…ƒä»¶ ä¸æ˜“å¤± å…‰ç›˜å­˜å‚¨å™¨ æ¿€å…‰ã€ç£å…‰ææ–™ ä¸æ˜“å¤± å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„\nå­˜å‚¨å™¨çš„ä¸‰ä¸ªä¸»è¦ç‰¹æ€§çš„å…³ç³» é€Ÿåº¦ã€å®¹é‡ã€ä»·æ ¼\nâ€‹\tå¯„å­˜å™¨\tCPU\tä¸»æœº\té€Ÿåº¦å¿«\tå®¹é‡å°\tä»·æ ¼é«˜\nâ€‹\tç¼“å­˜\tCPU\tä¸»æœº\nâ€‹\tä¸»å­˜\tä¸»æœº\nâ€‹\tç£ç›˜\tè¾…å­˜\nâ€‹\tå…‰ç›˜\tè¾…å­˜\nâ€‹\tç£å¸¦\tè¾…å­˜\té€Ÿåº¦æ…¢\tå®¹é‡å¤§\tä»·æ ¼ä½\nè½¯ä»¶ã€ç¡¬ä»¶ç›¸ç»“åˆï¼Œå¤šç§å­˜å‚¨å™¨ç»“åˆçš„å½¢å¼ï¼Œä½¿å¾—æŸä¸€çº§çš„ç¨‹åºå‘˜çœ‹æ¥ï¼Œé«˜é€Ÿã€å¤§å®¹é‡ã€ä½ä»·æ ¼\n2.ç¼“å­˜\u0026ndash;ä¸»å­˜å±‚æ¬¡å’Œä¸»å­˜\u0026ndash;è¾…å­˜å±‚æ¬¡\nCPU ç¼“å­˜\tä¸»å­˜\tè¾…å­˜\n10ns 20ns\t200ns\tms\nç¼“å­˜\u0026ndash;ä¸»å­˜ æ˜¯ç”±ç¡¬ä»¶ç»‘å®šåœ¨ä¸€å—å„¿çš„ï¼ˆä¸»è¦ä¸ºäº†è§£å†³é€Ÿåº¦é—®é¢˜ï¼‰\nä¸»å­˜\u0026ndash;è¾…å­˜ æ˜¯ç”±è½¯ç¡¬ä»¶ç»“åˆçš„å½¢å¼å¼„åœ¨ä¸€å—å„¿çš„ï¼ˆä¸»è¦ä¸ºäº†è§£å†³å®¹é‡é—®é¢˜ï¼‰\nç¼“å­˜\u0026ndash;ä¸»å­˜\nä¸»å­˜å‚¨å™¨çš„åœ°å€ å®åœ°å€ ç‰©ç†åœ°å€ ä¸»å­˜\u0026ndash;è¾…å­˜\nè™šæ‹Ÿå­˜å‚¨å™¨ è™šåœ°å€ é€»è¾‘åœ°å€ ä¸»å­˜å‚¨å™¨\u0026ndash;æ¦‚è¿°\nä¸»å­˜çš„åŸºæœ¬ç»„æˆ ä¸»å­˜ä¸CPUä¹‹é—´çš„è”ç³» ä¸»å­˜ä¸­çš„å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é… ä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡ åŸºæœ¬ç»„æˆ\nMARåœ°å€å¯„å­˜å™¨\nè¯‘ç å™¨\né©±åŠ¨å™¨\nå­˜å‚¨ä½“\nè¯»å†™ç”µè·¯\næ§åˆ¶ç”µè·¯\nMDRæ•°æ®å¯„å­˜å™¨\nä¸»å­˜å’ŒCPUçš„è”ç³»\nMDR\u0026mdash;-æ•°æ®æ€»çº¿ï¼ˆåŒå‘ï¼‰\u0026mdash;-ä¸»å­˜\nCPU\u0026mdash;-è¯»å†™\u0026mdash;ä¸»å­˜\nMAR\u0026mdash;åœ°å€æ€»çº¿ï¼ˆå•å‘ï¼‰\u0026mdash;ä¸»å­˜\nä¸»å­˜ä¸­å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é…\né«˜ä½å­—èŠ‚æ”¾åœ¨å‰è¾¹\u0026mdash;å¤§ç«¯æ¨¡å¼ã€å¤§å°¾æ¨¡å¼\nä½ä½å­—èŠ‚æ”¾åœ¨å‰è¾¹\u0026mdash;å°ç«¯æ¨¡å¼ã€å°å°¾æ¨¡å¼\nä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡\nå­˜å‚¨å®¹é‡\tä¸»å­˜å­˜æ”¾äºŒè¿›åˆ¶ä»£ç çš„æ€»ä½æ•° å­˜å‚¨é€Ÿåº¦ å­˜å–æ—¶é—´\tå­˜å‚¨å™¨çš„è®¿é—®æ—¶é—´ è¯»å‡ºæ—¶é—´ å†™å…¥æ—¶é—´ å­˜å–å‘¨æœŸ è¿ç»­ä¸¤æ¬¡ç‹¬ç«‹çš„å­˜å‚¨å™¨æ“ä½œï¼ˆè¯»æˆ–å†™ï¼‰æ‰€éœ€çš„æœ€å°é—´éš”æ—¶é—´ è¯»å‘¨æœŸã€å†™å‘¨æœŸ å­˜å‚¨å™¨çš„å¸¦å®½ ä½/ç§’ åŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡ç®€ä»‹\n1.åŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡çš„åŸºæœ¬ç»“æ„\nè¯‘ç é©±åŠ¨+å­˜å‚¨çŸ©é˜µ+è¯»å†™ç”µè·¯\né™¤æ­¤ä¹‹å¤–è¿˜æœ‰äº¤äº’çš„æ•°å­—çº¿è·¯ï¼Œä¾‹å¦‚åœ°å€çº¿ï¼ˆå•å‘ï¼‰ã€æ•°æ®çº¿ï¼ˆåŒå‘ï¼‰ã€ç‰‡é€‰çº¿ã€è¯»å†™æ§åˆ¶çº¿\nåœ°å€çº¿å®é™…ä¸Šæ˜¯åœ°å€ä¸ªæ•°ï¼Œä¾‹å¦‚åœ°å€çº¿10æ¡ï¼Œä¹Ÿå°±æ˜¯æœ‰2çš„10æ¬¡æ–¹ä¸ªåœ°å€\næ•°æ®çº¿å®é™…ä¸Šæ˜¯æ•°æ®çš„ä½æ•°ï¼Œä¾‹å¦‚æ•°æ®çº¿æœ‰4æ¡ï¼Œä¹Ÿå°±æ˜¯æœ‰4ä½çš„0101æ¥è¡¨ç¤ºä¸€ä¸ªæ•°æ®\næ‰€ä»¥èŠ¯ç‰‡å®¹é‡=åœ°å€çº¿*æ•°æ®çº¿\nç‰‡é€‰çº¿ éCS éCE chipselect chipenable ä½ç”µå¹³æœ‰æ•ˆ\nè¯»å†™æ§åˆ¶çº¿ éWE å†™ éOE è¯»\nå­˜å‚¨èŠ¯ç‰‡ç‰‡é€‰çº¿çš„ä½œç”¨\nç”¨16K*1ä½çš„å­˜å‚¨èŠ¯ç‰‡ç»„æˆ64K * 8ä½çš„å­˜å‚¨å™¨\né‚£ä¹ˆå°±è¦æ±‚åŒæ—¶å¯¹8ä¸ªèŠ¯ç‰‡è¿›è¡Œæ“ä½œï¼Œæ¯ä¸ªèŠ¯ç‰‡å‡‘ä¸€ä¸ªä¸€ä½ï¼Œ8ä¸ªåŒæ—¶å·¥ä½œå°±å‡‘è¶³8ä½ï¼Œå¹¶ä¸”è¦åŒæ—¶å‡‘è¶³4ç»„ï¼Œå› ä¸º1ç»„åªæœ‰2çš„16æ¬¡æ–¹ä¸ªåœ°å€ï¼Œåªæœ‰å‡‘è¶³4ç»„æ‰èƒ½å¤Ÿ2çš„64æ¬¡æ–¹è¿™ä¹ˆå¤šåœ°å€\nå› æ­¤ç‰‡é€‰çº¿çš„ä½œç”¨å°±æ˜¯è®©å‡ ä¸ªå­˜å‚¨èŠ¯ç‰‡è¿æ¥åœ¨ä¸€èµ·åŒæ—¶å·¥ä½œ\nåŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡çš„è¯‘ç é©±åŠ¨æ–¹å¼\n1.çº¿é€‰æ³• é€šè¿‡è¾“å…¥çš„åœ°å€çº¿ï¼Œé€šè¿‡åœ°å€è¯‘ç å™¨æ¥åˆ¤æ–­å“ªæ ¹çº¿æœ‰æ•ˆï¼Œç„¶åå°†æœ‰æ•ˆçš„çº¿ä¸Šçš„æ•°æ®é€šè¿‡è¯»å†™æ§åˆ¶ç”µè·¯ï¼Œä¹Ÿå°±æ˜¯æ•°æ®çº¿è¾“å‡ºï¼Œç¼ºç‚¹åœ¨äºå¦‚æœåœ°å€çº¿ä½æ•°å¾ˆå¤šï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯åœ°å€çº¿éœ€è¦å¾ˆå¤šï¼Œæ¯æ ¹åœ°å€çº¿è¦å’Œä¸åŒçš„æ§åˆ¶ç”µè·¯çš„å—å—ç›¸è¿ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´çº¿å¾ˆå¤š\n2.é‡åˆæ³•\tçº¿é€‰æ³•ä½¿ç”¨çŸ©é˜µæ¥å¸ƒçº¿ï¼Œè€Œé‡åˆæ³•ä½¿ç”¨äºŒç»´çŸ©é˜µæ¥å¸ƒçº¿ï¼Œå¸ƒçº¿çš„æ•°é‡å¤§å¤§é™ä½\néšæœºå­˜å–å­˜å‚¨å™¨RAM\né™æ€RAMï¼ˆSRAMï¼‰\nä¿å­˜0å’Œ1çš„åŸç†æ˜¯ä»€ä¹ˆ é€šè¿‡è§¦å‘å™¨æ¥å®ç°å­˜å–ï¼Œè¿™éƒ¨åˆ†æ¶‰åŠåˆ°æ•°ç”µçš„å†…å®¹ åŸºæœ¬å•å…ƒå•å…ƒç”µè·¯çš„æ„æˆæ˜¯ä»€ä¹ˆ å¯¹å•å…ƒç”µè·¯å¦‚ä½•è¯»å‡ºå’Œå†™å…¥ é€šè¿‡ç‰‡é€‰ä¿¡å·å°†ä¸åŒçš„èŠ¯ç‰‡åˆ†ç»„ï¼Œé€šè¿‡é‡åˆæ³•å’Œåœ°å€çº¿ä»¥åŠæ•°æ®çº¿ï¼Œå¯¹ä½ç”µå¹³çš„åœ°å€è¿›è¡Œé€‰ä¸­åè¿›è¡Œè¯»å†™æ“ä½œ å…¸å‹èŠ¯ç‰‡çš„ç»“æ„æ˜¯ä»€ä¹ˆæ ·å­çš„ é™æ€RAMèŠ¯ç‰‡å¦‚ä½•è¿›è¡Œè¯»å‡ºå’Œå†™å…¥æ“ä½œ åŠ¨æ€RAM(DRAM)\nä¿å­˜0å’Œ1çš„åŸç†æ˜¯ä»€ä¹ˆ\nå­˜åœ¨ç”µå®¹ä¸­ï¼Œæœ‰ç”µå°±æ˜¯1ï¼Œæ²¡ç”µå°±æ˜¯0 åŸºæœ¬å•å…ƒå•å…ƒç”µè·¯çš„æ„æˆæ˜¯ä»€ä¹ˆ\nå¯¹å•å…ƒç”µè·¯å¦‚ä½•è¯»å‡ºå’Œå†™å…¥\nå…¸å‹èŠ¯ç‰‡çš„ç»“æ„æ˜¯ä»€ä¹ˆæ ·å­çš„\nå•ç®¡ã€ä¸‰ç®¡ é™æ€RAMèŠ¯ç‰‡å¦‚ä½•è¿›è¡Œè¯»å‡ºå’Œå†™å…¥æ“ä½œ\nåŠ¨æ€RAMä¸ºä»€ä¹ˆè¦è¿›è¡Œåˆ·æ–°ï¼Œåˆ·æ–°æ–¹æ³•\né˜²æ­¢ç”µå­ä¸¢å¤±ï¼Œåˆ·æ–°ä¸è¡Œåœ°å€æœ‰å…³ é›†ä¸­åˆ·æ–°ï¼ˆå­˜åœ¨æ­»åŒºå’Œæ­»æ—¶é—´ç‡ï¼‰ åˆ†æ•£åˆ·æ–°ï¼ˆåˆ·æ–°è¿‡å¿«äº†ï¼Œæ²¡æœ‰æ­»åŒºï¼‰ é›†ä¸­åˆ·æ–°ä¸åˆ†æ•£åˆ·æ–°ç›¸ç»“åˆï¼ˆå¼‚æ­¥åˆ·æ–°ï¼‰ åŠ¨æ€RAMå’Œé™æ€RAMçš„æ¯”è¾ƒ\nâ€‹\tDRAM\tSRAM\nå­˜å‚¨åŸç† ç”µå®¹ è§¦å‘å™¨\né›†æˆåº¦ é«˜ ä½\nèŠ¯ç‰‡å¼•è„š å°‘ å¤š\nåŠŸè€— å° å¤§\nä»·æ ¼\tä½\té«˜\né€Ÿåº¦\tæ…¢\tå¿«\nåˆ·æ–°\tæœ‰\tæ— \nâ€‹\tç”¨ä½œä¸»å­˜\tç”¨ä½œç¼“å­˜\nåªè¯»å­˜å‚¨å™¨ROM\næ—©èµ·åªè¯»å­˜å‚¨å™¨\u0026mdash;-ä¸èƒ½ä¿®æ”¹\næ”¹è¿›1\u0026mdash;-ç”¨æˆ·å¯ä»¥è‡ªå·±å†™\u0026mdash;\u0026mdash;ä¸€æ¬¡æ€§\næ”¹è¿›2\u0026mdash;\u0026ndash;å¯ä»¥å¤šæ¬¡å†™\u0026mdash;\u0026mdash;-è¦èƒ½å¯¹ä¿¡æ¯è¿›è¡Œæ“¦é™¤\næ”¹è¿›3\u0026mdash;\u0026mdash;ç”µå¯æ“¦å†™\u0026mdash;\u0026mdash;-ç‰¹å®šè®¾å¤‡\næ”¹è¿›4\u0026mdash;\u0026mdash;ç”µå¯æ“¦å†™\u0026mdash;\u0026mdash;-ç›´æ¥è¿æ¥åˆ°è®¡ç®—æœº\n1.æ©æ¨¡ROMï¼ˆMROMï¼‰\nè¡Œåˆ—é€‰æ‹©çº¿äº¤å‰å¤„æœ‰MOSç®¡ä¸º1\n2.PROMä¸€æ¬¡æ€§ç¼–ç¨‹\n3.EPROMï¼ˆå¤šæ¬¡æ€§ç¼–ç¨‹ï¼‰\nNå‹æ²Ÿé“æµ®åŠ¨æ …MOSç”µè·¯\nç´«å¤–çº¿æ“¦é™¤\n","date":"2021-05-14T00:26:49+08:00","permalink":"https://linjianshu.github.io/p/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"è®¡ç®—æœºç»„æˆåŸç†å­¦ä¹ æ–‡æ¡£"},{"content":"Blazorå­¦ä¹ æ–‡æ¡£ è°ƒç”¨webapi\nhttpclient ihttpclientfactory æ•°æ®ç»‘å®š\nå•é¡¹ç»‘å®š\nåŒå‘ç»‘å®š\n\u0026lt;input @bind = \u0026#34;CurrentValue\u0026#34; /\u0026gt; \u0026lt;input @bind = \u0026#34;CurrentValue\u0026#34; @bind:event = \u0026#34;oninput\u0026#34; \u0026lt;h1\u0026gt;å•å‘ç»‘å®š\u0026lt;/h1\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;@Apsdetail.ProductBornCode\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;@Apsdetail.ProcedureCode\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;@Apsdetail.ProductBornCode\u0026lt;/h3\u0026gt; \u0026lt;h3\u0026gt;@Apsdetail.ProcedureCode\u0026lt;/h3\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;hr /\u0026gt; \u0026lt;h1\u0026gt;åŒå‘ç»‘å®š\u0026lt;/h1\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;äº§å“å‡ºç”Ÿè¯\u0026lt;/h3\u0026gt; \u0026lt;input @bind=\u0026#34;@Apsdetail.ProductBornCode\u0026#34; /\u0026gt; \u0026lt;h3\u0026gt;å·¥åºç¼–å·\u0026lt;/h3\u0026gt; \u0026lt;input @bind=\u0026#34;@Apsdetail.ProcedureCode\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;h2\u0026gt;ä¸åŒçš„è§¦å‘event:\u0026lt;/h2\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;äº§å“å‡ºç”Ÿè¯\u0026lt;/h3\u0026gt; \u0026lt;input @bind=\u0026#34;@Apsdetail.ProductBornCode\u0026#34; @bind:event=\u0026#34;oninput\u0026#34;/\u0026gt; \u0026lt;h3\u0026gt;å·¥åºç¼–å·\u0026lt;/h3\u0026gt; \u0026lt;input @bind=\u0026#34;@Apsdetail.ProcedureCode\u0026#34; @bind:event=\u0026#34;oninput\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button @onclick=\u0026#34;@button_click\u0026#34;\u0026gt;click\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; EditForm\ninputç»„ä»¶ inputtext inputtextarea inputnumber inputselect inputdate inputcheckbox æ•°æ®ç»‘å®š æ•°æ®éªŒè¯ ç•Œé¢æºå€¼è·³è½¬\nåœ¨webapiä¸­\nè®°å¾—æŒ‡å®šrouteå±æ€§\nå¦‚æœæ²¡æœ‰fromformçš„è¯ postä¼˜å…ˆä¸ºä»urlä¼ è¿‡æ¥çš„æ•°æ®\nå¦‚æœæŒ‡å®šäº†fromformçš„è¯ image-20210423163845812\rblazoré€šè¿‡postä¼ è¿‡æ¥çš„ä¸œè¥¿\nimage-20210423170418068\råœ¨webapiä¸­ç›´æ¥é€šè¿‡å®ä½“æ¥æ¥æ”¶å°±å¥½äº†!!!\n","date":"2021-04-24T00:27:56+08:00","permalink":"https://linjianshu.github.io/p/blazor%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"Blazorå­¦ä¹ æ–‡æ¡£"},{"content":"asp .net core mvc å­¦ä¹ æ–‡æ¡£ æ§åˆ¶å™¨å‘ç•Œé¢ä¼ å€¼ é€šè¿‡viewbag/viewdata æ¥è¿›è¡Œå¼±ä¼ é€’\ncontrollerä¸­:\nimage-20210421230444662\rindexä¸­:\nimage-20210421230455113\ré€šè¿‡modelè¿›è¡Œå¼ºç±»å‹ä¼ é€’\ncontrollerä¸­:\nimage-20210421230520009\rindexä¸­:\n@model IEnumerable\u0026lt;webmvcdemo.Models.Movie\u0026gt; \u0026lt;form asp-controller=\u0026#34;Movies\u0026#34; asp-action=\u0026#34;Index\u0026#34; \u0026gt; \u0026lt;p\u0026gt; \u0026lt;select name=\u0026#34;prop\u0026#34; required=\u0026#34;\u0026#34;\u0026gt; @foreach (var item in typeof(Movie).GetProperties()) { \u0026lt;option value=@item.Name\u0026gt;@item.Name\u0026lt;/option\u0026gt; } \u0026lt;/select\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;SerachString\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/form\u0026gt; ç•Œé¢å‘æ§åˆ¶å™¨ä¼ å‚ é€šè¿‡nameæ¥å‡†ç¡®ä¼ é€’\nindex:\n\u0026lt;select name=\u0026#34;prop\u0026#34; required=\u0026#34;\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;SerachString\u0026#34;/\u0026gt; æ§åˆ¶å™¨ä¸­:\nimage-20210421230911623\ré€šè¿‡å®šä½ç‚¹æ ‡è®°å¸®åŠ©ç¨‹åº\nhttps://docs.microsoft.com/zh-cn/aspnet/core/mvc/views/tag-helpers/built-in/anchor-tag-helper?view=aspnetcore-5.0#asp-route-value\nRazorè¯­æ³• ä½¿ç”¨@ç¬¦å·å°†c#è½¬åŒ–ä¸ºhtmlä»£ç æä¾›å±•ç¤º æ˜¾å¼/éšå¼razorè¡¨è¾¾å¼ razorä»£ç å— â€‹\tRazor ä»£ç å—ä»¥å¼€å¤´ @ ï¼Œå¹¶ç”±æ‹¬èµ·æ¥ {} ã€‚ ä»£ç å—å†…çš„ C# ä»£ç ä¸ä¼šå‘ˆç°ï¼Œè¿™ç‚¹ä¸è¡¨è¾¾å¼ä¸åŒã€‚ ä¸€ä¸ªè§†å›¾ä¸­çš„ä»£ç å—å’Œè¡¨è¾¾å¼å…±äº«ç›¸åŒçš„ä½œç”¨åŸŸå¹¶æŒ‰é¡ºåºè¿›è¡Œå®šä¹‰\næ§åˆ¶ç»“æ„@if, else if, else, and @switch å¾ªç¯ç»“æ„@for, @foreach, @while, and @do while å¤åˆè¯­å¥@using, @try, catch, finally @attribute æŒ‡ä»¤å°†ç»™å®šçš„å±æ€§æ·»åŠ åˆ°ç”Ÿæˆçš„é¡µæˆ–è§†å›¾çš„ç±»ä¸­ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ·»åŠ  [Authorize] å±æ€§ï¼š @attribute [Authorize] @codeå’Œ@functions @codeå—ä½¿ Razor ç»„ä»¶å¯ä»¥å°† c # æˆå‘˜æ·»åŠ  () åˆ°ç»„ä»¶çš„å­—æ®µã€å±æ€§å’Œæ–¹æ³•\n@functions æŒ‡ä»¤å…è®¸å°† C# æˆå‘˜ï¼ˆå­—æ®µã€å±æ€§å’Œæ–¹æ³•ï¼‰æ·»åŠ åˆ°ç”Ÿæˆçš„ç±»ä¸­\nåœ¨razorç»„ä»¶ä¸­,æˆ‘ä»¬ä½¿ç”¨@code æ¥ä»£æ›¿jsæ‰€åšçš„æ“ä½œå’Œè¿ç®—\nåœ¨razoré¡µé¢ä¸­,æˆ‘ä»¬ä½¿ç”¨@functions æ¥ä»£æ›¿jsæ‰€åšçš„æ“ä½œå’Œè¿ç®—\n@functions { public string GetHello() { return \u0026#34;Hello\u0026#34;; } } \u0026lt;div\u0026gt;From method: @GetHello()\u0026lt;/div\u0026gt; @implements æŒ‡ä»¤ä¸ºç”Ÿæˆçš„ç±»å®ç°æ¥å£ã€‚ @inherits æŒ‡ä»¤å¯¹è§†å›¾ç»§æ‰¿çš„ç±»æä¾›å®Œå…¨æ§åˆ¶ï¼š image-20210422102054166\r@model å’Œ @inherits å¯åœ¨åŒä¸€è§†å›¾ä¸­ä½¿ç”¨ã€‚\n@injectæŒ‡ä»¤ä½¿ Razor é¡µé¢å¯ä»¥å°†æœåŠ¡ä»æœåŠ¡å®¹å™¨æ³¨å…¥åˆ°è§†å›¾ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…è§†å›¾ä¸­çš„ä¾èµ–å…³ç³»æ³¨å…¥ã€‚\n@model æŒ‡ä»¤æŒ‡å®šä¼ é€’åˆ°è§†å›¾æˆ–é¡µé¢çš„æ¨¡å‹ç±»å‹\n@namespace æŒ‡ä»¤ï¼š\nè®¾ç½®ç”Ÿæˆçš„ Razor é¡µã€MVC è§†å›¾æˆ–ç»„ä»¶çš„ç±»çš„å‘½åç©ºé—´ Razor ã€‚ åœ¨ç›®å½•æ ‘ä¸­æœ€è¿‘çš„å¯¼å…¥æ–‡ä»¶ä¸­è®¾ç½®é¡µé¢ã€è§†å›¾æˆ–ç»„ä»¶ç±»çš„æ ¹æ´¾ç”Ÿå‘½åç©ºé—´ï¼Œ _ViewImports) æˆ– _Imports razor (ç»„ä»¶) (è§†å›¾æˆ–é¡µé¢ã€‚ Razor @page æŒ‡ä»¤å…·æœ‰ä¸åŒçš„æ•ˆæœï¼Œå…·ä½“å–å†³äºå…¶æ‰€åœ¨æ–‡ä»¶çš„ç±»å‹ã€‚ æŒ‡ä»¤ï¼š\nåœ¨ cshtml æ–‡ä»¶ä¸­ï¼ŒæŒ‡ç¤ºè¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ª Razor é¡µé¢ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…è‡ªå®šä¹‰è·¯ç”±å’Œ ASP.NET Core ä¸­çš„ Razor Pages ä»‹ç»ã€‚ æŒ‡å®š Razor ç»„ä»¶åº”ç›´æ¥å¤„ç†è¯·æ±‚ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… ASP.NET Core Blazor è·¯ç”±ã€‚ @using æŒ‡ä»¤ç”¨äºå‘ç”Ÿæˆçš„è§†å›¾æ·»åŠ  C# using æŒ‡ä»¤ï¼š\n@using System.IO @{ var dir = Directory.GetCurrentDirectory(); } \u0026lt;p\u0026gt;@dir\u0026lt;/p\u0026gt; public class Instructor { public int ID { get; set; } [FromQuery(Name = \u0026#34;Note\u0026#34;)] public string NoteFromQueryString { get; set; } è¡¨å•æ ‡è®°å¸®åŠ©ç¨‹åº ","date":"2021-04-16T00:28:25+08:00","permalink":"https://linjianshu.github.io/p/apsdotnetcoremvc%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"ApsDotnetCoreMVCå­¦ä¹ æ–‡æ¡£"},{"content":"C#5.0+å­¦ä¹ æ–‡æ¡£ ç‰¹ç‚¹ï¼š\né€šç”¨æ€§è¯­è¨€ ç±»å‹å®‰å…¨ é¢å‘å¯¹è±¡ ç›®æ ‡ï¼šç”Ÿäº§åŠ›\nç®€æ´æ€§ è¡¨è¾¾åŠ› é«˜æ€§èƒ½ å¹³å°ä¸­ç«‹ï¼Œä¸å¹³å°æ— å…³\nå°è£…ã€ç»§æ‰¿ã€å¤šæ€\nç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿï¼š\nç±»å‹ å…±åŒçš„åŸºç±» ç±»å’Œæ¥å£\nclass interface å±æ€§propertyã€æ–¹æ³•methodå’Œäº‹ä»¶event\nå”¯ä¸€ä¸€ç§å‡½æ•°æˆå‘˜(Function Member):æ–¹æ³•(method)\næ–¹æ³•è¿˜åŒ…æ‹¬ï¼šå±æ€§(Property)å’Œäº‹ä»¶(Event)è¿˜æœ‰å…¶ä»–çš„\nå±æ€§\näº‹ä»¶\nC#ä¸»è¦æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯ä¹Ÿå€Ÿç”¨äº†ä¸å°‘å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§\nå‡½æ•°å¯ä»¥å½“åšå€¼æ¥å¯¹å¾…\nå§”æ‰˜Delegate æ”¯æŒçº¯(purity)æ¨¡å¼\né¿å…ä½¿ç”¨å€¼å¯å˜çš„å˜é‡ ç±»å‹å®‰å…¨\nc#ä¸»è¦æ¥è¯´æ˜¯ç±»å‹å®‰å…¨çš„ é™æ€ç±»å‹ static typing åŠ¨æ€ç±»å‹ dynamic å¼ºç±»å‹ strongly typed language å†…å­˜ç®¡ç†\nä¾èµ–äºè¿è¡Œæ—¶æ¥æ‰§è¡Œè‡ªåŠ¨å†…å­˜ç®¡ç† CLR:Common Language Runtime (å…¬å…±è¯­è¨€è¿è¡Œæ—¶) GCï¼š Garbage Collector (åƒåœ¾æ”¶é›†å™¨) c#æ²¡æœ‰æ¶ˆç­æŒ‡é’ˆ é€šå¸¸æƒ…å†µä¸‹ä¸éœ€è¦ä½¿ç”¨æŒ‡é’ˆ unsafe å¹³å°æ”¯æŒ\nåŸæ¥c#ä¸»è¦æ˜¯åœ¨windowä¸Šé¢è¿è¡Œ\nç°åœ¨å¯ä»¥åœ¨æ‰€æœ‰çš„å¹³å°ä¸Šè¿è¡Œ\nwindows macs linux ios android \u0026hellip; .Net Core\n.Net/.Net Core çš„æ ¸å¿ƒå°±æ˜¯CLR: Comman Language Runtime\nCLRå’Œè¯­è¨€æ— å…³\nc#æ˜¯ä¸€ç§æ‰˜ç®¡è¯­è¨€\nä¼šè¢«ç¼–è¯‘æˆæ‰˜ç®¡ä»£ç (IL : Intermediate Language) CLRæŠŠILè½¬åŒ–æˆæœºå™¨çš„åŸç”Ÿä»£ç  JIT(Just in time)ç¼–è¯‘ Ahead-of-timeç¼–è¯‘ æ‰˜ç®¡ä»£ç çš„å®¹å™¨ï¼šAssembly æˆ–portable Executable\n.exe æˆ–dll åŒ…å«IL å’Œç±»å‹ä¿¡æ¯(metadata) IIdasm\næ”¯æŒc#çš„æ¡†æ¶\n.net framework .net core unity xamarin uwp winrt windows phone xna silverlight .net micro framework mono sql server .net Core\nç¼–è¯‘ c#ç¼–è¯‘å™¨æŠŠ.csç»“å°¾çš„æºç æ–‡ä»¶ç¼–è¯‘æˆAssembly assemblyæ˜¯.net coreé‡ŒåŒ…è£…å’Œéƒ¨ç½²çš„å•å…ƒ assemblyå¯ä»¥æ˜¯åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ˜¯åº“ .exe .dll æ„é€ å‡½æ•°å’Œå®ä¾‹åŒ– æ•°æ®æ˜¯é€šè¿‡å®ä¾‹åŒ–ä¸€ä¸ªç±»å‹æ¥åˆ›å»ºçš„ é¢„å®šä¹‰çš„ç±»å‹ç›´æ¥å†™literalå°±å¯ä»¥è¢«å®ä¾‹åŒ–äº† è€Œè‡ªå®šä¹‰ç±»å‹åˆ™é€šè¿‡newæ“ä½œç¬¦æ¥åˆ›å»ºå®ä¾‹ å®ä¾‹æˆå‘˜vsé™æ€æˆå‘˜ æ“ä½œäºå®ä¾‹ç±»å‹çš„æ•°æ®æˆå‘˜å’Œå‡½æ•°æˆå‘˜éƒ½å«åšå®ä¾‹æˆå‘˜ æ“ä½œäºç±»å‹è€Œä¸æ˜¯ç±»å‹å®ä¾‹çš„æ•°æ®æˆå‘˜å’Œå‡½æ•°æˆå‘˜å«åšé™æ€æˆå‘˜ static é™æ€ç±»static class çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯é™æ€çš„ é™æ€ç±»ä¸å¯ä»¥åˆ›å»ºå®ä¾‹ã€‚ ä¾‹å¦‚console ï¼Œä»–åœ¨æ•´ä¸ªç¨‹åºé‡Œå°±ä¸€ä¸ª public\npublicå…³é”®å­—å¯ä»¥æŠŠæˆå‘˜æš´éœ²ç»™å…¶ä»–çš„ç±» å¦‚æœæ²¡æœ‰publicå…³é”®å­—çš„è¯å°±æ˜¯private æ— æ³•æš´éœ²ç»™å…¶ä»–ç±» å€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹ å€¼ç±»å‹åŒ…æ‹¬æ‰€æœ‰çš„å†…ç½®ç±»å‹ï¼ˆæ•°å€¼ã€å­—ç¬¦ã€boolï¼‰å’Œè‡ªå®šä¹‰çš„structå’Œenum\nå¼•ç”¨ç±»å‹åŒ…å«æ‰€æœ‰çš„classï¼Œæ•°ç»„ï¼Œdelegateï¼Œinterfaceç±»å‹ã€‚åŒ…æ‹¬å­—ç¬¦ä¸²\nä»–ä»¬çš„æ ¹æœ¬åŒºåˆ«åœ¨äºå¤„ç†å†…å­˜çš„æ–¹å¼\nå€¼ç±»å‹ å€¼ç±»å‹å˜é‡/å¸¸é‡çš„å†…å®¹å°±æ˜¯ä¸€ä¸ªå€¼ ä½¿ç”¨structå…³é”®å­—å°±å¯ä»¥è‡ªå®šä¹‰åˆ›å»ºå€¼ç±»å‹ Point p = new Point() ; p.x = 7 ; Point p1 = p ; System.Console.WriteLine(p.x); System.Console.WriteLine(p1.x); p1.x = 9 ; System.Console.WriteLine(p1.x); System.Console.WriteLine(p.x); } public struct Point { public int x ; public int y ; } å€¼ç±»å‹çš„èµ‹å€¼\nå€¼ç±»å‹å®ä¾‹çš„èµ‹å€¼åŠ¨ä½œæ€»æ˜¯å¤åˆ¶äº†è¯¥å®ä¾‹ å¼•ç”¨ç±»å‹ å¼•ç”¨ç±»å‹æ¯”å€¼ç±»å‹å¤æ‚\nåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š1.ä¸€ä¸ªå¯¹è±¡2.åˆ°è¯¥å¯¹è±¡çš„å¼•ç”¨\nå¼•ç”¨ç±»å‹çš„å˜é‡/å¸¸é‡çš„å†…å®¹å°±æ˜¯åˆ°ä¸€ä¸ªå«æœ‰å€¼çš„å¯¹è±¡çš„å¼•ç”¨\nå¼•ç”¨ç±»å‹èµ‹å€¼ ç»™å¼•ç”¨ç±»å‹çš„å˜é‡èµ‹å€¼ï¼šå¤åˆ¶å¼•ç”¨ï¼Œ è€Œä¸æ˜¯å¯¹è±¡å®ä¾‹\nå…è®¸å¤šä¸ªå˜é‡å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå€¼ç±»å‹å°±æ²¡æœ‰è¿™ç§å¯èƒ½ï¼‰\nç›¸å½“äºæŒ‡å‘å†…å­˜é‡Œçš„åŒä¸€ä¸ªåœ°å€å—\nPoint1 p2 = new Point1() ; p2.x = 7 ; Point1 p3 = p2 ; System.Console.WriteLine(p2.x); System.Console.WriteLine(p3.x); p3.x = 9 ; System.Console.WriteLine(p3.x); System.Console.WriteLine(p2.x); } public class Point1 { public int x ; public int y ; } NULL nullæ˜¯ä¸€ä¸ªliteral\nå¯ä»¥æŠŠnullèµ‹å€¼ç»™å¼•ç”¨ï¼Œ è¡¨ç¤ºè¯¥å¼•ç”¨ä¸æŒ‡å‘ä»»ä½•ä¸€ä¸ªå¯¹è±¡\nnull.propertyä¼šæŠ›å‡ºnullreferenceExceptionä¹Ÿå°±æ˜¯ç©ºæŒ‡é’ˆå¼‚å¸¸\næ™®é€šçš„å€¼ç±»å‹ä¸å¯ä»¥ä¸ºnull\nc#æœ‰ä¸€ç§å¯ç©ºç±»å‹ï¼ˆnullable typesï¼‰æ¥è¡¨ç¤ºå€¼ç±»å‹çš„null\nå­˜å‚¨å¼€é”€ å€¼ç±»å‹çš„å®ä¾‹æ‰€å å†…å­˜= ä»–çš„å­—æ®µéœ€è¦å†…å­˜çš„æ€»å’Œ\nclrä¼šæŠŠç±»å‹å†…çš„å­—æ®µå¤§å°è®¾ç½®ä¸ºè¯¥å­—æ®µå®é™…å¤§å°çš„æ•´æ•°å€\nå¼•ç”¨ç±»å‹éœ€è¦ä¸ºå¼•ç”¨å’Œå¯¹è±¡å•ç‹¬åˆ†é…å†…å­˜\nå¯¹è±¡æ‰€å å†…å­˜= å…¶å­—æ®µæ‰€å å†…å­˜æ€»å’Œ+é¢å¤–çš„ç®¡ç†å¼€é”€ï¼ˆæœ€å°‘8å­—èŠ‚ï¼‰\næ¯ä¸ªå¯¹è±¡çš„å¼•ç”¨è¿˜éœ€è¦é¢å¤–çš„4æˆ–8ä¸ªå­—èŠ‚ï¼Œï¼ˆæ ¹æ®å¹³å°æ˜¯32ä½è¿˜æ˜¯64ä½çš„ï¼‰\nå†…ç½®ç±»å‹çš„åˆ†ç±» å€¼ç±»å‹ï¼šsybte /short / int / long / byte / ushort / uint / ulong / folat / double / decimal / bool / char å¼•ç”¨ç±»å‹ï¼šstring / object / c#7.0å¼•å…¥äº†å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥å¢åŠ å¯è¯»æ€§ ä½¿ç”¨äºŒè¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€æŒ‡æ•°æ¥è¡¨ç¤ºæ•°\nint a = 1_000_000 ; var b = 0b10101_10101 ; double c = 1.5 ; double million = 1E06 ; int a1 = 0xf00000 ; float e = 1.0f ; decimal d= -1.23m ; æ•°å€¼literalçš„ç±»å‹æ¨æ–­ é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šæ¨æ–­ä¸€ä¸ªæ•°å€¼literalæ˜¯doubleè¿˜æ˜¯æ•´æ•°ç±»å‹ï¼š å¦‚æœåŒ…å«å°æ•°ç‚¹ï¼Œæˆ–ä»¥æŒ‡æ•°å½¢å¼å±•ç°ï¼Œé‚£ä¹ˆå°±æ˜¯doubleç±»å‹ å¦åˆ™literalçš„ç±»å‹å°±æ˜¯ä¸‹é¢åˆ—è¡¨é‡Œçš„ç¬¬ä¸€ä¸ªèƒ½å®¹çº³è¯¥æ•°å€¼çš„ç±»å‹ï¼šint , uint , long , ulong , æ•°å€¼çš„åç¼€ Få’ŒMæ¯”è¾ƒæœ‰ç”¨ï¼Œå½“æŒ‡å®šfloatæˆ–decimalçš„literalçš„æ—¶å€™ï¼Œåº”è¯¥åŠ ä¸Š æ•°å€¼è½¬æ¢ å½“æµ®ç‚¹å‹è½¬ä¸ºæ•´å‹æ—¶ï¼Œå°æ•°éƒ¨åˆ†æ˜¯è¢«æˆªæ–­çš„ï¼Œæ²¡æœ‰èˆå…¥ã€‚ æŠŠä¸€ä¸ªå¾ˆå¤§çš„æ•´æ•°éšå¼çš„è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹ä¹‹åï¼Œä¼šä¿è¯é‡çº§ä¸å˜ï¼Œä½†æ˜¯å¶å°”ä¼šä¸¢å¤±ç²¾åº¦ã€‚ è¿™æ˜¯å› ä¸ºæµ®ç‚¹ç±»å‹æœ‰å¾ˆæ›´å¤šçš„é‡çº§ï¼Œè€Œç²¾åº¦å¯èƒ½ä¸è¶³ã€‚ overflowCheckedæ“ä½œç¬¦ æ£€æŸ¥æ˜¯å¦ä¼šè¶…å‡ºç±»å‹æé™ï¼Œè¿›è€ŒæŠ›å‡ºå¼‚å¸¸\nå¯¹++ã€\u0026ndash;ã€+ã€-ã€‚*ã€/èµ·ä½œç”¨\nå¯ä»¥ç”¨äºè¡¨è¾¾å¼æˆ–è¯­å¥\ncheckedå¯¹floatã€doubleä¸èµ·ä½œç”¨ï¼Œå› ä¸ºä»–ä»¬æœ‰æ— é™å€¼\nint a = 10000000 ; int b = 10000000 ; int c = checked(a*b) ; checked{ int d = a*b ; } float min = float.NegativeInfinity ; double max = double.PositiveInfinity ; int f = unchecked(a*b) ; unchecked{ int e = a*b ; } æŒ‰ä½æ“ä½œç¬¦ ~å–å\n\u0026amp;ä¸\n|æˆ–\n^å¼‚æˆ–\n\u0026laquo;å·¦ç§»\n\u0026lt; \u0026raquo;å³ç§»\ndoubleé€‚ç”¨äºç§‘å­¦è®¡ç®—ï¼Œä¾‹å¦‚è®¡ç®—åæ ‡\ndecimalé€‚ç”¨äºè´¢åŠ¡è®¡ç®—ï¼Œæˆ–è€…æ˜¯äººé€ æ•°æ®\ndoubleå’Œdecimalä¸èƒ½æ ‡è¯†å¾ªç¯æ•°æ®\nboolæ— æ³•å’Œæ•°å€¼ç±»å‹è¿›è¡Œè½¬æ¢\n||å’Œ\u0026amp;\u0026amp;æœ‰çŸ­è·¯æœºåˆ¶ï¼Œä¸ºäº†é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸\n\u0026amp;å’Œ|æ²¡æœ‰çŸ­è·¯æœºåˆ¶\nå½“ä½¿ç”¨äºæ•°å€¼çš„æ—¶å€™ï¼Œ\u0026amp;å’Œ|æ‰§è¡Œçš„æ˜¯æŒ‰ä½æ“ä½œ\n@åšå‰ç¼€ï¼Œåœ¨åŒå¼•å·å¤–è¾¹ï¼Œå°±ä¸æ”¯æŒè½¬ä¹‰å­—ç¬¦äº†ï¼Œä¸”æ”¯æŒå¤šè¡Œè¾“å‡º\nimage-20210120192441256\rå­—ç¬¦ä¸²æ’å€¼ï¼šåŠ ä¸Š${}å°±è¡Œäº†\nimage-20210120192847666\rstringçš„æ¯”è¾ƒï¼Œä¸æ”¯æŒ\u0026gt;\u0026lt;ç­‰ç­‰æ¯”è¾ƒæ“ä½œç¬¦ï¼Œéœ€è¦ä½¿ç”¨comparertoæ–¹æ³•\næ•°ç»„çš„é•¿åº¦å›ºå®šä¸å¯æ”¹å˜ï¼Œä½†æ˜¯system.collectionå’Œå…¶å­å‘½åç©ºé—´æä¾›äº†æ›´é«˜çº§çš„æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å¯å˜é•¿åº¦çš„æ•°ç»„å’Œå­—å…¸\nåˆ›å»ºæ•°ç»„æ—¶ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½ä¼šè¢«åˆå§‹åŒ–ï¼Œå…¶å€¼ä¸ºè¯¥ç±»å‹çš„é»˜è®¤å€¼\nç±»å‹çš„é»˜è®¤å€¼å°±æ˜¯å†…å­˜æŒ‰ä½å½’é›¶çš„ç»“æœ\nå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„æ€§èƒ½æœ‰åŒºåˆ«\nå€¼ç±»å‹ï¼šæ¯ä¸ªå…ƒç´ éƒ½ä½œä¸ºæ•°ç»„çš„ä¸€éƒ¨åˆ†è¿›è¡Œåˆ†é…å†…å­˜\nå¼•ç”¨ç±»å‹ï¼šåˆ›å»ºæ•°ç»„æ—¶å°±æ˜¯åˆ›å»ºäº†ä¸€å †nullå¼•ç”¨ï¼Œå› æ­¤å¦‚æœä¸ºç©ºçš„æ—¶å€™å¯èƒ½ä¼šæŠ›å¼‚å¸¸\nå»ºè®®å¯¹å…ƒç´ æ˜¯å¼•ç”¨ç±»å‹çš„æ•°ç»„åˆå§‹åŒ–åå¯¹å…ƒç´ éƒ½è¿›è¡Œåˆå§‹åŒ– è¾¹ç•Œæ£€æŸ¥ æ‰€æœ‰æ•°ç»„çš„ç´¢å¼•éƒ½ä¼šè¢«è¿è¡Œæ—¶æ£€æŸ¥çš„\nå¦‚æœä½¿ç”¨äº†ä¸åˆç†çš„ç´¢å¼•ï¼Œä¼šæŠ›å‡ºindexoutofrangeexception ï¼Œ ç´¢å¼•è¶Šç•Œå¼‚å¸¸\né€šå¸¸è¾¹ç•Œæ£€æŸ¥å¯¹æ€§èƒ½çš„å½±å“å¾ˆå°ï¼Œjitç¼–è¯‘å™¨å¯æ‰§è¡Œä¸€äº›ä¼˜åŒ–ï¼Œä¾‹å¦‚åœ¨è¿›å…¥å¾ªç¯å‰é¢„å…ˆå¯¹æ‰€æœ‰çš„ç´¢å¼•è¿›è¡Œå®‰å…¨æ£€æŸ¥ï¼Œé¿å…åœ¨è¿­ä»£ä¸­æ£€æŸ¥\nc#è¿˜æä¾›äº†unsafeä»£ç ï¼Œå¯ä»¥ç»•è¿‡è¾¹ç•Œæ£€æŸ¥\nstackæ ˆå’Œheapå † stackä¸€å—å†…å­˜å­˜å‚¨æœ¬åœ°å˜é‡å’Œå‚æ•° éšç€å‡½æ•°çš„è¿›å…¥å’Œé€€å‡ºï¼Œstackä¹Ÿä¼šéšä¹‹å¢å¤§å’Œç¼©å° heapä¸€å—å†…å­˜ï¼Œå¯¹è±¡æ‰€åœ¨çš„åœ°æ–¹ï¼ˆå¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼‰ å½“æ–°çš„å¯¹è±¡è¢«åˆ›å»ºä¹‹åï¼Œä»–å°±ä¼šè¢«åˆ†é…åœ¨heapä¸Šï¼Œåˆ°è¯¥å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨è¢«è¿”å› ç¨‹åºæ‰§è¡Œæ—¶ï¼Œéšç€æ–°å¯¹è±¡çš„ä¸æ–­å»ºç«‹ï¼Œheapä¼šæ…¢æ…¢è¢«å¡«æ»¡ã€‚è¿è¡Œæ—¶çš„gcä¼šå‘¨æœŸæ€§çš„æŠŠå¯¹è±¡ä»heapä¸Šé¢é‡Šæ”¾å‡ºæ¥ï¼Œæ‰€ä»¥ä¸ä¼šå¯¼è‡´å†…å­˜è€—å°½ ä¸€æ—¦ä¸€ä¸ªå¯¹è±¡ä¸å†è¢«ä»»ä½•å­˜æ´»çš„ä¸œè¥¿æ‰€å¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«é‡Šæ”¾äº† staticå­—æ®µ åœ¨heapä¸Šï¼Œå®ƒä»¬ä¼šå­˜æ´»åˆ°åº”ç”¨ç¨‹åºåŸŸåœæ­¢ä¸ºæ­¢\nimage-20210120195453978\rå‚æ•°ä¼ é€’ï¼šå€¼ä¼ é€’ã€refä¼ é€’ã€outä¼ é€’\nå€¼ä¼ é€’ï¼š\nimage-20210120195838267\rrefä¼ é€’ï¼šå¤åˆ¶çš„æ˜¯å¼•ç”¨è€Œä¸æ˜¯å€¼\nimage-20210120200027202\rimage-20210120201653417\ræŒ‰å¼•ç”¨ä¼ é€’out å’Œrefå·®ä¸å¤šï¼Œé™¤äº†\nè¿›å…¥å‡½æ•°å‰ä¸éœ€è¦è¢«èµ‹å€¼ ç¦»å¼€å‡½æ•°å‰å¿…é¡»è¢«èµ‹å€¼ é€šå¸¸ç”¨æ¥ä»æ–¹æ³•ä¸­è¿”å›å¤šä¸ªå€¼\nimage-20210120203541523\rä»c#7å¼€å§‹ï¼Œè°ƒç”¨æ–¹æ³•é€‚ï¼Œå¯ä»¥ä½¿ç”¨outä¸´æ—¶å£°æ˜å˜é‡\nå½“è°ƒç”¨çš„æ–¹æ³•æœ‰å¤šä¸ªoutå‚æ•°æ—¶ï¼Œä½ ä¸éœ€è¦å…¶ä¸­ä¸€äº›outå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿_æ¥discardå¼ƒç”¨ä»–ä»¬\nimage-20210120203948953\rimage-20210120204041448\rparamsä¿®é¥°ç¬¦ å¯ä»¥åœ¨æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ä½¿ç”¨paramså‚æ•°ä¿®é¥°ç¬¦\nå¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„è¯¥ç±»å‹çš„å‚æ•°\nå‚æ•°ï¼ˆparametersï¼‰ç±»å‹å¿…é¡»æ˜¯æ•°ç»„\nä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä½œä¸ºarguments\nimage-20210120205539611\rå¯é€‰å‚æ•° ä»c#4.0å¼€å§‹ï¼Œæ–¹æ³•ã€æ„é€ å‡½æ•°ã€ç´¢å¼•å™¨éƒ½å¯ä»¥å£°æ˜å¯é€‰å‚æ•°\nå¯é€‰å‚æ•°éœ€è¦åœ¨å£°æ˜çš„æ—¶å€™æä¾›é»˜è®¤å€¼\nè°ƒç”¨çš„æ—¶å€™ä¸å¯ä»¥å¡«å†™å¯é€‰çš„parameters\nimage-20210120212044993\rå¾€publicæ–¹æ³•é‡Œæ·»åŠ å¯é€‰å‚æ•°ï¼Œè‹¥è¯¥æ–¹æ³•è¢«å…¶ä»–çš„assemblyè°ƒç”¨ï¼Œé‚£ä¹ˆä¸¤ä¸ªassemblieséƒ½éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œå°±å’Œæ·»åŠ äº†ä¸€ä¸ªå¿…å¡«å‚æ•°æ˜¯ä¸€æ ·çš„\nå¯é€‰å‚æ•°çš„é»˜è®¤å€¼æ˜¯å¸¸é‡è¡¨è¾¾å¼æˆ–æ‹¥æœ‰æ— å‚æ„é€ å‡½æ•°çš„å€¼ç±»å‹\nå¯é€‰å‚æ•°ä¸å¯ä»¥ä½¿ç”¨refå’Œout\nå¿…å¡«å‚æ•°å¿…é¡»åœ¨å¯é€‰å‚æ•°å‰é¢ï¼ˆæ–¹æ³•å£°æ˜æ—¶å’Œæ–¹æ³•è°ƒç”¨æ—¶ï¼‰\nä¾‹å¤–æ˜¯ï¼šparamsçš„å‚æ•°ä»ç„¶æ”¾åœ¨æœ€åè¾¹\nimage-20210120212612888\rå®šä½å‚æ•°ï¼Œæ ¹æ®ä½ç½®æ¥åˆ¤æ–­ï¼Œä¸è¦æ±‚è¾“å…¥çš„é¡ºåºå’Œå®šä½çš„é¡ºåºä¿æŒä¸€è‡´ image-20210120212814635\rvar éšå¼å¼ºç±»å‹æœ¬åœ°å˜é‡\nå£°æ˜å’Œåˆå§‹åŒ–å˜é‡é€šå¸¸ä¸€æ­¥å®Œæˆï¼Œå¦‚æœç¼–è¯‘å™¨èƒ½ä»åˆå§‹åŒ–è¡¨è¾¾å¼æ¨æ–­å‡ºç±»å‹ï¼Œå°±å¯ä»¥ä½¿ç”¨var\nä½†æ˜¯ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§\nå³ç»“åˆçš„æ“ä½œç¬¦\nèµ‹å€¼ã€lambdaã€nullåˆå¹¶å’Œæ¡ä»¶æ“ä½œç¬¦æ˜¯å³ç»“åˆçš„\nä»å³å‘å·¦ä¼°ç®—\nx=y=3\nnullæ“ä½œç¬¦ c#æä¾›äº†ä¸¤ç§æ“ä½œç¬¦ï¼Œä»–ä»¬å¯ä»¥æ›´å®¹æ˜“çš„å¤„ç†null\nnullåˆå¹¶æ“ä½œç¬¦ ï¼Ÿï¼Ÿ å¦‚æœæ“ä½œæ•°ä¸æ˜¯nullï¼Œå°±æŠŠå·¦è¾¹çš„ç»™æˆ‘ï¼Œå¦‚æœæ“ä½œæ•°æ˜¯nullï¼Œå°±æŠŠå³è¾¹çš„ç»™æˆ‘ nullæ¡ä»¶æ“ä½œç¬¦ ï¼Ÿ.æ–¹æ³• image-20210120214033193\rimage-20210120214329392\råˆåœ¨ä¸€èµ·ç”¨å“¦å“¦å“¦å“¦\nimage-20210120214520840\rimage-20210120214741402\rswitchè¯­å¥ å½“æŒ‡å®šå¸¸é‡çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨å†…ç½®çš„æ•´æ•°ç±»å‹ã€boolã€charã€enumå’Œstringç±»å‹\næ¯ä¸ªcaseå­å¥çš„ç»“å°¾ï¼Œå¿…é¡»ä½¿ç”¨è·³è½¬è¯­å¥æ¥è¡¨åä¸‹ä¸€æ­¥å¾€å“ªé‡Œæ‰§è¡Œ\nbreak è·³è½¬åˆ°switchè¯­å¥çš„ç»“å°¾ goto case x è·³è½¬åˆ°å…¶ä»–çš„case goto default è·³è½¬åˆ°defaultå­å¥ å…¶ä»–çš„è·³è½¬è¯­å¥ return , throw ,continue , goto label image-20210120215931777\rswitch with patterns c#7 objectç±»å‹å…è®¸ä»»ä½•ç±»å‹çš„å˜é‡ æ¯ä¸ªcaseå­å¥æŒ‡å®šä¸€ä¸ªç±»å‹ï¼Œå¦‚æœå˜é‡çš„ç±»å‹ä¸è¯¥ç±»å‹ä¸€æ ·ï¼Œé‚£ä¹ˆå°±åŒ¹é…æˆåŠŸ å¯ä»¥ä½¿ç”¨whenæ¥æ–­è¨€ä¸€ä¸ªcase caseå­å¥çš„é¡ºåºæ˜¯æœ‰å…³ç³»çš„ å¯ä»¥æ˜¯case null image-20210120220321250\rimage-20210120220731178\rå¤ä¹ ä¸€ä¸‹ï¼šæœ‰ç”¨çš„ refå’Œoutå…³é”®å­—ï¼Œä¸€ä¸ªèµ‹å€¼çš„æ˜¯å¼•ç”¨çš„åœ°å€å—ï¼Œä¸€ä¸ªæ˜¯ä½œä¸ºä¸ç”¨ä¼ å…¥çš„å‚æ•°ï¼Œä¼ å‡ºå¤šä¸ªå‚æ•°ä½¿ç”¨ï¼Œåè€…å¯ä»¥ä½¿ç”¨ä¼ å…¥æ—¶å®šä¹‰ä¸´æ—¶å˜é‡æ¥ï¼Œå¹¶ä¸”ä¸éœ€è¦ä¼ å‡ºå‚æ•°çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥discardä»–ä»¬ æ•°å­—ä¸ºäº†åŒºåˆ†å¯è¯»æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿1_000_000è¿™æ · @â€œ\u0026hellip;\u0026hellip;.â€è¿™æ ·å¯ä»¥ä¸æ‹†è§£è½¬ä¹‰å­—ç¬¦ parameteræ ¼å¼å®šä¹‰çš„æ˜¯æ•°ç»„ï¼Œä¸”æ˜¯æ•°é‡å¯å˜çš„ï¼Œä½†å¿…é¡»ä½œä¸ºæ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ä¼ å…¥ å¯ä»¥æ„é€ å¯é€‰çš„å‚æ•°æ–¹å¼ï¼Œåœ¨æ„é€ æ–¹æ³•çš„æ—¶å€™é¢„å…ˆä¼ å…¥å‚æ•°é»˜è®¤å€¼ï¼Œä¸”æ”¾åœ¨æ–¹æ³•çš„æœ€åè¾¹ å¦‚int sum (int x =1, int y = 0 ) \u0026hellip; nullçš„åˆå¹¶æ“ä½œç¬¦å’Œæ¡ä»¶æ“ä½œç¬¦ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆå¼‚å¸¸ switch caseçš„æ–°æ“ä½œ:åˆ¤æ–­ç±»å‹å’Œä½¿ç”¨whenè¿›ä¸€æ­¥åˆ¤æ–­ ä»¥åŠ goto case , goto default \u0026hellip; æŒ‰ä½æ“ä½œ ï¼Œ||å’Œ\u0026amp;\u0026amp;çš„çŸ­è·¯æœºåˆ¶ ï¼Œ ${s}æ’å€¼ checked ï¼Œ unchecked ï¼Œ overflowcheckæ“ä½œç¬¦ ï¼Œ defaultï¼ˆintï¼‰ paramsä¿®é¥°ç¬¦ ä»¥åŠå®šä½ä¿®é¥°ç¬¦ è·³è½¬è¯­å¥ break ï¼› ç»“æŸè¿­ä»£æˆ–switchè¯­å¥çš„ä»£ç ä½“\ncontinue ; æ”¾å¼ƒå½“å‰è¿­ä»£ä¸­å‰©ä½™çš„è¯­å¥æ‰§è¡Œï¼Œ ç›´æ¥ä»ä¸‹ä¸€æ¬¡è¿­ä»£å¼€å§‹\ngoto ; æŠŠæ‰§è¡Œè·³è½¬åˆ°å¦ä¸€ä¸ªlabelçš„è¯­å¥å— ï¼Œ gotoè¯­å¥label ï¼Œ å½“ç”¨äºswitchè¯­å¥å†…æ—¶ï¼Œgoto case\n3ï¼ˆåªèƒ½ç”¨äºå¸¸é‡ï¼‰ ï¼Œ labelç›¸å½“äºæ˜¯ä¸€ä¸ªä»£ç å—çš„å ä½ç¬¦ï¼Œ æ”¾åœ¨è¯­å¥å‰è¾¹ï¼Œä½¿ç”¨å†’å·ï¼šåšåç¼€\nreturn ; é€€å‡ºæ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç±»å‹å’Œæ–¹æ³•çš„è¿”å›ç±»å‹ä¸€è‡´ï¼Œå¦‚æœæ˜¯voidå°±returnï¼› returnå¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹ï¼Œé™¤äº†finallyé‡Œ\nthrow ; æŠ›å‡ºå¼‚å¸¸ ï¼Œ ç›¸å½“äºè¾“å‡ºäº†é”™è¯¯\ntyr catch finally\nä¸å¯ä»¥ä»finallyå—é‡Œé¢è·³è½¬åˆ°å¤–è¾¹ï¼Œé™¤äº†throw\nimage-20210121093843103\rint i = 1 ; gotoloop: if(i \u0026lt;=5) System.Console.WriteLine(i); i++ ; goto gotoloop ; using static ä»c# 6å¼€å§‹ï¼Œ ä¸ä»…å¯ä»¥å¼•å…¥å‘½åç©ºé—´ï¼Œè¿˜å¯ä»¥å¼•å…¥å…·ä½“çš„ç±»å‹ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨using static\nè¢«å¼•å…¥ç±»å‹çš„æ‰€æœ‰é™æ€æˆå‘˜å¯è¢«ç›´æ¥ä½¿ç”¨ï¼Œ æ— éœ€ä½¿ç”¨ç±»å\næ‰€æœ‰å¯è®¿é—®çš„é™æ€æˆå‘˜éƒ½ä¼šè¢«å¼•å…¥ï¼Œå­—æ®µã€å±æ€§ã€åµŒå¥—ç±»å‹\nä¹Ÿå¯ç”¨äºenum ï¼Œ è¿™æ ·çš„è¯å®ƒçš„æˆå‘˜å°±è¢«å¼•å…¥äº†\nå¦‚æœå¤šä¸ªstaticå¼•å…¥å­˜åœ¨æ­§ä¹‰çš„è¯ï¼Œå°†ä¼šå‘ç”Ÿé”™è¯¯\nå‘½åç©ºé—´ å¯ä»¥ä½¿ç”¨é‡å¤çš„å‘½åç©ºé—´ï¼Œåªè¦ç±»å‹ä¸ç›¸äº’å¹²æ‰°\nç»™å‘½åç©ºé—´èµ·åˆ«åï¼Œé˜²æ­¢ä»–å’Œå…¶ä»–å‘½åç©ºé—´ä¸‹çš„å…¶ä»–ç±»å‹ç›¸äº’å¹²æ‰°\nusing System; using static System.Console ; using P = System.Reflection ; namespace FirstCSharp { class Program { static void Main(string[] args) { WriteLine(\u0026#34;ä½ æç¬‘å‘¢\u0026#34;); } class a { private P.PropertyInfo p; } } extern alias å‘½åç©ºé—´ï¼Œè§£å†³ä¸¤ä¸ªç¨‹åºé›†å†…éƒ¨å‘½åç©ºé—´å’Œç±»å‹å®Œå…¨ä¸€è‡´çš„é—®é¢˜ï¼Œ å®é™…ä¸Šå°±æ˜¯ç»™ä»–ä»¬åœ¨æ·»åŠ ä¸€å±‚æœ€å¤–å±‚çš„ç”¨äºåŒºåˆ†\nå‘½åç©ºé—´åˆ«åé™å®šç¬¦\nå†…å±‚å‘½åç©ºé—´çš„ç±»å‹åä¼šæŠŠå¤–å±‚å‘½åç©ºé—´ä¸‹çš„ç±»å‹åéšè—ï¼Œ æœ‰æ—¶å³ä½¿ä½¿ç”¨å…¨åä¹Ÿæ— æ³•è§£å†³å†²çª\n1.ä½¿ç”¨globalå‘½åç©ºé—´ï¼šä¹Ÿå°±æ˜¯ ::\nnamespace FirstCSharp { class Program { public class A { public class B { } private static void Main(string[] args) { new global::A.B(); } } } } namespace A { class B { } } å¯ç©ºå€¼nullç±»å‹ nullable\nä¾‹å¦‚ nullable ä¸ä»…å¯ä»¥è¡¨ç¤º trueï¼› falseï¼› è¿˜å¯ä»¥è¡¨ç¤ºnull ï¼›\nstatic void Main(string[] args) { string str = \u0026#34;sdfhasdfkjsaf\u0026#34;; Nullable\u0026lt;int\u0026gt; indexOf = null; //æˆ–è€…ç”¨è¿™ç§æ¥è¡¨è¾¾ int? lalala = str.IndexOf(\u0026#39;m\u0026#39;); Nullable\u0026lt;DateTime\u0026gt; lastLogDateTime = null; DateTime? lasTime = null; Console.WriteLine(indexOf?.ToString()); Console.ReadKey(); } null å’Œ ç©ºï¼Œ ç©ºç™½ string string name = \u0026ldquo;Nick\u0026rdquo; string name = null string name =\u0026quot;\u0026quot; string name = \u0026quot; \u0026quot; åˆ¤æ–­ if(name == null ) \u0026hellip; if(string.isNullOrEmpty(name)) \u0026hellip; if(string.isNullOrWhiteSpace(name)) \u0026hellip; nullableçš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³• hasvalue .value .getvalueordefaultï¼ˆï¼‰ .getvalueordefault(é»˜è®¤å€¼) int? num = 3; Console.WriteLine(num.HasValue); Console.WriteLine(num.Value); int? number = null; Console.WriteLine(number.HasValue); Console.WriteLine(number.GetValueOrDefault()); Console.WriteLine(number.GetValueOrDefault(1997)); nullableå’ŒTçš„è½¬æ¢ int? i = 3; int j; j = (int)i; Console.WriteLine(j); int m = 3; int? k; k = m; Console.WriteLine(k); é˜²æ­¢å¯ç©ºç´¢å¼•åº”è¯¥æœ‰çš„åšæ³• string[] a = null; string b = a?[0].Trim(); ç¬¬ä¸‰ç«  class fieldï¼šæ˜¯classå’Œstructçš„æˆå‘˜ï¼Œä»–æ˜¯ä¸€ä¸ªå˜é‡ readonlyä¿®é¥°ç¬¦ readonlyä¿®é¥°ç¬¦é˜²æ­¢å­—æ®µåœ¨æ„é€ ä¹‹åè¢«æ”¹å˜ readonlyå­—æ®µåªèƒ½åœ¨å£°æ˜çš„æ—¶å€™è¢«èµ‹å€¼ï¼Œæˆ–åœ¨æ„é€ å‡½æ•°é‡Œè¢«èµ‹å€¼ å­—æ®µåˆå§‹åŒ– å­—æ®µå¯ä»¥å¯é€‰åˆå§‹åŒ–\næœªåˆå§‹åŒ–çš„å­—æ®µæœ‰ä¸€ä¸ªé»˜è®¤å€¼\nå­—æ®µçš„åˆå§‹åŒ–åœ¨æ„é€ å‡½æ•°ä¹‹å‰è¿è¡Œ\nåŒæ—¶å£°æ˜å¤šä¸ªå­—æ®µï¼Œç”¨é€—å·éš”å¼€\næ–¹æ³• æ‰§è¡ŒæŸä¸ªåŠ¨ä½œ å‚æ•° è¿”å›ç±»å‹ void ref/outä½œä¸ºæ•°æ®çš„è¿”å›æ ¼å¼ æ–¹æ³•çš„ç­¾å ç±»å‹å†…æ–¹æ³•çš„ç­¾åå¿…é¡»å”¯ä¸€ ç­¾åï¼šæ–¹æ³•åã€å‚æ•°ç±»å‹ï¼ˆå«é¡ºåºï¼Œä½†ä¸å‚æ•°åç§°å’Œè¿”å›ç±»å‹æ— å…³ï¼‰ Expression-bodiedæ–¹æ³•:ä»…é€‚ç”¨äºå•è¡¨è¾¾å¼çš„æ–¹æ³• void foo() =\u0026gt; Console.WriteLine(\u0026#34;hello world\u0026#34;); foo(); æ–¹æ³•çš„é‡è½½ ç±»å‹é‡Œçš„æ–¹æ³•å¯ä»¥è¿›è¡Œé‡è½½ï¼ˆå…è®¸å¤šä¸ªåŒåçš„æ–¹æ³•åŒæ—¶å­˜åœ¨ï¼‰ï¼Œåªè¦è¿™äº›æ–¹æ³•çš„ç­¾åä¸åŒå°±è¡Œ\nå‚æ•°æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ–¹æ³•é‡è½½\næœ¬åœ°æ–¹æ³• C#7 æ–¹æ³•é‡Œæœ‰æ–¹æ³• void zhendeyoufooma() { void foo() =\u0026gt; Console.WriteLine(\u0026#34;hello world\u0026#34;); foo(); } zhendeyoufooma(); æœ¬åœ°æ–¹æ³•é€‚ç”¨äºå…¶ä»–ç±»å‘€æ–¹æ³•é‡Œä¸éœ€è¦ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ–¹æ³•åªä¸ºè¿™ä¸ªç±»æœåŠ¡çš„ï¼Œå¦å¤–å¯ä»¥åœ¨æ„é€ å‡½æ•°é‡Œå†™ï¼Œ å¯ä»¥åœ¨å±æ€§çš„é€‰æ‹©å™¨é‡Œå†™\nä¸éœ€è¦å†™staticå…³é”®å­— æ„é€ å‡½æ•° è¿è¡Œclassæˆ–structçš„åˆå§‹åŒ–ä»£ç \nå’Œæ–¹æ³•å·®ä¸å¤šï¼Œæ–¹æ³•åå’Œç±»å‹ä¸€è‡´ï¼Œè¿”å›ç±»å‹ä¹Ÿå’Œç±»å‹ä¸€è‡´ï¼Œä½†ä¸å†™äº†\nc# 7 ï¼Œå…è®¸å•è¯­å¥çš„æ„é€ å‡½æ•°å†™æˆ expression-bodiedæˆå‘˜çš„å½¢å¼\npublic class panda { public panda(string n) =\u0026gt; name = n; private string name; } æ„é€ å‡½æ•°é‡è½½ åœ¨classå’Œstructé‡Œå¯ä»¥é‡è½½æ„é€ å‡½æ•° è°ƒç”¨é‡è½½æ„é€ å‡½æ•°æ—¶ä½¿ç”¨this å½“åŒä¸€ä¸ªç±»å‹ä¸‹çš„æ„é€ å‡½æ•°Aè°ƒç”¨æ„é€ å‡½æ•°Bçš„æ—¶å€™ï¼ŒBå…ˆæ‰§è¡Œ public class panda { public panda(string n) =\u0026gt; name = n; public panda(string n, int age):this(n) { this.age = age; } private string name; private int age; } æ„é€ å‡½æ•°å’Œå­—æ®µçš„åˆå§‹åŒ–é¡ºåº å­—æ®µçš„åˆå§‹åŒ–å‘ç”Ÿåœ¨æ„é€ å‡½æ•°æ‰§è¡Œä¹‹å‰ å­—æ®µæŒ‰ç…§å£°æ˜çš„å…ˆåé¡ºåºè¿›è¡Œåˆå§‹åŒ– æ„é€ ç±»ä¼¼å•ä¾‹æ¨¡å¼:è®©ç±»è¿”å›æœ€å¤šä¸€ä¸ªå®ä¾‹\nvar instance = Wine.CreateInstance(); public class Wine{ Wine() { } public static Wine CreateInstance() { return new Wine(); } } ææ„å‡½æ•° c# 7 deconstructor c# 7 å¼•å…¥äº†deconstructoræ¨¡å¼\nä½œç”¨åŸºæœ¬å’Œæ„é€ å‡½æ•°ç›¸åï¼Œ ä»–ä¼šæŠŠå­—æ®µåèµ‹ç»™ä¸€å †å˜é‡\næ–¹æ³•åå¿…é¡»æ˜¯deconstructor ï¼Œæœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªoutå‚æ•°\ndeconstructorå¯ä»¥è¢«é‡è½½\ndeconstructorè¿™ä¸ªæ–¹æ³•å¯ä»¥æ˜¯æ‰©å±•æ–¹æ³•\nvar rectangle = new Rectangle(3,4); rectangle.Deconstruct(out var a , out var b ); var (c, d) = rectangle; rectangle.Deconstruct(out var e,out var f); Extensions.Deconstruct(rectangle,out var k , out var m ); Console.WriteLine(a); Console.WriteLine(b); Console.WriteLine(c); Console.WriteLine(d); public Rectangle(int W, int H) { width = W; height = H; } public void Deconstruct(out int outWidth, out int outHeight) { outWidth = width; outHeight = height; } public void Deconstruct(out int outWidth) { outWidth = width; } public static class Extensions { public static void Deconstruct(this Rectangle rect, out int width, out int height) { width = rect.width; height = rect.height; } } å±æ€§ å±æ€§çš„å£°æ˜å’Œå­—æ®µçš„å£°æ˜å¾ˆåƒï¼Œä½†å¤šäº†ä¸€ä¸ªget setå¿« åªè¯»å’Œè®¡ç®—çš„å±æ€§ å¦‚æœå±æ€§åªæœ‰getè®¿é—®å™¨ï¼Œé‚£ä¹ˆä»–å°±æ˜¯åªè¯»çš„ å¦‚æœåªæœ‰setè®¿é—®å™¨ï¼Œé‚£ä¹ˆä»–å°±æ˜¯åªå†™çš„ å±æ€§é€šå¸¸æ‹¥æœ‰ä¸€ä¸ªä¸“ç”¨çš„å¹•åå­—æ®µ ï¼Œ è¿™ä¸ªå¹•åå­—æ®µç”¨æ¥å­˜å‚¨æ•°æ® å±æ€§åˆå§‹åŒ–å™¨ ä»c#6å¼€å§‹ï¼Œä½ å¯ä»¥ä¸ºè‡ªåŠ¨å±æ€§æ·»åŠ å±æ€§åˆå§‹åŒ–å™¨ åªè¯»çš„è‡ªåŠ¨å±æ€§ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼ˆä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°é‡Œè¢«èµ‹å€¼ï¼‰ public class panda { public panda(string n) =\u0026gt; name = n; public string sex { get =\u0026gt; sex; set =\u0026gt; sex=value; } //ç›¸å½“äº public string sex1 { get; set; } public string sex2 { get; set; } = \u0026#34;linjianshu\u0026#34;; public panda(string n, int age):this(n) { this.age = age; Console.WriteLine(2); } private string name; private int age; } é™æ€æ„é€ å‡½æ•° é™æ€æ„é€ å‡½æ•°ï¼Œæ¯ä¸ªç±»å‹æ‰§è¡Œä¸€æ¬¡ éé™æ€æ„é€ å‡½æ•°ï¼Œæ¯ä¸ªå®ä¾‹æ‰§è¡Œä¸€æ¬¡ ä¸€ä¸ªç±»å‹åªèƒ½å®šä¹‰ä¸€ä¸ªé™æ€æ„é€ å‡½æ•° å¿…é¡»æ— å‚ æ–¹æ³•åä¸ç±»å‹ä¸€è‡´ åˆå§‹åŒ–é¡ºåº â€‹\té™æ€å­—æ®µçš„åˆå§‹åŒ–å™¨åœ¨é™æ€éƒ½æ—©å‡½æ•°è¢«è°ƒç”¨ä¹‹å‰çš„ä¸€ç¬é—´è¿è¡Œ\né™æ€ç±» ç±»ä¹Ÿå¯ä»¥æ˜¯é™æ€çš„ å…¶æˆå‘˜å¿…é¡»å…¨æ˜¯é™æ€çš„ ä¸å¯ä»¥æœ‰å­ç±» finalizerç»ˆç»“å™¨ finalizeræ˜¯classä¸“æœ‰çš„ä¸€ç§æ–¹æ³• åœ¨gcå›æ”¶æœªå¼•ç”¨å¯¹è±¡çš„å†…å­˜ä¹‹å‰è¿è¡Œ å…¶å®å°±æ˜¯å¯¹objectçš„finalizeï¼ˆï¼‰æ–¹æ³•é‡å†™çš„ä¸€ç§è¯­æ³• class a { ~class a{ } } partial type æ¯ä¸ªåˆ†å¸ƒçš„ç±»éƒ½å¿…é¡»ä½¿ç”¨partialæ¥å£°æ˜\næ¯ä¸ªåˆ†å¸ƒç±»çš„æˆå‘˜ä¸èƒ½å†²çªï¼Œä¸èƒ½æœ‰åŒæ ·å‚æ•°çš„æ„é€ å‡½æ•°\nå„åˆ†å¸ƒç±»å®Œå…¨é ç¼–è¯‘å™¨æ¥è¿›è¡Œè§£æï¼šæ¯ä¸ªåˆ†å¸ƒç±»åœ¨ç¼–è¯‘æ—¶å¿…é¡»å¯ç”¨ï¼Œä¸”åœ¨åŒä¸€ä¸ªassemblyé‡Œ\nå¦‚æœæœ‰çˆ¶ç±»ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†å¸ƒç±»ä¸ŠæŒ‡æ˜ï¼Œä½†å¿…é¡»ä¸€è‡´\npartial method ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼šå®šä¹‰å’Œå®ç° å®šä¹‰éƒ¨åˆ†é€šå¸¸æ˜¯ç”Ÿæˆçš„ å®ç°éƒ¨åˆ†é€šå¸¸æ˜¯æ‰‹åŠ¨ç¼–å†™çš„ å¦‚æœpartial method åªæœ‰å®šä¹‰ï¼Œæ²¡æœ‰å®ç°ï¼Œé‚£ä¹ˆç¼–è¯‘çš„æ—¶å€™è¯¥æ–¹æ³•å®šä¹‰å°±æ²¡æœ‰äº†ï¼Œè°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç ä¹Ÿæ²¡æœ‰äº†ã€‚è¿™å°±å…è®¸è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç å¯ä»¥è‡ªç”±çš„æä¾›é’©å­ï¼Œä¸ç”¨æ‹…å¿ƒä»£ç è†¨èƒ€ partial method å¿…é¡»æ˜¯voidï¼Œå¹¶ä¸”éšå¼privateçš„ image-20210124193847516\rnameof æ“ä½œç¬¦ string name = nameof (count)\nç»§æ‰¿ å¤šæ€ å¼•ç”¨æ˜¯å¤šæ€çš„ï¼Œç±»å‹ä¸ºxçš„å˜é‡å¯ä»¥å¼•ç”¨å­ç±»çš„å¯¹è±¡ å› ä¸ºå­ç±»å…·æœ‰çˆ¶ç±»çš„å…¨éƒ¨åŠŸèƒ½ç‰¹æ€§ï¼Œæ‰€ä»¥å‚æ•°å¯ä»¥æ˜¯å­ç±» åè¿‡æ¥åˆ™ä¸è¡Œ å¼•ç”¨è½¬æ¢ ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨å¯ä»¥éšå¼çš„è½¬æ¢åˆ°å…¶çˆ¶ç±»çš„å¼•ç”¨ï¼ˆå‘ä¸Šè½¬æ¢ï¼‰ æƒ³è½¬æ¢åˆ°å­ç±»çš„å¼•ç”¨åˆ™éœ€è¦æ˜¾ç¤ºè½¬æ¢ï¼ˆå‘ä¸‹è½¬æ¢ï¼‰ å¼•ç”¨è½¬æ¢ï¼š åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¼•ç”¨ï¼Œä»–ä¹ŸæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ å‘ä¸‹è½¬æ¢å¯èƒ½ä¼šå¤±è´¥ï¼Œå¦‚æœå¤±è´¥äº†å°±ä¼šæŠ›å‡ºinvalidCastExceptionå¼‚å¸¸ Asæ“ä½œç¬¦ asæ“ä½œç¬¦ä¼šæ‰§è¡Œå‘ä¸‹è½¬æ¢ï¼Œå¦‚æœè½¬æ¢å¤±è´¥ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå€¼ä¼šå˜ä¸ºnull\nasæ“ä½œç¬¦æ— æ³•åšè‡ªå®šä¹‰è½¬æ¢\nisæ“ä½œç¬¦ isæ“ä½œç¬¦ä¼šæ£€éªŒå¼•ç”¨çš„è½¬æ¢æ˜¯å¦æˆåŠŸã€‚æ¢å¥è¯è¯´ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦æ´¾ç”ŸäºæŸä¸ªç±»ï¼ˆæˆ–è€…å®ç°äº†æŸä¸ªæ¥å£ï¼‰ é€šå¸¸ç”¨äºå‘ä¸‹è½¬æ¢å‰çš„éªŒè¯ å¦‚æœæ‹†ç®±è½¬æ¢å¯ä»¥æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆä½¿ç”¨isæ“ä½œç¬¦çš„ç»“æœä¼šæ˜¯true isæ“ä½œç¬¦åˆæ¨¡å¼å˜é‡ åœ¨c#7 é‡Œï¼Œ ä½¿ç”¨isæ“ä½œç¬¦çš„æ—¶å€™ï¼Œå¯ä»¥å¼•å…¥ä¸€ä¸ªå˜é‡ å¼•å…¥çš„å˜é‡å¯ä»¥ç«‹å³æ¶ˆè´¹ var person = new Person(); var student = new Student(); //éšå¼è½¬æ¢ Person p = student; //æ˜¾ç¤ºè½¬æ¢ å¯èƒ½ä¼šå‘ç”Ÿç±»å‹è½¬æ¢é”™è¯¯ Student s = (Student)p; //å¦‚æœå¼‚å¸¸s1å°±æ˜¯null Student s1 = p as Student; if (s1 is Student) { //åˆ¤æ–­ } //åˆ¤æ–­å¹¶å¼•å…¥å˜é‡ if (s1 is Student s2) { s2.StuId = \u0026#34;2020170281\u0026#34;; } virtualå‡½æ•°æˆå‘˜ æ ‡è®°ä¸ºvirtualçš„å‡½æ•°å¯ä»¥è¢«å­ç±»é‡å†™ï¼ŒåŒ…æ‹¬å±æ€§ã€æ–¹æ³•ã€ç´¢å¼•å™¨ã€äº‹ä»¶ç­‰ç­‰ ä½¿ç”¨overrideä¿®é¥°ç¬¦ï¼Œå­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„å‡½æ•° override virtualæ–¹æ³•å’Œé‡å†™æ–¹æ³•çš„ç­¾åã€è¿”å›ç±»å‹ã€å¯è®¿é—®ç¨‹åº¦å¿…é¡»æ˜¯ä¸€æ ·çš„ é‡å†™æ–¹æ³•é‡Œä½¿ç”¨baseå…³é”®å­—å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„å®ç° var person = new Person(); var student = new Student(); student.jobbb = \u0026#34;student\u0026#34;; Console.WriteLine(person.job); Console.WriteLine(student.job); Person p = student; Console.WriteLine(p.job); } public class Person { public string Name { get; set; } public virtual string job =\u0026gt; \u0026#34;person\u0026#34;; } public class Student : Person { public string StuId { get; set; } public override string job =\u0026gt; jobbb; public string jobbb { get; set; } } æŠ½è±¡ç±»å’ŒæŠ½è±¡æˆå‘˜ ä½¿ç”¨abstractå£°æ˜çš„ç±»æ˜¯æŠ½è±¡ç±» æŠ½è±¡ç±»ä¸å¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œåªæœ‰å…¶å…·ä½“çš„å­ç±»æ‰å¯ä»¥è¢«å®ä¾‹åŒ– æŠ½è±¡ç±»å¯ä»¥å®šä¹‰æŠ½è±¡æˆå‘˜ æŠ½è±¡æˆå‘˜å’Œvirtualæˆå‘˜å¾ˆåƒï¼Œä½†æ˜¯ä¸æä¾›å…·ä½“çš„å®ç°ã€‚å­ç±»å¿…é¡»æä¾›å®ç°ï¼Œé™¤éå­ç±»ä¹Ÿæ˜¯æŠ½è±¡çš„ public abstract class Person1 { public abstract string Name { get; } } public class Student1:Person1 { public override string Name =\u0026gt; job; public string job { get; set; } } new å’Œ overrideçš„åŒºåˆ« ç”¨newçš„è¯ï¼Œ ç¼–è¯‘æ—¶å¯¹Açš„å¼•ç”¨å°±ä¼šç»‘å®šåˆ°Açš„å­—æ®µä¸Š //new å’Œ override çš„åŒºåˆ« var b = new B(); A a1 = b; b.lalala(); a1.lalala(); var c = new C(); A a2 = c; c.lalala(); a2.lalala(); } public class A { public virtual void lalala() { Console.WriteLine(\u0026#34;AAAAAA\u0026#34;); } } public class B : A { public override void lalala() { Console.WriteLine(\u0026#34;BBBBBB\u0026#34;); } } public class C:A { public new void lalala() { Console.WriteLine(\u0026#34;CCCCC\u0026#34;); } } sealed é’ˆå¯¹é‡å†™çš„æˆå‘˜ï¼Œå¯ä»¥ä½¿ç”¨sealedå…³é”®å­—æŠŠå®ƒå¯†å°èµ·æ¥ï¼Œ é˜²æ­¢å®ƒè¢«å…¶ä»–å­ç±»é‡å†™ ä¹Ÿå¯ä»¥sealedç±»æœ¬èº«ï¼Œå°±éšå¼çš„sealedæ‰€æœ‰çš„virtualå‡½æ•°äº† public class Student1 : Person1 { //ä½¿ç”¨sealedçš„è¯ï¼Œå°±æ— æ³•åœ¨å…¶ä»–å­ç±»é‡å†™äº† public sealed override string Name =\u0026gt; job; public string job { get; set; } } baseå…³é”®å­— baseå’Œthiså¾ˆåƒï¼Œbaseä¸»è¦ç”¨äº ä»å­ç±»è®¿é—®çˆ¶ç±»é‡Œè¢«é‡å†™çš„å‡½æ•° è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° è¿™ç§å†™æ³•å¯ä»¥ä¿è¯ï¼Œè®¿é—®çš„ä¸€å®šæ˜¯assetçš„liabilityå±æ€§ï¼Œæ— è®ºè¯¥å±æ€§æ˜¯å‘—é‡å†™äº†è¿˜æ˜¯è¢«éšè—äº† æ„é€ å‡½æ•°å’Œç»§æ‰¿ å­ç±»å¿…é¡»å£°æ˜è‡ªå·±çš„æ„é€ å‡½æ•°\nä»å­ç±»å¯è®¿é—®çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä½†ä¸æ˜¯è‡ªåŠ¨ç»§æ‰¿çš„\nå­ç±»å¿…é¡»é‡æ–°å®šä¹‰ä»–æƒ³è¦æš´éœ²çš„æ„é€ å‡½æ•°\nè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°éœ€è¦ä½¿ç”¨baseå…³é”®å­—\nçˆ¶ç±»çš„æ„é€ å‡½æ•°è‚¯å®šä¼šå…ˆæ‰§è¡Œ\nå¦‚æœå­ç±»çš„æ„é€ å‡½æ•°é‡Œæ²¡æœ‰ä½¿ç”¨baseå…³é”®å­—ï¼Œé‚£ä¹ˆçˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°å°±ä¼šè¢«éšå¼çš„è°ƒç”¨\nå¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå­ç±»å°±å¿…é¡»åœ¨æ„é€ å‡½æ•°é‡Œä½¿ç”¨baseå…³é”®å­—\nnew Tiget( \u0026#34;lalala\u0026#34;); new Tiget(\u0026#34;lalala\u0026#34;, \u0026#34;lulullu\u0026#34;); } public class Animial { public Animial(string @class) { Console.WriteLine(@class); } } public class Tiget : Animial { public Tiget(string @class) : base(@class) { Console.WriteLine(\u0026#34;tiger\u0026#34;); } public Tiget(string @class ,string b):base(@class) { Console.WriteLine(b); } } object objectæ˜¯å¼•ç”¨ç±»å‹ ä½†å€¼ç±»å‹å¯ä»¥è½¬åŒ–ä¸ºobjectï¼Œåä¹‹äº¦ç„¶ï¼ˆç±»å‹ç»Ÿä¸€ï¼‰ åœ¨å€¼ç±»å‹å’Œobjectä¹‹é—´è½¬æ¢çš„æ—¶å€™ï¼Œclrå¿…é¡»æ‰§è¡Œä¸€äº›ç‰¹æ®Šçš„å·¥ä½œï¼Œä»¥å¼¥è¡¥å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´è¯­ä¹‰ä¸Šçš„ä¸€äº›å·®å¼‚ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åšè£…ç®±å’Œæ‹†ç®± è£…ç®± è£…ç®±å°±æ˜¯æŠŠå€¼ç±»å‹çš„å®ä¾‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹çš„å®ä¾‹çš„åŠ¨ä½œ ç›®æ ‡å¼•ç”¨ç±»å‹å¯ä»¥æ˜¯objectï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªæ¥å£ æ‹†ç®± æ‹†ç®±æ­£å¥½ç›¸åï¼ŒæŠŠé‚£ä¸ªå¯¹è±¡è½¬æ¢æˆåŸæ¥çš„å€¼ç±»å‹\næ‹†ç®±éœ€è¦æ˜¾ç¤ºçš„è½¬æ¢\næ•°ç»„å’Œæ³›å‹åªæ”¯æŒå¼•ç”¨è½¬æ¢ï¼Œä¸æ”¯æŒè£…ç®±\nè£…ç®±å’Œæ‹†ç®±çš„å¤åˆ¶ è£…ç®±ä¼šæŠŠå€¼ç±»å‹çš„å®ä¾‹å¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„å¯¹è±¡ æ‹†ç®±ä¼šæŠŠè¿™ä¸ªå¯¹è±¡çš„å†…å®¹å†èµ‹å€¼ç»™ä¸€ä¸ªå€¼ç±»å‹çš„å®ä¾‹ é™æ€å’Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ C#çš„ç¨‹åºæ—¢ä¼šåšé™æ€çš„ç±»å‹æ£€æŸ¥ï¼ˆç¼–è¯‘æ—¶ï¼‰ï¼Œä¹Ÿä¼šåšè¿è¡Œæ—¶çš„ç±»å‹æ£€æŸ¥ï¼ˆCLRï¼‰ é™æ€æ£€æŸ¥ï¼šä¸è¿è¡Œç¨‹åºçš„æƒ…å†µä¸‹ï¼Œè®©ç¼–è¯‘å™¨ä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ è¿è¡Œæ—¶çš„ç±»å‹æ£€æŸ¥ï¼Œæ˜¯ç”±CLRæ‰§è¡Œï¼Œå‘ç”Ÿåœ¨å‘ä¸‹çš„å¼•ç”¨è½¬æ¢æˆ–æ‹†ç®±çš„æ—¶å€™ è¿è¡Œæ—¶æ£€æŸ¥ä¹‹æ‰€ä»¥å¯è¡Œæ˜¯å› ä¸ºï¼šæ¯ä¸ªåœ¨heapä¸Šçš„å¯¹è±¡å†…éƒ¨éƒ½å­˜å‚¨äº†ä¸€ä¸ªç±»å‹token ã€‚ è¿™ä¸ªtokenå¯ä»¥é€šè¿‡è°ƒç”¨objectçš„gettypeï¼ˆï¼‰æ–¹æ³•æ¥è·å– tostringæ–¹æ³• å¯ä»¥åœ¨è‡ªå®šä¹‰çš„ç±»å‹ä¸Šé‡å†™tostringæ–¹æ³• å¦‚æœä½ ä¸é‡å†™è¯¥æ–¹æ³•ï¼Œé‚£å°±ä¼šè¿”å›è¯¥ç±»å‹çš„åç§° image-20210124214053490\rstruct structå’Œclasså·®ä¸å¤šï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¸åŒ structæ˜¯å€¼ç±»å‹ï¼Œclassæ˜¯å¼•ç”¨ç±»å‹ structä¸æ”¯æŒç»§æ‰¿ï¼ˆé™¤äº†éšå¼çš„ç»§æ‰¿äº†objectï¼‰ classèƒ½æœ‰çš„æˆå‘˜ï¼Œstructä¹Ÿå¯ä»¥æœ‰ï¼Œ ä½†æ˜¯ä¸€ä¸‹å‡ ä¸ªä¸è¡Œ æ— å‚æ„é€ å‡½æ•°ä¸è¡Œ å­—æ®µåˆå§‹åŒ–å™¨ä¸è¡Œ ç»ˆç»“å™¨ä¸è¡Œ virtualå’Œprotectedæˆå‘˜ä¸å¯ä»¥ structçš„æ„å»º æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½å¯¹å…¶è¿›è¡Œé‡å†™ï¼Œä»–ä¼šå¯¹å­—æ®µè¿›è¡ŒæŒ‰ä½å½’é›¶æ“ä½œ å½“å®šä¹‰structæ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»æ˜¾å¼çš„ä¸ºæ¯ä¸ªå­—æ®µèµ‹å€¼ ä¸å¯ä»¥æœ‰å­—æ®µåˆå§‹åŒ–å™¨ è®¿é—®ä¿®é¥°ç¬¦ public ï¼Œå®Œå…¨å¯è®¿é—®ï¼Œenumå’Œinterfaceçš„æˆå‘˜é»˜è®¤éƒ½æ˜¯è¿™ä¸ªçº§åˆ« internal ï¼Œ å½“å‰assemblyæˆ–è€…æœ‹å‹assemblyå¯è®¿é—®ï¼Œ éåµŒå¥—ç±»çš„é»˜è®¤è®¿é—®çº§åˆ« privateï¼Œ æœ¬ç±»å¯ä»¥è®¿é—®ï¼Œ class å’Œstruct çš„æˆå‘˜çš„é»˜è®¤è®¿é—®çº§åˆ« protected ï¼Œ æœ¬ç±»æˆ–å…¶å­ç±»å¯ä»¥è®¿é—® protected internal ï¼Œ è”åˆäº†protected å’Œinternal çš„è®¿é—®çº§åˆ« æœ‹å‹ç¨‹åºé›†assembly é€šè¿‡æ·»åŠ system.runtime.compilerservices.internalsvisibletoè¿™ä¸ªassemblyçš„å±æ€§ ï¼Œ å¹¶æŒ‡å®šæœ‹å‹assemblyçš„åå­—ï¼Œå°±å¯ä»¥æŠŠinternalçš„æˆå‘˜æš´éœ²ç»™æœ‹å‹assembly [assembyy:internalsvisibleto(\u0026ldquo;friend\u0026rdquo;)]\nå¦‚æœæœ‹å‹assembly æœ‰strong name ï¼Œ é‚£ä¹ˆå°±å¿…é¡»æŒ‡å®šå…¶å®Œæ•´çš„160å­—èŠ‚çš„public key [assembyy :internalsvisibleto(\u0026ldquo;strongfriend,publickey=0024f0000448c\u0026hellip;\u0026rdquo;)]\nè®¿é—®ä¿®é¥°ç¬¦çš„é™åˆ¶ å½“é‡å†™çˆ¶ç±»çš„å‡½æ•°æ—¶ï¼Œé‡å†™åçš„å‡½æ•°å’Œè¢«é‡å†™çš„å‡½æ•°çš„è®¿é—®çº§åˆ«å¿…é¡»ä¸€è‡´ æœ‰ä¸€ä¸ªä¾‹å¤–ï¼šå½“åœ¨å…¶ä»–çš„assemblyé‡å†™protected internalçš„æ–¹æ³•æ—¶ï¼Œ é‡å†™åçš„æ–¹æ³•å¿…é¡»æ˜¯protected æ¥å£ç®€ä»‹ æ¥å£åªä¸ºæˆå‘˜æä¾›è§„æ ¼ï¼Œæ²¡æœ‰å®ç° æ¥å£æˆå‘˜éƒ½æ˜¯éšå¼æŠ½è±¡çš„ ä¸€ä¸ªclassæˆ–è€…structéƒ½å¯ä»¥å®ç°å¤šä¸ªæ¥å£ æ¥å£çš„å®ç° æ¥å£çš„æˆå‘˜éƒ½æ˜¯éšå¼publicçš„ï¼Œä¸å¯ä»¥å£°æ˜è®¿é—®ä¿®é¥°ç¬¦ å®ç°æ¥å£å¯¹å¥¹çš„æ‰€æœ‰æˆå‘˜è¿›è¡Œpublicçš„å®ç° æ¥å£å’Œå¯¹è±¡çš„ç›¸äº’è½¬æ¢ æ¥å£çš„æ‰©å±• æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£ æ˜¾ç¤ºçš„æ¥å£å®ç° å®ç°å¤šä¸ªæ¥å£çš„æ—¶å€™å¯èƒ½ä¼šé€ æˆå„æˆå‘˜ç­¾åçš„å†²çªã€‚é€šè¿‡æ˜¾å¼å®ç°æ¥å£æˆå‘˜å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ æšä¸¾ æšä¸¾æ—¶ä¸€ä¸ªç‰¹æ®Šçš„å€¼ç±»å‹ï¼Œå®ƒå¯ä»¥è®©ä½ æŒ‡å®šä¸€ç»„å‘½åçš„æ•°å€¼å¸¸é‡ æ¯ä¸ªæšä¸¾éƒ½å¯¹åº”ä¸€ä¸ªåº•å±‚çš„æ•´å‹æ•°å€¼ï¼Œé»˜è®¤æ˜¯intç±»å‹ ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–çš„ç±»å‹ä½œä¸ºæšä¸¾çš„æ•´æ•°ç±»å‹ï¼Œä¾‹å¦‚byte å¯ä»¥å•ç‹¬æŒ‡å®šæšä¸¾æˆå‘˜çš„æ•´æ•°å€¼ ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä¸­æŸäº›æˆå‘˜çš„æ•°å€¼ï¼Œæœªè¢«èµ‹å€¼çš„æˆå‘˜å°†æ¥ç€ä»–å‰é¢çš„å·²èµ‹å€¼æˆå‘˜çš„å€¼é€’å¢ image-20210124221533924\ræšä¸¾å¯ä»¥æ˜¾å¼çš„å’Œå…¶åº•å±‚çš„æ•°å€¼ç›¸äº’è½¬æ¢ flags enum å¯ä»¥å¯¹æšä¸¾çš„æˆå‘˜è¿›è¡Œç»„åˆ ä¸ºäº†é¿å…æ­§ä¹‰ï¼Œæšä¸¾æˆå‘˜çš„éœ€è¦æ˜¾ç¤ºçš„èµ‹å€¼ï¼Œå…¸å‹çš„ä½¿ç”¨2çš„ä¹˜å¹‚ æŒ‰çº¦å®šï¼Œå¦‚æœæšä¸¾æˆå‘˜å¯ä»¥ç»„åˆçš„è¯ï¼Œflagså±æ€§å°±åº”è¯¥å¼•ç”¨åœ¨æšä¸¾ç±»å‹ä¸Š å¦‚æœå£°æ˜äº†è¿™æ ·çš„æšä¸¾å´æ²¡æœ‰ä½¿ç”¨flagså±æ€§ï¼Œä½ ä»ç„¶å¯ä»¥ç»„åˆæšä¸¾çš„æˆå‘˜ï¼Œä½†æ˜¯è°ƒç”¨æšä¸¾å®ä¾‹çš„tostringï¼ˆï¼‰æ–¹æ³•æ—¶ï¼Œè¾“å‡ºçš„å°†æ˜¯ä¸€ä¸ªæ•°å€¼è€Œä¸æ˜¯ä¸€ç»„åç§° æŒ‰çº¦å®šï¼Œå¯ä»¥ç»„åˆæšä¸¾çš„åç§°åº”è¯¥æ˜¯å¤æ•°çš„ var b = sex.top | sex.bottom | sex.right; Console.WriteLine(b); } [Flags] public enum sex { top = 1 , right = 2 , bottom = 4 , left = 8 } æšä¸¾æ”¯æŒçš„æ“ä½œç¬¦ = == != \u0026lt; \u0026gt; \u0026lt;= \u0026gt;= + - ^ \u0026amp; | - += -= \u0026ndash; sizeof\nå…¶ä¸­æŒ‰ä½çš„ã€æ¯”è¾ƒçš„ã€ç®—æœ¯çš„æ“ä½œç¬¦è¿”å›çš„éƒ½æ˜¯å¤„ç†åº•å±‚å€¼åå¾—åˆ°çš„ç»“æœ åŠ æ³•æ“ä½œç¬¦åªå…è®¸ä¸€ä¸ªæšä¸¾å’Œä¸€ä¸ªæ•´å‹æ•°å€¼ç›¸åŠ ï¼Œä¸¤ä¸ªæšä¸¾ç›¸åŠ æ˜¯ä¸å¯ä»¥çš„ åµŒå¥—ç±»å‹çš„ç‰¹æ€§ å¯è®¿é—®å°é—­ç±»å‹çš„ç§æœ‰æˆå‘˜ï¼Œä»¥åŠä»»ä½•å°é—­ç±»å‹èƒ½è®¿é—®çš„ä¸œè¥¿ å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„è®¿é—®ä¿®é¥°ç¬¦æ¥å£°æ˜ï¼Œä¸ä»…ä»…æ˜¯publicå’Œinternal åµŒå¥—ç±»å‹çš„é»˜è®¤è®¿é—®çº§åˆ«æ˜¯privateè€Œä¸æ˜¯internal ä»å°é—­ç±»å‹å¤–è¾¹è®¿é—®åµŒå¥—ç±»å‹éœ€è¦ä½¿ç”¨åˆ°å°é—­ç±»å‹çš„åç§° å¤ä¹ ä¸€ä¸‹ åˆ†éƒ¨ç±»ã€å‘½åç©ºé—´global::ã€external aliasã€virtualã€overrideå’Œnewçš„åŒºåˆ«ã€abstractã€ç»§æ‰¿æ„é€ å‡½æ•°çš„baseå…³é”®å­—ã€ goto label ã€ using static ã€ string.isnullorwhitespaceã€getvalueordefaultã€isä¿®é¥°ç¬¦ã€asä¿®é¥°ç¬¦ã€æœ¬åœ°æ–¹æ³•ã€deconstructorã€ å±æ€§è‡ªåŠ¨åˆå§‹åŒ–å™¨ã€æ„é€ å‡½æ•°æ”¯æŒexpression bodyå½¢å¼ã€nameofä¿®é¥°ç¬¦ã€åˆ†å¸ƒæ–¹æ³•æä¾›é’©å­ã€isä¿®é¥°ç¬¦æä¾›å˜é‡ã€sealedã€å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°é—®é¢˜ã€ è£…ç®±æ‹†ç®±æ˜¯å¤åˆ¶ã€tostringè‡ªå®šä¹‰ç±»å‹å¾—é‡å†™ä¸ç„¶ã€deconstructoræ”¯æŒæ‰©å±•æ–¹æ³• ç¬¬ä¸‰ç«  æ³›å‹éƒ¨åˆ† æ³›å‹çš„ä½œç”¨ è·¨ç±»å‹å¯å¤ç”¨çš„ä»£ç ï¼šç»§æ‰¿å’Œæ³›å‹ ç»§æ‰¿=\u0026gt;åŸºç±» æ³›å‹=\u0026gt;å¸¦æœ‰ç±»å‹å ä½ç¬¦çš„æ¨¡æ¿ æ³›å‹ç±»å‹ generic types æ³›å‹ä¼šå£°æ˜ç±»å‹å‚æ•°\u0026mdash;æ³›å‹çš„æ¶ˆè´¹è€…éœ€è¦æä¾›ç±»å‹å‚æ•°ï¼ˆargumentï¼‰æ¥å§å ä½ç¬¦ç±»å‹å¡«å……ä¸Š open type \u0026amp; closed type stack open type å¼€æ”¾ç±»å‹ stack closed type å°é—­ç±»å‹ åœ¨è¿è¡Œæ—¶ï¼Œæ‰€æœ‰çš„æ³›å‹ç±»å‹å®ä¾‹éƒ½æ˜¯å°é—­çš„ï¼ˆå ä½ç¬¦ç±»å‹å·²ç»è¢«å¡«å……äº†ï¼‰ æ³›å‹æ–¹æ³• æ³›å‹æ–¹æ³•åœ¨æ–¹æ³•çš„ç­¾åå†…ä¹Ÿå¯ä»¥å£°æ˜ç±»å‹å‚æ•° åœ¨æ³›å‹ç±»å‹é‡Œé¢çš„æ–¹æ³•ï¼Œé™¤éä¹Ÿå¼•å…¥äº†ç±»å‹å‚æ•°ï¼Œå¦åˆ™æ˜¯ä¸ä¼šå½’ä¸ºæ³›å‹æ–¹æ³•çš„ åªæœ‰ç±»å‹å’Œæ–¹æ³•å¯ä»¥å¼•å…¥ç±»å‹å‚æ•°ï¼Œå±æ€§ã€ç´¢å¼•å™¨ã€äº‹ä»¶ã€å­—æ®µã€æ„é€ å‡½æ•°ã€æ“ä½œç¬¦ç­‰éƒ½ä¸å¯ä»¥å£°æ˜ç±»å‹å‚æ•°ã€ä½†æ˜¯ä»–ä»¬å¯ä»¥ä½¿ç”¨ä»–ä»¬æ‰€åœ¨çš„æ³›å‹ç±»å‹çš„å‚æ•° å£°æ˜ç±»å‹å‚æ•° åœ¨å£°æ˜class / struct / interface / delegate çš„æ—¶å€™å¯ä»¥å¼•å…¥ç±»å‹å‚æ•°(type parameters) å…¶ä»–çš„ä¾‹å¦‚å±æ€§ï¼Œ å°±ä¸å¯ä»¥å¼•å…¥ç±»å‹å‚æ•°ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç±»å‹å‚æ•° å¼•å…¥å°±æ˜¯ä½¿ç”¨å½¢å¼ï¼Œ ä½¿ç”¨å°±æ˜¯ç›´æ¥ä½¿ç”¨Tçš„å½¢å¼ æ³›å‹ç±»å‹/æ³›å‹æ–¹æ³•çš„åç§°å¯ä»¥è¢«é‡è½½ï¼Œæ¡ä»¶æ˜¯å‚æ•°ç±»å‹çš„ä¸ªæ•°ä¸åŒ typeof ä¸ æœªç»‘å®šçš„æ³›å‹ç±»å‹ å¼€æ–¹çš„æ³›å‹ç±»å‹åœ¨ç¼–è¯‘åå°±å˜æˆäº†å°é—­çš„æ³›å‹ç±»å‹ ä½†æ˜¯å¦‚æœä½œä¸ºtypeå¯¹è±¡ï¼Œ é‚£ä¹ˆæœªç»‘å®šçš„æ³›å‹ç±»å‹åœ¨è¿è¡Œæ—¶æ˜¯å¯ä»¥å­˜åœ¨çš„ï¼Œ åªèƒ½é€šè¿‡typeofæ“ä½œç¬¦æ¥å®ç° ä½¿ç”¨defaultå…³é”®å­—æ¥è·å–æ³›å‹çš„é»˜è®¤å€¼ æ³›å‹çš„çº¦æŸ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ³›å‹çš„ç±»å‹å‚æ•°(parameter)å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ å¦‚æœåªå…è®¸ä½¿ç”¨ç‰¹å®šçš„ç±»å‹å‚æ•°(argument) ï¼Œ å°±å¯ä»¥æŒ‡å®šçº¦æŸ where T:base-class where T:class where T:interface where T:struct where U:T where T:new () //ä¿è¯æ— å‚æ„é€ å‡½æ•° æ³›å‹çš„çº¦æŸå¯ä»¥ä½œç”¨äºç±»å‹æˆ–æ–¹æ³•çš„å®šä¹‰ æ³›å‹ç±»å‹çš„å­ç±» æ³›å‹classå¯ä»¥æœ‰å­ç±»ï¼Œ åœ¨å­ç±»é‡Œï¼Œå¯ä»¥ç»§ç»­è®©çˆ¶ç±»çš„ç±»å‹å‚æ•°ä¿æŒå¼€æ”¾ åœ¨å­ç±»é‡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…·ä½“çš„ç±»å‹æ¥å…³é—­ï¼ˆå°é—­ï¼‰çˆ¶ç±»çš„ç±»å‹å‚æ•° å­ç±»å‹ä¹Ÿå¯ä»¥å¼•å…¥æ–°çš„ç±»å‹å‚æ•° é™æ€æ•°æ® é’ˆå¯¹æ¯ä¸€ä¸ªå°é—­ç±»å‹ï¼Œ é™æ€æ•°æ®éƒ½æ˜¯å”¯ä¸€çš„ Console.WriteLine(Bob\u0026lt;int\u0026gt;.Count++); //0 Console.WriteLine(Bob\u0026lt;int\u0026gt;.Count++); //1 Console.WriteLine(Bob\u0026lt;object\u0026gt;.Count++); //0 class Bob\u0026lt;T\u0026gt; { public static int Count; } å‚æ•°ç±»å‹å’Œè½¬æ¢ ä½¿ç”¨ arg as intè¿™æ ·çš„æ“ä½œç¬¦ æˆ–è€…ä½¿ç”¨ (int)(object) x æ“ä½œç¬¦ ç¬¬å››ç«  å§”æ‰˜ã€äº‹ä»¶ã€lambdaè¡¨è¾¾å¼ delegateå§”æ‰˜ å§”æ‰˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–çŸ¥é“å¦‚ä½•è°ƒç”¨ä¸€ä¸ªæ–¹æ³• å§”æ‰˜ç±»å‹å®šä¹‰äº†å§”æ‰˜å®ä¾‹å¯ä»¥è°ƒç”¨çš„é‚£ç±»æ–¹æ³•ï¼Œå…·ä½“æ¥è¯´ï¼Œå§”æ‰˜ç±»å‹å®šä¹‰äº†æ–¹æ³•çš„è¿”å›ç±»å‹å’Œå‚æ•° class Program { static void Main(string[] args) { //ç¬¬ä¸€ç§æ¨è Transformer transformer1 = Square; var i = transformer1(3); //ç¬¬äºŒç§ï¼Œè‡ªå·±ç¢ç£¨å‡ºæ¥çš„ä¸æ¨è Transformer transformer = new Transformer(Square); var invoke = transformer.Invoke(2); Console.WriteLine(invoke); } delegate int Transformer(int x); static int Square(int x) =\u0026gt; x * x; å§”æ‰˜å®ä¾‹ å§”æ‰˜çš„å®ä¾‹å…¶å®å°±æ˜¯è°ƒç”¨è€…çš„å§”æ‰˜ï¼šè°ƒç”¨è€…è°ƒç”¨å§”æ‰˜ï¼Œç„¶åå§”æ‰˜è°ƒç”¨ç›®æ ‡æ–¹æ³• é—´æ¥çš„å§è°ƒç”¨è€…å’Œç›®æ ‡æ–¹æ³•è§£è€¦äº† ç¼–å†™æ’ä»¶å¼çš„æ–¹æ³• æ–¹æ³•æ˜¯åœ¨è¿è¡Œæ—¶æ‰èµ‹å€¼ç»™å§”æ‰˜å˜é‡çš„ var transformer = new Transformer(Square); var ints = new int[]{1,2,3}; Util.Transform(ints, transformer); foreach (var i in ints) { Console.WriteLine(i); } } public delegate int Transformer(int x); class Util { public static void Transform(int[] values, Transformer t) { for (int i = 0; i \u0026lt; values.Length; i++) { values[i] = t(values[i]); } } } static int Square(int x) =\u0026gt; x * x; } å®ç°è§£ç»‘ï¼Œæ˜¯åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œæ‰å†³å®šæˆ‘è¦ç»™è¿™ä¸ªå§”æ‰˜å®ä¾‹ä¸€ä¸ªå¯ä¾›è°ƒç”¨çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥æ˜¯squareå¹³æ–¹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸‰æ¬¡æ–¹ï¼Œè¿™å–å†³äºéœ€æ±‚æ–¹ï¼Œå› æ­¤è§£è€¦ä¹‹åä½ å¯ä»¥ç¼–å†™æ’ä»¶å¼çš„æ–¹æ³•ï¼Œæœ€åè®©éœ€æ±‚å®ç°è€…è‡ªå·±æ¥å†³å®šè¦å®ä¾‹åŒ–ä½•ç§æ–¹æ³•å§”æ‰˜\nå¤šæ’­å§”æ‰˜ æ‰€æœ‰çš„å§”æ‰˜å®ä¾‹éƒ½å…·æœ‰å¤šæ’­çš„èƒ½åŠ›ã€‚ä¸€ä¸ªå§”æ‰˜å®ä¾‹å¯ä»¥å¼•ç”¨ä¸€ç»„ç›®æ ‡æ–¹æ³•ã€‚ ä½¿ç”¨+å’Œ+=æ“ä½œç¬¦å¯ä»¥åˆå¹¶å§”æ‰˜å®ä¾‹ delegateDemo1 delegateDemo = null; delegateDemo += Square1; delegateDemo += Cube1; delegateDemo(3); delegateDemo -= Cube1; delegateDemo(3); static void Square1(int x) =\u0026gt; Console.WriteLine(x * x); static void Cube1(int x) =\u0026gt; Console.WriteLine(x *x* x); delegate void delegateDemo1(int i); è°ƒç”¨då°±ä¼šè°ƒç”¨ä½ æ·»åŠ è¿›å»çš„1å’Œ2æ–¹æ³•ï¼Œå§”æ‰˜çš„è°ƒç”¨é¡ºåºä¸ä»–ä»¬å®šä¹‰çš„é¡ºåºæ˜¯ä¸€è‡´çš„\nç”¨-å’Œ-=ä¼šæŠŠå³è¾¹çš„å§”æ‰˜ä»å·¦è¾¹çš„å§”æ‰˜é‡Œç§»é™¤\nå§”æ‰˜å˜é‡ä½¿ç”¨+æˆ–+=æ“ä½œç¬¦æ—¶ï¼Œå…¶æ“ä½œæ•°å¯ä»¥æ˜¯nullã€‚å°±ç›¸å½“äºæŠŠä¸€ä¸ªæ–°çš„å€¼èµ‹ç»™äº†å§”æ‰˜å˜é‡ã€‚\nå¯¹äºå•ä¸ªç›®æ ‡æ–¹æ³•çš„å§”æ‰˜å˜é‡ä½¿ç”¨-=æ“ä½œç¬¦æ—¶ï¼Œå°±ç›¸å½“äºæŠŠnullå€¼èµ‹ç»™äº†å§”æ‰˜å˜é‡\nvar transformer = new Transformer(Square); transformer += Cube; var ints = new int[]{1,2,3}; Util.Transform(ints, transformer); foreach (var i in ints) { Console.WriteLine(i); } } public delegate int Transformer(int x); class Util { public static void Transform(int[] values, Transformer t) { for (int i = 0; i \u0026lt; values.Length; i++) { values[i] = t(values[i]); } } } static int Square(int x) =\u0026gt; x * x; static int Cube(int x) =\u0026gt; x * x * x; å§”æ‰˜æ˜¯ä¸å¯å˜çš„ ä½¿ç”¨+=æˆ–-=æ“ä½œç¬¦æ—¶ï¼Œå®é™…ä¸Šæ˜¯åˆ›å»ºäº†æ–°çš„å§”æ‰˜å®ä¾‹ï¼Œå¹¶æŠŠå®ƒèµ‹ç»™å½“å‰çš„å§”æ‰˜å˜é‡ å¦‚æœå¤šæ’­å§”æ‰˜çš„è¿”å›å€¼ç±»å‹ä¸æ˜¯voidï¼Œé‚£ä¹ˆè°ƒç”¨è€…ä»æœ€åä¸€ä¸ªè¢«è°ƒç”¨çš„æ–¹æ³•æ¥æ¥æ”¶è¿”å›å€¼ã€‚å‰é¢çš„æ–¹æ³•ä»ç„¶ä¼šè¢«è°ƒç”¨ï¼Œä½†æ˜¯å…¶è¿”å›å€¼å°±è¢«å¼ƒç”¨äº†ã€‚ å§”æ‰˜ æ‰€æœ‰çš„å§”æ‰˜ç±»å‹éƒ½æ´¾ç”Ÿäºsystem.multicastdelegateï¼Œè€Œå®ƒåˆæ´¾ç”Ÿäºsystem.delegate c#ä¼šæŠŠä½œç”¨äºå§”æ‰˜çš„+ã€-ã€+=ã€-+æ“ä½œç¼–è¯‘æˆä½¿ç”¨system.delegateçš„combineå’Œremoveä¸¤ä¸ªé™æ€æ–¹æ³• public static void HardWork(A a) { for (int i = 0; i \u0026lt; 10; i++) { a(i*10+10+\u0026#34;%\u0026#34;); } } public static void WriteFile(string b) { System.IO.File.WriteAllText(\u0026#34;progress.txt\u0026#34;,b); } public static void console(string b) { Console.WriteLine(b); } } public delegate void A(string b); A a = Class1.console; a += Class1.WriteFile; Class1.HardWork(a); å®ä¾‹æ–¹æ³•ç›®æ ‡å’Œé™æ€æ–¹æ³•ç›®æ ‡ target å½“ä¸€ä¸ªå®ä¾‹æ–¹æ³•è¢«èµ‹å€¼ç»™å§”æ‰˜å¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªå§”æ‰˜å¯¹è±¡ä¸ä»…è¦ä¿ç•™ç€å¯¹æ–¹æ³•çš„å¼•ç”¨ï¼Œè¿˜è¦ä¿ç•™ç€å¯¹æ–¹æ³•æ‰€å±å®ä¾‹çš„å¼•ç”¨ system.delegateçš„targetå±æ€§å°±ä»£è¡¨ç€è¿™ä¸ªå®ä¾‹ å¦‚æœå¼•ç”¨çš„æ˜¯é™æ€æ–¹æ³•ï¼Œé‚£ä¹ˆtargetå±æ€§å°±æ˜¯null æ³›å‹å§”æ‰˜ç±»å‹ å§”æ‰˜ç±»å‹å¯ä»¥åŒ…å«æ³›å‹ç±»å‹å‚æ•° public delegate T transformer (T arg) class Program { static void Main(string[] args) { Transformer\u0026lt;int\u0026gt; transformer = Square; int[] a = {1, 2, 3}; Transform(a,transformer); foreach (var i in a) { Console.WriteLine(i); } Transformer\u0026lt;string\u0026gt; transformer1 = Cw; string[] b = {\u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;}; Transform(b, transformer1); foreach (var s in b) { Console.WriteLine(s); } } public delegate T Transformer\u0026lt;T\u0026gt;(T t); public static void Transform\u0026lt;T\u0026gt;(T[] values, Transformer\u0026lt;T\u0026gt; t) { for (int i = 0; i \u0026lt; values.Length; i++) { values[i]=t(values[i]); } } static int Square(int a) =\u0026gt; a * a; static string Cw(string a) =\u0026gt; (a+\u0026#34;CW\u0026#34;); } Funcå’ŒActionå§”æ‰˜ ä½¿ç”¨æ³›å‹å§”æ‰˜ï¼Œå°±å¯ä»¥å†™å‡ºè¿™æ ·ä¸€ç»„å§”æ‰˜ç±»å‹ï¼Œä»–ä»¬å¯ä»¥è°ƒç”¨çš„æ–¹æ³•å¯ä»¥æ‹¥æœ‰ä»»æ„çš„è¿”å›ç±»å‹å’Œä»»æ„ï¼ˆåˆç†ï¼‰æ•°é‡çš„å‚æ•° Systemå‘½åç©ºé—´ image-20210127163836922\rimage-20210127163930536\rFunc\u0026lt;\u0026gt;å¯ä»¥æœ‰å¤šä¸ªè¾“å…¥å‚æ•°ï¼Œ0ä¸ªä¹Ÿè¡Œï¼Œä¸€ä¸ªè¾“å‡ºå‚æ•°\nclass Program { static void Main(string[] args) { // Transformer\u0026lt;int\u0026gt; transformer = Square; int[] a = {1, 2, 3}; Transform(a, Square); foreach (var i in a) { Console.WriteLine(i); } // Transformer\u0026lt;string\u0026gt; transformer1 = Cw; string[] b = {\u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;}; Transform(b, Cw); foreach (var s in b) { Console.WriteLine(s); } } // public delegate T Transformer\u0026lt;T\u0026gt;(T t); public static void Transform\u0026lt;T\u0026gt;(T[] values, Func\u0026lt;T,T\u0026gt; t) { for (int i = 0; i \u0026lt; values.Length; i++) { values[i] = t(values[i]); } } static int Square(int a) =\u0026gt; a * a; static string Cw(string a) =\u0026gt; (a + \u0026#34;CW\u0026#34;); } ä¸ªäººç†è§£ï¼šå§”æ‰˜å°±æ˜¯æŠŠæ–¹æ³•ä½œä¸ºå‚æ•°æ¥è°ƒç”¨ï¼Œä¼ æ¥ä¼ å»å‘€ä»€ä¹ˆçš„æ€å¯†è¾¾\nAction\u0026lt;\u0026gt;å¯ä»¥æœ‰å¤šä¸ªè¾“å…¥å‚æ•°ï¼Œ0ä¸ªä¹Ÿè¡Œï¼Œä½†æ˜¯æ²¡æœ‰è¾“å‡ºå‚æ•°\nclass Program { static void Main(string[] args) { int[] a = new int[] {1, 2, 3}; Transform(a, Square); string[] b = { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34; , \u0026#34;3\u0026#34;}; Transform(b,Cw); } static void Transform\u0026lt;T\u0026gt;(T[] values, Action\u0026lt;T\u0026gt; tAction) { for (int i = 0; i \u0026lt; values.Length; i++) { tAction(values[i]); } } static void Square(int a) =\u0026gt; Console.WriteLine(a*a); static void Cw(string b) =\u0026gt; Console.WriteLine(b + \u0026#34;CW\u0026#34;); } å§”æ‰˜Vsæ¥å£ å§”æ‰˜å¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œæ¥å£éƒ½å¯ä»¥è§£å†³ ä»€ä¹ˆæƒ…å†µä¸‹æ›´é€‚åˆç”¨å§”æ‰˜è€Œä¸æ˜¯æ¥å£å‘¢ï¼Ÿå½“ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€æ»¡è¶³æ—¶ï¼š æ¥å£åªèƒ½å®šä¹‰ä¸€ä¸ªæ–¹æ³• éœ€è¦å¤šæ’­èƒ½åŠ› è®¢é˜…è€…éœ€è¦å¤šæ¬¡å®ç°æ¥å£ æ²¡æƒ³åˆ°æ¥å£å±…ç„¶èƒ½ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„ä¼ å…¥å‚æ•°ï¼Œæˆ‘éœ‡æƒŠ\nclass Util { public static void TransformAll(int[] values, Interface1 a) { for (int i = 0; i \u0026lt; values.Length; i++) { values[i] = a.Transform(values[i]); Console.WriteLine(values[i]); } } } class Cube:Interface1 { public int Transform(int x) =\u0026gt; x * x * x; } public interface Interface1 { int Transform(int x); } Util.TransformAll(new []{1,2,3},new Cube()); å§”æ‰˜çš„å…¼å®¹æ€§â€“å§”æ‰˜ç±»å‹ å§”æ‰˜ç±»å‹ä¹‹é—´äº’ä¸ç›¸å®¹ï¼Œå³ä½¿æ–¹æ³•ç­¾åä¸€æ · å§”æ‰˜çš„å…¼å®¹æ€§â€“å§”æ‰˜å®ä¾‹ å¦‚æœå§”æ‰˜å®ä¾‹æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ç›®æ ‡ï¼Œé‚£ä¹ˆå§”æ‰˜å®ä¾‹å°±è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ å§”æ‰˜çš„å…¼å®¹æ€§â€“å‚æ•° å½“ä½ è°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œä½ æä¾›çš„å‚æ•°argumentå¯ä»¥æ¯”é˜²èŒƒçš„å‚æ•°parameterå®šä¹‰æ›´å…·ä½“ å§”æ‰˜å¯ä»¥æ¥å—æ¯”ä»–çš„æ–¹æ³•ç›®æ ‡æ›´å…·ä½“çš„å‚æ•°ç±»å‹ï¼Œè¿™ä¸ªå«contravariance å§”æ‰˜çš„å…¼å®¹æ€§â€“è¿”å›ç±»å‹ è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä½ å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¯”è¯·æ±‚çš„ç±»å‹æ›´å…·ä½“çš„ç±»å‹çš„è¿”å›ç»“æœ å§”æ‰˜çš„ç›®æ ‡æ–¹æ³•å¯ä»¥è¿”å›æ¯”å§”æ‰˜æè¿°é‡Œæ›´å…·ä½“çš„ç±»å‹çš„è¿”å›ç»“æœcovariance Eventäº‹ä»¶ ä½¿ç”¨å§”æ‰˜çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå‡ºç°ä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªå¹¿æ’­è€…ï¼Œä¸€ä¸ªè®¢é˜…è€… å¹¿æ’­å’Œè®¢é˜… ä½¿ç”¨å§”æ‰˜çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå‡ºç°ä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªå¹¿æ’­è€…ï¼Œä¸€ä¸ªè®¢é˜…è€… å¹¿æ’­è€…è¿™ä¸ªç±»å‹åŒ…å«ä¸€ä¸ªå§”æ‰˜å­—æ®µï¼Œå¹¿æ’­è€…é€šè¿‡è°ƒç”¨å§”æ‰˜æ¥å†³å®šä»€ä¹ˆæ—¶å€™è¿›è¡Œå¹¿æ’­ è®¢é˜…è€…æ˜¯è¿™ä¸ªæ–¹æ³•ç›®æ ‡çš„æ¥æ”¶è€…ï¼Œè®¢é˜…è€…å¯ä»¥å†³å®šä½•æ—¶å¼€å§‹æˆ–ç»“æŸç›‘å¬ ä¸€ä¸ªè®¢é˜…è€…ä¸çŸ¥é“å’Œä¸å¹²æ‰°å…¶ä»–çš„è®¢é˜…è€… Eventäº‹ä»¶ äº‹ä»¶å°±æ˜¯å°†ä¸Šè¿°æ¨¡å¼æ­£å¼åŒ–çš„ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ äº‹ä»¶æ˜¯ä¸€ç§ç»“æ„ï¼Œä¸ºäº†å®ç°å¹¿æ’­è€…/è®¢é˜…è€…æ¨¡å‹ï¼Œä»–åªæš´éœ²äº†æ‰€éœ€çš„å§”æ‰˜ç‰¹æ€§çš„éƒ¨åˆ†å­é›† äº‹ä»¶çš„ä¸»è¦ç›®çš„å°±æ˜¯é˜²æ­¢è®¢é˜…è€…ä¹‹é—´ç›¸äº’å¹²æ‰° å£°æ˜äº‹ä»¶ æœ€ç®€å•çš„å£°æ˜äº‹ä»¶çš„æ–¹å¼å°±æ˜¯åœ¨å§”æ‰˜å‰é¢åŠ ä¸Ševentå…³é”®å­— æ ‡å‡†çš„äº‹ä»¶æ¨¡å¼ ä¸ºç¼–å†™äº‹ä»¶ï¼Œ.netå®šä¹‰äº†ä¸€ä¸ªæ ‡å‡†çš„æ¨¡å¼ system.eventargsï¼Œ ä¸€ä¸ªé¢„å®šä¹‰çš„æ¡†æ¶ç±»ï¼Œé™¤äº†é™æ€çš„emptyå±æ€§ä¹‹å¤–ï¼Œä»–æ²¡æœ‰å…¶ä»–æˆå‘˜ eventargsæ˜¯ä¸ºäº‹ä»¶ä¼ é€’ä¿¡æ¯çš„ç±»çš„åŸºç±» ä¸ºäº‹ä»¶é€‰æ‹©æˆ–å®šä¹‰å§”æ‰˜ è¿”å›ç±»å‹æ˜¯void æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹æ˜¯objectï¼Œç¬¬äºŒä¸ªå‚æ•°ç±»å‹æ˜¯eventagrsçš„å­ç±»ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºäº‹ä»¶çš„å¹¿æ’­è€…ï¼Œç¬¬äºŒä¸ªå‚æ•°åŒ…å«éœ€è¦ä¼ é€’çš„ä¿¡æ¯ åç§°å¿…é¡»ä»¥eventhandlerç»“å°¾ å¤ä¹  delegate int D1(int x, int y); static void Main(string[] args) { D1 x = Sum; var i = x(1, 2); Console.WriteLine(i); var operation = Operation(1, 2, Sum); Console.WriteLine(operation); var operation1 = Operation(1, 2, new Func\u0026lt;int, int, int\u0026gt;((i1, i2) =\u0026gt; i1 + i2)); Console.WriteLine(operation1); } static int Sum(int x, int y) =\u0026gt; x + y; static int Multiply(int x, int y) =\u0026gt; x * y; static int Operation(int x, int y, Func\u0026lt;int, int, int\u0026gt; aFunc) { var func = aFunc(x, y); return func; } é’ˆå¯¹é€‰æ‹©çš„å§”æ‰˜å®šä¹‰äº‹ä»¶ åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹ï¼Œä½ éœ€è¦åœ¨æµ‹è¯•æˆ–è°ƒç”¨å‰ï¼ŒæŠŠå§”æ‰˜èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥é¿å…çº¿ç¨‹å®‰å…¨ç›¸å…³çš„é”™è¯¯ var temp = pricechanged ; if(temp!=null) temp (this , e) åœ¨c# 6.0ä¹‹åï¼Œå¯ä»¥è¿™æ ·å†™ï¼š priceChanged?.Invoke(this,e) éæ³›å‹çš„eventhandler å½“äº‹ä»¶ä¸æºå¸¦å¤šä½™ä¿¡æ¯çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨éæ³›å‹çš„eventhandlerå§”æ‰˜ eventargs.emptyå±æ€§ class Program { public class PriceChangedEventArgs : EventArgs { public readonly decimal LastPrice; public readonly decimal NewPrice; public PriceChangedEventArgs(decimal lastPrice, decimal newPrice) { this.LastPrice = lastPrice; this.NewPrice = newPrice; } } public class Stock { private string symbol; private decimal price; public Stock(string symbol) { this.symbol = symbol; } public event EventHandler\u0026lt;PriceChangedEventArgs\u0026gt; PriceChanged; protected virtual void OnPriceChanged(PriceChangedEventArgs e) { PriceChanged?.Invoke(this,e); } public decimal Price { get =\u0026gt; price; set { if (price==value) { return; } decimal oldPrice = price; price = value; OnPriceChanged(new PriceChangedEventArgs(oldPrice , price)); } } } static void Main(string[] args) { var stock = new Stock(\u0026#34;microsoft\u0026#34;); stock.Price = 120; stock.PriceChanged += stock_PriceChanged; stock.Price = 135; } static void stock_PriceChanged(object sender, PriceChangedEventArgs e) { if ((e.NewPrice-e.LastPrice)/e.LastPrice\u0026gt;0.1M) { Console.WriteLine(\u0026#34;Alert , 10% stock price increase ! \u0026#34;); } } } lambdaè¡¨è¾¾å¼ lambdaè¡¨è¾¾å¼å…¶å®å°±æ˜¯ä¸€ä¸ªç”¨æ¥ä»£æ›¿å§”æ‰˜å®ä¾‹çš„æœªå‘½åçš„æ–¹æ³• ç¼–è¯‘å™¨ä¼šæŠŠlambdaè¡¨è¾¾å¼è½¬åŒ–ä¸ºä»¥ä¸‹äºŒè€…ä¹‹ä¸€ï¼š ä¸€ä¸ªå§”æ‰˜å®ä¾‹ ä¸€ä¸ªè¡¨è¾¾å¼æ ‘ï¼ˆexpression treeï¼‰ ï¼Œ ç±»å‹æ˜¯expressionï¼Œä»–è¡¨ç¤ºäº†å¯éå†çš„å¯¹è±¡æ¨¡å‹ä¸­lambdaè¡¨è¾¾å¼é‡Œé¢çš„ä»£ç ã€‚ä»–å…è®¸lambdaè¡¨è¾¾å¼å»¶è¿Ÿåˆ°è¿è¡Œæ—¶å†è¢«è§£é‡Š class Program { static void Main(string[] args) { D1 d1 = x=\u0026gt;x*x; var i = d1(3); Console.WriteLine(i); var operation = Operation(3, Multiply); Console.WriteLine(operation); Console.ReadKey(); } static int Operation(int x, Func\u0026lt;int, int\u0026gt; func) =\u0026gt; func(x); delegate int D1(int a); static int Multiply(int x) =\u0026gt; x * x; } lambdaè¡¨è¾¾å¼çš„å½¢å¼ (parameters)=\u0026gt;expression -or- statement -block ï¼ˆå‚æ•°ï¼‰=\u0026gt;è¡¨è¾¾å¼æˆ–è¯­å¥å— å…¶ä¸­å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°å¹¶ä¸”ç±»å‹å¯ä»¥æ¨æ–­çš„è¯ï¼Œé‚£ä¹ˆå‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥ lambdaè¡¨è¾¾å¼ä¸å§”æ‰˜ æ¯ä¸ªlambdaè¡¨è¾¾å¼çš„å‚æ•°å¯¹åº”å§”æ‰˜çš„å‚æ•° è¡¨è¾¾å¼çš„ç±»å‹å¯¹åº”å§”æ‰˜çš„è¿”å›ç±»å‹ class Program { static void Main(string[] args) { D1 d1 = x=\u0026gt;x*x; var i = d1(3); Console.WriteLine(i); var operation = Operation(3, Multiply); Console.WriteLine(operation); Func\u0026lt;int, int\u0026gt; func = (a) =\u0026gt; a * a; func(1); Func\u0026lt;string, string, int\u0026gt; function = (str1, str2) =\u0026gt; { return str1.Length + str2.Length; }; Func\u0026lt;string, string, int\u0026gt; function1 = (str1, str2) =\u0026gt; str1.Length + str2.Length; Console.WriteLine( function(\u0026#34;hello\u0026#34;, \u0026#34;world\u0026#34;)); Console.WriteLine( function1(\u0026#34;hello\u0026#34;, \u0026#34;world\u0026#34;)); } static int Operation(int x, Func\u0026lt;int, int\u0026gt; func) =\u0026gt; func(x); delegate int D1(int a); static int Multiply(int x) =\u0026gt; x * x; } å¦‚æœä¸ç”¨{}é‚£ä¹ˆå°±ä¸éœ€è¦returnå…³é”®å­— ï¼Œå¦‚æœç”¨äº†{}é‚£ä¹ˆå°±è¦ä½¿ç”¨returnå…³é”®å­—ï¼Œä¸”å†…éƒ¨è¿˜è¦åŠ å°å·ï¼›\næ˜¾å¼æŒ‡å®šlambdaè¡¨è¾¾å¼çš„å‚æ•°ç±»å‹ æ•è·å¤–éƒ¨å˜é‡ lambdaè¡¨è¾¾å¼å¯ä»¥å¼•ç”¨æœ¬åœ°çš„å˜é‡å’Œæ‰€åœ¨æ–¹æ³•çš„å‚æ•° è¢«lambdaè¡¨è¾¾å¼å¼•ç”¨çš„å¤–éƒ¨å˜é‡å«åšè¢«æ•è·çš„å˜é‡ï¼ˆcaptured variablesï¼‰ æ•è·äº†å¤–éƒ¨å˜é‡çš„lambdaè¡¨è¾¾å¼å«åšé—­åŒ… è¢«æ•è·çš„å˜é‡æ˜¯åœ¨å§”æ‰˜è¢«å®é™…è°ƒç”¨çš„æ—¶å€™æ‰è¢«è®¡ç®—ï¼Œè€Œä¸æ˜¯åœ¨æ•è·çš„æ—¶å€™ int factor = 2; Func\u0026lt;int, int\u0026gt; func = x =\u0026gt; x * factor; factor = 10; var i = func(3); Console.WriteLine(i); è¢«æ•è·çš„å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¼šè¢«å»¶é•¿åˆ°å’Œå§”æ‰˜ä¸€æ · lambdaè¡¨è¾¾å¼å†…çš„æœ¬åœ°å˜é‡ åœ¨lambdaè¡¨è¾¾å¼å†…å®ä¾‹åŒ–çš„æœ¬åœ°å˜é‡å¯¹äºå§”æ‰˜å®ä¾‹çš„æ¯æ¬¡è°ƒç”¨æ¥è¯´éƒ½æ˜¯å”¯ä¸€çš„ lambdaè¡¨è¾¾å¼vsæœ¬åœ°æ–¹æ³• æœ¬åœ°æ–¹å¼æ˜¯c#7çš„æ–°ç‰¹æ€§ ã€‚ ä»–å’Œlambdaè¡¨è¾¾å¼åœ¨åŠŸèƒ½ä¸Šæœ‰å¾ˆå¤šé‡å¤ä¹‹å¤„ï¼Œä½†ä»–åˆä¸‰ä¸ªä¼˜ç‚¹ï¼š ç®€å•æ˜äº†è¿›è¡Œé€’å½’ æ— éœ€æŒ‡å®šå§”æ‰˜ç±»å‹ æ€§èƒ½å¼€é”€ç•¥ä½ä¸€ç‚¹ æœ¬åœ°æ–¹æ³•æ•ˆç‡æ›´é«˜æ˜¯å› ä¸ºå®ƒé¿å…äº†å§”æ‰˜çš„é—´æ¥è°ƒç”¨ã€‚æœ¬åœ°æ–¹æ³•ä¹Ÿå¯ä»¥è®¿é—®æ‰€åœ¨æ–¹æ³•çš„æœ¬åœ°å˜é‡ï¼Œè€Œä¸”æ— éœ€ç¼–è¯‘å™¨æŠŠè¢«æ•è·çš„å˜é‡hoiståˆ°éšè—çš„ç±» åŒ¿åæ–¹æ³•vslambdaè¡¨è¾¾å¼ åŒ¿åæ–¹æ³•å’Œlambdaè¡¨è¾¾å¼å¾ˆåƒï¼Œä½†æ˜¯ç¼ºå°‘ä»¥ä¸‹ä¸‰ä¸ªç‰¹æ€§ éšå¼ç±»å‹å‚æ•° è¡¨è¾¾å¼è¯­æ³•ï¼ˆåªèƒ½æ˜¯è¯­å¥å—ï¼‰ ç¼–è¯‘è¡¨è¾¾å¼æ ‘çš„èƒ½åŠ›ï¼Œé€šè¿‡èµ‹å€¼ç»™expression ç¬¬äº”ç«  è¿›é˜¶ç‰¹æ€§ try-catch-finnally catchå¯ä»¥è®¾ç½®æ•è·ä¸åŒç±»å‹çš„å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰å¼‚å¸¸ç±»å‹åŒ¹é…çš„ï¼Œå¯èƒ½å°±ç¨‹åºæŠ¥é”™äº† å¦‚æœä½ å¸Œæœ›æœ‰ä¸€ä¸ªå…œåº•çš„catchå¯ä»¥æ•è·ä»»ä½•ç±»å‹çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆä½ éœ€è¦æŠŠå¾…å®šç±»å‹çš„å¼‚å¸¸æ•è·æ”¾åœ¨é å‰çš„ä½ç½® ä»c#6 å¼€å§‹ï¼Œä½ å¯ä»¥åœ¨catchå­å¥ä¸­æ·»åŠ ä¸€ä¸ªwhenå­å¥æ¥æŒ‡å®šä¸€ä¸ªå¼‚å¸¸è¿‡æ»¤å™¨ try { } catch (Exception e)when(e.StackTrace==\u0026#34;\u0026#34;) { Console.WriteLine(e); throw; } finallyå— finallyå—æ°¸è¿œéƒ½ä¼šè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦è·‘å‡ºå¼‚å¸¸ å”¯ä¸€å¯ä»¥è®©ä»–ä¸æ‰§è¡Œå°±æ˜¯æ— é™æ‰§è¡Œï¼Œæˆ–è€…ä¸­æ–­ usingè¯­å¥ å¾ˆå¤šç±»éƒ½å°è£…äº†éæ‰˜ç®¡èµ„æºï¼Œéƒ½å®ç°äº†disposableæ¥å£ï¼Œè¿™ä¸ªæ¥å£å®šä¹‰äº†ä¸€ä¸ªæ— å‚çš„disposeæ–¹æ³•æ¥æ¸…ç†è¿™äº›èµ„æº usingè¯­å¥æä¾›äº†ä¸€ä¸ªä¼˜é›…çš„è¯­æ³•æ¥åœ¨finallyå—é‡Œè°ƒç”¨å®ç°äº†idisposableæ¥å£å¯¹è±¡ä¸Šçš„disposeæ–¹æ³• æŠ›å‡ºå¼‚å¸¸ c# 7 ä¸­ï¼Œthrow new Exception å¯ä»¥ä½œä¸ºexpression-bodied functionsé‡Œçš„ä¸€ä¸ªè¡¨è¾¾å¼å‡ºç° ä¹Ÿå¯ä»¥å‡ºç°åœ¨ä¸‰å…ƒæ¡ä»¶è¡¨è¾¾å¼é‡Œ é‡æ–°æŠ›å‡ºå¼‚å¸¸ å¦‚æœä½¿ç”¨rhrow exä»£æ›¿throwçš„è¯ï¼Œç¨‹åºä»ç„¶å¯ä»¥è¿è¡Œ å…¶ä»–å¸¸è§çš„æƒ…æ™¯æ˜¯æŠ›å‡ºä¸€ä¸ªæ›´ä¸ºå…·ä½“çš„å¼‚å¸¸ç±»å‹ å¦‚æœæŠŠåŸå¼‚å¸¸çš„exä¼ å…¥ç¬¬äºŒä¸ªå¼‚å¸¸ç±»å‹ä½œä¸ºå‚æ•°ï¼Œåˆ©äºè°ƒè¯•ï¼Œä½†å¯èƒ½å‡ºç°ä¿¡æ¯æ³„éœ² System.exception çš„å…³é”®å±æ€§ stacktrace ä»–æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå±•ç°äº†ä»å¼‚å¸¸å‘ç”Ÿåœ°åˆ°catchå—æ‰€æœ‰çš„è¢«è°ƒç”¨çš„æ–¹æ³• message å…³äºé”™è¯¯çš„æè¿°ä¿¡æ¯ innerexception å¼•èµ·å¤–å±‚å¼‚å¸¸çš„å†…å±‚å¼‚å¸¸ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰è€Œä¸”innerExceptionæœ¬èº«è¿˜æœ‰å¯èƒ½å«æœ‰innerexception å¸¸è§çš„å¼‚å¸¸ç±»å‹ system.argumentexception system.argumentnullexception system.argumentoutofrangeexception system.invalidoperationexception system.notsuppostedexception system.notimplementedexception system.oubjecdisposedexception nullreferenceexception ä½ ä¹Ÿå¯ä»¥ç›´æ¥throw null ï¼Œæ¥æŠ›å‡ºæ­¤ç±»å‹å¼‚å¸¸ try xxxæ¨¡å¼ å¦‚æœè§£æå¤±è´¥ ï¼Œ parseæ–¹æ³•ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œtryparseæ–¹æ³•ä¼šè¿”å›false æšä¸¾å™¨ æšä¸¾å™¨æ˜¯ä¸€ä¸ªåªè¯»çš„ï¼Œä½œç”¨äºä¸€åºåˆ—å€¼çš„ã€åªèƒ½å‘å‰çš„æ¸¸æ ‡ æšä¸¾å™¨æ˜¯ä¸€ä¸ªå®ç°äº†ä¸‹åˆ—ä»»æ„ä¸€ä¸ªæ¥å£çš„å¯¹è±¡ï¼š system.collections.ienumrator system.collections.generic.IEnumerator æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œä»»ä½•ä¸€ä¸ªå«æœ‰åä¸ºmovenextæ–¹æ³•å’Œåä¸ºcurrentçš„å±æ€§çš„å¯¹è±¡ï¼Œéƒ½ä¼šè¢«å½“åšæšä¸¾å™¨æ¥å¯¹å¾… foreachè¯­å¥ä¼šè¿­ä»£å¯æšä¸¾çš„å¯¹è±¡enumerable object ã€‚å¯æšä¸¾çš„å¯¹è±¡æ˜¯ä¸€åºåˆ—å€¼çš„é€»è¾‘æ ‡è¯†ã€‚å®ƒæœ¬èº«ä¸æ˜¯æ¸¸æ ‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥åŸºäºæœ¬èº«äº§ç”Ÿçš„æ¸¸æ ‡çš„å¯¹è±¡ã€‚ å¯æšä¸¾å¯¹è±¡ enumerable object ä¸€ä¸ªå¯æšä¸¾å¯¹è±¡å¯ä»¥æ˜¯ï¼ˆä¸‹åˆ—ä»»æ„ä¸€ä¸ªï¼‰ å®ç°äº†ienumerableæˆ–è€…ienumerableçš„å¯¹è±¡ æœ‰ä¸€ä¸ªåä¸ºgetenumeratorçš„æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæšä¸¾å™¨emunerator IEumratorå’ŒIEnumerableæ˜¯å®šä¹‰åœ¨system.collectionså‘½åç©ºé—´ä¸‹çš„ IEnumeratorå’ŒIEnumerableæ˜¯å®šä¹‰åœ¨system.collections.genericå‘½åç©ºé—´ä¸‹çš„ é›†åˆåˆå§‹åŒ–å™¨ è¦æ±‚å¯æšä¸¾å¯¹è±¡å®ç°äº†system.collections.ienumerableæ¥å£ï¼Œå¹¶ä¸”ä»–è¿˜æœ‰ä¸€ä¸ªå¯æ¥å—é€‚å½“å‚æ•°çš„addæ–¹æ³• è¿­ä»£å™¨iterators foreachæ˜¯æšä¸¾å™¨ï¼ˆenumeratorï¼‰çš„æ¶ˆè´¹è€…ï¼Œè€Œè¿­ä»£å™¨ï¼ˆiteratorsï¼‰æ˜¯æšä¸¾å™¨çš„ç”Ÿäº§è€… foreach (var VARIABLE in Foo()) { Console.WriteLine(VARIABLE); } static IEnumerable\u0026lt;string\u0026gt; Foo() { yield return \u0026#34;one\u0026#34;; yield return \u0026#34;two\u0026#34;; yield return \u0026#34;Three\u0026#34;; } yield break yield break è¯­å¥è¡¨ç¤ºè¿­ä»£å™¨å—ä¼šæå‰é€€å‡ºï¼Œä¸åœ¨è¿”å›æ›´å¤šçš„å…ƒç´  returnè¯­å¥åœ¨è¿­ä»£å™¨å—é‡Œé¢æ˜¯éæ³•çš„ï¼Œä½ å¿…é¡»ä½¿ç”¨yield breakä»£æ›¿ var enumerable = Foo(false); foreach (var VARIABLE in enumerable) { Console.WriteLine(VARIABLE); } static IEnumerable\u0026lt;string\u0026gt; Foo(bool breakEarly) { yield return \u0026#34;one\u0026#34;; yield return \u0026#34;two\u0026#34;; if (breakEarly) { yield break; } yield return \u0026#34;Three\u0026#34;; } è¿­ä»£å™¨å’Œtry/catch/finallyå— yield return è¯­å¥ä¸å¯ä»¥å‡ºç°åœ¨å«æœ‰catchå­å¥çš„tryé‡Œé¢ yield return ä¹Ÿä¸èƒ½å‡ºç°åœ¨catchæˆ–è€…finallyå—é‡Œé¢ ä½†æ˜¯yield return å¯ä»¥å‡ºç°åœ¨åªå«æœ‰finallyå—çš„tryå—é‡Œé¢ å½“æ¶ˆè´¹è€…çš„æšä¸¾å™¨åˆ°è¾¾åºåˆ—ç»ˆç‚¹æˆ–è¢«disposedçš„æ—¶å€™ï¼Œfinallyå—é‡Œé¢çš„ä»£ç ä¼šè¢«æ‰§è¡Œ å¦‚æœä½ æå‰è¿›è¡Œäº†breakï¼Œé‚£ä¹ˆforeachè¯­å¥ä¹Ÿä¼šdisposeæ‰æšä¸¾å™¨ï¼Œæ‰€ä»¥ç”¨èµ·æ¥å¾ˆå®‰å…¨ var enumerator = Foo(false).GetEnumerator(); if (enumerator.MoveNext()) { var enumeratorCurrent = enumerator.Current; } while (enumerator.MoveNext()) { Console.WriteLine(enumerator.Current); } static IEnumerable\u0026lt;string\u0026gt; Foo(bool breakEarly) { yield return \u0026#34;one\u0026#34;; yield return \u0026#34;two\u0026#34;; if (breakEarly) { yield break; } yield return \u0026#34;Three\u0026#34;; } é€šè¿‡movenextçš„trueæˆ–falseç¡®å®šæ˜¯å¦å¯ä»¥æšä¸¾åˆ°ä¸‹ä¸€ä¸ªï¼Œå¦‚æœå¯ä»¥ï¼Œé€šè¿‡æ‹¿åˆ°currentï¼Œè¿›è€Œæ‹¿åˆ°é‡Œé¢çš„å€¼ï¼Œå¦‚æœç”¨foreachå°±å¯ä»¥å¿½ç•¥ä»€ä¹ˆcurrentï¼Œmovenextæ“ä½œï¼Œå› ä¸ºä»–æ˜¯ä¸€ç§é«˜é˜¶çš„å†™æ³•\nå¯ç©ºå€¼ç±»å‹ nullable å¯ç©ºç»“æ„ä½“ struct hasvalue getvalueordefault() å’Œ getvalueordefault(T defaultvalue) objecté‡Œé¢å®šä¹‰çš„equalï¼ˆobjectï¼‰å’Œgethashcodeï¼ˆï¼‰è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿè¢«å“åº”çš„é‡å†™äº†ï¼Œé¦–å…ˆä¼šæ¯”è¾ƒhasvalueå±æ€§çš„å€¼ï¼Œå¦‚æœä¸¤ä¸ªè¢«æ¯”è¾ƒå¯¹è±¡çš„hasvalueå±æ€§éƒ½æ˜¯true ï¼Œ é‚£ä¹ˆç„¶åå°±ä¼šæ¯”è¾ƒvalueå±æ€§çš„ç›¸ç­‰æ€§ å¯ç©ºç±»å‹çš„è£…ç®±å’Œæ‹†ç®±boxing and unboxing nullable values å½“Tï¼Ÿè¢«è£…ç®±åï¼Œåœ¨å †å†…å­˜ä¸Šè¢«è£…ç®±çš„å€¼ä¼šåŒ…å«Tï¼Œè€Œä¸æ˜¯Tï¼Ÿ å› ä¸ºè¢«è£…ç®±ä¹‹åçš„å€¼æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œè€Œå¼•ç”¨ ç±»å‹æ˜¯å¯ä»¥è¡¨ç¤ºnullå€¼çš„ c#ä¹Ÿå…è®¸å¯¹å¯ç©ºç±»å‹è¿›è¡Œæ‹†ç®±æ“ä½œï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨asè¿ç®—ç¬¦ã€‚å¦‚æœæ‹†ç®±è½¬æ¢å¤±è´¥ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯nullï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ nullå¯¹äºå¯ç©ºå€¼ç±»å‹çš„å®šä¹‰ nullæœ‰ä¸¤ç§å«ä¹‰ nullå¼•ç”¨ å¯ç©ºå€¼ç±»å‹hasvalueä¸ºfalseæ—¶çš„å€¼ ä¸‹é¢è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ è¿ç®—ç¬¦æå‡ å°±æ˜¯å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªå¯ç©ºå€¼ç±»å‹çš„\u0026gt;\u0026lt;== å‰æéƒ½æ˜¯hasvalueä¸ºtrueæ—¶æ‰å¼€å§‹åˆ¤æ–­ï¼Œå¦åˆ™è¿”å›çš„ç»“æœè¦ä¸æ˜¯nullå°±æ˜¯false ï¼Ÿï¼Ÿ åœ¨å¯ç©ºå€¼ç±»å‹ä¸Šä½¿ç”¨ï¼Ÿï¼Ÿè¿ç®—ç¬¦ï¼Œå°±ç›¸å½“äºè°ƒç”¨äº†getvalueordefaultæ–¹æ³•ï¼Œå¹¶ä¸”ä¸ºè¿™ä¸ªæ–¹æ³•æä¾›äº†æ˜¾å¼çš„é»˜è®¤å€¼ä½œä¸ºå‚æ•°ã€‚å½“ç„¶ï¼Œæœ‰ä¸€ç‚¹ä¸åŒæ˜¯ï¼šå¦‚æœå˜é‡ä¸æ˜¯nullï¼Œé‚£ä¹ˆé»˜è®¤å€¼é‚£éƒ¨åˆ†çš„è¡¨è¾¾å¼å°±ä¸ä¼šè¢«æ‰§è¡Œ\nint? b = null; int a = b ?? 4; Console.WriteLine(a); å¯ç©ºç±»å‹å’Œasè¿ç®—ç¬¦ asè½¬åŒ–ä¸äº†çš„è¯è¿”å›null\næ‰©å±•æ–¹æ³• æ‰©å±•æ–¹æ³•å…è®¸æˆ‘ä»¬ä½¿ç”¨æ–°çš„æ–¹æ³•æ¥æ‰©å±•ç°æœ‰çš„ç±»å‹ï¼Œè€Œä¸”æ— éœ€ä¿®æ”¹åŸæœ‰çš„ç±»å‹çš„å®šä¹‰ æ‰©å±•æ–¹æ³•æ˜¯é™æ€ç±»çš„ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œåœ¨é™æ€æ–¹æ³•é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨thisä¿®é¥°ç¬¦ï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹å°±æ˜¯è¦è¢«æ‰©å±•çš„ç±»å‹ static class StringHelper { public static bool IsCapitalized(this string s) { if (string.IsNullOrEmpty(s)) { return false; } return char.IsUpper(s[0]); } } string stra = \u0026#34;Ok\u0026#34;; var isCapitalized = stra.IsCapitalized(); Console.WriteLine(isCapitalized); æ¥å£ä¹Ÿå¯ä»¥è¢«æ‰©å±• æ‰©å±•æ–¹æ³•é“¾ æ‰©å±•æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ä¸€æ ·ï¼Œä¹Ÿæä¾›äº†ä¸€ç§æ•´æ´çš„æ–¹å¼æ¥è¿›è¡Œé“¾å¼è°ƒç”¨ å‰ææ˜¯ä»–ä»¬è¿”å›å€¼ç±»å‹å’Œå¦ä¸€ä¸ªçš„ä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ä¸€è‡´çš„ æ­§ä¹‰å’Œè§£æ å‘½åç©ºé—´ åªæœ‰æ‰€åœ¨ç±»å¤„äºä½œç”¨èŒƒå›´å†…çš„æ‰©å±•æ–¹æ³•æ‰å¯ä»¥è¢«è®¿é—®ï¼Œ å…¸å‹çš„åšæ³•æ˜¯å¼•å…¥å‘½åç©ºé—´ å¦‚æœè¿™é‡Œä¸å¼•å…¥ï¼Œç¼–è¯‘æ—¶å°±ä¼šæŠ¥é”™ æ­§ä¹‰å’Œè§£æ æ‰©å±•æ–¹æ³•vså®ä¾‹æ–¹æ³• å…¼å®¹çš„å®ä¾‹æ–¹æ³•çš„ä¼˜å…ˆçº§æ€»æ˜¯é«˜äºæ‰©å±•æ–¹æ³•çš„ è¿™ç§æƒ…å†µä¸‹ï¼Œå”¯ä¸€èƒ½è°ƒç”¨æ‰©å±•æ–¹æ³•çš„å¿ƒäº‹å°±æ˜¯ä½¿ç”¨é™æ€è°ƒç”¨çš„è¯­æ³•ï¼Œä¹Ÿå°±æ˜¯ç±»å.æ–¹æ³• æ­§ä¹‰å’Œè§£æ æ‰©å±•æ–¹æ³•vsæ‰©å±•æ–¹æ³• å¦‚æœä¸¤ä¸ªæ‰©å±•æ–¹æ³•æ‹¥æœ‰ç›¸åŒçš„ç­¾åï¼Œé‚£ä¹ˆæ‰©å±•æ–¹æ³•å¿…é¡»åƒå¸¸è§„é™æ€æ–¹æ³•é‚£æ ·è°ƒç”¨ä»¥é¿å…æ­§ä¹‰ï¼Œè€Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ‰©å±•æ–¹æ³•çš„å‚æ•°ç±»å‹æ›´å…·ä½“ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•çš„ä¼˜å…ˆçº§å°±ä¼šæ›´é«˜ æ³¨æ„ï¼šç±»å’Œç»“æ„ä½“è¢«è®¤ä¸ºæ¯”æ¥å£æ›´åŠ å…·ä½“ ä»€ä¹ˆæ˜¯åŒ¿åç±»å‹ åŒ¿åç±»å‹å°±æ˜¯ç”±ç¼–è¯‘å™¨åŠæ—¶åˆ›å»ºçš„ä¸€ä¸ªclass ï¼Œ å®ƒç”¨æ¥å­˜å‚¨ä¸€ç»„æ•°æ® åˆ›å»ºåŒ¿åç±»å‹ï¼šnew + object åˆå§‹åŒ–å™¨ï¼Œå¹¶æŒ‡å®šå±æ€§åŠå…¶å€¼ static void Main(string[] args) { string name = \u0026#34;ljs\u0026#34;; int age = 23; string school = \u0026#34;hfut\u0026#34;; var foo = new {name , age , school}; Console.WriteLine(foo.name); } ä½¿ç”¨varå…³é”®å­—æ¥å¼•ç”¨åŒ¿åç±»ï¼Œå› ä¸ºåŒ¿åç±»å‹æ²¡æœ‰åå­— åŒ¿åç±»å‹çš„åç§°å¯ä»¥é€šè¿‡æœ¬èº«å°±æ˜¯æ ‡è¯†ç¬¦/ä»¥æ ‡è¯†ç¬¦ç»“å°¾çš„è¡¨è¾¾å¼æ¨æ–­å‡ºæ¥ åœ¨åŒä¸€ä¸ªassemblyä¸‹å£°æ˜çš„ä¸¤ä¸ªåŒ¿åç±»å®ä¾‹ï¼Œå¦‚æœä»–ä»¬çš„å…ƒç´ åå’Œç±»å‹éƒ½å®Œå…¨ä¸€è‡´ï¼Œé‚£ä¹ˆä»–ä»¬çš„åŸºç¡€ç±»å‹underlying type å°±æ˜¯ä¸€æ ·çš„ equalsæ–¹æ³•è¢«é‡å†™æ¥è¿›è¡Œç›¸ç­‰æ€§æ¯”è¾ƒ æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ å¯ä»¥åˆ›å»ºåŒ¿åç±»å‹æ•°ç»„ æ–¹æ³•ä¸å¯ä»¥è¿”å›åŒ¿åç±»å‹çš„å¯¹è±¡ï¼Œå¿…é¡»ä½¿ç”¨dynamicæˆ–è€…object ï¼Œè°ƒç”¨æ—¶ä¾èµ–åŠ¨æ€ç»‘å®šï¼Œå¹¶ä¸”ä¼šæŸå¤±é™æ€ç±»å‹çš„å®‰å…¨æ€§ dynamic foo1 = new[] { new {Name = \u0026#34;ljs\u0026#34; , Age = 23 } , new {Name = \u0026#34;jwt\u0026#34; , Age = 23} , }; åŒ¿åç±»å‹ä¸»è¦ç”¨æ¥å†™linqæŸ¥è¯¢ var foo1 = new[] { new {Name = \u0026#34;ljs\u0026#34; , Age = 23 } , new {Name = \u0026#34;jwt\u0026#34; , Age = 23} , }; foreach (var VARIABLE in foo1) { Console.WriteLine(VARIABLE.Name); } Tupleçš„æ„ä¹‰ tupleæä¾›äº†ç®€å•çš„æ–¹å¼æ¥å­˜å‚¨ä¸€ç»„æ•°æ® ä½¿ç”¨tupleçš„ä¸»è¦ç›®çš„æ˜¯ä»æ–¹æ³•å®‰å…¨çš„è¿”å›å¤šä¸ªå€¼ï¼Œè€Œä¸”æ— åºä½¿ç”¨outå‚æ•° c# 7 çš„tupleä¸»è¦ä¾èµ–äºä¸€ç»„æ”¯æ’‘ä»–çš„struct åˆ›å»ºtuple åˆ›å»ºtupleå­—é¢å€¼æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åœ¨å°æ‹¬å·é‡Œåˆ—å‡ºæ‰€æœ‰çš„å€¼ é€šè¿‡xx.item1å’Œxx.item2æ¥å¼•ç”¨tupleé‡Œé¢çš„æœªå‘½åå…ƒç´  static void Main(string[] args) { var tuple = (\u0026#34;ljs\u0026#34;, 20); Console.WriteLine(tuple.Item1); var tuple1 = tuple; tuple1.Item1 = \u0026#34;sbjwt\u0026#34;; Console.WriteLine(tuple); Console.WriteLine(tuple1); } tupleæ˜¯å€¼ç±»å‹ï¼Œ å…¶å…ƒç´ æ˜¯å¯å˜çš„å¯è¯»å†™ ä½ å¯ä»¥æ˜ç¡®çš„æŒ‡å®štupleçš„ç±»å‹ åªéœ€è¦åœ¨å°æ‹¬å·é‡Œé¢åˆ—å‡ºæ¯ä¸ªå…ƒç´ çš„ç±»å‹å³å¯ å¯ä»¥ä»æ–¹æ³•é‡Œè¿”å›tupleç±»å‹ static void Main(string[] args) { var tuple = (\u0026#34;ljs\u0026#34;, 20); Console.WriteLine(tuple.Item1); var tuple1 = tuple; tuple1.Item1 = \u0026#34;sbjwt\u0026#34;; Console.WriteLine(tuple); Console.WriteLine(tuple1); (int, string) tuple2 = (23, \u0026#34;hfut\u0026#34;); CWtupleByDelegate(23,\u0026#34;hfut\u0026#34;,sum); void CWtupleByDelegate(int a , string b , Action\u0026lt;int ,string \u0026gt; func) =\u0026gt; func(a, b); CWtupleByDelegate1(new Tuple\u0026lt;int, string\u0026gt;(23,\u0026#34;htuf\u0026#34;), sumTuple); void CWtupleByDelegate1(Tuple\u0026lt;int,string\u0026gt; aTuple , Action\u0026lt;Tuple\u0026lt;int,string\u0026gt;\u0026gt; func) =\u0026gt; func(aTuple); } static void sum(int a, string b) =\u0026gt; Console.WriteLine(a + b); static void sumTuple(Tuple\u0026lt;int, string\u0026gt; tuple) =\u0026gt; Console.WriteLine(tuple.Item1+tuple.Item2); } tupleå¯ä»¥å’Œæ³›å‹å¾ˆå¥½çš„å…±å­˜\nTask\u0026lt;(string, int)\u0026gt; a; Dictionary\u0026lt;(string, int),bool\u0026gt; b; IEnumerable\u0026lt;(int id, string name)\u0026gt; c; ç»™tupleå…ƒç´ å‘½å åœ¨åˆ›å»ºtupleå­—é¢å€¼çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç»™å…ƒç´ èµ·ä¸€ä¸ªæœ‰æ„ä¹‰çš„åå­— var t1 = (name: \u0026#34;ljs\u0026#34;, age: 23); Console.WriteLine(t1.name); Console.WriteLine(t1.age); (string Name, int Age) t2 = (\u0026#34;jwt\u0026#34;, 12); Console.WriteLine(t2.Name); Console.WriteLine(t2.Age); åœ¨æŒ‡å®štupleç±»å‹çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ç»™å…ƒç´ èµ·å ä»ç„¶å¯ä»¥é€šè¿‡item1ï¼Œitemæ¥å¼•ç”¨å…ƒç´  å¦‚æœä¸¤ä¸ªtupleå…ƒç´ ç±»å‹ã€é¡ºåºéƒ½ä¸€ç›´ï¼Œé‚£ä¹ˆä¸¤ä¸ªtupleçš„ç±»å‹å°±æ˜¯å…¼å®¹çš„ valuetuple.create å¯ä»¥ä½¿ç”¨valueTuple(éæ³›å‹)ç±»å‹ä¸Šçš„å·¥å‚æ–¹æ³•æ¥åˆ›å»ºtuple å‘½åå…ƒç´ ä¸å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºï¼Œå› ä¸ºå…ƒç´ å‘½åä¾èµ–äºç¼–è¯‘å™¨çš„ä¸€äº›éªšæ“ä½œ var valueTuple = ValueTuple.Create(\u0026#34;Bob\u0026#34;,23); (string,int) bobTuple = ValueTuple.Create(\u0026#34;Bob\u0026#34;,23); Deconstructing Tuples tupleéšå¼çš„æ”¯æŒdeconstructingæ¨¡å¼ï¼Œä½ å¯ä»¥å¾ˆç®€å•çš„å°†tuple deconstructä¸ºå¤šä¸ªå˜é‡ var valueTuple = ValueTuple.Create(\u0026#34;Bob\u0026#34;,23); (string, int) bobTuple = ValueTuple.Create(\u0026#34;Bob\u0026#34;, 23); (string name, int age) = valueTuple; (string name1, int age1) = (\u0026#34;Bob\u0026#34;, 23); Console.WriteLine(name); Console.WriteLine(age); Console.WriteLine(name1); Console.WriteLine(age1); ç›¸ç­‰æ€§æ¯”è¾ƒ valuetuple\u0026lt;\u0026gt;ä¹Ÿé‡å†™äº†equalsæ–¹æ³•ï¼Œè®©æ¯”è¾ƒæ›´æœ‰æ„ä¹‰ é€šè¿‡ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œtupleå¯ä»¥ä½œä¸ºdictionaryçš„key tupleä¹Ÿå®ç°äº†icomparableæ¥å£ï¼Œæ‰€ä»¥tupleä¹Ÿå¯ä»¥ä½œä¸ºæ’åºçš„key Attribute attributeæ˜¯ä¸€ç§æ‰©å±•æœºåˆ¶ï¼Œä»–å¯ä»¥ä¸ºä»£ç å…ƒç´ æ·»åŠ è‡ªå®šä¹‰çš„ä¿¡æ¯ assembly ï¼Œç±»å‹ã€æˆå‘˜ã€è¿”å›å€¼ã€å‚æ•°ã€æ³›å‹å‚æ•° ä¸€ä¸ªå¾ˆå¥½çš„åº”ç”¨åœºæ™¯å°±æ˜¯åºåˆ—åŒ– æŠŠä»»æ„ä¸€ä¸ªå¯¹è±¡è½¬åŒ–ä¸ºç‰¹å®šæ ¼å¼/ä»ç‰¹å®šæ ¼å¼è½¬åŒ–è¿‡æ¥ Attribute Class ä¸€ä¸ªattributeæ˜¯é€šè¿‡ä¸€ä¸ªç»§æ‰¿äº†system.attributeçš„ç±»æ¥å®šä¹‰çš„ å¥½åƒå°±æ˜¯æ³¨è§£ ï¼Œåº”ç”¨äºä»£ç å…ƒç´  æŒ‰çº¦å®šï¼Œæ‰€æœ‰çš„attributeéƒ½åº”è¯¥ä»¥attributeéƒ½åº”è¯¥ä»¥attributeè¿™ä¸ªå•è¯ç»“å°¾ï¼Œä½†æ˜¯c#ä¼šè¯†åˆ«è¿™ä¸ªåç¼€ï¼Œå¹¶ä¸”å…è®¸ä½ é™„åŠ attributeçš„æ—¶å€™å¿½ç•¥è¿™ä¸ªåç¼€ å‘½åå’Œä½ç½®attributeå‚æ•° attrubuteå¯ä»¥æœ‰å‚æ•° attributeçš„å‚æ•°å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šä½ç½®çš„å’Œå‘½åçš„ ä½ç½®å‚æ•°å¯¹åº”attributeç±»å‹çš„å…¬å…±æ„é€ å‡½æ•°çš„å‚æ•° å‘½åå‚æ•°å¯¹åº”attributeç±»å‹çš„å…¬å…±å­—æ®µæˆ–å…¬å…±å±æ€§ å½“æŒ‡å®šattributeçš„æ—¶å€™ï¼Œå¿…é¡»åŒ…å«ä¸attributeç›¸åº”æ„é€ å‡½æ•°æ‰€å¯¹åº”çš„ä½ç½®å‚æ•°ï¼Œè€Œå‘½åå‚æ•°æ˜¯å¯é€‰çš„ Attributeçš„ç›®æ ‡ æ²¡æœ‰æ˜ç¡®æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œattributeçš„ç›®æ ‡å°±æ˜¯ç´§éšä»–çš„ä»£ç å…ƒç´ ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªç±»å‹æˆ–ç±»å‹çš„æˆå‘˜ ä¹Ÿå¯ä»¥æŠŠattributeé™„åŠ åˆ°ä¸€ä¸ªassemblyï¼Œè¿™å°±éœ€è¦æ˜¾å¼æŒ‡å®šattributeçš„ç›®æ ‡ æŒ‡å®šå¤šä¸ªattribute å¯¹ä¸€ä¸ªä»£ç å…ƒç´ å¯ä»¥æŒ‡å®šå¤šä¸ªattributeã€‚æ¯ä¸ªattributeå¯ä»¥åˆ—åœ¨åŒä¸€ä¸ªä¸­æ‹¬å·å†…ï¼ˆä½¿ç”¨é€—å·åˆ†å¼€ï¼‰ ï¼Œ ä¹Ÿå¯ä»¥ç‹¬å ä¸€ä¸ªä¸­æ‹¬å· Caller Info Attribute ä»c# 5.0å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹åˆ—ä¸‰ä¸ªcaller info attributes ä¹‹ä¸€å¯¹å¯é€‰å‚æ•°è¿›è¡Œæ ‡è®° [callermembername] æ ‡è¯†è°ƒç”¨è€…æˆå‘˜çš„åç§° [callerfilepath] è¡¨ç¤ºè°ƒç”¨è€…æºä»£ç çš„è·¯å¾„ [callerLineNumber] è¡¨ç¤ºè°ƒç”¨è€…åœ¨æºç æ–‡ä»¶é‡Œé¢çš„è¡Œå· class Program { static void Main(string[] args) =\u0026gt; Foo(); static void Foo( [CallerMemberName] string memberName = null , [CallerFilePath] string filePath = null , [CallerLineNumber] int lineNumber = 0 ) { Console.WriteLine(memberName); Console.WriteLine(filePath); Console.WriteLine(lineNumber); } } åŠ¨æ€ç»‘å®š dynamic binding é™æ€ç»‘å®švsåŠ¨æ€ç»‘å®š é™æ€ç»‘å®šï¼šé€šå¸¸æ¥è®²ï¼Œå¼•ç”¨åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥è§£æå‡ºæ¥ åŠ¨æ€ç»‘å®šï¼šæŠŠè§£æç±»å‹ã€æˆå‘˜ã€æ“ä½œçš„è¿‡ç¨‹ä»ç¼–è¯‘æ—¶å»¶è¿Ÿåˆ°è¿è¡Œæ—¶ é€šå¸¸ç”¨äºï¼šä½ çŸ¥é“æŸä¸ªå‡½æ•°ã€æˆå‘˜ã€æ“ä½œå­˜åœ¨ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸çŸ¥é“ dynamicç±»å‹ dynamicç±»å‹ä½¿ç”¨ä¸Šä¸‹æ–‡å…³é”®å­—dynamicæ¥å£°æ˜ å› ä¸ºdæ˜¯dynamicçš„ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠŠquackæ–¹æ³•ç»‘å®šåˆ°dçš„è¿™ä¸ªåŠ¨ä½œå»¶è¿Ÿåˆ°è¿è¡Œæ—¶ é™æ€ç»‘å®š ç¼–è¯‘å™¨åœ¨duckä¸Šå¯»æ‰¾ä¸€ä¸ªåå«quackçš„æ— å‚æ–¹æ³• å¦åˆ™å°±æ‰©å¤§æœç´¢èŒƒå›´ï¼Œå«æœ‰å¯é€‰å‚æ•°çš„quackæ–¹æ³• çˆ¶ç±»ä¸Šçš„æ–¹æ³• æ‰©å±•æ–¹æ³• dynamic dynamicç±»å‹å’Œobjectç±»å‹å¾ˆåƒï¼Œä½†æ˜¯å®ƒå…è®¸ä½ ä½¿ç”¨åœ¨ç¼–è¯‘æ—¶è¿˜ä¸çŸ¥é“çš„æ–¹å¼æ¥æ“ä½œ dynamicç±»å‹åœ¨è¿è¡Œæ—¶åŸºäºè¿è¡Œæ—¶çš„ç±»å‹è¿›è¡Œç»‘å®šï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶çš„ç±»å‹ åœ¨è¿è¡Œæ—¶ï¼š å¦‚æœdynamicå¯¹è±¡å®ç°äº†idynamicmetaobjectprovider,é‚£ä¹ˆè¯¥æ¥å£å°±ç”¨æ¥æ‰§è¡Œç»‘å®šã€‚è¿™å«åšè‡ªå®šä¹‰ç»‘å®š å¦åˆ™ï¼Œç»‘å®šå‘ç”Ÿçš„æ–¹å¼å’Œç¼–è¯‘å™¨å·²ç»çŸ¥é“dynamicå¯¹è±¡è¿è¡Œæ—¶ç±»å‹ä¸€æ ·ï¼Œè¿™å«åšè¯­è¨€ç»‘å®š åŠ¨æ€ç»‘å®š åŠ¨æ€ç»‘å®šç¡®å®è§„é¿äº†é™æ€çš„ç±»å‹æ£€æŸ¥ï¼Œä½†æ˜¯æ²¡æœ‰è§„é¿è¿è¡Œæ—¶çš„ç±»å‹æ£€æŸ¥ ä¸åå°„ä¸ä¸€æ ·ï¼Œä½¿ç”¨åŠ¨æ€ç»‘å®šï¼Œä½ æ— æ³•è§„é¿æˆå‘˜çš„è®¿é—®è§„åˆ™ åŠ¨æ€ç»‘å®šä¹Ÿä¼šå¼•èµ·å¿ƒæ›´èƒ½é—®é¢˜ ä½†æ˜¯é‡å¤è°ƒç”¨åŒæ ·çš„åŠ¨æ€è¡¨è¾¾å¼æ˜¯æœ‰ä¼˜åŒ–çš„ RunTimeBinderException å¦‚æœæˆå‘˜æ— æ³•è¿›è¡Œç»‘å®šï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡ºruntimebinderException åŠ¨æ€è½¬æ¢ dynamicç±»å‹å¯ä»¥éšå¼çš„ä»å…¶ä»–ç±»å‹è½¬æ¢è¿‡æ¥ï¼Œä¹Ÿå¯ä»¥éšå¼çš„è½¬æ¢åˆ°å…¶ä»–ç±»å‹ var vs dynamic varï¼šè®©ç¼–è¯‘å™¨ç¼–è¯‘æ—¶æ¨æ–­å‡ºç±»å‹ dynamicï¼šè®©è¿è¡Œæ—¶æ¨æ–­å‡ºç±»å‹ åŠ¨æ€è¡¨è¾¾å¼ å­—æ®µã€å±æ€§ã€æ–¹æ³•ã€äº‹ä»¶ã€æ„é€ å‡½æ•°ã€ç´¢å¼•å™¨ã€è¿ç®—ç¬¦å’Œè½¬æ¢éƒ½å¯ä»¥åŠ¨æ€çš„è°ƒç”¨ ä½¿ç”¨voidè¿”å›ç±»å‹æ¥æ¶ˆè´¹åŠ¨æ€è¡¨è¾¾å¼çš„ç»“æœæ˜¯ä¸å¯ä»¥çš„ï¼Œè¿™ç‚¹å’Œé™æ€çš„è¡¨è¾¾å¼ä¸€æ · åŒºåˆ«æ˜¯ï¼Œè¿™ä¸ªé”™è¯¯ä¼šå‘ç”Ÿåœ¨è¿è¡Œæ—¶ æ¶‰åŠåŠ¨æ€è¿ç®—å¯¹è±¡çš„è¡¨è¾¾å¼å°±æ˜¯åŠ¨æ€è¡¨è¾¾å¼ï¼Œç¼ºå¤±ç±»å‹ä¿¡æ¯æ˜¯æœ‰çº§è”æ•ˆæœçš„ æ— æ³•åŠ¨æ€è°ƒç”¨çš„å‡½æ•° æœ‰ä¸€äº›å‡½æ•°ä¸å¯ä»¥è¢«åŠ¨æ€è°ƒç”¨ æ‰©å±•æ–¹æ³• æ¥å£çš„æˆå‘˜ è¢«å­ç±»éšè—çš„åŸºç±»æˆå‘˜ å› ä¸ºåŠ¨æ€ç»‘å®šéœ€è¦ä¸¤æ–¹é¢çš„ä¿¡æ¯ è¢«è°ƒç”¨å‡½æ•°çš„åå­— è°ƒç”¨å‡½æ•°çš„å¯¹è±¡ è¿™ä¸‰ç§æƒ…å†µï¼Œéƒ½éœ€è¦é¢å¤–çš„ç±»å‹ï¼Œå¹¶ä¸”ä»–åªæ˜¯åœ¨ç¼–è¯‘æ—¶çŸ¥æ™“äº†ï¼Œè¿è¡Œæ—¶å°±ä¸¢å¤±äº† è¿ç®—ç¬¦é‡è½½ è¿ç®—ç¬¦å¯ä»¥è¢«é‡è½½ï¼Œå¯ä»¥ä¸ºè‡ªå®šä¹‰ç±»å‹æä¾›æ›´è‡ªç„¶çš„è¯­æ³• ä½¿ç”¨implict explicit å…³é”®å­— éšå¼/æ˜¾å¼è½¬æ¢ è¿ç®—ç¬¦å‡½æ•° é€šè¿‡å£°æ˜è¿ç®—ç¬¦å‡½æ•°ï¼Œå°±å¯ä»¥å¯¹è¿ç®—ç¬¦è¿›è¡Œé‡è½½ è¿ç®—ç¬¦å‡½æ•°æœ‰ä¸€ä¸‹è§„åˆ™ å‡½æ•°åï¼šä½¿ç”¨operatorå…³é”®å­—ï¼Œåè¾¹è·Ÿç€è¿ç®—ç¬¦çš„ç¬¦å· å¿…é¡»æ˜¯staticå’Œpublic å‡½æ•°çš„å‚æ•°ä»£è¡¨ç€è¿ç®—ç¬¦çš„è¿ç®—æ•° å‡½æ•°çš„ç»“æœä»£è¡¨è¡¨è¾¾å¼çš„ç»“æœ è‡³å°‘æœ‰ä¸€ä¸ªè¿ç®—æ•°çš„ç±»å‹å¿…é¡»æ˜¯å‡½æ•°æ‰€å£°æ˜çš„ç±»å‹ class Program { static void Main(string[] args) { var B = new Note(2); var CShrap = B + 2; Console.WriteLine(CShrap.value); } public struct Note { public int value; public Note(int semitonesFormA) { value = semitonesFormA; } public static Note operator +(Note x, int semitones)=\u0026gt;new Note(x.value+semitones); } } é‡è½½ç›¸ç­‰æ€§å’Œæ¯”è¾ƒè¿ç®—ç¬¦ é‡è½½ç›¸ç­‰æ€§å’Œæ¯”è¾ƒè¿ç®—ç¬¦çš„æ—¶å€™æœ‰ä¸€äº›è§„åˆ™ æˆå¯¹é‡è½½ equalså’Œgethashcode å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ é‡è½½äº†ï¼=å’Œ== ï¼Œ ä½ é€šå¸¸éœ€è¦é‡è½½equalså’Œgethashcodeè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™æ ·æ‰èƒ½å¾—åˆ°æ¯”è¾ƒæœ‰æ„ä¹‰çš„è¡Œä¸º å¦‚æœä½ ä¸è¿™æ ·åšï¼Œä¼šç»™ä¸€ä¸ªè­¦å‘Š icomparableå’Œicomparable å¦‚æœä½ é‡è½½äº†\u0026lt;\u0026gt;å’Œ\u0026lt;= \u0026gt;=è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥äº‹å…ˆicomparableå’Œicomparableè¿™ä¸¤ä¸ªæ¥å£ è‡ªå®šä¹‰éšå¼å’Œæ˜¾å¼è½¬æ¢ éšå¼å’Œæ˜¾ç¤ºè½¬æ¢æ˜¯å¯é‡è½½çš„è¿ç®—ç¬¦ è‡ªå®šä¹‰è½¬æ¢ä¼šè¢«aså’Œisè¿ç®—ç¬¦å¿½ç•¥ class Program { static void Main(string[] args) { var B = new Note(2); var CShrap = B + 2; Console.WriteLine(CShrap.value); var cShrap = (double)CShrap; Console.WriteLine(cShrap); int a = 4; var note = (Note)a; Console.WriteLine(note.value); } public struct Note { public int value; public Note(int semitonesFormA) { value = semitonesFormA; } public static Note operator +(Note x, int semitones) =\u0026gt; new Note(x.value + semitones); public static implicit operator double(Note x) =\u0026gt; x.value; public static explicit operator Note (double x)=\u0026gt;new Note((int)x); } } é‡è½½trueå’Œfalse ä¸å®‰å…¨ä»£ç \nfixedè¯­å¥\nç¬¬å…­ç«  å¼‚æ­¥ç¼–ç¨‹ ä»€ä¹ˆæ˜¯çº¿ç¨‹ thread çº¿ç¨‹æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œè·¯å¾„ï¼Œä»–å¯ä»¥ç‹¬ç«‹äºå…¶ä»–çº¿ç¨‹æ‰§è¡Œ æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹processå†…æ‰§è¡Œï¼Œè€Œæ“ä½œç³»ç»Ÿè¿›ç¨‹æä¾›äº†ç¨‹åºè¿è¡Œçš„ç‹¬ç«‹ç¯å¢ƒ å•çº¿ç¨‹åº”ç”¨ï¼Œåœ¨è¿›ç¨‹çš„ç‹¬ç«‹ç¯å¢ƒé‡Œåªè·‘ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥è¯¥çº¿ç¨‹æ‹¥æœ‰ç‹¬å æƒ å¤šçº¿ç¨‹åº”ç”¨ï¼Œ å•ä¸ªè¿›ç¨‹ä¸­ä¼šè·‘å¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬ä¼šå…±äº«å½“å‰çš„æ‰§è¡Œç¯å¢ƒï¼ˆå°¤å…¶æ˜¯å†…å­˜ï¼‰ ä¾‹å¦‚ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨åå°è¯»å–æ•°æ®ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åœ¨æ•°æ®åˆ°è¾¾åè¿›è¡Œå±•ç¤º è¿™ä¸ªæ•°æ®å°±è¢«ç§°ä½œå…±äº«çš„çŠ¶æ€ ä¾‹å­\nåœ¨å•æ ¸è®¡ç®—æœºä¸­ ï¼Œ æ“ä½œç³»ç»Ÿå¿…é¡»ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…â€œæ—¶é—´ç‰‡â€ï¼ˆåœ¨windowsä¸­é€šå¸¸ä¸º20msï¼‰æ¥æ¨¡æ‹Ÿå¹¶å‘ï¼Œä»è€Œå¯¼è‡´é‡å¤çš„xå—å’Œyå— åœ¨å¤šæ ¸æˆ–å¤šå¤„ç†å™¨è®¡ç®—æœºä¸Šï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹å¯ä»¥çœŸæ­£åœ°å¹¶è¡Œæ‰§è¡Œï¼ˆå¯èƒ½å—åˆ°è®¡ç®—æœºä¸Šå…¶ä»–æ´»åŠ¨è¿›ç¨‹çš„ç«äº‰ï¼‰ åœ¨æœ¬ä¾‹ä¸­ï¼Œç”±äºæ§åˆ¶å°å¤„ç†å¹¶å‘è¯·æ±‚çš„æœºåˆ¶çš„å¾®å¦™æ€§ï¼Œä»ç„¶ä¼šå¾—åˆ°é‡å¤çš„xå—å’Œyå— static void Main(string[] args) { Thread t = new Thread(WriteY); //å¼€è¾Ÿäº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹ thread t.Name = \u0026#34;Y Thread ...\u0026#34;; t.Start(); //è¿è¡Œ writeY //åŒæ—¶ä¸»çº¿ç¨‹ä¹Ÿåšä¸€äº›å·¥ä½œ for (int i = 0; i \u0026lt; 1000; i++) { Console.Write(\u0026#34;x\u0026#34;); } } static void WriteY() { for (int i = 0; i \u0026lt; 1000; i++) { Console.Write(\u0026#34;y\u0026#34;); } } } æœ¯è¯­ï¼šçº¿ç¨‹è¢«æŠ¢å äº† çº¿ç¨‹åœ¨è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç§°ä¹‹ä¸ºè¢«æŠ¢å äº†ï¼š ä»–çš„æ‰§è¡Œä¸å¦ä¸€ä¸ªçº¿ç¨‹ä¸Šä»£ç çš„æ‰§è¡Œäº¤ç»‡çš„é‚£ä¸€ç‚¹ çº¿ç¨‹çš„ä¸€äº›å±æ€§ ä¸€æ—¦å¼€å§‹æ‰§è¡Œï¼Œisaliveå°±æ˜¯trueï¼Œçº¿ç¨‹ç»“æŸå°±æ˜¯false çº¿ç¨‹ç»“æŸçš„æ¡ä»¶å°±æ˜¯ï¼šçº¿ç¨‹æ„é€ å‡½æ•°ä¼ å…¥çš„å§”æ‰˜ç»“æŸäº†æ‰§è¡Œ çº¿ç¨‹ä¸€æ—¦ç»“æŸï¼Œå°±æ— æ³•å†é‡å¯äº† æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸ªnameå±æ€§ï¼Œé€šå¸¸ç”¨äºè°ƒè¯• çº¿ç¨‹nameåªèƒ½è®¾ç½®ä¸€æ¬¡ï¼Œä»¥åæ›´æ”¹å°±ä¼šæŠ›å‡ºå¼‚å¸¸ é™æ€çš„thread.currentthreadå±æ€§ï¼Œä¼šè¿”å›å½“å‰æ‰§è¡Œçš„çº¿ç¨‹ join and sleep è°ƒç”¨joinæ–¹æ³•ï¼Œå°±å¯ä»¥ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ç»“æŸ ä¾‹å­ private static Thread thread1, thread2; static void Main(string[] args) { thread1 = new Thread(ThreadProc); thread1.Name = \u0026#34;Thread1\u0026#34;; thread1.Start(); thread2 = new Thread(ThreadProc); thread2.Name = \u0026#34;Thread2\u0026#34;; thread2.Start(); } private static void ThreadProc() { Console.WriteLine(\u0026#34;\\n Current thread :{0}\u0026#34; , Thread.CurrentThread.Name); if (Thread.CurrentThread.Name==\u0026#34;Thread1\u0026#34;\u0026amp;\u0026amp;thread2.ThreadState!=ThreadState.Unstarted) { thread2.Join(); } Thread.Sleep(4000); Console.WriteLine(\u0026#34;\\n current Thread :{0}\u0026#34;, Thread.CurrentThread.Name); Console.WriteLine(\u0026#34;Thread1: {0}\u0026#34;,thread1.ThreadState); Console.WriteLine(\u0026#34;Thread2: {0}\\n\u0026#34;,thread2.ThreadState); } æ·»åŠ è¶…æ—¶ è°ƒç”¨joinçš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶ï¼Œç”¨æ¯«ç§’æˆ–è€…timespanéƒ½å¯ä»¥ å¦‚æœè¿”å›trueå°±æ˜¯okäº†ï¼Œå¦‚æœfalseå°±æ˜¯è¶…æ—¶äº† static TimeSpan waitTime = new TimeSpan(0,0,1); static void Main(string[] args) { var newThread = new Thread(Work); newThread.Start(); if (newThread.Join(waitTime/2)) { Console.WriteLine(\u0026#34;New Thread terminated\u0026#34;); } else { Console.WriteLine(\u0026#34;Join timed out\u0026#34;); } } static void Work() { Thread.Sleep(waitTime); } thread.sleep()æ–¹æ³•ä¼šæš‚åœå½“å‰çš„çº¿ç¨‹ï¼Œå¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´ æ³¨æ„ thread.sleep(0)è¿™æ ·è°ƒç”¨ä¼šå¯¼è‡´çº¿ç¨‹ç«‹å³æ”¾å¼ƒæœ¬èº«å½“å‰çš„æ—¶é—´ç‰‡ï¼Œè‡ªåŠ¨å°†cupç§»äº¤ç»™å…¶ä»–çº¿ç¨‹ thread.yield()åšåŒæ ·çš„äº‹æƒ…ï¼Œä½†æ˜¯å®ƒåªä¼šæŠŠæ‰§è¡Œäº¤ç»™åŒä¸€ä¸ªå¤„ç†å™¨ä¸Šçš„å…¶ä»–çº¿ç¨‹ å½“ç­‰å¾…sleepæˆ–joinçš„æ—¶å€™ï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ é˜»å¡ å¦‚æœçº¿ç¨‹çš„æ‰§è¡Œç”±äºæŸç§åŸå› å¯¼è‡´æš‚åœï¼Œé‚£ä¹ˆå°±è®¤ä¸ºè¯¥çº¿ç¨‹è¢«é˜»å¡äº†ã€‚ ä¾‹å¦‚åœ¨sleepæˆ–è€…é€šè¿‡joinç­‰å¾…å…¶ä»–çº¿ç¨‹ç»“æŸ è¢«é˜»å¡çš„çº¿ç¨‹ä¼šç«‹å³å°†å…¶å¤„ç†å™¨çš„æ—¶é—´ç‰‡ç”Ÿæˆç»™å…¶ä»–çº¿ç¨‹ ï¼Œä»æ­¤å°±ä¸åœ¨æ¶ˆè€—å¤„ç†å™¨æ—¶é—´ï¼Œç›´åˆ°æ»¡è¶³å…¶é˜»å¡çº¿ç¨‹æ¡ä»¶ä¸ºæ­¢ å¯ä»¥é€šè¿‡threadstateè¿™ä¸ªå±æ€§æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¤„äºè¢«é˜»å¡çš„çŠ¶æ€ threadstate ä½†æ˜¯å®ƒå¤§éƒ¨åˆ†çš„æšä¸¾å€¼éƒ½æ²¡ä»€ä¹ˆç”¨ï¼Œä¸‹é¢çš„ä»£ç å°†threadstateå‰¥ç¦»æˆå››ä¸ªæœ€æœ‰ç”¨çš„å€¼ä¹‹ä¸€ï¼šunstarted / running / waitsleepingjoin / stopped è§£é™¤é˜»å¡ unblocking å½“é‡åˆ°ä¸‹åˆ—å››ç§æƒ…å†µçš„æ—¶å€™ï¼Œå°±ä¼šè§£é™¤é˜»å¡ é˜»å¡æ¡ä»¶è¢«æ»¡è¶³ æ“ä½œè¶…æ—¶ï¼ˆå¦‚æœè®¾ç½®è¶…æ—¶çš„è¯ï¼‰ é€šè¿‡thread.Interrupt()è¿›è¡Œæ‰“æ–­ é€šè¿‡thread.abort()è¿›è¡Œä¸­æ­¢ ä¸Šä¸‹æ–‡åˆ‡æ¢ å½“çº¿ç¨‹é˜»å¡æˆ–è§£é™¤é˜»å¡çš„æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚è¿™ä¼šäº§ç”Ÿå°‘é‡å¼€é”€ï¼Œé€šå¸¸ä¸º1-2å¾®å¦™ i/o-bound å’Œ compute-bound ä¸€ä¸ªèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´ç­‰å¾…æŸäº‹å‘ç”Ÿçš„æ“ä½œæˆä¸ºi/o bound i/oç»‘å®šæ“ä½œé€šå¸¸æ¶‰åŠè¾“å…¥æˆ–è¾“å‡ºï¼Œ ä½†è¿™ä¸æ˜¯ç¡¬æ€§è¦æ±‚ï¼šthread.sleep()ä¹Ÿè¢«è§†ä¸º i /o -bound ç›¸åï¼Œä¸€ä¸ªèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´æ‰§è¡Œcpuå¯†é›†å‹å·¥ä½œçš„æ“ä½œç§°ä¸ºcompute-bound é˜»å¡ vs å¿™ç­‰å¾…ï¼ˆè‡ªæ—‹ï¼‰ blocking vs spinning i/o - bound æ“ä½œçš„å·¥ä½œæ–¹å¼æœ‰ä¸¤ç§ åœ¨å½“å‰çº¿ç¨‹ä¸ŠåŒæ­¥çš„ç­‰å¾… console.readline() , thread.sleep() , thread.join() å¼‚æ­¥çš„æ“ä½œï¼Œ åœ¨ç¨åæ“ä½œå®Œæˆæ—¶è§¦å‘ä¸€ä¸ªå›è°ƒåŠ¨ä½œ åŒæ­¥ç­‰å¾…çš„i/o-bound æ“ä½œå°†å¤§éƒ¨åˆ†æ—¶é—´èŠ±åœ¨é˜»å¡çº¿ç¨‹ä¸Š æœ¬åœ°å’Œå…±äº«çš„çŠ¶æ€ localæœ¬åœ°ç‹¬ç«‹ clrä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…è‡ªå·±çš„å†…å­˜æ ˆï¼Œä»¥ä¾¿ä½¿æœ¬åœ°å˜é‡ä¿æŒç‹¬ç«‹ new Thread(Go1).Start(); Go1(); } private static void Go1() { for (int cycle = 0; cycle \u0026lt; 5; cycle++) { Console.WriteLine(\u0026#34;?\u0026#34;); } } shared å…±äº«\nå¦‚æœå¤šä¸ªçº¿ç¨‹éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œé‚£ä¹ˆä»–ä»¬å°±å…±äº«äº†æ•°æ® var threadTest = new ThreadTest(); var thread = new Thread(threadTest.Go); thread.Name = \u0026#34;new thread\u0026#34;; thread.Start(); Console.WriteLine(Thread.CurrentThread.Name); threadTest.Go(); Console.WriteLine(Thread.CurrentThread.Name); public class ThreadTest { public bool _done=false; public void Go() { if (!_done) { _done = true; Console.WriteLine(\u0026#34;Done\u0026#34;); } } } è¢«lambdaè¡¨è¾¾å¼æˆ–åŒ¿åå§”æ‰˜æ‰€æ•è·çš„æœ¬åœ°å˜é‡ï¼Œ ä¼šè¢«ç¼–è¯‘å™¨è½¬åŒ–æˆå­—æ®µfieldï¼Œ æ‰€ä»¥ä¹Ÿä¼šè¢«å…±äº«. bool done = false; //è¿™é‡Œæ˜¯å£°æ˜äº†æ–¹æ³• ThreadStart action = () =\u0026gt; { if (!done) { done = true; Console.WriteLine(\u0026#34;Done\u0026#34;); } }; new Thread(action).Start(); action(); é™æ€å­—æ®µä¹Ÿä¼šåœ¨çº¿ç¨‹é—´å…±äº«æ•°æ®field ä¸Šè¿°æƒ…å†µå°±å¯èƒ½å¯¼è‡´çº¿ç¨‹çš„ä¸å®‰å…¨ï¼šå³å¯èƒ½ç›¸åŒçš„æ“ä½œè¢«æ‰§è¡Œäº†å¤šæ¬¡\nçº¿ç¨‹å®‰å…¨ thread safety å°½å¯èƒ½é¿å…ä½¿ç”¨å…±äº«çŠ¶æ€ é”å®šä¸çº¿ç¨‹å®‰å…¨ ç®€ä»‹ locking \u0026amp; thread safety åœ¨è¯»å–å’Œå†™å…¥å…±äº«æ•°æ®çš„æ—¶å€™ï¼Œé€šè¿‡ä½¿ç”¨ä¸€ä¸ªäº’æ–¥é”exclusive lockï¼Œå°±å¯ä»¥ä¿®å¤å‰é¢çš„é—®é¢˜ c# ä½¿ç”¨lockè¯­å¥æ¥åŠ é” å½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ç«äº‰ä¸€ä¸ªé”çš„æ—¶å€™ï¼ˆé”å¯ä»¥åŸºäºä»»ä½•å¼•ç”¨ç±»å‹å¯¹è±¡ï¼‰ï¼Œä¸€ä¸ªçº¿ç¨‹ä¼šç­‰å¾…æˆ–é˜»å¡ï¼Œç›´åˆ°é”å˜æˆå¯ç”¨çŠ¶æ€ lockä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„é“¶å¼¹ï¼Œ å¾ˆå®¹æ˜“å¿˜è®°å¯¹å­—æ®µåŠ é”ï¼Œlockä¹Ÿä¼šå¼•èµ·ä¸€äº›é—®é¢˜ï¼ˆæ­»é”ï¼‰ class ThreadSafe { private static bool _done; static readonly object _locker = new object(); static void Main() { new Thread(Go).Start(); Go(); } static void Go() { lock (_locker) { if (!_done) { Console.WriteLine(\u0026#34;done\u0026#34;); _done = true; } } } } å‘çº¿ç¨‹ä¼ é€’æ•°æ® å¦‚æœä½ æƒ³å¾€çº¿ç¨‹çš„å¯åŠ¨æ–¹æ³•é‡Œä¼ é€’æ•°æ®ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼Œåœ¨é‡Œé¢ä½¿ç”¨å‚æ•°è°ƒç”¨æ–¹æ³• static void Main(string[] args) { new Thread(() =\u0026gt; Print(\u0026#34;hello asyncprogramming\u0026#34;)).Start(); Print(\u0026#34;hello ljs\u0026#34;); } static void Print(string message) { Console.WriteLine(message); } ç”šè‡³å¯ä»¥æŠŠæ•´ä¸ªé€»è¾‘éƒ½æ”¾åœ¨lambdaé‡Œ static void Main(string[] args) { // new Thread(() =\u0026gt; Print(\u0026#34;hello asyncprogramming\u0026#34;)).Start(); // // Print(\u0026#34;hello ljs\u0026#34;); new Thread(() =\u0026gt; { Console.WriteLine(\u0026#34;i am a good man\u0026#34;); var o = new object(); o = \u0026#34;i am a good man\u0026#34;; switch (o) { case string s: Console.WriteLine(\u0026#34;yoo this is a string\u0026#34;); break; case int i: Console.WriteLine(\u0026#34;yoo ! this is an int\u0026#34;); break; default: Console.WriteLine(\u0026#34;yoo i don\u0026#39;t know \u0026#34;); break; } }).Start(); Console.WriteLine(\u0026#34;this is main thread\u0026#34;); } å¼‚å¸¸å¤„ç† åˆ›å»ºçº¿ç¨‹æ—¶åœ¨ä½œç”¨èŒƒå›´å†…çš„try/catch/finallyå—ï¼Œåœ¨çº¿ç¨‹å¼€å§‹æ‰§è¡Œåå°±ä¸çº¿ç¨‹æ— å…³äº† è§£å†³æ–¹æ¡ˆï¼Œåœ¨æ–¹æ³•å†…éƒ¨è®¾ç½®å¼‚å¸¸æ•è·ç­–ç•¥ new Thread(()=\u0026gt;Go()).Start(); static void Go() { try { throw null; } catch (Exception e) { Console.WriteLine(e); throw; } } åœ¨wpfã€winformé‡Œï¼Œå¯ä»¥è®¢é˜…å…¨å±€å¼‚å¸¸å¤„ç†äº‹ä»¶ application.dispatcherunhandledException application.threadexception åœ¨é€šè¿‡æ¶ˆæ¯å¾ªç¯è°ƒç”¨çš„ç¨‹åºçš„ä»»ä½•éƒ¨åˆ†å‘ç”Ÿæœªå¤„ç†çš„å¼‚å¸¸ï¼ˆè¿™ç›¸å½“äºåº”ç”¨ç¨‹åºå¤„äºæ´»åŠ¨çŠ¶æ€æ—¶åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œçš„æ‰€æœ‰ä»£ç ï¼‰åï¼Œå°†è§¦å‘è¿™äº›å¼‚å¸¸ ä½†æ˜¯éuiçº¿ç¨‹ä¸Šçš„æœªå¤„ç†å¼‚å¸¸ï¼Œå¹¶ä¸ä¼šè§¦å‘å®ƒ ä»»ä½•çº¿ç¨‹æœ‰ä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸éƒ½ä¼šè§¦å‘ appdomain.currentdomain.unhandledexception å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹ foreground vs vackground threads é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ æ‰‹åŠ¨åˆ›å»ºçš„çº¿ç¨‹å°±æ˜¯å‰å°çº¿ç¨‹ åªè¦æœ‰å‰å°çº¿ç¨‹åœ¨è¿è¡Œï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±ä¼šä¸€ç›´å¤„äºæ´»åŠ¨çŠ¶æ€ ä½†æ˜¯åå°çº¿ç¨‹å´ä¸è¡Œ ä¸€æ—¦æ‰€æœ‰çš„å‰å°çº¿ç¨‹åœæ­¢ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±åœæ­¢äº† ä»»ä½•çš„åå°çº¿ç¨‹ä¹Ÿä¼šçªç„¶åœæ­¢ æ³¨æ„ï¼šçº¿ç¨‹çš„å‰å°ã€åå°çŠ¶æ€ä¸ä»–çš„ä¼˜å…ˆçº§æ— å…³ï¼ˆæ‰€åˆ†é…çš„æ‰§è¡Œæ—¶é—´ï¼‰ var thread = new Thread(() =\u0026gt; { Console.ReadLine(); }); if (args.Length\u0026gt;0) { thread.IsBackground = true; } thread.Start(); è¿›ç¨‹ä»¥è¿™ç§å½¢å¼ç»ˆæ­¢çš„æ—¶å€™ï¼Œåå°çº¿ç¨‹æ‰§è¡Œæ ˆä¸­çš„finallyå—å°±ä¸ä¼šè¢«æ‰§è¡Œäº† å¦‚æœæƒ³è®©å¥¹æ‰§è¡Œï¼Œå¯ä»¥åœ¨é€€å‡ºç¨‹åºæ—¶ä½¿ç”¨joinæ¥ç­‰å¾…åå°çº¿ç¨‹ï¼Œå¦‚æœæ˜¯ä½ è‡ªå·±åˆ›å»ºçš„çº¿ç¨‹çš„è¯ï¼Œæˆ–è€…ä½¿ç”¨signal construct ï¼Œ å¦‚æœæ˜¯çº¿ç¨‹æ± çš„è¯ åº”ç”¨ç¨‹åºæ— æ³•æ­£å¸¸é€€å‡ºçš„ä¸€ä¸ªå¸¸è§åŸå› æ˜¯è¿˜æœ‰æ´»è·ƒçš„å‰å°çº¿ç¨‹ çº¿ç¨‹ä¼˜å…ˆçº§ çº¿ç¨‹çš„ä¼˜å…ˆçº§Threadçš„priorityå±æ€§ï¼Œä»–å†³å®šäº†ç›¸å¯¹äºæ“ä½œç³»ç»Ÿä¸­å…¶ä»–æ´»è·ƒçº¿ç¨‹æ‰€å çš„æ‰§è¡Œæ—¶é—´ ä¼˜å…ˆçº§åˆ†ä¸º enum threadpriority {lowest , belownormal , normal , abovenormal , highest} æå‡çº¿ç¨‹ä¼˜å…ˆçº§ æå‡çº¿ç¨‹ä¼˜å…ˆçº§çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºå®ƒå¯èƒ½â€œé¥¿æ­»â€å…¶ä»–çº¿ç¨‹\nå¦‚æœæƒ³è®©æŸçº¿ç¨‹threadçš„ä¼˜å…ˆçº§æ¯”å…¶ä»–è¿›ç¨‹processä¸­çš„çº¿ç¨‹threadé«˜çš„è¯ï¼Œé‚£å°±å¿…é¡»æå‡è¿›ç¨‹processçš„ä¼˜å…ˆçº§\nä½¿ç”¨system.diagnosticsä¸‹çš„processç±»\nusing(process p = process.getcurrentprocess()) p.priorityclass = processpriorityclass.high ; è¿™å¯ä»¥å¾ˆå¥½çš„ç”¨äºåªåšå°‘é‡å·¥ä½œä¸”éœ€è¦è¾ƒä½å»¶è¿Ÿçš„éuiçº¿ç¨‹\nå¯¹äºéœ€è¦å¤§é‡è®¡ç®—çš„åº”ç”¨ç¨‹åºï¼Œå°¤å…¶æ˜¯æœ‰uiçš„åº”ç”¨ç¨‹åºï¼Œæé«˜è¿›ç¨‹ä¼˜å…ˆçº§å¯èƒ½ä¼šä½¿å…¶ä»–è¿›ç¨‹é¥¿æ­»ï¼Œä»è€Œé™ä½æ•´ä¸ªè®¡ç®—æœºçš„é€Ÿåº¦\nä¿¡å· sinaling æœ‰æ—¶å€™ï¼Œä½ éœ€è¦è®©æŸçº¿ç¨‹ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ï¼Œç›´è‡³æ¥æ”¶åˆ°å…¶ä»–çº¿ç¨‹å‘æ¥çš„é€šçŸ¥ã€‚è¿™å°±å«åšsignalingå‘é€ä¿¡å· æœ€ç®€å•çš„ä¿¡å·ç»“æ„å°±æ˜¯manualresetevent è°ƒç”¨å®ƒä¸Šé¢çš„waitoneæ–¹æ³•ä¼šé˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹é€šè¿‡è°ƒç”¨setæ–¹æ³•å¼€å¯ä¿¡å· æˆ‘ä»¬å¯ä»¥è°ƒç”¨resetæ–¹æ³•å°†å…¶å†æ¬¡å…³é—­ var signal = new ManualResetEvent(false); new Thread(() =\u0026gt; { Console.WriteLine(\u0026#34;waiting for signal ...\u0026#34;); signal.WaitOne(); Console.WriteLine(\u0026#34;got sinal \u0026#34;); Thread.Sleep(1000); Console.WriteLine(\u0026#34;wo zai xie le\u0026#34;); signal.Dispose(); }).Start(); Thread.Sleep(3000); Console.WriteLine(\u0026#34;å‡†å¤‡æ‰“å¼€ä¿¡å·äº†å“¦\u0026#34;); Thread.Sleep(1000); signal.Set();//æ‰“å¼€äº†ä¿¡å· Thread.Sleep(500); signal.Reset(); Console.WriteLine(\u0026#34;æˆ‘æœ‰å‡†å¤‡æ‰“å¼€äº†\u0026#34;); Thread.Sleep(1000); å¯Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„çº¿ç¨‹ åœ¨wpfã€uwpã€winformç­‰ç±»å‹çš„ç¨‹åºä¸­ï¼Œå¦‚æœåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶çš„æ“ä½œï¼Œå°±ä¼šå¯¼è‡´æ•´ä¸ªç¨‹åºæ— å“åº”ã€‚å› ä¸ºä¸»çº¿ç¨‹åŒæ—¶è¿˜è¦å¤„ç†æ¶ˆæ¯å¾ªç¯ï¼Œè€Œæ¸²æŸ“å’Œé¼ æ ‡é”®ç›˜äº‹ä»¶å¤„ç†ç­‰å·¥ä½œéƒ½æ˜¯æ¶ˆæ¯å¾ªç¯æ¥æ‰§è¡Œçš„ é’ˆå¯¹è¿™ç§è€—æ—¶çš„æ“ä½œï¼Œä¸€ç§æµè¡Œçš„åšæ³•æ˜¯å¯ç”¨ä¸€ä¸ªworkerçº¿ç¨‹ æ‰§è¡Œå®Œæ“ä½œåï¼Œå†æ›´æ–°åˆ°UI å¯Œå®¢æˆ·ç«¯åº”ç”¨çš„çº¿ç¨‹æ¨¡å‹é€šå¸¸æ˜¯ï¼š uiå…ƒç´ å’Œæ§ä»¶åªèƒ½ä»åˆ›å»ºå®ƒä»¬çš„çº¿ç¨‹æ¥è¿›è¡Œè®¿é—®ï¼ˆé€šå¸¸æ˜¯ä¸»uiçº¿ç¨‹ï¼‰ å½“æƒ³ä»workerçº¿ç¨‹æ›´æ–°åˆ°uiçš„æ—¶å€™ï¼Œä½ å¿…é¡»æŠŠè¯·æ±‚äº¤ç»™uiçº¿ç¨‹ æ¯”è¾ƒåº•å±‚çš„å®ç°æ˜¯ï¼š åœ¨wpfï¼Œåœ¨å…ƒç´ çš„dispatcherå¯¹è±¡ä¸Šè°ƒç”¨begininvokeæˆ–invoke åœ¨winformï¼Œè°ƒç”¨æ§ä»¶çš„begininvokeæˆ–invoke åœ¨uwpä¸­ï¼Œ è°ƒç”¨dispatcherå¯¹è±¡ä¸Šçš„runasyncæˆ–invoke æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ¥æ”¶ä¸€ä¸ªå§”æ‰˜ begininvokeæˆ–runasyncé€šè¿‡å°†å§”æ‰˜æ’é˜Ÿåˆ°uiçº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—åœ¨æ‰§è¡Œå·¥ä½œ invokeæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œä½†éšåä¼šè¿›è¡Œé˜»å¡ï¼Œç›´åˆ°uiçº¿ç¨‹è¯»å–å¹¶å¤„ç†æ¶ˆæ¯ã€‚ å› æ­¤ï¼Œinvokeå…è®¸æ‚¨ä»æ–¹æ³•ä¸­è·å–è¿”å›å€¼ å¦‚æœä¸éœ€è¦è¿”å›å€¼ï¼Œbegininvoke/runasyncæ›´å¯å–ï¼Œå› ä¸ºä»–ä»¬ä¸ä¼šé˜»å¡è°ƒç”¨æ–¹ï¼Œä¹Ÿä¸ä¼šå¼•å…¥æ­»é”çš„å¯èƒ½æ€§ private void Button_Click(object sender, RoutedEventArgs e) { Work();//è¿™æ ·ç”¨ç›´æ¥å¡äº†5sæ•´ä¸ªç•Œé¢ // new Thread(Work).Start();//è¿™æ ·ç”¨åˆä¼šç›´æ¥æŠ¥é”™å‘œå‘œå‘œ } void Work() { Thread.Sleep(5000); textbox.Text = \u0026#34;The answer\u0026#34;; } demo wpf\nprivate void Button_Click(object sender, RoutedEventArgs e) { // Work();//è¿™æ ·ç”¨ç›´æ¥å¡äº†5sæ•´ä¸ªç•Œé¢ new Thread(Work).Start();//è¿™æ ·ç”¨åˆä¼šç›´æ¥æŠ¥é”™å‘œå‘œå‘œ } void Work() { Thread.Sleep(5000);//å®é™…ä¸Šæ˜¯ä¸ºäº†æ¨¡æ‹Ÿå¥½å¤šå¥½å¤šå¥‡å¥‡æ€ªæ€ªå ç”¨æ—¶é—´çš„é€»è¾‘æ“ä½œ // textbox.Text = \u0026#34;The answer\u0026#34;; UpdateMessage(\u0026#34;The Answer is me...\u0026#34;); } void UpdateMessage(string message) { Action action = () =\u0026gt; { textbox.Text = message; }; Dispatcher.BeginInvoke(action); } winform demo\nimage-20210126105507084\rprivate void button1_Click(object sender, EventArgs e) { // Work(); //æ˜¾ç„¶ï¼Œè¿™æ ·åšå¡æ­»ç•Œé¢äº†å—·å—·å—·å‘œå‘œå‘œ new Thread(Work).Start(); } void Work() { Thread.Sleep(5000); UpdateUIMessage(\u0026#34;ljs is shuaibi ...\u0026#34;); } void UpdateUIMessage(string message) { Action action = () =\u0026gt; { textBox1.Text = message; }; BeginInvoke(action); } åŒæ­¥ä¸Šä¸‹æ–‡ synchronization contexts åœ¨system.componentmodel ä¸‹æœ‰ä¸€ä¸ªæŠ½è±¡ç±»ï¼šsynchronizationcontext ï¼Œå®ƒä½¿å¾—thread marshaling çš„å¾—åˆ°æ³›åŒ– å•¥æ„æ€å˜ å°±æ˜¯å°†ä¸€ä¸ªçº¿ç¨‹é‡Œæ•°æ®çš„æ‰€æœ‰æƒäº¤ç»™å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æŠŠæ•°æ®ç§»äº¤è¿‡å»å‘—è¿˜èƒ½æœ‰å•¥æ„æ€å•Š\né’ˆå¯¹ç§»åŠ¨ã€æ¡Œé¢ï¼ˆwpfã€uwpã€winformsï¼‰ç­‰å¯Œå®¢æˆ·ç«¯åº”ç”¨çš„apiï¼Œä»–ä»¬éƒ½å®šä¹‰å’Œå®ä¾‹åŒ–äº†synchronizationcontextçš„å­ç±»\nå¯ä»¥é€šè¿‡é™æ€å±æ€§synchronizationcontext.currentæ¥è·å¾—ï¼ˆå½“è¿è¡Œåœ¨uiçº¿ç¨‹æ—¶ï¼‰ æ•è·è¯¥å±æ€§è®©ä½ å¯ä»¥åœ¨ç¨åçš„æ—¶å€™ä»workerçº¿ç¨‹å‘uiçº¿ç¨‹å‘é€æ•°æ® public SynchronizationContext _SynchronizationContext; private void button1_Click(object sender, EventArgs e) { //ä¸ºå½“å‰uiçº¿ç¨‹æ•è· synchronization context _SynchronizationContext =SynchronizationContext.Current; // Work(); //æ˜¾ç„¶ï¼Œè¿™æ ·åšå¡æ­»ç•Œé¢äº†å—·å—·å—·å‘œå‘œå‘œ new Thread(Work).Start(); } void Work() { Thread.Sleep(5000);//æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ UpdateUIMessageMethod1(\u0026#34;ljs is a shuaibi \u0026#34;); // UpdateUIMessage(\u0026#34;ljs is shuaibi ...\u0026#34;); } void UpdateUIMessageMethod1(string message) { //æŠŠå§”æ‰˜ marshal ç»™ ui çº¿ç¨‹ _SynchronizationContext.Post(s =\u0026gt; textBox1.Text = message, null); //è°ƒç”¨post å°±ç›¸å½“äº dispatcheræˆ– control ä¸Šçš„ begininvoke æ–¹æ³• } è°ƒç”¨postæ–¹æ³•å°±ç›¸å½“äºè°ƒç”¨dispatchæˆ–controlä¸Šé¢çš„begininvokeæ–¹æ³• è¿˜æœ‰ä¸€ä¸ªsendæ–¹æ³•ï¼Œå°±ç­‰ä»·äºinvokeæ–¹æ³• çº¿ç¨‹æ±  thread pool å½“å¼€å§‹ä¸€ä¸ªçº¿ç¨‹çš„æ—¶å€™ï¼Œå°†èŠ±è´¹å‡ ç™¾å¾®å¦™æ¥ç»„ç»‡ç±»ä¼¼ä»¥ä¸‹å†…å®¹ ä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡æ ˆstack çº¿ç¨‹æ± å°±å¯ä»¥èŠ‚çœè¿™ç§å¼€é”€ é€šè¿‡é¢„å…ˆåˆ›å»ºä¸€ä¸ªå¯å¾ªç¯ä½¿ç”¨çº¿ç¨‹çš„æ± æ¥å‡å°‘è¿™ä¸€å¼€é”€ çº¿ç¨‹æ± å¯¹äºé«˜æ•ˆçš„å¹¶è¡Œç¼–ç¨‹å’Œç»†ç²’åº¦å¹¶å‘æ˜¯å¿…ä¸å¯å°‘çš„ ä»–å…è®¸åœ¨ä¸è¢«çº¿ç¨‹å¯åŠ¨çš„å¼€é”€æ·¹æ²¡çš„æƒ…å†µä¸‹è¿è¡ŒçŸ­æœŸæ“ä½œ ä½¿ç”¨çº¿ç¨‹æ± çº¿ç¨‹éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ ä¸å¯ä»¥è®¾ç½®æ± çº¿ç¨‹çš„åç§°name æ± çº¿ç¨‹éƒ½æ˜¯åå°çº¿ç¨‹ é˜»å¡æ± çº¿ç¨‹å¯ä½¿æ€§èƒ½é™çº§ ä½ å¯ä»¥è‡ªç”±çš„æ›´æ”¹æ± çº¿ç¨‹çš„ä¼˜å…ˆçº§ å½“ä»–é‡Šæ”¾å›æ± çš„æ—¶å€™ä¼˜å…ˆçº§å°†è¿˜åŸä¸ºæ­£å¸¸çŠ¶æ€ å¯ä»¥é€šè¿‡thread.currentthread.isthreadpoolthreadå±æ€§æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œåœ¨æ± çº¿ç¨‹ä¸Š è¿›å…¥çº¿ç¨‹æ±  æœ€ç®€å•çš„ã€æ˜¾å¼çš„åœ¨æ± çº¿ç¨‹è¿è¡Œä»£ç çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨task.run Task.Run(() =\u0026gt; { Thread.Sleep(1000); Console.WriteLine(\u0026#34;this is a threadpool ...\u0026#34;); }); Console.WriteLine(\u0026#34;hey boy! i am a cowboy !\u0026#34;); // Console.ReadKey(); Thread.Sleep(1000); è°ä½¿ç”¨äº†çº¿ç¨‹æ±  wcf/remoting / asp.net / asmx web services åº”ç”¨æœåŠ¡å™¨ system.timers.times / system.threading .timer å¹¶è¡Œç¼–ç¨‹ç»“æ„ backgroundworkderç±» (ç°åœ¨å¾ˆå¤šä½™) å¼‚æ­¥å§”æ‰˜(ç°åœ¨å¾ˆå¤šä½™) çº¿ç¨‹æ± ä¸­çš„æ•´æ´ çº¿ç¨‹æ± æä¾›äº†å¦ä¸€ä¸ªåŠŸèƒ½ï¼Œå³ç¡®ä¿ä¸´æ—¶è¶…å‡º è®¡ç®—-bound çš„å·¥ä½œä¸ä¼šå¯¼è‡´cpuè¶…é¢è®¢é˜… cpuè¶…é¢è®¢é˜…ï¼šæ´»è·ƒçš„çº¿ç¨‹è¶…è¿‡cpuçš„æ ¸æ•°ï¼Œæ“ä½œç³»ç»Ÿå°±éœ€è¦å¯¹çº¿ç¨‹è¿›è¡Œæ—¶é—´åˆ‡ç‰‡ è¶…é¢è®¢é˜…å¯¹æ€§èƒ½çš„å½±å“å¾ˆå¤§ï¼Œæ—¶é—´åˆ‡ç‰‡éœ€è¦æ˜‚è´µçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¹¶ä¸”å¯èƒ½ä½¿cpuç¼“å­˜å¤±æ•ˆï¼Œè€Œcpuç¼“å­˜å¯¹äºç°ä»£å¤„ç†å™¨çš„æ€§èƒ½è‡³å…³é‡è¦ clrçš„ç­–ç•¥ clré€šè¿‡å¯¹ä»»åŠ¡æ’é˜Ÿå¹¶å¯¹å…¶å¯åŠ¨è¿›è¡ŒèŠ‚æµé™åˆ¶æ¥é¿å…çº¿ç¨‹æ± ä¸­çš„è¶…é¢è®¢é˜… ä»–é¦–å…ˆè¿è¡Œå°½å¯èƒ½å¤šçš„å¹¶å‘ä»»åŠ¡ï¼ˆåªè¦è¿˜æœ‰cpuæ ¸ï¼‰ï¼Œç„¶åé€šè¿‡çˆ¬å±±ç®—æ³•è°ƒæ•´å¹¶å‘çº§åˆ«ï¼Œå¹¶åœ¨ç‰¹å®šæ–¹å‘ä¸Šä¸æ–­è°ƒæ•´å·¥ä½œè´Ÿè½½ å¦‚æœååé‡æé«˜ï¼Œå®ƒå°†ç»§ç»­æœåŒä¸€ä¸ªæ–¹å‘ï¼ˆå¦åˆ™å°†åè½¬ï¼‰ è¿™ç¡®ä¿ä»–å§‹ç»ˆè¿½éšæœ€ä½³æ€§èƒ½æ›²çº¿ï¼Œå³æ—¶é¢å¯¹è®¡ç®—æœºä¸Šç«äº‰çš„è¿›ç¨‹æ´»åŠ¨æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ å¦‚æœä¸‹é¢ä¸¤ç‚¹èƒ½å¤Ÿæ»¡è¶³ï¼Œé‚£ä¹ˆclrçš„ç­–ç•¥å°†å‘æŒ¥å‡ºæœ€ä½³æ•ˆæœ å·¥ä½œé¡¹å¤§å¤šæ˜¯çŸ­æ—¶é—´è¿è¡Œçš„ï¼Œï¼ˆ\u0026lt;250msï¼Œæˆ–è€…ç†æƒ³æƒ…å†µä¸‹\u0026lt;100msï¼‰å› æ­¤clræœ‰å¾ˆå¤šæœºä¼šå¯è¿›è¡Œæµ‹é‡å’Œè°ƒæ•´ å¤§éƒ¨åˆ†æ—¶é—´éƒ½è¢«é˜»å¡çš„å·¥ä½œé¡¹ä¸ä¼šä¸»å®°çº¿ç¨‹æ±  threadçš„é—®é¢˜ çº¿ç¨‹threadæ˜¯ç”¨æ¥åˆ›å»ºå¹¶å‘concurrencyçš„ä¸€ç§ä½çº§åˆ«å·¥å…·ï¼Œä»–æœ‰ä¸€äº›é™åˆ¶ï¼Œå°¤å…¶æ˜¯ è™½ç„¶å¼€å§‹çº¿ç¨‹çš„æ—¶å€™å¯ä»¥æ–¹ä¾¿çš„ä¼ å…¥æ•°æ®ï¼Œä½†æ˜¯å½“joinçš„æ—¶å€™ï¼Œå¾ˆéš¾ä»çº¿ç¨‹è·å¾—è¿”å›å€¼ã€‚ å¯èƒ½éœ€è¦è®¾ç½®ä¸€äº›å…±äº«å­—æ®µ å¦‚æœæ“ä½œæŠ›å‡ºå¼‚å¸¸ï¼Œæ•è·å’Œä¼ æ’­æ”¹å¼‚å¸¸éƒ½å¾ˆéº»çƒ¦ æ— æ³•å‘Šè¯‰çº¿ç¨‹åœ¨ç»“æŸæ—¶å¼€å§‹åšå¦å¤–çš„å·¥ä½œï¼Œä½ å¿…é¡»è¿›è¡Œjoinæ“ä½œï¼ˆåœ¨è¿›ç¨‹ä¸­é˜»å¡å½“å‰çš„çº¿ç¨‹ï¼‰ å¾ˆéš¾ä½¿ç”¨è¾ƒå°çš„å¹¶å‘concurrentæ¥ç»„å»ºå¤§å‹çš„å¹¶å‘ å¯¼è‡´äº†å¯¹æ‰‹åŠ¨åŒæ­¥çš„æ›´å¤§ä¾èµ–ä»¥åŠéšä¹‹è€Œæ¥çš„é—®é¢˜ Task class taskå¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šè¿°çš„é—®é¢˜ taskæ˜¯ä¸€ä¸ªç›¸å¯¹é«˜çº§çš„æŠ½è±¡ï¼Œä»–ä»£è¡¨äº†ä¸€ä¸ªå¹¶å‘çš„æ“ä½œconcurrent è¯¥æ“ä½œå¯èƒ½æœ‰threadæ”¯æŒï¼Œå¯èƒ½ä¸ç”±threadæ”¯æŒ taskæ˜¯å¯ç»„åˆçš„ï¼ˆå¯ä½¿ç”¨continuationæŠŠä»–ä»¬ä¸²æˆé“¾ï¼‰ taskå¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ¥å‡å°‘å¯åŠ¨å»¶è¿Ÿ ä½¿ç”¨taskcompletionsourceï¼Œtaskså¯ä»¥åˆ©ç”¨å›è°ƒçš„æ–¹å¼ï¼Œåœ¨ç­‰å¾…I/Oç»‘å®šæ“ä½œæ—¶å®Œå…¨é¿å…çº¿ç¨‹ å¼€å§‹ä¸€ä¸ªtask task.run å¼€å¯ä¸€ä¸ªtaskæœ€ç®€å•çš„åŠæ³•å°±æ˜¯ä½¿ç”¨task.runè¿™ä¸ªé™æ€æ–¹æ³• ä¼ å…¥ä¸€ä¸ªactionå§”æ‰˜å³å¯ taské»˜è®¤ä½¿ç”¨çº¿ç¨‹æ± ï¼Œä¹Ÿå°±æ˜¯åå°çº¿ç¨‹ å½“ä¸»çº¿ç¨‹ç»“æŸçš„æ—¶å€™ï¼Œä½ åˆ›å»ºçš„æ‰€æœ‰çš„taskséƒ½ä¼šç»“æŸ task.runè¿”å›ä¸€ä¸ªtaskå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ä»–æ¥ç›‘è§†å…¶è¿‡ç¨‹ åœ¨task.runä¹‹åï¼Œæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨startï¼Œå› ä¸ºè¯¥æ–¹æ³•åˆ›å»ºçš„æ˜¯çƒ­ä»»åŠ¡ hot task å¯ä»¥é€šè¿‡taskçš„æ„é€ å‡½æ•°åˆ›å»ºå†·ä»»åŠ¡ cold task ï¼Œ ä½†æ˜¯å¾ˆå°‘è¿™ä¹ˆåš å¯ä»¥é€šè¿‡taskçš„statuså±æ€§æ¥è·Ÿè¸ªtaskçš„æ‰§è¡ŒçŠ¶æ€ Wait ç­‰å¾… è°ƒç”¨taskçš„waitæ–¹æ³•ä¼šè¿›è¡Œé˜»å¡ç›´åˆ°æ“ä½œå®Œæˆ\nç›¸å½“äºè°ƒç”¨threadä¸Šçš„joinæ–¹æ³• å®é™…ä¸Šï¼Œtask.waitæˆ‘è§‰å¾—å°±æ˜¯è®©ä¸»çº¿ç¨‹ï¼Œæˆ–è€…å‰å°çº¿ç¨‹ç­‰å¾…æˆ‘ä»¬åˆ›å»ºå‡ºæ¥çš„è¿™ä¸ªtaskåå°çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé˜»å¡äº†çº¿ç¨‹ï¼Œç›´è‡³taskå®Œæˆä»»åŠ¡\nAction action = () =\u0026gt; { Thread.Sleep(3000); Console.WriteLine(\u0026#34;Foo\u0026#34;); }; var task = Task.Run(action); Console.WriteLine(task.IsCompleted); task.Wait(); Console.WriteLine(task.IsCompleted); waitä¹Ÿå¯ä»¥è®©ä½ æŒ‡å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´å’Œä¸€ä¸ªå–æ¶ˆä»¤ç‰Œæ¥æå‰ç»“æŸç­‰å¾… long-running tasks é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ é»˜è®¤æƒ…å†µä¸‹ï¼Œclråœ¨çº¿ç¨‹æ± ä¸­è¿è¡Œtaskï¼Œè¿™éå¸¸é€‚åˆçŸ­æ—¶é—´è¿è¡Œçš„compute-boundç±»å·¥ä½œ é’ˆå¯¹é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡æˆ–è€…é˜»å¡æ“ä½œï¼Œä½ å¯ä»¥ä¸é‡‡ç”¨çº¿ç¨‹æ±  var startNew = Task.Factory.StartNew(() =\u0026gt; { Thread.Sleep(3000); Console.WriteLine(\u0026#34;Foo\u0026#34;); },TaskCreationOptions.LongRunning); Console.ReadKey(); Console.WriteLine(startNew.Status); å¦‚æœåŒæ—¶è¿è¡Œå¤šä¸ªlong-running tasks å°¤å…¶æ˜¯å…¶ä¸­æœ‰å¤„äºé˜»å¡çŠ¶æ€çš„ï¼Œé‚£ä¹ˆæ€§èƒ½å°†ä¼šå—åˆ°å¾ˆå¤§çš„å½±å“ï¼Œè¿™æ—¶æœ‰æ¯”taskcreationoptions.longrunningæ›´å¥½çš„æ–¹æ³• å¦‚æœä»»åŠ¡æ˜¯io-bound ï¼Œtaskcompletionsourceå’Œå¼‚æ­¥å‡½æ•°å¯ä»¥è®©ä½ ç”¨æ¯æ‰coninuationsä»£æ›¿çº¿ç¨‹æ¥å®ç°å¹¶å‘ å¦‚æœä»»åŠ¡æ˜¯compute-bound,ç”Ÿäº§è€…/æ¶ˆè´¹è€…é˜Ÿåˆ—å…è®¸ä½ å¯¹ä»»åŠ¡çš„å¹¶å‘æ€§è¿›è¡Œé™æµï¼Œé¿å…æŠŠå…¶ä»–çº¿ç¨‹å’Œè¿›ç¨‹é¥¿æ­» taskçš„è¿”å›å€¼ taskæœ‰ä¸€ä¸ªæ³›å‹å­ç±»å«åštaskï¼Œä»–å…è®¸å‘å‡ºä¸€ä¸ªè¿”å›å€¼\nä½¿ç”¨funcå§”æ‰˜æˆ–å…¼å®¹çš„lambdaè¡¨è¾¾å¼æ¥è°ƒç”¨task.runå°±å¯ä»¥å¾—åˆ°task\néšåï¼Œå¯ä»¥é€šè¿‡resultå±æ€§æ¥è·å¾—è¿”å›çš„ç»“æœ\nå¦‚æœè¿™ä¸ªtaskè¿˜æ²¡æœ‰å®Œæˆæ“ä½œï¼Œè®¿é—®resultå±æ€§ä¼šé˜»å¡è¯¥çº¿ç¨‹ç›´åˆ°è¯¥taskå®Œæˆæ“ä½œ var task = Task.Run(() =\u0026gt; { Console.WriteLine(\u0026#34;Foo\u0026#34;); return 3; }); int result = task.Result; Console.WriteLine(result); taskå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§æ‰€è°“çš„â€œæœªæ¥/è®¸è¯ºâ€ future ã€promise ï¼Œåœ¨å®ƒé‡Œé¢åŒ…è£¹ç€ä¸€ä¸ªresult ï¼Œ åœ¨ç¨åçš„æ—¶å€™å°±ä¼šå˜å¾—å¯ç”¨\nåœ¨ctpç‰ˆæœ¬ï¼Œtaskå®é™…ä¸Šå«åšfuture\ntaskçš„å¼‚å¸¸ ä¸threadä¸ä¸€æ ·ï¼Œtaskå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¼ æ’­å¼‚å¸¸ å¦‚æœä½ çš„taské‡Œé¢æŠ›å‡ºäº†ä¸€ä¸ªæœªå¤„ç†çš„å¼‚å¸¸ï¼ˆæ•…éšœï¼‰ï¼Œ é‚£ä¹ˆè¯¥å¼‚å¸¸å°±ä¼šé‡æ–°è¢«æŠ›å‡ºç»™ è°ƒç”¨äº†waitçš„åœ°æ–¹ è®¿é—®äº†taskçš„resultå±æ€§çš„åœ°æ–¹ CLRå°†å¼‚å¸¸åŒ…è£¹åœ¨aggregateExceptioné‡Œï¼Œä»¥ä¾¿åœ¨å¹¶è¡Œç¼–ç¨‹åœºæ™¯ä¸­å‘æŒ¥å¾ˆå¥½çš„ä½œç”¨ æ— éœ€é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼Œé€šè¿‡taskçš„isfaultedå’Œiscancledå±æ€§ä¹Ÿå¯ä»¥æ£€æµ‹å‡ºtaskæ˜¯å¦å‘ç”Ÿäº†æ•…éšœ å¦‚æœä¸¤ä¸ªå±æ€§éƒ½è¿”å›äº†falseï¼Œé‚£ä¹ˆå°±æ˜¯æ²¡æœ‰é”™è¯¯å‘ç”Ÿ å¦‚æœiscancledä¸ºtrueï¼Œé‚£å°±è¯´æ˜ä¸€ä¸ªoperationCanceledExceptionä¸ºè¯¥taskæŠ›å‡ºäº† å¦‚æœisfaultedä¸ºtrueï¼Œé‚£å°±è¯´æ˜å¦ä¸€ä¸ªç±»å‹çš„å¼‚å¸¸è¢«æŠ›å‡ºäº†ï¼Œè€ŒExceptionå±æ€§ä¹Ÿå°†æŒ‡æ˜é”™è¯¯ å¼‚å¸¸ä¸è‡ªæ²»çš„task è‡ªæ²»çš„ï¼Œè®¾ç½®å®Œå°±ä¸ç®¡äº†çš„taskã€‚å°±æ˜¯æŒ‡ä¸é€šè¿‡è°ƒç”¨waitï¼ˆï¼‰æ–¹æ³•ã€resultå±æ€§æˆ–è€…continuationè¿›è¡Œä¼šåˆçš„ä»»åŠ¡ é’ˆå¯¹è‡ªæ²»çš„taskï¼Œéœ€è¦åƒthreadä¸€æ ·ï¼Œæ˜¾å¼çš„å¤„ç†å¼‚å¸¸ï¼Œé¿å…å‘ç”Ÿâ€œæ‚„æ— å£°æ¯â€çš„æ•…éšœ è‡ªæ²»taskä¸Šæœªå¤„ç†çš„å¼‚å¸¸ç§°ä¸ºæœªè§‚å¯Ÿåˆ°çš„å¼‚å¸¸ æœªè§‚å¯Ÿåˆ°çš„å¼‚å¸¸ å¯ä»¥é€šè¿‡å…¨å±€çš„taskscheduler.unobservedtaskexceptionæ¥è®¢é˜…æœªè§‚å¯Ÿåˆ°çš„å¼‚å¸¸ å…³äºä»€ä¹ˆæ˜¯æœªè§‚å¯Ÿåˆ°çš„å¼‚å¸¸ï¼Œæœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ« Continuation ä¸€ä¸ªcontinuationä¼šå¯¹taskè¯´ ï¼š å½“ä½ ç»“æŸçš„æ—¶å€™ï¼Œç»§ç»­å†åšç‚¹å…¶ä»–çš„äº‹\ncontinuationé€šå¸¸æ˜¯é€šè¿‡å›è°ƒçš„æ–¹å¼å®ç°çš„\nå½“æ“ä½œä¸€ç»“æŸï¼Œå°±å¼€å§‹æ‰§è¡Œ åœ¨taskä¸Šè°ƒç”¨getawaiterä¼šè¿”å›ä¸€ä¸ªawaiterå¯¹è±¡\nä»–çš„oncompletedæ–¹æ³•ä¼šå‘Šè¯‰ä¹‹å‰çš„taskï¼šå½“ä½ ç»“æŸ/å‘ç”Ÿæ•…éšœçš„æ—¶å€™è¦æ‰§è¡Œå§”æ‰˜ å¯ä»¥å°†continuationé™„åŠ åˆ°å·²ç»ç»“æŸçš„taskä¸Šé¢ï¼Œæ­¤æ—¶continuationå°†ä¼šè¢«å®‰æ’ç«‹å³æ‰§è¡Œ\nstatic void Main(string[] args) { Task\u0026lt;int\u0026gt; task = Task.Run(() =\u0026gt; Enumerable.Range(2, 3000000) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); var awaiter = task.GetAwaiter(); awaiter.OnCompleted(() =\u0026gt; { Console.WriteLine(awaiter.GetResult()); }); Console.ReadKey(); } å®é™…ä¸Šï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹å¼ä½œä¸ºä¸é˜»å¡ä¸»çº¿ç¨‹å¹¶æœ€åä¸ºuiæ›´æ–°æ•°æ®çš„æ–¹å¼å‘¢\nawaiter ä»»ä½•å¯ä»¥æš´éœ²ä¸‹åˆ—ä¸¤ä¸ªæ–¹æ³•å’Œä¸€ä¸ªå±æ€§çš„å¯¹è±¡å°±æ˜¯awaiter oncompleted getresult iscompleted çš„boolå±æ€§ æ²¡æœ‰æ¥å£æˆ–è€…çˆ¶ç±»æ¥ç»Ÿä¸€è¿™äº›æˆå‘˜ å…¶ä¸­oncompletedæ˜¯inotifycompletionçš„ä¸€éƒ¨åˆ† private void button1_Click(object sender, EventArgs e) { Task\u0026lt;int\u0026gt; task = Task.Run(() =\u0026gt; Enumerable.Range(2, 3000000) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); var awaiter = task.GetAwaiter(); awaiter.OnCompleted(() =\u0026gt; { textBox1.Text = awaiter.GetResult().ToString(); }); å¦‚æœå‘ç”Ÿæ•…éšœ å¦‚æœä¹‹å‰çš„ä»»åŠ¡å‘ç”Ÿæ•…éšœï¼Œé‚£ä¹ˆå½“continuationä»£ç è°ƒç”¨awaiter.getresultçš„æ—¶å€™ï¼Œå¼‚å¸¸å°±ä¼šè¢«é‡æ–°æŠ›å‡º æ— éœ€è°ƒç”¨getresultï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®taskçš„resultå±æ€§ ä½†è°ƒç”¨getresultçš„å¥½å¤„æ˜¯ï¼Œå¦‚æœtaskæ˜¯å‘ç”Ÿæ•…éšœäº†ï¼Œé‚£ä¹ˆå¼‚å¸¸ä¼šè¢«ç›´æ¥æŠ›å‡ºï¼Œè€Œä¸æ˜¯åŒ…è£¹åœ¨aggregateexceptioné‡Œé¢ï¼Œè¿™æ ·çš„è¯catchå—å°±ç®€æ´å¾ˆå¤šäº† éæ³›å‹ task é’ˆå¯¹éæ³›å‹çš„taskï¼Œgetresultæ–¹æ³•æœ‰ä¸€ä¸ªvoidè¿”å›å€¼ï¼Œä»–å°±æ˜¯ç”¨æ¥é‡æ–°æŠ›å‡ºå¼‚å¸¸çš„ åŒæ­¥ä¸Šä¸‹æ–‡ å¦‚æœåŒæ­¥ä¸Šä¸‹æ–‡å‡ºç°äº†ï¼Œé‚£ä¹ˆoncompletedä¼šè‡ªåŠ¨æ•è·å®ƒï¼Œå¹¶å°†continuationæäº¤åˆ°è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ã€‚è¿™ä¸€ç‚¹åœ¨å¯Œå®¢æˆ·ç«¯åº”ç”¨ä¸­éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºä»–ä¼šæŠŠcontinuationæ”¾å›åˆ°uiçº¿ç¨‹ä¸­ å¦‚æœç¼–å†™çš„æ˜¯ä¸€ä¸ªåº“ï¼Œåˆ™ä¸å¸Œæœ›å‡ºç°ä¸Šè¿°è¡Œä¸ºï¼Œå› ä¸ºå¼€é”€è¾ƒå¤§çš„uiçº¿ç¨‹åˆ‡æ¢åº”è¯¥åœ¨ç¨‹åºè¿è¡Œç¦»å¼€åº“çš„æ—¶å€™åªå‘ç”Ÿä¸€æ¬¡ï¼Œè€Œä¸æ˜¯å‡ºç°åœ¨æ–¹æ³•è°ƒç”¨ä¹‹é—´ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨configureawaitæ–¹æ³•æ¥é¿å…è¿™ç§è¡Œä¸º image-20210126170725006\rå¦‚æœæ²¡æœ‰åŒæ­¥ä¸Šä¸‹æ–‡å‡ºç°ï¼Œæˆ–è€…ä½ ä½¿ç”¨çš„æ˜¯configureawait(false)ï¼Œé‚£ä¹ˆcontinuationä¼šè¿è¡Œåœ¨å…ˆå‰taskçš„åŒä¸€ä¸ªçº¿ç¨‹ä¸Šï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„å¼€é”€ ContinueWith å¦ä¸€ç§é™„åŠ continuationçš„æ–¹å¼æ˜¯è°ƒç”¨taskçš„continuewithæ–¹æ³• Task\u0026lt;int\u0026gt; task = Task.Run(() =\u0026gt; Enumerable.Range(2, 3000000) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); task.ContinueWith(task =\u0026gt; { int? result = task.Result; Console.WriteLine(result); }); Console.ReadKey(); continuewithæœ¬èº«è¿”å›ä¸€ä¸ªtaskï¼Œä»–å¯ä»¥ç”¨ä»–æ¥é™„åŠ æ›´å¤šçš„continuation\nä½†æ˜¯ï¼Œå¿…é¡»ç›´æ¥å¤„ç†aggregateexception\nå¦‚æœtaskå‘ç”Ÿæ•…éšœï¼Œéœ€è¦å†™é¢å¤–çš„ä»£ç æ¥å§continuationç»™å°è£…ï¼ˆmarshalï¼‰åˆ°uiåº”ç”¨ä¸Š Task\u0026lt;int\u0026gt; task = Task.Run(() =\u0026gt; Enumerable.Range(2, 3000000) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); task.ContinueWith(a =\u0026gt; { Console.WriteLine(a.Result); UpdateUIMessageMethod1(a.Result.ToString());//marshalè¿‡ç¨‹ } ); åœ¨éuiä¸Šä¸‹æ–‡ä¸­ï¼Œè‹¥æƒ³è®©continuationå’Œtaskæ‰§è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Šï¼Œå¿…é¡»æŒ‡å®štaskcontinuationoptions.executesynchronously,å¦åˆ™ä»–å°†å¼¹å›çº¿ç¨‹æ±  continuewithå¯¹äºå¹¶è¡Œç¼–ç¨‹æ¥è¯´éå¸¸æœ‰ç”¨\ntaskCompletionSource task.run åˆ›å»ºtask å¦ä¸€ç§æ–¹å¼å°±æ˜¯ç”¨taskcompletionsourceæ¥åˆ›å»ºtask taskcompletionsourceè®©ä½ åœ¨ç¨åå¼€å§‹å’Œç»“æŸçš„ä»»æ„æ“ä½œä¸­åˆ›å»ºtask ä»–ä¼šä¸ºä½ æä¾›ä¸€ä¸ªå¯æ‰‹åŠ¨æ‰§è¡Œçš„ä»å±task æŒ‡ç¤ºæ“ä½œä½•æ—¶ç»“æŸæˆ–å‘ç”Ÿæ•…éšœ ä»–å¯¹io-boundç±»å·¥ä½œæ¯”è¾ƒç†æƒ³ å¯ä»¥è·å¾—æ‰€æœ‰taskçš„å¥½å¤„ï¼ˆä¼ æ’­å€¼ã€å¼‚å¸¸ã€continuationï¼‰ ä¸éœ€è¦åœ¨æ“ä½œæ—¶é˜»å¡çº¿ç¨‹ ä½¿ç”¨taskcompletionsource åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹å³å¯ ä»–æœ‰ä¸€ä¸ªtaskå±æ€§å¯ä»¥è¿”å›ä¸€ä¸ªtask è¯¥taskå®Œå…¨ç”±taskcompletionsourceå¯¹è±¡æ§åˆ¶ è°ƒç”¨ä»»æ„ä¸€ä¸ªæ–¹æ³•éƒ½ä¼šç»™taskå‘ä¿¡å·ï¼š å®Œæˆã€æ•…éšœã€å–æ¶ˆ è¿™äº›æ–¹æ³•åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨ setä¼šæŠ›å‡ºå¼‚å¸¸ tryä¼šè¿”å›false static void Main(string[] args) { var taskCompletionSource = new TaskCompletionSource\u0026lt;int\u0026gt;(); new Thread(() =\u0026gt; { Thread.Sleep(5000); taskCompletionSource.SetResult(42); }) { IsBackground = true }.Start(); var task = taskCompletionSource.Task; Console.WriteLine(task.Result); } TaskcompletionsourceçœŸæ­£é­”åŠ› å®ƒåˆ›å»ºtaskï¼Œä½†å¹¶ä¸å ç”¨çº¿ç¨‹ task.delay ç›¸å½“äºå¼‚æ­¥ç‰ˆæœ¬çš„thread.sleep static void Main(string[] args) { Task.Delay(5000).GetAwaiter().OnCompleted(()=\u0026gt;Console.WriteLine(42)); Console.WriteLine(1); Task.Delay(5000).ContinueWith(task =\u0026gt; Console.WriteLine(42)); Console.ReadKey(); } åŒæ­¥vså¼‚æ­¥ åŒæ­¥æ“ä½œä¼šè¿”å›è°ƒç”¨è€…ä¹‹å‰å®Œæˆå®ƒçš„å·¥ä½œ å¼‚æ­¥æ“ä½œä¼šè¿”å›è°ƒç”¨è€…ä¹‹åå»åšä»–çš„å·¥ä½œï¼ˆå¤§éƒ¨åˆ†çš„ï¼‰ å¼‚æ­¥çš„æ–¹æ³•æ›´ä¸ºå°‘è§ï¼Œä¼šå¯ç”¨å¹¶å‘ï¼Œå› ä¸ºå®ƒçš„å·¥ä½œä¼šä¸è°ƒç”¨è€…å¹¶è¡Œæ‰§è¡Œ å¼‚æ­¥æ–¹æ³•é€šå¸¸å¾ˆå¿«å°±ä¼šè¿”å›åˆ°è°ƒç”¨è€…ï¼Œå› æ­¤åˆå«éé˜»å¡æ–¹æ³• ç›®å‰è§åˆ°çš„å¤§éƒ¨åˆ†çš„ä¸€éƒ¨æ–¹æ³•éƒ½æ˜¯é€šç”¨ç›®çš„çš„ thread.start task.run å¯ä»¥å°†continuation é™„åŠ åˆ°taskçš„æ–¹æ³• å¼‚æ­¥ç¼–ç¨‹ å¼‚æ­¥ç¼–ç¨‹çš„åŸåˆ™æ˜¯å°†é•¿æ—¶é—´è¿è¡Œçš„å‡½æ•°å†™æˆå¼‚æ­¥çš„ ä¼ ç»Ÿçš„åšæ³•æ˜¯å°†é•¿æ—¶é—´è¿è¡Œçš„å‡½æ•°å†™æˆåŒæ­¥çš„ï¼Œç„¶åä»æ–°çš„çº¿ç¨‹æˆ–taskè¿›è¡Œè°ƒç”¨ï¼Œä»è€ŒæŒ‰éœ€å¼•å…¥å¹¶å‘ ä¸Šè¿°å¼‚æ­¥æ–¹å¼çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒæ˜¯ä»é•¿æ—¶é—´è¿è¡Œå‡½æ•°çš„å†…éƒ¨å¯åŠ¨å¹¶å‘ã€‚è¿™æœ‰ä¸¤ç‚¹å¥½å¤„ï¼š io-bound å¹¶å‘å¯ä¸ä½¿ç”¨çº¿ç¨‹æ¥å®ç°ã€‚å¯æé«˜å¯æ‰©å±•æ€§å’Œæ‰§è¡Œæ•ˆç‡ å¯Œå®¢æˆ·ç«¯åœ¨workerçº¿ç¨‹ä¼šä½¿ç”¨æ›´å°‘çš„ä»£ç ï¼Œç®€åŒ–äº†çº¿ç¨‹å®‰å…¨æ€§ å¼‚æ­¥ç¼–ç¨‹çš„ä¸¤ç§ç”¨é€” ç¼–å†™é«˜æ•ˆå¤„ç†å¤§é‡å¹¶å‘ioçš„åº”ç”¨ç¨‹åºï¼ˆå…¸å‹çš„ï¼šæœåŠ¡ç«¯åº”ç”¨ç¨‹åºï¼‰ æŒ‘æˆ˜å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨ï¼ˆå› ä¸ºå…±äº«çŠ¶æ€é€šå¸¸æ˜¯æœ€å°åŒ–çš„ï¼‰ï¼Œè€Œæ˜¯æ‰§è¡Œæ•ˆç‡ ç‰¹åˆ«çš„ï¼Œæ¯ä¸ªç½‘ç»œè¯·æ±‚å¹¶ä¸ä¼šæ¶ˆè€—ä¸€ä¸ªçº¿ç¨‹ è°ƒç”¨å›¾ call graph åœ¨å¯Œå®¢æˆ·ç«¯åº”ç”¨é‡Œç®€åŒ–çº¿ç¨‹å®‰å…¨ å¦‚æœè°ƒç”¨å›¾ä¸­ä»»ä½•ä¸€ä¸ªæ“ä½œéƒ½æ˜¯é•¿æ—¶é—´è¿è¡Œçš„ï¼Œé‚£ä¹ˆæ•´ä¸ªcall graph å¿…é¡»è¿è¡Œåœ¨workerçº¿ç¨‹ä¸Šï¼Œä»¥ä¿è¯uiçš„å“åº” å¾—åˆ°ä¸€ä¸ªæ¨ªè·¨å¤šä¸ªæ–¹æ³•çš„å•ä¸€å¹¶å‘æ“ä½œï¼ˆç²—ç²’åº¦ï¼‰ éœ€è¦ä¸ºcall graph ä¸­çš„æ¯ä¸ªæ–¹æ³•è€ƒè™‘çº¿ç¨‹å®‰å…¨ å¼‚æ­¥çš„call graphï¼Œç›´åˆ°éœ€è¦æ‰å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šå¸¸è¾ƒæµ…ï¼ˆio-boundæ“ä½œå®Œå…¨ä¸éœ€è¦ï¼‰ å…¶ä»–çš„æ–¹æ³•å¯ä»¥åœ¨uiçº¿ç¨‹æ‰§è¡Œï¼Œçº¿ç¨‹å®‰å…¨å¾—åˆ°ç®€åŒ– å¹¶å‘çš„ç²’åº¦é€‚ä¸­ ä¸€è¿ä¸²å°çš„å¹¶å‘æ“ä½œï¼Œæ“ä½œä¹‹é—´ä¼šå¼¹å›åˆ°uiçº¿ç¨‹ ç»éªŒä¹‹è°ˆ ä¸ºäº†è·å¾—ä¸Šè¿°å¥½å¤„ï¼Œå»ºè®®ä¸‹åˆ—æ“ä½œä½¿ç”¨å¼‚æ­¥ç¼–å†™ï¼š io-boundå’Œcompute-boundæ“ä½œ æ‰§è¡Œè¶…è¿‡50msçš„æ“ä½œ å¦ä¸€æ–¹é¢è¿‡ç»†çš„ç²’åº¦ä¼šæŸå®³æ€§èƒ½ï¼Œå› ä¸ºå¼‚æ­¥æ“ä½œä¹Ÿæœ‰å¼€é”€ å¼‚æ­¥ç¼–ç¨‹å’Œcontinuation taskéå¸¸é€‚åˆå¼‚æ­¥ç¼–ç¨‹ï¼Œå› ä¸ºä»–ä»¬æ”¯æŒcontinuationï¼ˆå®ƒå¯¹å¼‚æ­¥éå¸¸é‡è¦ï¼‰ taskcompletionsourceæ˜¯å®ç°åº•å±‚io-boundå¼‚æ­¥æ–¹æ³•çš„ä¸€ç§æ ‡å‡†æ–¹å¼ å¯¹äºcompute-boundæ–¹æ³•ï¼Œtask.runä¼šåˆå§‹åŒ–ç»‘å®šçº¿ç¨‹çš„å¹¶å‘ æŠŠtaskè¿”å›è°ƒç”¨è€…ï¼Œåˆ›å»ºå¼‚æ­¥æ–¹æ³• å¼‚æ­¥ç¼–ç¨‹çš„åŒºåˆ«ï¼šç›®æ ‡æ˜¯åœ¨è°ƒç”¨å›¾è¾ƒä½çš„ä½ç½®æ¥è¿™æ ·åš å¯Œå®¢æˆ·ç«¯åº”ç”¨ä¸­ï¼Œé«˜çº§æ–¹æ³•å¯ä»¥ä¿ç•™åœ¨uiçº¿ç¨‹å’Œè®¿é—®æ§åˆ¶ä»¥åŠå…±äº«çŠ¶æ€ä¸Šï¼Œä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ // static void Main(string[] args) // { // // DisplayPrimeCounts();//åŒæ­¥å†™æ³• // Task.Run(DisplayPrimeCounts);//ç²—ç²’åº¦å¼‚æ­¥å†™æ³• // Thread.Sleep(500); // Console.WriteLine(\u0026#34;lalala\u0026#34;); // Console.ReadKey(); // } static void Main(string[] args) { Task.Run(DisplayPrimeCountsAsync); Console.ReadKey(); } static void DisplayPrimeCounts() { for (int i = 0; i \u0026lt; 10; i++) { Console.WriteLine(GetPrimesCount(i * 1000000 + 2, 1000000) + \u0026#34;primes between \u0026#34; + (i + 1000000) + \u0026#34;and\u0026#34;+ ((i+1)*1000000-1)); } Console.WriteLine(\u0026#34;done!\u0026#34;); } static void DisplayPrimeCountsAsync() { for (int i = 0; i \u0026lt; 10; i++) { var taskAwaiter = GetPrimesCountAsync(i * 1000000 + 2, 1000000).GetAwaiter(); taskAwaiter.OnCompleted(() =\u0026gt; { Console.WriteLine(taskAwaiter.GetResult()+ \u0026#34;primes between \u0026#34; + (i + 1000000) + \u0026#34;and\u0026#34; + ((i + 1) * 1000000 - 1)); }); } Console.WriteLine(\u0026#34;done!\u0026#34;); } static int GetPrimesCount(int start, int count) { return ParallelEnumerable.Range(start, count) .Count(n =\u0026gt; Enumerable.Range(2, (int) Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0)); } static Task\u0026lt;int\u0026gt; GetPrimesCountAsync(int start, int count) { return Task.FromResult(ParallelEnumerable.Range(start, count) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); } è¯­è¨€å¯¹å¼‚æ­¥çš„æ”¯æŒéå¸¸é‡è¦ éœ€è¦å¯¹taskçš„æ‰§è¡Œåºåˆ—åŒ–\nä¾‹å¦‚task b ä¾èµ–äº task a çš„æ‰§è¡Œç»“æœ ä¸ºæ­¤ï¼Œå¿…é¡»åœ¨continuationå†…éƒ¨è§¦å‘ä¸‹ä¸€æ¬¡å¾ªç¯ å¾ˆéº»çƒ¦ å› ä¸ºæˆ‘ä»¬å†³å®šå¼•å…¥ async å’Œawaitå…³é”®å­—\nå¯¹äºä¸æƒ³å¤æ‚çš„å®ç°å¼‚æ­¥éå¸¸é‡è¦ å‘½ä»¤å¼å¾ªç¯ç»“æ„ä¸è¦å’Œcontinuationæ··åˆåœ¨ä¸€èµ·ï¼Œå› ä¸ºä»–ä»¬ä¾èµ–äºå½“å‰æœ¬åœ°çŠ¶æ€\nå¦ä¸€ä¸ªå®ç°ï¼Œå‡½æ•°å¼å†™æ³•ï¼ˆlinqæŸ¥è¯¢ï¼‰, ä»–ä¹Ÿæ˜¯å“åº”å¼ç¼–ç¨‹ï¼ˆRxï¼‰çš„åŸºç¡€\nå¼‚æ­¥å‡½æ•° asyncå’Œawaitå…³é”®å­—å¯ä»¥è®©ä½ å†™å‡ºå’ŒåŒæ­¥ä»£ç ä¸€æ ·ç®€æ´ä¸”ç»“æ„ç›¸åŒçš„å¼‚æ­¥ä»£ç  await awaitå…³é”®å­—ç®€åŒ–äº†é™„åŠ continuationçš„è¿‡ç¨‹ ä»–çš„ä½œç”¨ç›¸å½“äº var awaiter = expression.GetAwaiter() ; awaiter.OnCompleted(()=\u0026gt; { var result = awaiter.GetResult() ; statement(s) ; }) asyncä¿®é¥°ç¬¦ asyncä¿®é¥°ç¬¦ä¼šè®©ç¼–è¯‘å™¨æŠŠawaitå½“åšå…³é”®å­—è€Œä¸æ˜¯æ ‡è¯†ç¬¦ï¼ˆc# 5 ä»¥å‰å¯èƒ½ä¼šä½¿ç”¨awaitä½œä¸ºæ ‡è¯†ç¬¦ï¼‰ asyncä¿®é¥°ç¬¦æ™ºèƒ½åº”ç”¨äºæ–¹æ³•ï¼ˆåŒ…æ‹¬lambdaè¡¨è¾¾å¼ï¼‰ è¯¥æ–¹æ³•å¯ä»¥è¿”å›void / task / task asyncä¿®é¥°ç¬¦å¯¹æ–¹æ³•çš„ç­¾åæˆ–publicå…ƒæ•°æ®æ²¡æœ‰å½±å“ï¼ˆå’Œuisafeä¸€æ ·ï¼‰ï¼Œä»–åªä¼šå½±å“æ–¹æ³•å†…éƒ¨ åœ¨æ¥å£é‡Œä½¿ç”¨asyncæ˜¯æ²¡æœ‰æ„ä¹‰çš„ ä½¿ç”¨asyncæ¥é‡è½½éasyncæ–¹æ³•ç¡®å®åˆæ³•çš„ ä½¿ç”¨asyncä¿®é¥°ç¬¦çš„æ–¹æ³•å°±æ˜¯å¼‚æ­¥å‡½æ•° static async Task Main(string[] args) { await DisplayPrimeCountsAsync(); } static async Task DisplayPrimeCountsAsync() { for (int i = 0; i \u0026lt; 10; i++) { Console.WriteLine(await GetPrimesCountAsync(i * 1000000 + 2, 1000000) + \u0026#34;primes between \u0026#34; + (i + 1000000) + \u0026#34;and\u0026#34; + ((i + 1) * 1000000 - 1)); } Console.WriteLine(\u0026#34;Done!\u0026#34;); } static async Task\u0026lt;int\u0026gt; GetPrimesCountAsync(int start , int count) { return await Task.FromResult(ParallelEnumerable.Range(start, count) .Count(n =\u0026gt; Enumerable.Range(2, (int)Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); } å¼‚æ­¥æ–¹æ³•å¦‚ä½•æ‰§è¡Œ é‡åˆ°awaitè¡¨è¾¾å¼ï¼Œæ‰§è¡Œï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼‰ä¼šè¿”å›è°ƒç”¨è€… å°±åƒiteratoré‡Œé¢çš„yield return åœ¨è¿”å›å‰ï¼Œè¿è¡Œæ—¶ä¼šé™„åŠ ä¸€ä¸ªcontinuationåˆ°awaitçš„task ä¸ºä¿è¯taskç»“æŸæ—¶ï¼Œæ‰§è¡Œä¼šè·³å›åŸæ–¹æ³•ï¼Œä»åœæ­¢çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œ å¦‚æœå‘ç”Ÿæ•…éšœï¼Œé‚£ä¹ˆå¼‚å¸¸ä¼šè¢«é‡æ–°æŠ›å‡º å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œé‚£ä¹ˆä»–çš„è¿”å›å€¼å°±ä¼šèµ‹ç»™awaitè¡¨è¾¾å¼ â€”å®é™…ä¸Šå°±æ˜¯è·Ÿé‚£ä¸ªawaiter å’Œ awaiter.oncompleted æ˜¯ä¸€æ ·çš„ï¼Œæ‰§è¡Œå®Œçš„å¾—åˆ°è¿”å›å€¼ç»§ç»­å‘ä¸‹æ‰§è¡Œ å¯ä»¥awaitä»€ä¹ˆ awaitçš„è¡¨è¾¾å¼é€šå¸¸æ˜¯ä¸€ä¸ªtask ä¹Ÿå¯ä»¥æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ä»»æ„å¯¹è±¡ æœ‰getawaiteræ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªawaiter è¿”å›é€‚å½“ç±»å‹çš„getresultæ–¹æ³• ä¸€ä¸ªboolç±»å‹çš„iscompletedå±æ€§ æ•è·æœ¬åœ°çŠ¶æ€ awaitè¡¨è¾¾å¼æœ€ç‰›çš„åœ°æ–¹åœ¨äºä»–å‡ ä¹å¯ä»¥å‡ºç°åœ¨ä»»ä½•åœ°æ–¹ ç‰¹åˆ«çš„ï¼Œåœ¨å¼‚æ­¥æ–¹æ³•å†…ï¼Œawaitè¡¨è¾¾å¼å¯ä»¥æ›¿æ¢ä»»ä½•è¡¨è¾¾å¼ é™¤äº†lockè¡¨è¾¾å¼å’Œunsafeä¸Šä¸‹æ–‡ awaitä¹‹ååœ¨å“ªä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œ åœ¨awaitè¡¨è¾¾å¼ä¹‹åï¼Œç¼–è¯‘å™¨ä¾èµ–äºcontinuationï¼ˆé€šè¿‡awaiteræ¨¡å¼ï¼‰æ¥ç»§ç»­æ‰§è¡Œ å¦‚æœåœ¨å¯Œå®¢æˆ·ç«¯åº”ç”¨çš„uiçº¿ç¨‹ä¸Šï¼ŒåŒæ­¥ä¸Šä¸‹æ–‡ä¼šä¿è¯åç»­æ˜¯åœ¨åŸçº¿ç¨‹ä¸Šæ‰§è¡Œ å¦åˆ™ï¼Œå°±ä¼šåœ¨taskç»“æŸçš„çº¿ç¨‹ä¸Šç»§ç»­æ‰§è¡Œ private void button2_Click(object sender, EventArgs e) { // Go(); GoAsync(); } async void GoAsync() { button2.Enabled = false; for (int i = 1; i \u0026lt; 5; i++) { textBox2.Text += await GetPrimesCountAsync(i * 1000000, 1000000) + \u0026#34; primes between \u0026#34; + \u0026#34; and \u0026#34; + ((i + 1) * 1000000 - 1) + Environment.NewLine; } button2.Enabled = true; } Task\u0026lt;int\u0026gt; GetPrimesCountAsync(int start, int count) { return Task.Run(() =\u0026gt; ParallelEnumerable.Range(start, count) .Count(n =\u0026gt; Enumerable.Range(2, (int) Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); } UI ä¸Šçš„await åªæœ‰getprimescountasyncæ˜¯åœ¨workerçº¿ç¨‹ä¸Šè¿è¡Œçš„ goä¸­çš„ä»£ç ä¼šâ€œç§Ÿç”¨â€uiçº¿ç¨‹ä¸Šçš„æ—¶é—´ å¯ä»¥è¯´ï¼šGoæ˜¯åœ¨æ¶ˆæ¯å¾ªç¯ä¸­ä¼ªå¹¶å‘çš„æ‰§è¡Œ ä¹Ÿå°±æ˜¯è¯´ï¼šå®ƒå’Œuiçº¿ç¨‹å¤„ç†çš„å…¶ä»–æ—¶é—´æ˜¯ç©¿æ’æ‰§è¡Œçš„ å› ä¸ºè¿™ç§ä¼ªå¹¶å‘ï¼Œå”¯ä¸€å¯èƒ½å‘ç”ŸæŠ¢å çš„æ—¶åˆ»å°±æ˜¯åœ¨awaitæœŸé—´ è¿™å…¶å®ç®€åŒ–äº†çº¿ç¨‹å®‰å…¨ï¼Œé˜²æ­¢é‡æ–°è¿›å…¥å³å¯ è¿™ç§å¹¶å‘å‘ç”Ÿåœ¨è°ƒç”¨æ ˆæ¯”è¾ƒæµ…çš„åœ°æ–¹ï¼ˆrask.runè°ƒç”¨çš„ä»£ç é‡Œï¼‰ ä¸ºäº†ä»è¯¥æ¨¡å‹ä¸­è·ç›Šï¼ŒçœŸæ­£çš„å¹¶å‘ä»£ç è¦é¿å…è®¿é—®å…±äº«çŠ¶æ€æˆ–uiæ§ä»¶ private void button2_Click(object sender, EventArgs e) { // Go(); GoAsync(); } async void GoAsync() { button2.Enabled = false; for (int i = 1; i \u0026lt; 5; i++) { textBox2.Text += await GetPrimesCountAsync(i * 1000000, 1000000) + \u0026#34; primes between \u0026#34; + \u0026#34; and \u0026#34; + ((i + 1) * 1000000 - 1) + Environment.NewLine; } button2.Enabled = true; } Task\u0026lt;int\u0026gt; GetPrimesCountAsync(int start, int count) { return Task.Run(() =\u0026gt; ParallelEnumerable.Range(start, count) .Count(n =\u0026gt; Enumerable.Range(2, (int) Math.Sqrt(n) - 1).All(i =\u0026gt; n % i \u0026gt; 0))); } å› ä¸ºåœ¨uiçº¿ç¨‹ä¸Šawait ï¼Œ continuationå°†å‘é€åˆ°åŒæ­¥ä¸Šä¸‹æ–‡ä¸­ï¼Œè¯¥åŒæ­¥ä¸Šä¸‹æ–‡é€šè¿‡æ¶ˆæ¯å¾ªç¯æ‰§è¡Œï¼Œæ¥ä¿è¯æ•´ä¸ªgoæ–¹æ³•ä¼ªå¹¶å‘çš„åœ¨uiçº¿ç¨‹ä¸Šè¿è¡Œ å’Œç²—ç²’åº¦çš„å¹¶å‘ç›¸æ¯” æ•´ä¸ªåŒæ­¥è°ƒç”¨å›¾éƒ½åœ¨workerçº¿ç¨‹ä¸Š å¿…é¡»åœ¨ä»£ç ä¸­åˆ°å¤„ä½¿ç”¨dispatcher.begininvoke å¼•å…¥äº†race condition å¾ªç¯æœ¬çœåœ¨workerçº¿ç¨‹ä¸Š è‹¥å®ç°å–æ¶ˆæˆ–è€…è¿‡ç¨‹æŠ¥å‘Šï¼Œä¼šä½¿å¾—çº¿ç¨‹å®‰å…¨é—®é¢˜æ›´å®¹æ˜“å‘ç”Ÿï¼Œåœ¨æ–¹æ³•ä¸­æ–°æ·»åŠ ä»»ä½•ä»£ç ä¹Ÿæ˜¯åŒæ ·çš„æ•ˆæœ ç¼–å†™å¼‚æ­¥å‡½æ•° å¯¹äºä»»ä½•å¼‚æ­¥å‡½æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨taskä»£æ›¿voidä½œä¸ºè¿”å›ç±»å‹ï¼Œè®©è¯¥æ–¹æ³•ç§°ä¸ºæ›´æœ‰æ•ˆçš„å¼‚æ­¥ï¼ˆå¯ä»¥è¿›è¡Œawaitï¼‰ static async Task Main(string[] args) { // PrintAnswerToLife(); //å¦‚æœä¸ä½¿ç”¨å¼‚æ­¥å…³é”®å­—ï¼Œä¼šå¯¼è‡´å¹¶è¡Œæ‰§è¡Œ ï¼Œ åˆç”±äºæ˜¯taskçº¿ç¨‹æ± ï¼Œæ˜¯åå°è¿›ç¨‹ï¼Œå‰å°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•å°±å…³äº†ï¼Œæ‰€ä»¥ç¨‹åºè¿˜æ²¡è¾“å‡º42å°±åœäº† await PrintAnswerToLife(); } static async Task PrintAnswerToLife() { await Task.Delay(5000); int answer = 21 * 2; Console.WriteLine(answer); } å¹¶ä¸éœ€è¦åœ¨æ–¹æ³•ä½“ä¸­æ˜¾å¼çš„è¿”å›taskã€‚ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªtaskï¼ˆå½“æ–¹æ³•å®Œæˆæˆ–è€…å‘ç”Ÿå¼‚å¸¸æ—¶ï¼‰ï¼Œè¿™ä½¿å¾—åˆ›å»ºå¼‚æ­¥çš„è°ƒç”¨é“¾éå¸¸æ–¹ä¾¿å•Š ç¼–è¯‘å™¨ä¼šè¿”å›taskçš„å¼‚æ­¥å‡½æ•°æ¥è¿›è¡Œæ‰©å±•ï¼Œä½¿å…¶æˆä¸ºå½“å‘é€ä¿¡å·æˆ–å‘ç”Ÿæ•…éšœæ—¶ä½¿ç”¨taskcompletionsourceæ¥åˆ›å»ºtaskä»£ç  å› æ­¤ï¼Œå½“è¿”å›taskçš„å¼‚æ­¥æ–¹æ³•ç»“æŸçš„æ—¶å€™ï¼Œæ‰§è¡Œå°±ä¼šè·³å›åˆ°å¯¹å®ƒè¿›è¡Œawaitçš„åœ°æ–¹ï¼ˆé€šè¿‡continuationï¼‰ ç¼–å†™å¼‚æ­¥å‡½æ•°åœ¨å¯Œå®¢æˆ·ç«¯åœºæ™¯ä¸‹ å¯Œå®¢æˆ·ç«¯åœºæ™¯ä¸‹ï¼Œæ‰§è¡Œåœ¨æ­¤åˆ»ä¼šè·³å›åˆ°uiçº¿ç¨‹ï¼ˆå¦‚æœç›®å‰ä¸åœ¨uiçº¿ç¨‹çš„è¯ï¼‰ å¦åˆ™ï¼Œå°±åœ¨continuationè¿”å›çš„ä»»æ„çº¿ç¨‹ä¸Šç»§ç»­è¿è¡Œ è¿™æ„å‘³ç€ï¼Œåœ¨å¼‚æ­¥è°ƒç”¨å›¾ä¸­å‘ä¸Šå†’æ³¡çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿå»¶è¿Ÿæˆæœ¬ï¼Œé™¤éæ˜¯uiçº¿ç¨‹å¯åŠ¨çš„ç¬¬ä¸€æ¬¡åå¼¹ è¿”å›task å¦‚æœæ–¹æ³•ä½“è¿”å›tresult ï¼Œ é‚£ä¹ˆå¼‚æ­¥æ–¹æ³•å°±å¯ä»¥è¿”å›task å…¶åŸç†å°±æ˜¯ç»™taskcompletionsourceå‘é€çš„ä¿¡å·å¸¦æœ‰å€¼ï¼Œè€Œä¸æ˜¯null ä¸åŒæ­¥ç¼–ç¨‹å¾ˆç›¸ä¼¼ï¼Œæ˜¯æ•…æ„è¿™æ ·è®¾è®¡çš„ C#ä¸­å¦‚ä½•è®¾è®¡å¼‚æ­¥å‡½æ•° ä»¥åŒæ­¥çš„æ–¹å¼ç¼–å†™å‡½æ•° ä½¿ç”¨å¼‚æ­¥è°ƒç”¨æ¥ä»£æ›¿åŒæ­¥è°ƒç”¨ï¼Œå¹¶ä¸”è¿›è¡Œawait é™¤äº†é¡¶å±‚æ–¹æ³•å¤–ï¼ˆUIæ§ä»¶çš„event handlerï¼‰ï¼ŒæŠŠä½ çš„æ–¹æ³•çš„è¿”å›ç±»å‹å‡çº§ä¸ºtaskæˆ–task,è¿™æ ·ä»–ä»¬å°±å¯ä»¥è¿›è¡Œawaitäº† ç¼–è¯‘å™¨èƒ½å¯¹å¼‚æ­¥å‡½æ•°ç”Ÿæˆtaskæ„å‘³ç€ä»€ä¹ˆ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åªéœ€è¦åœ¨åˆå§‹åŒ–io-boundå¹¶å‘çš„åº•å±‚æ–¹æ³•é‡Œæ˜¾å¼çš„åˆå§‹åŒ–taskcompletionsourceï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘è§ é’ˆå¯¹åˆå§‹åŒ–compute-boundçš„å¹¶å‘æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨task.runæ¥åˆ›å»ºtask class Program { static async Task Main(string[] args) { await Go(); } static async Task Go() { var printAnswerToLife = PrintAnswerToLife(); await printAnswerToLife; Console.WriteLine(\u0026#34;Done!\u0026#34;); } static async Task PrintAnswerToLife() { var answerToLife = GetAnswerToLife(); var toLife = await answerToLife; Console.WriteLine(toLife); } static async Task\u0026lt;int\u0026gt; GetAnswerToLife() { var delay = Task.Delay(5000); await delay; int answer = 21 * 2; return answer; } } å¼‚æ­¥è°ƒç”¨å›¾æ‰§è¡Œ æ•´ä¸ªæ‰§è¡Œä¸åŒæ­¥ä¾‹å­ä¸­è°ƒç”¨å›¾çš„é¡ºåºä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹æ¯ä¸ªå¼‚æ­¥å‡½æ•°çš„è°ƒç”¨éƒ½è¿›è¡Œäº†await åœ¨è°ƒç”¨å›¾ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ²¡æœ‰å¹¶è¡Œå’Œé‡å çš„è¿ç»­æµ æ¯ä¸ªawaitåœ¨æ‰§è¡Œä¸­éƒ½åˆ›å»ºäº†ä¸€ä¸ªé—´éš™ï¼Œåœ¨é—´éš™åï¼Œç¨‹åºå¯ä»¥ä»ä¸­æ–­å¤„æ¢å¤æ‰§è¡Œ private void button3_Click(object sender, EventArgs e) { Go1(); } async void Go1() { var printAnswerToLife = PrintAnswerToLife(); await printAnswerToLife; textBox3.Text = \u0026#34;Done!\u0026#34;; } async Task PrintAnswerToLife() { var answerToLife = GetAnswerToLife(); var toLife = await answerToLife; textBox3.Text = toLife.ToString(); } async Task\u0026lt;int\u0026gt; GetAnswerToLife() { var delay = Task.Delay(5000); await delay; int answer = 21 * 2; return answer; } å¹¶è¡ŒParallelism ä¸é€‚ç”¨awaitæ¥è°ƒç”¨å¼‚æ­¥å‡½æ•°ä¼šå¯¼è‡´å¹¶è¡Œæ‰§è¡Œçš„å‘ç”Ÿ ç¡®å®ä¹Ÿèƒ½æ»¡è¶³ä¿æŒuiå“åº”çš„å¹¶å‘è¦æ±‚ åŒæ ·ï¼Œå¯ä»¥å¹¶è¡Œè·‘ä¸¤ä¸ªæ“ä½œ å¼‚æ­¥lambdaè¡¨è¾¾å¼ åŒ¿åæ–¹æ³•ï¼ˆåŒ…æ‹¬lambdaè¡¨è¾¾å¼ï¼‰ï¼Œé€šè¿‡ä½¿ç”¨asyncä¹Ÿå¯ä»¥å˜æˆå¼‚æ­¥æ–¹æ³• static async Task Main(string[] args) { Func\u0026lt;Task\u0026gt; func = async () =\u0026gt; { await Task.Delay(1000); Console.WriteLine(\u0026#34;Foo\u0026#34;); }; await NamedMethod(); await func(); } static async Task NamedMethod() { await Task.Delay(1000); Console.WriteLine(\u0026#34;Foo1\u0026#34;); } è°ƒç”¨æ–¹å¼ä¹Ÿæ˜¯ä¸€æ ·æ ·çš„ é™„åŠ  event handler çš„æ—¶å€™ä¹Ÿå¯ä»¥ä½¿ç”¨å¼‚æ­¥lambdaè¡¨è¾¾å¼ // this.button3.Click += async (sender,args) =\u0026gt; // { // await Task.Delay(1000); // button3.Text = \u0026#34;comeon baby\u0026#34;; // }; ä¹Ÿå¯ä»¥è¿”å›task Func\u0026lt;Task\u0026lt;int\u0026gt;\u0026gt; func = async () =\u0026gt; { await Task.Delay(1000); Console.WriteLine(\u0026#34;Foo\u0026#34;); return 123; }; å‘å¸ƒå¼‚å¸¸ å¯Œå®¢æˆ·ç«¯åº”ç”¨é€šå¸¸ä¾èµ–äºé›†ä¸­çš„å¼‚å¸¸å¤„ç†äº‹ä»¶æ¥å¤„ç†uiçº¿ç¨‹ä¸Šæœªæ•è·çš„å¼‚å¸¸ ä¾‹å¦‚wpfä¸­çš„application.dispatcherunhandledexception asp.net core ä¸­å®šåˆ¶ exceptionfilterattributeä¹Ÿæ˜¯å·®ä¸å¤šçš„æ•ˆæœ å…¶å†…éƒ¨åŸç†å°±æ˜¯ï¼šé€šè¿‡åœ¨å®ƒä»¬è‡ªå·±çš„try/catchå—æ¥è°ƒç”¨uiäº‹ä»¶ï¼ˆåœ¨asp.net coreé‡Œå°±æ˜¯é¡µé¢å¤„ç†æ–¹æ³•çš„ç®¡é“ï¼‰ é¡¶å±‚çš„å¼‚æ­¥æ–¹æ³•ä¼šä½¿äº‹æƒ…æ›´åŠ å¤æ‚ é¡¶å±‚çš„å¼‚æ­¥æ–¹æ³•ç”±äºå·²ç»æ²¡æœ‰æ–¹æ³•è®©ä»–è¿›è¡Œawaitäº†ï¼Œæ‰€ä»¥ä»–ä¼šä½¿ç”¨void è€Œä¸æ˜¯taskä½œä¸ºè¿”å›ç±»å‹ åœ¨æŠ›å‡ºå¼‚å¸¸åæ— æ³•è¢«æ¶ˆæ¯å¾ªç¯ä¸­çš„catchæ•è· ä¸ºäº†ç¼“è§£è¯¥é—®é¢˜ï¼Œasyncvoidmethodbuilderä¼šæ•è·æœªå¤„ç†çš„å¼‚å¸¸ï¼ˆåœ¨è¿”å›voidçš„å¼‚æ­¥æ–¹æ³•é‡Œï¼‰ ï¼Œ å¹¶æŠŠä»–ä»¬å‘å¸ƒåˆ°åŒæ­¥ä¸Šä¸‹æ–‡ï¼ˆå¦‚æœå‡ºç°çš„è¯ï¼‰ï¼Œä»¥ç¡®ä¿å…¨å±€å¼‚å¸¸å¤„ç†äº‹ä»¶èƒ½å¤Ÿè§¦å‘ æ³¨æ„ ç¼–è¯‘å™¨åªä¼šæŠŠä¸Šè¿°é€»è¾‘åº”ç”¨äºè¿”å›ç±»å‹ä¸ºvoidçš„ä¸€éƒ¨æ–¹æ³•\nå¦‚æœbuttonclickçš„è¿”å›ç±»å‹æ˜¯taskï¼Œé‚£ä¹ˆæœªå¤„ç†çš„å¼‚å¸¸å°†å¯¼è‡´ç»“æœtaskå‡ºé”™ï¼Œç„¶åtaskå°†æ— å¤„å¯å»ï¼ˆå¯¼è‡´ä¸ºè§‚å¯Ÿåˆ°çš„å¼‚å¸¸ï¼‰\næ— è®ºåœ¨awaitå‰é¢è¿˜æ˜¯åé¢è·‘å‡ºå¼‚å¸¸ï¼Œéƒ½æ²¡æœ‰åŒºåˆ«\nå¦‚æœå‡ºç°åŒæ­¥ä¸Šä¸‹æ–‡ï¼Œè¿”å›å€¼ä¸ºvoidçš„å¼‚å¸¸ä¼šè¢«å‘å¸ƒåˆ°åŒæ­¥ä¸Šä¸‹æ–‡ä¸­ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°ï¼Œå¼‚å¸¸å°†ä¼šåœ¨çº¿ç¨‹æ± ä¸Šä¼ æ’­ï¼Œä»è€Œå¯¼è‡´ç»ˆæ­¢åº”ç”¨ç¨‹åº\noperationstarted å’Œ operationcompleted å¦‚æœå­˜åœ¨åŒæ­¥ä¸Šä¸‹æ–‡ï¼Œè¿”å›voidçš„å¼‚æ­¥å‡½æ•°ä¹Ÿä¼šè¿›å…¥å‡½æ•°æ—¶è°ƒç”¨å…¶operationstartedæ–¹æ³•ï¼Œåœ¨å‡½æ•°å®Œæˆæ—¶è°ƒç”¨å…¶operationcompletedæ–¹æ³• ä¼˜åŒ–åŒæ­¥å®Œæˆ å¼‚æ­¥å‡½æ•°å¯ä»¥åœ¨awaitä¹‹å‰å°±è¿”å› static async Task Main(string[] args) { Console.WriteLine(await GetWebPageAsync(\u0026#34;http://oreilly.com\u0026#34;)); } static Dictionary\u0026lt;string ,string \u0026gt; _cache = new Dictionary\u0026lt;string, string\u0026gt;(); private static async Task\u0026lt;string\u0026gt; GetWebPageAsync(string uri) { string html; if (_cache.TryGetValue(uri,out html)) { return html; } return _cache[uri] = await new WebClient().DownloadStringTaskAsync(uri); } ç¼–è¯‘å™¨æ˜¯é€šè¿‡æ£€æŸ¥awaiterä¸Šçš„iscompletedå±æ€§æ¥å®ç°è¿™ä¸ªä¼˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºä½•æ—¶awaitæ”¶åˆ°æ—¶å€™ï¼Œéƒ½ä¼šæ£€æŸ¥\nå¦‚æœæ˜¯åŒæ­¥å®Œæˆäº†ï¼Œç¼–è¯‘å™¨å°±ä¼šé‡Šæ”¾å¯çŸ­è·¯çš„continuationä»£ç \nç¼–å†™å®Œå…¨æ²¡æœ‰awaitçš„å¼‚æ­¥æ–¹æ³•ä¹Ÿæ˜¯åˆæ³•çš„ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Š\nè¿™ç±»æ–¹æ³•å¯ä»¥ç”¨äºé‡è½½virtual/abstractæ–¹æ³•\nå¦ä¸€ç§å¯ä»¥è¾¾åˆ°ç›¸åŒç»“æœçš„æ–¹å¼æ˜¯ï¼Œä½¿ç”¨task.fromresultï¼Œä»–ä¼šè¿”å›ä¸€ä¸ªå·²ç»è®¾ç½®å¥½ä¿¡å·çš„task\nå¦‚æœä»uiçº¿ç¨‹ä¸Šè°ƒç”¨ï¼Œé‚£ä¹ˆgetwebpageasyncæ–¹æ³•æ˜¯éšå¼çº¿ç¨‹å®‰å…¨çš„ã€‚å¯ä»¥è¿ç»­å¤šæ¬¡è°ƒç”¨å®ƒï¼ˆä»è€Œå¯åŠ¨å¤šä¸ªå¹¶å‘ä¸‹è½½ï¼‰ï¼Œå¹¶ä¸”ä¸éœ€è¦lockæ¥ä¿æŠ¤ç¼“å­˜\næœ‰ä¸€ç§ç®€å•çš„æ–¹æ³•å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼Œè€Œä¸å¿…æ±‚åŠ©äºlockæˆ–ä¿¡ä»¤ç»“æ„ã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªfutures ï¼ˆtaskï¼‰çš„ç¼“å­˜ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²çš„ç¼“å­˜ï¼Œæ³¨æ„å¹¶æ²¡æœ‰async\nå–æ¶ˆ cancellationToken å’Œ cancellationTokenSource è·å–cancellationToken å…ˆå®ä¾‹åŒ–cancellationtokensource var cancelsource = new cancellationTokensource() ; è¿™å›æš´éœ²ä¸€ä¸ªtokenå±æ€§ï¼Œä»–ä¼šè¿”å›ä¸€ä¸ªcancellationtoken ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è°ƒç”¨ task foo = Foo(cancelsource.token) â€¦ â€¦ cancelsource.cancel() Delay clré‡Œå¤§éƒ¨åˆ†å¼‚æ­¥æ–¹æ³•éƒ½æ”¯æŒcancellationtoken ï¼Œ åŒ…æ‹¬delayæ–¹æ³• å…¶ä»– äº‹å®ä¸Šï¼Œå¯ä»¥åœ¨æ„é€ cancellationtokensourceæ—¶æŒ‡å®šä¸€ä¸ªæ—¶é—´é—´éš”ï¼Œä»¥ä¾¿åœ¨ä¸€æ®µæ—¶é—´åå¯åŠ¨å–æ¶ˆã€‚å®ƒå¯¹äºå®ç°è¶…æ—¶éå¸¸æœ‰ç”¨ï¼Œæ— è®ºæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ cancellationtokenè¿™ä¸ªstructæä¾›äº†ä¸€ä¸ªregisteræ–¹æ³•ï¼Œä»–å¯ä»¥è®©ä½ æ³¨å†Œä¸€ä¸ªå›è°ƒå§”æ‰˜ï¼Œè¿™ä¸ªå§”æ‰˜ä¼šåœ¨å–æ¶ˆæ—¶è§¦å‘ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨å–æ¶ˆæ³¨å†Œæ—¶å¯ä»¥è¢«disposeæ‰ è¿›åº¦æŠ¥å‘Š å¼‚æ­¥æ“ä½œåœ¨è¿è¡Œå½“ä¸­åé¦ˆå®æ—¶è¿›åº¦ï¼Œè§£å†³åŠæ³•æ˜¯å‘å¼‚æ­¥æ–¹æ³•ä¸­é—¯å…¥ä¸€ä¸ªactionå§”æ‰˜ï¼Œå½“è¿›åº¦å˜åŒ–æ—¶è§¦å‘æ–¹æ³•è°ƒç”¨\niprogress å’Œprogress\nprogressçš„ä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥æ¥å—actionç±»å‹çš„å§”æ‰˜\nTaskç»„åˆå™¨ å¼‚æ­¥å‡½æ•°æœ‰ä¸€ä¸ªè®©å…¶ä¿æŒä¸€è‡´çš„åè®®ï¼ˆå¯ä»¥ä¸€è‡´çš„è¿”å›taskï¼‰ï¼Œè®©å…¶ä¿æŒè‰¯å¥½çš„ç»“æœï¼Œå¯ä»¥ä½¿ç”¨ä»¥åŠç¼–å†™taskç»„åˆå™¨ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç»„åˆtaskï¼Œä½†æ˜¯ä¸å…³å¿ƒtaskå…·ä½“åšä»€ä¹ˆçš„å‡½æ•° CLRæä¾›äº†ä¸¤ä¸ªtaskç»„åˆå™¨ï¼š task.whenany task.whenall WhenAny å½“ä¸€ç»„taskä¸­ä»»ä½•ä¸€ä¸ªtaskå®Œæˆæ—¶ï¼Œtask.whenanyä¼šè¿”å›å®Œæˆçš„task å› ä¸ºtask.whenanyæœ¬èº«å°±è¿”å›ä¸€ä¸ªtaskï¼Œæˆ‘ä»¬å¯¹ä»–è¿›è¡Œawaitï¼Œå°±ä¼šè¿”å›æœ€å…ˆå®Œæˆçš„task äº‹å®ä¸Šï¼Œwhenanyå¾ˆé€‚åˆä¸ºä¸æ”¯æŒè¶…æ—¶æˆ–å–æ¶ˆçš„æ“ä½œæ·»åŠ è¿™äº›åŠŸèƒ½ whenall å½“ä¼ ç»™ä»–çš„æ‰€æœ‰çš„taskéƒ½å®Œæˆåï¼Œtask.whenallä¼šè¿”å›ä¸€ä¸ªtask ","date":"2021-01-30T00:17:57+08:00","permalink":"https://linjianshu.github.io/p/%E7%9C%9F%E4%BC%9Acsharp%E5%90%97%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"çœŸä¼šCSharpå—å­¦ä¹ æ–‡æ¡£"},{"content":"RabbiMQå­¦ä¹ æ–‡æ¡£ rabbitMQæ˜¯éµå¾ªamqpåè®®çš„ä¸€ä¸ªerlangå®ç°ã€‚\namqpåè®®ï¼šé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®\nhttpåè®®ï¼šrequestã€response\ntelnetåè®®ï¼šç»å¸¸ç”¨æ¥æŸ¥çœ‹æŸä¸€å°ipä¸Šçš„æŒ‡å®šç«¯å£æ˜¯å¦æ˜¯pingé€šçš„ã€è¿œç¨‹ç™»é™†åè®®ã€‘\nAMQP 0-9-1 complete Reference Guide rabbitmq å®ç°çš„amqpåè®®çš„ç‰ˆæœ¬å·\nconnection =\u0026gt;open , use , close [open-ok , close , une-ok] channel =\u0026gt;open, flow , close , [æ„å»ºåœ¨connectionä¹‹ä¸Šï¼Œåœ¨amqpä¸­å¸¸ä½œä¸ºé•¿è¿æ¥] exchange =\u0026gt; queue basic =\u0026gt;å‘å¸ƒå’Œè·å– messageä¸­çš„ä¸€äº›è®¾ç½® tx =\u0026gt;äº‹åŠ¡å¤„ç† confirm =\u0026gt;å‘å¸ƒç¡®è®¤æœºåˆ¶ è¯¦ç»†è®¾è®¡ä¹¦ä¸€æ ·\nimage-20201026164558077\rimage-20201026164701153\rå»¶æ—¶å¤„ç†ï¼Œæ‹‰é•¿æ—¶é—´\nä»¥æ›´é•¿çš„æ—¶é—´æ¥æ¢å–å †ç§¯çš„ä¸šåŠ¡é€»è¾‘\nå¼‚æ­¥å¤„ç†ï¼šå“åº”å¾ˆå¿«ï¼Œå¢åŠ æœåŠ¡å™¨æ‰¿è½½èƒ½åŠ›\næµé‡å‰Šå³°ï¼š\næ‰©å±•æ€§ï¼šUIå’Œä¸šåŠ¡çš„è§£è€¦ï¼Œå¯ä»¥ç‹¬ç«‹æ¼”åŒ–\né«˜å¯ç”¨ï¼šå¤„ç†å™¨å‘ç”Ÿæ•…éšœä»¥åï¼Œä¸ä¼šå½±å“å¯ç”¨æ€§\nç¼ºé™·ï¼š\nå³æ—¶æ€§é™ä½ï¼Œé™ä½äº†ç”¨æˆ·ä½“éªŒ\u0026mdash;æ— æ³•é¿å…ï¼›ä¸šåŠ¡ä¸Šæ¥å±ˆæœï¼›\nå¤æ‚æ€§æé«˜\nvhostï¼šé¿å…å‘½åå†²çª\nexchangeï¼š\ndirect headers topic fanout image-20201026211929666\råœ¨windowsä¸Šæ˜¯ä¸€ä¸ªæœåŠ¡\nUIå·¥å…·å¯ä»¥æŸ¥çœ‹rabbitmqçš„äº‹å®çŠ¶å†µï¼Œhttp apiçš„æ–¹å¼ä¹Ÿå¯ä»¥æŸ¥çœ‹\nhttp://127.0.0.1:15672/#/\nimage-20201027095638965\ruiå’Œå‘½ä»¤è¡Œçš„åŒºåˆ«ï¼šuiåªæ˜¯å‘½ä»¤è¡Œçš„å­é›†\nimage-20201026215957380\råº”ç”¨å±‚åºå’Œé›†ç¾¤çš„ç®¡ç† application and Cluster Management\nstop stop_app start_app reset [æ ¼å¼åŒ–çš„åŠŸèƒ½] force reset [æ— æ¡ä»¶è®¾ç½®] é›†ç¾¤é…ç½® Cluster management:ramå’Œdisk\npurge_queue {queueå} ç”¨äºæ¸…ç©ºæŸä¸€ä¸ªé˜Ÿåˆ— ç”¨æˆ·ç®¡ç† userManagement\nadd_user {username} {password} [è®¾ç½®usersçš„è§’è‰²] set_user_tags {username} {tag \u0026hellip;} [è®¾ç½®ç”¨æˆ·çš„è§’è‰²] authenticate_user {username} {password} éªŒè¯ç”¨æˆ·åï¼Œå¯†ç æ˜¯å¦æ­£ç¡® list_users å±•ç¤ºæ‰€æœ‰users è®¿é—®æ§åˆ¶ access Control\nset_permissions [-p vhost] {user} {conf} {write} {read} clear_permissions {user} å‚æ•°ç®¡ç† parameter management ã€ç¬¬ä¸‰æ–¹æ’ä»¶æ¯”è¾ƒå¤šã€‘\næ”¿ç­–ç®¡ç† policy management å¯¹queue çš„å…¨å±€è®¾ç½®ç”¨å¾—ä¸Šè¿™ä¸ªæ”¿ç­–ç®¡ç†ï¼Œé˜Ÿåˆ—é•œåƒä¹Ÿæ˜¯ç”¨çš„è¿™ä¸ªå‘½ä»¤\næœåŠ¡å™¨çŠ¶æ€\nlist_queues {name} {pid} {durable} list_exchanges [-p vhost] [exchangeinfoitem] list_bindings [-p vhost] [bindinginfoitem] list_connections [connectioninfoitem] list_channels [channelinfoitem] connections =\u0026gt;channels å»ºç«‹connectionsæ˜¯é•¿è¿æ¥ï¼Œchannelsæ˜¯æŒ‚åœ¨connectionä¹‹ä¸Šçš„\nstatus environment Miscellaneous æ··åˆå‘½ä»¤ erlangå’Œrabbitmqçš„åŒºåˆ«\nä¸€ä¸ªæ˜¯è¯­è¨€ç¯å¢ƒï¼Œä¸€ä¸ªæ˜¯åº”ç”¨ç¨‹åº\nimage-20201026222139817\rimage-20201026222148175\rimage-20201027091016137\rç¯å¢ƒé…ç½®æ–‡ä»¶ï¼šmeasiaã€erlangçš„åˆ†å¸ƒå¼æ•°æ®åº“ã€‘ï¼Œ configé…ç½®æ–‡ä»¶ï¼Œlogæ—¥å¿—çš„å­˜æ”¾è·¯å¾„çš„è®¾ç½®\nconfigæ–‡ä»¶ã€‚ã€‚mongodb , redis\nimage-20201027091602576\rçŸ¥é“ç«¯å£ï¼š5673\nlogä¿¡æ¯ é»˜è®¤æ‰“å‡ºæ¥çš„æ˜¯infoæ ¼å¼\n{log_levels,[{connection,info},{channel,info}]}\nè¿™æ ·æ—¥å¿—ç‰¹åˆ«å¤§ï¼Œå¯¹ç£ç›˜çš„å‹åŠ›å°±å¾ˆå¤§\n{vm_memory_high_watermark,0.4}\næŒ‡å®šramå å†…å­˜ç™¾åˆ†æ¯”ä¸Šé™ï¼Œconnectionè¾¾åˆ°é˜€å€¼ä¼šé˜»å¡blockedã€æŠ¥è­¦ã€‘ è®©ç®¡é“æµå˜å°\n{disk_free_limit,5000000} ä¹Ÿæ˜¯ä¼šè§¦å‘æŠ¥è­¦æœºåˆ¶ï¼Œè®©ç®¡é“æµå˜å°\nä½¿ç”¨C#è¿æ¥rabbitmq .Net Client\n1.apiæ–‡æ¡£ ç±»ä¼¼msdn\n2.ä¸‹è½½æ–¹å¼æœ‰ä¸¤ç§ï¼š 1ï¼‰é€šè¿‡å®˜ç½‘ä¸‹è½½ 2ï¼‰é€šè¿‡nugetä¸‹è½½\nconnectiong to a Broker æœåŠ¡å™¨é…ç½®ï¼Œguestä¸å¯ä»¥è¢«å¤–ç½‘è®¿é—®ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé»˜è®¤éƒ½æ˜¯æ–°å¢ç”¨æˆ·çš„\nè¿™æ˜¯ç”Ÿäº§è€…ä»£ç ï¼š\nusing System; using System.Net.Http; using System.Text; using RabbitMQ.Client; namespace RabbitmqDemo { class Program { static void Main(string[] args) { ConnectionFactory factory = new ConnectionFactory() { HostName = \u0026#34;127.0.0.1\u0026#34;, UserName = \u0026#34;datamip\u0026#34;, Password = \u0026#34;123456\u0026#34; }; //ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºconnection var connection = factory.CreateConnection(); //ç¬¬äºŒæ­¥ï¼šåˆ›å»ºchannel var channel = connection.CreateModel(); //ç¬¬ä¸‰æ­¥ï¼šå£°æ˜äº¤æ¢æœºï¼ˆå› ä¸ºrabbitmqå·²ç»æœ‰äº†è‡ªå®šä¹‰çš„amqp default exchange ï¼Œæ‰€ä»¥è¿™é‡Œä¸å£°æ˜ä¹Ÿèƒ½è‡ªåŠ¨åˆ›å»ºï¼‰ //ç¬¬å››æ­¥ï¼šåˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ˆqueueï¼‰ channel.QueueDeclare(\u0026#34;mytest\u0026#34;, true, false, false); var msg = Encoding.UTF8.GetBytes(\u0026#34;ä½ å¥½\u0026#34;); //ç¬¬äº”æ­¥ï¼šå‘å¸ƒæ¶ˆæ¯ channel.BasicPublish(string.Empty,\u0026#34;mytest\u0026#34;,basicProperties:null,body:msg); // using... // connection.Dispose(); // channel.Dispose(); Console.WriteLine(\u0026#34;Hello World!\u0026#34;); } } } è¿™æ˜¯æ¶ˆè´¹è€…ä»£ç ï¼š\nusing System; using System.Text; using RabbitMQ.Client; namespace RabbitmqConsumer { class Program { static void Main(string[] args) { ConnectionFactory factory = new ConnectionFactory() { HostName = \u0026#34;127.0.0.1\u0026#34;, UserName = \u0026#34;datamip\u0026#34;, Password = \u0026#34;123456\u0026#34; }; //ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºconnection var connection = factory.CreateConnection(); //ç¬¬äºŒæ­¥ï¼šåˆ›å»ºchannel var channel = connection.CreateModel(); //ç¬¬ä¸‰æ­¥ï¼šå£°æ˜äº¤æ¢æœºï¼ˆå› ä¸ºrabbitmqå·²ç»æœ‰äº†è‡ªå®šä¹‰çš„amqp default exchange ï¼Œæ‰€ä»¥è¿™é‡Œä¸å£°æ˜ä¹Ÿèƒ½è‡ªåŠ¨åˆ›å»ºï¼‰ //ç¬¬å››æ­¥ï¼šè·å–æ¶ˆæ¯ BasicGetResult basicGetResult = channel.BasicGet(\u0026#34;mytest\u0026#34;, true); ReadOnlyMemory\u0026lt;byte\u0026gt; msg = basicGetResult.Body; Console.WriteLine(\u0026#34;Hello World!\u0026#34;); } } } äº¤æ¢æœºæœºåˆ¶ï¼šexchange:direct/fanout/headers/topic image-20201027110100918\rDemoä¸­ç”¨åˆ°çš„BasicGetæ˜¯ä¸»åŠ¨çš„å»æ‹‰å–ï¼Œsubscribeå’Œpublishæ˜¯å‘å¸ƒè®¢é˜…çš„æ¨¡å¼\nworkqueueæ–¹å¼\nEventingBasicConsumer:å¤šä¸ªconsumerå¯ä»¥åˆ†æ‘Šæˆ‘ä»¬çš„cpuè®¡ç®—å‹åŠ›\nå¦‚æœç”³æ˜è‡ªå®šä¹‰äº¤æ¢æœºï¼Œä¸€å®šè¦æ‰‹åŠ¨ç»‘å®š\n//ç¬¬ä¸‰æ­¥ï¼šå£°æ˜äº¤æ¢æœºï¼ˆå› ä¸ºrabbitmqå·²ç»æœ‰äº†è‡ªå®šä¹‰çš„amqp default exchange ï¼Œæ‰€ä»¥è¿™é‡Œä¸å£°æ˜ä¹Ÿèƒ½è‡ªåŠ¨åˆ›å»ºï¼‰å¯é€‰ channel.ExchangeDeclare(\u0026#34;myexchange\u0026#34;,ExchangeType.Direct,true,false,null); //ç¬¬å››æ­¥ï¼šåˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ˆqueueï¼‰ channel.QueueDeclare(\u0026#34;mytest\u0026#34;, true, false, false); channel.QueueBind(\u0026#34;mytest\u0026#34;, \u0026#34;myexchange\u0026#34;, \u0026#34;mytest\u0026#34;, null); for (int i = 0; i \u0026lt; 100; i++) { var msg = Encoding.UTF8.GetBytes(string.Format(\u0026#34;{0}:{1}\u0026#34;,i,\u0026#34;ä½ å¥½\u0026#34;)); //ç¬¬äº”æ­¥ï¼šå‘å¸ƒæ¶ˆæ¯ // channel.BasicPublish(string.Empty, \u0026#34;mytest\u0026#34;, basicProperties: null, body: msg); channel.BasicPublish(\u0026#34;myexchange\u0026#34;, \u0026#34;mytest\u0026#34;, basicProperties: null, body: msg); } image-20201027155658033\rRoutingæ¨¡å¼ åšä¸€ä¸ªæ—¥å¿—å¤„ç†åˆ†å‘ï¼Œå°†æ—¥å¿—çº§åˆ«ä¸åŒçš„å­˜åˆ°ä¸åŒçš„é˜Ÿåˆ—é‡Œå»ï¼Œinfo/debug/warnå­˜åˆ°log_elseé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹ï¼›å°†errorå­˜åˆ°log_erroré˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹ï¼›åœ¨è¿™é‡Œæ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”Ÿäº§è€…/æ¶ˆè´¹è€…ä»»æ„ä¸€ç«¯æ„å»ºäº¤æ¢æœºã€é˜Ÿåˆ—ï¼Œå› æ­¤æœ€åˆé€‚çš„æ–¹å¼æ˜¯ï¼Œå°†ä¸åŒçº§åˆ«é˜Ÿåˆ—çš„æ„å»ºæ”¾åœ¨æ¶ˆè´¹è€…ä¸€ç«¯ï¼Œåœ¨ç”Ÿäº§è€…ç«¯ï¼Œå°†æ¶ˆæ¯çš„å­˜è¿›ä¸åŒçš„è·¯ç”±ä¸­ï¼ˆroutekeyä¸­ï¼‰\nimage-20201027163324742\rç”Ÿäº§è€…ï¼š\nimage-20201027163944656\ræ¶ˆè´¹è€…ï¼š\nimage-20201027164022728\rimage-20201027164030154\rfanoutï¼šexchangeå¤šæ’­çš„ç°è±¡ åº”ç”¨åœºæ™¯ç›¸å½“å¤š\n1.ä¸‹è®¢å•æµç¨‹ï¼šå¦‚æœè®¢å•æäº¤ï¼ŒåŒæ—¶å‘é€çŸ­ä¿¡å’Œæ¨é€\n2.csè½¯ä»¶å¼¹å‡ºæ¶ˆæ¯ï¼Œæ™®é€šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯è½®è¯¢çš„æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨csä¸­ç»‘å®šfanout exchangeï¼Œè¿™æ—¶å€™æœåŠ¡å™¨æœ‰æ¶ˆæ¯çš„è¯ï¼Œå¯ä»¥åŠæ—¶æ¨é€\n3.å®¢æˆ·å…³æ€€åƒäººåƒé¢\næ·˜å®=\u0026gt;å‚¬ä»˜ã€ä»˜æ¬¾åæé†’ã€å‘è´§æé†’ã€ç­¾æ”¶æé†’\nâ€‹\t=\u0026gt;ç»™ç”¨æˆ·å…³è”æ¨èã€å½©ä¿¡å’Œé‚®ä»¶ã€çŸ­ä¿¡ç»™ç”¨æˆ·æ¨èå…³è”æ¨è\n","date":"2020-12-01T00:29:59+08:00","permalink":"https://linjianshu.github.io/p/rabbitmq%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"RabbitMQå­¦ä¹ æ–‡æ¡£"},{"content":"2020.11.17å¾®æœåŠ¡åˆ’åˆ†åŸåˆ™ ç‹¬ç«‹è¿è¡Œã€ç‹¬ç«‹éƒ¨ç½²å’ŒæŒç»­äº¤ä»˜ åº”è¯¥é€šè¿‡åŠŸèƒ½æ¥åˆ’åˆ†å¾®æœåŠ¡ï¼šå¾®æœåŠ¡åº”è¯¥å½¼æ­¤ç‹¬ç«‹ï¼Œå¦‚æœä¸èƒ½äº¤ä»˜ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºåŠŸèƒ½å—ï¼Œé‚£ä¹ˆåˆ’åˆ†åªèƒ½å¢åŠ å¤æ‚æ€§ã€‚ åˆ’åˆ†å¾®æœåŠ¡çš„ç›®æ ‡åº”è¯¥æ˜¯æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥å•ç‹¬çš„è¿è¡Œï¼Œå•ç‹¬çš„æµ‹è¯•ï¼Œä¸ä¾èµ–å…¶ä»–çš„å¾®æœåŠ¡ï¼Œä»¥ä¾¿åœ¨å¤§å‹é¡¹ç›®å¼€å‘ä¸­è¾¾åˆ°æŒç»­äº¤ä»˜çš„ç›®çš„ï¼Œå¦åˆ™æ‹†åˆ†å¾®æœåŠ¡å°±å¤±å»æ„ä¹‰äº†ã€‚ ä¾‹å¦‚ï¼šå­è‹¥å§çš„è®¾å¤‡ç‚¹æ£€æ¨¡å—éƒ¨åˆ†çš„å¾®æœåŠ¡ï¼Œåˆ’åˆ†ä¸ºç‚¹æ£€é¡¹é…ç½®å’Œç‚¹æ£€è®¡åˆ’è‡ªåŠ¨åˆ¶å®šä¸¤ä¸ªå¾®æœåŠ¡ï¼Œä¸¤ä¸ªå¾®æœåŠ¡å¯ä»¥å•ç‹¬çš„è¿è¡Œï¼Œåªè¦æ— å‚è°ƒç”¨æˆ–è€…ç»™å‚æ•°è°ƒç”¨å°±èƒ½è·‘ã€‚ æ¯ä¸ªå¾®æœåŠ¡å¯¹åº”ä¸€ä¸ªæ•°æ®åº“ï¼ˆä¹Ÿå¯ä»¥æ²¡æœ‰æ•°æ®åº“ï¼‰ æ¯ä¸ªå¾®æœåŠ¡æœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œå¹¶ä¸å…¶ä»–å¾®æœåŠ¡å®Œå…¨è§£è€¦ã€‚ ä¸ºæ¯ä¸ªå¾®æœåŠ¡åˆ†é…æ•°æ®åº“ï¼Œä¿è¯è¯¥å¾®æœåŠ¡å¯¹å…¶ä¸‹æ•°æ®åº“çš„æ”¯é…æƒï¼Œæ•°æ®åº“ä¸­çš„è¡¨åº”è¯¥åŒ…æ‹¬å¾®æœåŠ¡ç”¨åˆ°çš„æ‰€æœ‰è¡¨ç»“æ„å’Œå®ä½“ï¼Œå¹¶ä¸”åœ¨å…¶ä»–å¾®æœåŠ¡å‡ºç°æ¬¡æ•°å°½å¯èƒ½å°‘ï¼ˆå¯ä»¥å‡ºç°ï¼Œå¦‚æ­¤å°±éœ€è¦ç”¨MQTTæˆ–Rabbitmqä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼‰ã€‚ ä¾‹å¦‚ï¼šç‚¹æ£€é¡¹é…ç½®å¾®æœåŠ¡æœ‰4ä¸ªè¡¨ï¼Œç‚¹æ£€è®¡åˆ’è‡ªåŠ¨æŒ‡å®šå¾®æœåŠ¡æœ‰4ä¸ªè¡¨ï¼Œæœ‰ä¸€ä¸ªè¡¨ç›¸åŒï¼Œä½†å¦å¤–çš„è¡¨åªæœ‰å¯¹åº”å¾®æœåŠ¡åœ¨ä½¿ç”¨ï¼Œå…¶ä»–å¾®æœåŠ¡æ— æ³•å¹²æ¶‰ã€‚ å¾®æœåŠ¡åˆ’åˆ†ç²’åº¦ æ²¡æœ‰æ ‡å‡†å®šä¹‰ï¼Œä¸ªäººè®¤ä¸ºï¼š1.å¯ä»¥æŒ‰ç…§æ•°æ®åº“çš„ç‹¬ç«‹æ€§æ¥åˆ’åˆ†å¾®æœåŠ¡ï¼ˆå³ï¼šè¢«å‰¥ç¦»å‡ºæ¥çš„aæ•°æ®åº“ï¼Œç†è®ºä¸Šåªæœ‰Aå¾®æœåŠ¡å¯ä»¥è°ƒç”¨ï¼Œå…¶ä»–å¾®æœåŠ¡ä¸è¡Œï¼‰2.å¯ä»¥æŒ‰ç…§å®ç°çš„åŠŸèƒ½å±‚é¢æ¥åˆ’åˆ†å¾®æœåŠ¡ï¼ˆæ ¹æ®ç®€å•çš„CRUDæ„æˆäº†ä¸€ä¸ªå¤æ‚/ç®€å•çš„åŠŸèƒ½ï¼Œå³ï¼šç‚¹æ£€é¡¹çš„é…ç½®å’Œç‚¹æ£€è®¡åˆ’çš„åˆ¶å®šï¼‰3.åœ¨æ»¡è¶³ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œä¸å»ºè®®åˆ’åˆ†è¿‡å°çš„å¾®æœåŠ¡ï¼Œä¾‹å¦‚ç®€å•çš„Cã€Rã€Uã€Dåˆ’åˆ†ä¸ºå››ä¸ªï¼Œé‚£ä¹ˆåœ¨å¾®æœåŠ¡è°ƒç”¨æ—¶å°±ä¼šå› ä¸ºè¿›ç¨‹é—´è°ƒç”¨é€ æˆæå¤§çš„é€šä¿¡æˆæœ¬ï¼Œå¦å¤–å¾®æœåŠ¡çš„æ­å»ºä¹Ÿååˆ†ç¹çï¼Œè¿™æ˜¯ä¸åˆé€‚çš„ï¼‰ å…³äºDDDåŸåˆ™åˆ’åˆ†å¾®æœåŠ¡ ä¹¦ä¸­å»ºè®®æˆ‘ä»¬ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å¾®æœåŠ¡éƒ½éœ€è¦ä½¿ç”¨DDDåŸåˆ™æ¥åˆ’åˆ†å’Œæ„å»ºã€‚**æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥åŸºäºä¸åŒè®¾è®¡æ¨¡å¼å…·æœ‰ä¸åŒå†…éƒ¨æ¶æ„ã€‚å¹¶éæ‰€æœ‰å¾®æœåŠ¡éƒ½åº”ä½¿ç”¨å…ˆè¿›çš„DDDæ¨¡å¼æ¥å®ç°ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´è¿‡åº¦è®¾è®¡ã€‚å¯¹äºç®€å•çš„CRUDç»´æŠ¤åº”ç”¨ç¨‹åºï¼Œè®¾è®¡å’Œå®ç°DDDæ¨¡å¼å¯èƒ½æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚ä½†å¯¹äºæ ¸å¿ƒé¢†åŸŸæˆ–æ ¸å¿ƒä¸šåŠ¡ï¼Œå¯èƒ½éœ€è¦åº”ç”¨æ›´å…ˆè¿›çš„æ¨¡å¼æ¥åº”å¯¹ä¸šåŠ¡è§„åˆ™ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡å¤æ‚æ€§ã€‚**æˆ‘ä»¬ä¸å¯èƒ½ç”¨â€œä¸€ç§æ¶æ„æ¨¡å¼æ¥è§£å†³æ‰€æœ‰é—®é¢˜â€ã€‚æ ¹æ®ä¼˜å…ˆçº§ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªå¾®æœåŠ¡é€‰æ‹©ä¸åŒæ–¹æ³•ã€‚ image-20201116221753802\rä¸ªäººç†è§£ï¼šæˆ‘ä»¬ä½¿ç”¨çš„ABPå››å±‚æ¡†æ¶å®é™…ä¸Šå°±æ˜¯æŒ‰ç…§DDDåŸåˆ™è¿›è¡ŒCRUDå’Œæ„å»ºå¤æ‚åŠŸèƒ½çš„æ¡†æ¶ã€‚ image-20201117160828300\råœ¨æ‹†åˆ†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥è€ƒè™‘ï¼Œæ˜¯å¦æœ‰ä¸€äº›è¢«æ‹†åˆ†å‡ºå»çš„å¾®æœåŠ¡ï¼Œå®ƒç”¨ä¸ä¸ŠDDDï¼Œè¯¸å¦‚ç®€å•çš„CRUDï¼Œä»¥åŠä¸æ¶‰åŠèšåˆæ•°æ®ã€æå–è¡¨ä¸­ç‰¹å®šæ•°æ®çš„Dtoæ„é€ ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç®€å•çš„å•å±‚æˆ–å…¶ä»–å½¢å¼æ¥è¿›è¡Œè¯¥å¾®æœåŠ¡çš„æ„å»ºï¼Œä»¥è¾¾åˆ°æœ€é€‚åˆè¯¥å¾®æœåŠ¡æ­å»ºçš„ç›®çš„ã€‚ ä½è€¦åˆ é‡ç‚¹æ˜¯æ„å»ºä½è€¦åˆçš„å¾®æœåŠ¡ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°Aå¾®æœåŠ¡åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šé¢‘ç¹çš„è°ƒç”¨Bå¾®æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šè€ƒè™‘å°†Aå¾®æœåŠ¡å’ŒBå¾®æœåŠ¡è¿›è¡Œç»„åˆã€‚ä»¥è§£è€¦æé«˜å†…èšï¼Œé™ä½é€šä¿¡æˆæœ¬ï¼Œé™ä½å‡ºç°æ•…éšœçš„å¯èƒ½ã€‚ å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥ ","date":"2020-11-17T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.17%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%92%E5%88%86%E5%8E%9F%E5%88%99/","title":"å¾®æœåŠ¡2020.11.17å¾®æœåŠ¡åˆ’åˆ†åŸåˆ™"},{"content":"2020.11.16å¾®æœåŠ¡ç»§ç»­å­¦ä¹  Dockeræ•°æ®å·æŠ€æœ¯ æ•°æ®å·æ˜¯æŒ‡ä»ä¸»æœºæ“ä½œç³»ç»Ÿæ˜ å°„åˆ°å®¹å™¨çš„ç›®å½•ã€‚å½“å®¹å™¨ä¸­çš„ä»£ç è®¿é—®è¿™äº›ç›®å½•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ã€‚è¿™äº›ç›®å½•å¹¶æ²¡æœ‰ç»‘å®šåˆ°å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒä»¬èƒ½è¢«ç›´æ¥è¿è¡Œåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„ä»£ç è®¿é—®ï¼Œæˆ–è¢«å…¶ä»–åŒæ ·æ˜ å°„äº†è¯¥ç›®å½•çš„å®¹å™¨è®¿é—®ã€‚å› æ­¤ï¼Œæ•°æ®å·æŒ‰ç…§è®¾è®¡å¯ç‹¬ç«‹äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¥å®ç°æ•°æ®çš„æŒä¹…å­˜å‚¨ã€‚å¦‚æœä»dockerä¸»æœºåˆ é™¤å®¹å™¨æˆ–é•œåƒï¼Œæ•°æ®å·ä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶ä¸­çš„æ•°æ®ä¾ç„¶èƒ½ä»ä¸»æœºæ“ä½œç³»ç»Ÿè®¿é—®ã€‚\nå¾®æœåŠ¡æ¶æ„ æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£å®ç°ä¸€ä¸ªç‰¹å®šçš„ç«¯åˆ°ç«¯é¢†åŸŸï¼Œæˆ–æœ‰ç€ç¡®å®šè¾¹ç•Œçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡å¿…é¡»èƒ½ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥æ‹¥æœ‰è‡ªå·±ç‰¹å®šçš„é¢†åŸŸæ•°æ®æ¨¡å‹å’Œé¢†åŸŸé€»è¾‘ï¼ˆè‡ªæ²»å’Œå»ä¸­å¿ƒåŒ–çš„æ•°æ®ç®¡ç†ï¼‰ï¼Œå®ƒä»¬æ˜¯åŸºäºä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼ˆSQLã€NoSQLï¼‰å’Œä¸åŒç¼–ç¨‹è¯­è¨€å®ç°çš„ã€‚\né‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„æœåŠ¡ï¼Œåªè¦å®ƒä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥ä½¿å®ƒä»¬å°½å¯èƒ½åœ°å°ã€‚\nå¾®æœåŠ¡æ¶æ„æä¾›äº†é•¿æœŸçš„æ•æ·æ€§ï¼Œå¾®æœåŠ¡å¯ä»¥åŸºäºå¤šä¸ªç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡æ¥åˆ›å»ºåº”ç”¨ã€‚\nå¾®æœåŠ¡å¦ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚è€Œä¸æ˜¯ä¸€èµ·å°†æœ¬ä¸éœ€è¦æ‰©å±•çš„å…¶ä»–åŠŸèƒ½åŒºåŸŸä¹Ÿè¿›è¡Œæ‰©å±•ã€‚éš¾ç‚¹ï¼šå¦‚ä½•åœ¨å¤šä¸ªå±‚çº§è®¾è®¡å¹¶å®ç°å®‰å…¨æ€§ï¼šè®¤è¯ã€æˆæƒã€å¯†æ–‡å¯†ç ç®¡ç†å’Œå®‰å…¨é€šä¿¡ç­‰ã€‚\nå¾®æœåŠ¡çš„æ•°æ®è‡ªæ²» Aä¸Bå­ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨Cå®ä½“çš„å±æ€§å’Œæ•°æ®ï¼Œè€Œå®ƒä»¬æ˜¯éš¶å±äºä¸åŒä¸Šä¸‹æ–‡è¾¹ç•Œçš„ã€‚è¿™æ ·çš„åŸåˆ™åœ¨DDDé‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯ä¸ªé™ç•Œä¸Šä¸‹æ–‡ã€è‡ªæ²»çš„å­ç³»ç»Ÿæˆ–æœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸæ¨¡å‹ï¼ˆæ•°æ®+é€»è¾‘+è¡Œä¸ºï¼‰ã€‚\nä¸­å¿ƒåŒ–æ•°æ®åº“ï¼šåŒä¸€å¼ åœ°å›¾æ»¡è¶³å¾’æ­¥æ—…è¡Œã€é•¿é€”æ±½è½¦æ—…è¡Œå’Œå­¦ä¹ åœ°ç†çŸ¥è¯†çš„éœ€æ±‚ï¼›éƒ½æ”¯æŒACIDåŸåˆ™å’ŒSQLè¯­è¨€ã€‚\nå½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ï¼Œè¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQlè¿æ¥è¦å¤æ‚çš„å¤šï¼ŒåŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚\nåŸºäºå¾®æœåŠ¡çš„åº”ç”¨é€šå¸¸ä¼šæ··åˆä½¿ç”¨SQLå’ŒNoSQLæ•°æ®åº“ï¼Œè¿™ç§åšæ³•æœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ··åˆæ•°æ®æŒä¹…åŒ–ã€‚\nå¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³» æ¯ä¸ªBCå¿…é¡»æœ‰è‡ªå·±çš„æ¨¡å‹å’Œæ•°æ®åº“ã€‚\né€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„ ç¡®å®šäº†ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡ï¼Œä½†ä¸æ„å‘³è¿™æœ€ä½³å®ç°æ–¹å¼å°±æ˜¯ä¸ºæ¯ä¸ªä¸šåŠ¡å¾®æœåŠ¡åˆ›å»ºå•ç‹¬çš„æœåŠ¡ï¼ˆä¾‹å¦‚ä½œä¸ºä¸€ä¸ªASP.NET Web APIï¼‰æˆ–å•ç‹¬çš„Dockerå®¹å™¨ã€‚\nä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡å¿…é¡»è‡ªä¸»åœ°è¿›è¡Œä»£ç å’ŒçŠ¶æ€çš„ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚\nåˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼š å…³æ³¨åº”ç”¨çš„é€»è¾‘é¢†åŸŸæ¨¡å‹å’Œç›¸å…³æ•°æ®\nåˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼š éœ€è¦ä¸€ç§æ–¹å¼æ¥èšåˆä¿¡æ¯ï¼›\nAPIç½‘å…³ã€CQRSæŸ¥è¯¢/è¯»å–è¡¨ï¼šæ­¤æ—¶å¤æ‚çš„æŸ¥è¯¢å°†å˜æˆå·¨å¤§çš„æŒ‘æˆ˜ï¼Œä¸ºæ­¤å¯ä»¥ä½¿ç”¨CQRSæ–¹æ¡ˆï¼šåœ¨ä¸åŒæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåªç”¨ä½œæŸ¥è¯¢çš„éè§„èŒƒè¡¨ï¼Œè¿™ç§æ–¹å¼ä¸ä»…è§£å†³äº†æœ€åˆçš„é—®é¢˜ï¼ˆå¦‚ä½•è·¨å¾®æœåŠ¡æŸ¥è¯¢å’Œè”æ¥ï¼‰ï¼Œä¸å¤æ‚çš„SQLè”æ¥è¯­å¥ç›¸æ¯”è¿˜èƒ½è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå› ä¸ºåº”ç”¨æ‰€éœ€çš„æ•°æ®å·²ç»åœ¨æŸ¥è¯¢è¡¨é‡Œäº†ï¼›\nä¸­å¿ƒæ•°æ®åº“çš„â€œå†·æ•°æ®â€ï¼šå°†â€œçƒ­æ•°æ®â€å¯¼å‡ºä¸ºâ€œå†·æ•°æ®â€å‚¨å­˜åˆ°æŠ¥è¡¨ä¸“ç”¨çš„å¤§å‹æ•°æ®åº“ä¸­ã€‚ä¸ºäº†åŒæ­¥æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå¦‚æœä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡çš„æ–¹å¼ï¼Œæ•´åˆæµç¨‹å°†ä¸ä¸Šæ–‡æåˆ°çš„ä½¿ç”¨CQRSæŸ¥è¯¢è¡¨è·å–æ•°æ®çš„æ–¹å¼ç›¸ä¼¼ã€‚\nç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šéœ€è¦ä¸æ–­ä»å¤šä¸ªå¾®æœåŠ¡é‡Œè¿›è¡Œèšåˆæ•°æ®å¹¶è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œé‚£ä¹ˆé€šå¸¸åœ¨é‡åˆ°æ­¤ç±»é—®é¢˜åï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šè€ƒè™‘åˆå¹¶å¾®æœåŠ¡ã€‚\nåœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§ ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œå¦‚é›†æˆäº‹ä»¶ï¼ˆæ¶ˆæ¯å’ŒåŸºäºäº‹ä»¶çš„é€šä¿¡ï¼‰çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚æ ¹æ®CAPç†è®ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç”¨æ€§å’Œå¼ºACIDä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰ã€‚å¤§å¤šæ•°å¾®æœåŠ¡åœºæ™¯è¦æ±‚é«˜å¯ç”¨æ€§å’Œé«˜æ‰©å±•æ€§ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¼±ä¸€è‡´æ€§æˆ–æœ€ç»ˆä¸€è‡´æ€§çš„æŠ€æœ¯æ¥åšåˆ°å¼ºä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„æ¶æ„æ‰€é‡‡å–çš„æ–¹æ³•ã€‚\næ­¤å¤–ï¼ŒACIDé£æ ¼æˆ–ä¸¤æ­¥å¼æäº¤äº‹åŠ¡è¿èƒŒäº†å¾®æœåŠ¡åŸåˆ™ï¼Œè·¨æœåŠ¡å’Œæ•°æ®åº“ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§éå¸¸é‡è¦ã€‚éœ€è¦åœ¨å¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡å’Œå‘å¸ƒè®¢é˜…ç³»ç»Ÿæ¥å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚\nåœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ åœ¨å¤šä¸ªå¾®æœåŠ¡é—´åˆ›å»ºäº†é•¿ä¸²çš„åŒæ­¥HTTPè°ƒç”¨ï¼Œåº”ç”¨æœ€ç»ˆå°†ä¼šç¢°åˆ°é—®é¢˜ï¼šé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ã€‚\nå› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€ç§äº‰è®®ï¼šè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œå®ƒçš„è¿›ç¨‹é—´æ˜¯åŸºäºHTTPçš„ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚\nä¸ºäº†ä¿ƒè¿›å¾®æœåŠ¡çš„è‡ªæ²»å¹¶è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œåº”è¯¥å‡å°‘ä½¿ç”¨è·¨æœåŠ¡çš„é“¾å¼è¯·æ±‚/å“åº”é€šä¿¡ã€‚å»ºè®®å¾®æœåŠ¡é—´çš„é€šä¿¡åªä½¿ç”¨å¼‚æ­¥äº¤äº’ï¼Œä¾‹å¦‚ä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ã€‚\nè¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ è™½ç„¶å¾®æœåŠ¡åº”è¯¥å°½å¯èƒ½åœ°è¶‹å‘äºå°å‹åŒ–ï¼Œä½†è¯†åˆ«æ¯ä¸ªå¾®æœåŠ¡çš„æ¨¡å‹è¾¹ç•Œä¸æ˜¯ä¸ºäº†å°½å¯èƒ½æ‹†æˆç»†ç²’åº¦ï¼Œè€Œæ˜¯æ ¹æ®é¢†åŸŸçŸ¥è¯†æ¥è¿›è¡Œæœ€æœ‰æ„ä¹‰çš„åˆ’åˆ†ã€‚é‡ç‚¹ä¸åœ¨äºå¤§å°ï¼Œè€Œåœ¨äºä¸šåŠ¡éœ€è¦ã€‚å¦å¤–ï¼Œå¦‚æœå› ä¸ºå­˜åœ¨åºå¤§å¤æ‚çš„ä¾èµ–å…³ç³»è€Œè¦æ±‚åº”ç”¨çš„æŸä¸ªé¢†åŸŸæœ‰æ¸…æ™°çš„ä¸€è‡´æ€§çš„éœ€æ±‚ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜è¯¥é¢†åŸŸåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚\nå› æ­¤ï¼ŒBCä¼šå¸®åŠ©æ¾„æ¸…å“ªé‡Œéœ€è¦ç‰¹å®šçš„é¢†åŸŸæœ¯è¯­ï¼Œä»¥åŠå“ªé‡Œéœ€è¦æŠŠç³»ç»Ÿæ‹†åˆ†æˆé¢å¤–çš„ä¸åŒé¢†åŸŸBCã€‚\nç„¶è€Œä¹Ÿæœ‰äº›å…·æœ‰ä¸åŒå½¢æ€ä½†å´å…±ç”¨ç›¸åŒæ ‡è¯†çš„å®ä½“ï¼Œå®ƒä»¬å­˜åœ¨äºå¤šä¸ªå¾®æœåŠ¡æ‰€åŒ…å«çš„å¤šä¸ªé¢†åŸŸæ¨¡å‹ä¸­ã€‚ä¾‹å¦‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“ï¼Œè¯¥å®ä½“æ‰€å¯¹åº”çš„åŒä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨è®¢å•å¾®æœåŠ¡é‡Œè¢«ç§°ä¸ºä¹°å®¶ï¼Œåœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œåä¸ºä»˜æ¬¾æ–¹ï¼Œè€Œåœ¨å®¢æˆ·æœåŠ¡å¾®æœåŠ¡é‡Œç§°ä½œå®¢æˆ·ã€‚è¿™æ˜¯å› ä¸ºåŸºäºæ¯ä¸ªé¢†åŸŸä¸“å®¶ä½¿ç”¨çš„é€šç”¨è¯­è¨€ï¼Œä¼šå¯¹åŒä¸€ä¸ªç”¨æˆ·æœ‰ä¸åŒè§†è§’ï¼Œç”šè‡³åŒ…å«ä¸åŒå±æ€§ã€‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡é‡Œçš„ç”¨æˆ·å®ä½“åº”è¯¥åŒ…å«æœ€å¤šçš„ä¸ªäººæ•°æ®å±æ€§ï¼Œä½†æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œçš„ä¹°å®¶æ ‡è¯†å’Œå®¢æˆ·æœåŠ¡é‡Œçš„å®¢æˆ·æ ‡è¯†å°±ä¸éœ€è¦é‚£ä¹ˆå¤šå±æ€§äº†ã€‚\næ¯ä¸ªé¢†åŸŸæ¨¡å‹é‡Œçš„ç”¨æˆ·å®ä½“å¯èƒ½æœ‰ä¸åŒçš„è¡¥å……ç»†èŠ‚ã€‚å› æ­¤éœ€è¦æŸç§æ–¹å¼æŠŠä¸€ä¸ªé¢†åŸŸçš„ç”¨æˆ·å®ä½“æ˜ å°„åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸­ã€‚\nå®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’ŒAPIç½‘å…³æ¨¡å¼ ç›´è¿æœ‰å¼Šç«¯ï¼šå¦‚ä½•å¤„ç†è·¨ç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚æˆæƒã€æ•°æ®ä¼ è¾“å’ŒåŠ¨æ€è¯·æ±‚æ´¾å‘ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ç°å®‰å…¨å’Œç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ€§å’Œæˆæƒæœºåˆ¶ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›æœåŠ¡æ”¾è¿›Dockerä¸»æœºæˆ–å†…éƒ¨é›†ç¾¤ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªä¸­é—´ä½ç½®ï¼Œä¾‹å¦‚APIç½‘å…³æ¥è§£å†³è·¨ç•Œé™é—®é¢˜ã€‚\næœ‰æ—¶è¦ä»å“åº”ä¸­å»æ‰ç§»åŠ¨ç«¯ä¸éœ€è¦çš„æ•°æ®ï¼Œè¿˜è¦å‹ç¼©æ•°æ®ï¼Œæ‰€ä»¥è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨å¤–è§‚æ¨¡å¼æˆ–APIå°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ã€‚\nä½¿ç”¨APIç½‘å…³ï¼š\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€çš„è‡ªå®šä¹‰APIç½‘å…³æœåŠ¡æ¥é¢å¯¹å¤šä¸ªä¸åŒå®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†è¿™ä¼šé€ æˆå·¨å¤§çš„é£é™©ï¼Œå› ä¸ºAPIç½‘å…³æœåŠ¡ä¼šéšç€å®¢æˆ·ç«¯åº”ç”¨éœ€æ±‚çš„å˜åŒ–è€Œå¢é•¿å¹¶æ¼”åŒ–ï¼Œæœ€ç»ˆå®ƒä¼šå› ä¸ºéœ€æ±‚çš„å˜åŒ–è€Œå˜å¾—è‡ƒè‚¿ï¼Œåœ¨æ•ˆæœä¸Šå°†ä¼šç­‰åŒäºå•ä½“åº”ç”¨æˆ–æœåŠ¡ã€‚å› æ­¤æˆ‘ä»¬æåŠ›æ¨èå°†APIç½‘å…³æ‹†åˆ†æˆå¤šä¸ªæœåŠ¡æˆ–è€…å°å‹çš„APIç½‘å…³ï¼Œæ¯ä¸ªAPIç½‘å…³éƒ½æœ‰è‡ªå·±çš„å½¢å¼ã€‚\næˆ‘ä»¬åº”è¯¥åˆ›å»ºå¤šä¸ªAPIç½‘å…³ï¼Œä»¥ä¾¿ä¸ºæ¯ç§å®¢æˆ·ç«¯éœ€æ±‚å®ç°ä¸åŒå¤–è§‚ï¼Œç•¥æœ‰å·®å¼‚çš„APIï¼Œç”šè‡³å¯èƒ½åŸºäºå®¢æˆ·ç«¯å±•ç°å½¢å¼æˆ–è®¾å¤‡æ¥å®ç°ç‰¹å®šçš„é€‚é…ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨åº•å±‚è°ƒç”¨å¤šä¸ªå†…éƒ¨çš„å¾®æœåŠ¡ã€‚\né€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªAPIç½‘å…³å°†åº”ç”¨ä¸­æ‰€æœ‰å†…éƒ¨å¾®æœåŠ¡èšåˆåœ¨ä¸€èµ·ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜æ™ºã€‚å› æ­¤ï¼ŒAPIç½‘å…³åº”è¯¥åŸºäºä¸šåŠ¡è¾¹ç•Œæ¥æ‹†åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„ä¸€ä¸ªèšåˆå™¨ã€‚\nåœ¨è¿™å•ç‹¬çš„ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿‡æ»¤å†…éƒ¨å¾®æœåŠ¡çš„APIï¼Œæˆ–è€…åœ¨å·²å‘å¸ƒçš„APIä¸Šæ·»åŠ æˆæƒã€‚\nç½‘å…³æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šå¦‚æœAPIç½‘å…³åŒ…å«è‡ªå®šä¹‰é€»è¾‘å’Œæ•°æ®é›†æˆï¼Œå°±ä¼šè¦æ±‚é¢å¤–çš„å¼€å‘æˆæœ¬å’Œæœªæ¥çš„ç»´æŠ¤æˆæœ¬ã€‚å¦‚æœAPIç½‘å…³åªä½¿ç”¨äº†å®‰å…¨æ€§ã€æ—¥å¿—ç®¡ç†å’Œç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›é¢å¤–çš„å¼€å‘å·¥ä½œä¾¿ä¸ä¼šå‘ç”Ÿã€‚\nå¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ é€šä¿¡ç±»å‹ å®¢æˆ·ç«¯ä»£ç æˆ–æ¶ˆæ¯å‘é€è€…é€šå¸¸ä¸éœ€è¦ç­‰å¾…å“åº”ï¼Œåªè¦æŠŠæ¶ˆæ¯å‘é€ç»™RabbitMQé˜Ÿåˆ—æˆ–å…¶ä»–æ¶ˆæ¯ä»£ç†å³å¯ã€‚\nä¾‹å¦‚äº‹ä»¶é©±åŠ¨æ¶æ„é‡Œçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚\nå¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²» å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥ï¼Œå¾®æœåŠ¡é—´é€šè¿‡å¼‚æ­¥ä¼ è¾“æ¥é€šä¿¡ï¼Œä½†ä¸è¦ä¾èµ–äºå…¶ä»–å†…éƒ¨å¾®æœåŠ¡ä½œä¸ºè‡ªå·±HTTPè¯·æ±‚/å“åº”çš„ä¸€éƒ¨åˆ†ã€‚\næ¯ä¸ªå¾®æœåŠ¡åº”ä»¥è‡ªæ²»ä»¥åŠå¯¹å®¢æˆ·ç«¯å¯ç”¨ä¸ºç›®æ ‡ï¼Œå³ä½¿ä½œä¸ºç«¯åˆ°ç«¯åº”ç”¨ä¸€éƒ¨åˆ†çš„å…¶ä»–æœåŠ¡å‘ç”Ÿæ•…éšœæˆ–ä¸ç¨³å®šä¹Ÿåº”å¦‚æ­¤ã€‚å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¾®æœåŠ¡è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ï¼ˆå¦‚å‘èµ·HTTPè¯·æ±‚æ¥æŸ¥è¯¢æ•°æ®ï¼‰ä¸ºå®¢æˆ·ç«¯åº”ç”¨æä¾›å“åº”ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ¶æ„åœ¨å…¶å®ƒå¾®æœåŠ¡å‘ç”Ÿæ•…éšœæ—¶å°±å˜å¾—ä¸ç¨³å®šã€‚\nå¦‚æœæœ€åˆçš„å¾®æœåŠ¡éœ€è¦åŸæœ¬åœ¨åˆ«çš„å¾®æœåŠ¡é‡Œæ‹¥æœ‰çš„æ•°æ®ï¼Œä¸è¦ä¾é åŒæ­¥è¯·æ±‚æ¥è·å–æ•°æ®ã€‚è€Œæ˜¯é€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ï¼ˆé€šå¸¸é€šè¿‡é›†æˆäº‹ä»¶ï¼‰æ–¹å¼æ¥å¤åˆ¶æˆ–ä¼ è¾“è¿™äº›æ•°æ®åˆ°æœ€åˆçš„å¾®æœåŠ¡çš„æ•°æ®åº“ä¸­ã€‚\nä¸ºäº†è·å¾—æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åè®®åœ¨å¾®æœåŠ¡ä¹‹é—´å¼‚æ­¥åœ°é€šä¿¡æ¥è·å–æ•°æ®ã€‚é‡ç‚¹åœ¨äºï¼šä¸è¦åœ¨å¾®æœåŠ¡é—´åˆ›å»ºåŒæ­¥ä¾èµ–ã€‚\nå¼‚æ­¥æ¶ˆæ¯é€šä¿¡ è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡ä»¥åŠç›¸å…³é¢†åŸŸæ¨¡å‹ä¼ é€å˜åŒ–æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡è‡³å…³é‡è¦ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚\nå°½å¯èƒ½éµå¾ªå¦ä¸€ä¸ªè§„åˆ™ï¼šåªåœ¨å†…éƒ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œåªåœ¨ä»å®¢æˆ·ç«¯åº”ç”¨åˆ°å‰ç«¯æœåŠ¡ï¼ˆAPIç½‘å…³\nåŠ ä¸Šç¬¬ä¸€çº§å¾®æœåŠ¡ï¼‰é—´ä½¿ç”¨åŒæ­¥é€šä¿¡ã€‚\nå¤šæ¥å—è€…æ¶ˆæ¯é€šä¿¡\nä½¿ç”¨å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼›å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼›\nåˆ›å»ºã€æ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡APIçš„ç‰ˆæœ¬å’Œå¥‘çº¦ å³ä¾¿åˆå§‹ç‰ˆæœ¬çš„å¥‘çº¦å·²ç»è€ƒè™‘çš„å¾ˆå‘¨å…¨äº†ï¼Œéšç€æ—¶é—´å‘å±•ï¼ŒæœåŠ¡çš„APIä¹Ÿå¯èƒ½éœ€è¦æ”¹å˜ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°¤å…¶æ˜¯è¢«å¤šä¸ªå®¢æˆ·ç«¯åº”ç”¨è°ƒç”¨çš„å…¬å…±APIï¼Œé€šå¸¸æ— æ³•å¼ºåˆ¶æ‰€æœ‰å®¢æˆ·ç«¯å‡çº§åˆ°æ–°çš„APIå¥‘çº¦ã€‚é€šå¸¸è¿™éœ€è¦å¢é‡éƒ¨ç½²æœåŠ¡çš„æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè¦è®©è€ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬æœåŠ¡å¥‘çº¦åŒæ—¶è¿è¡Œã€‚å› æ­¤ï¼ŒæœåŠ¡çš„ç‰ˆæœ¬ç­–ç•¥å¾ˆé‡è¦ã€‚\næœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡APIè¿›è¡Œä¸å…¼å®¹çš„å¤§ç‰ˆæœ¬æ›´æ–°ã€‚å› ä¸ºä¸èƒ½å¼ºåˆ¶å®¢æˆ·ç«¯åº”ç”¨æˆ–æœåŠ¡ç«‹åˆ»å‡çº§åˆ°æ–°ç‰ˆï¼ŒæœåŠ¡ç«¯å¿…é¡»æ”¯æŒè€ç‰ˆæœ¬ç»§ç»­è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½¿ç”¨åŸºäºHTTPçš„æœºåˆ¶ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠAPIçš„ç‰ˆæœ¬å·åµŒå…¥URLæˆ–HTTPå¤´éƒ¨ã€‚ç„¶åå¯ä»¥å†³å®šæ˜¯åœ¨ä¸€ä¸ªæœåŠ¡é‡ŒåŒæ—¶å®ç°ä¸¤ä¸ªç‰ˆæœ¬çš„APIï¼Œæˆ–æ˜¯éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¥å„è‡ªå¤„ç†ä¸€ä¸ªç‰ˆæœ¬çš„APIã€‚æ­¤æ—¶ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•æ˜¯é‡‡ç”¨ä¸­ä»‹è€…æ¨¡å¼å¦‚MediaRåº“å°†ä¸åŒç‰ˆæœ¬çš„å®ç°ç”¨ä¸åŒçš„å¤„ç†å™¨æ¥å¤„ç†ã€‚Hypermediaæ˜¯ç”¨æ¥è¿›è¡ŒæœåŠ¡ç‰ˆæœ¬åŒ–å’Œæ”¹è¿›çš„æœ€ä½³é€‰æ‹©ã€‚\nå¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ ä½¿ç”¨Marathonå’ŒKuberneteså’ŒDC/Oså¤„ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œæ’¤é”€ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯Service Fabricï¼Œå®ƒä¹Ÿæä¾›äº†å¼€ç®±æœºç”¨çš„å‘½åæœåŠ¡æ¥å®ç°æœåŠ¡æ³¨å†Œã€‚\nåˆ›å»ºåŸºäºå¤šä¸ªå¾®æœåŠ¡ç»„åˆç•Œé¢ï¼Œå…¶ä¸­åŒ…æ‹¬ç”±å¾®æœåŠ¡ç”Ÿæˆçš„å¯è§†åŒ–UIå¤–è§‚å’Œå¸ƒå±€ å¾®æœåŠ¡æ¶æ„é€šå¸¸å§‹äºæœåŠ¡ç«¯çš„æ•°æ®å¤„ç†å’Œé€»è¾‘ã€‚ä½†ä¸€ç§æ›´å…ˆè¿›çš„æ–¹å¼æ˜¯è®¾è®¡åŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç•Œé¢ï¼Œè¿™ä»¥ä¸ºè¿™æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªç”±å¤šä¸ªå¾®æœåŠ¡ç”Ÿæˆçš„ç»„åˆç•Œé¢ï¼Œè€Œä¸æ˜¯ç”±ä¸€ä¸ªå•ä½“å®¢æˆ·ç«¯åº”ç”¨æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„å¾®æœåŠ¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼çš„å¾®æœåŠ¡èƒ½å¤Ÿå®Œæ•´åœ°åŒ…æ‹¬é€»è¾‘å’Œå¯è§†åŒ–å±•ç°ã€‚\nå•ä½“å®¢æˆ·å•è°ƒç”¨å¤šä¸ªå¾®æœåŠ¡çš„è¿‡ç¨‹ï¼Œè¿™äº›å¾®æœåŠ¡ä»…ä»…å…³æ³¨é€»è¾‘å’Œæ•°æ®ï¼Œè€Œä¸å…³æ³¨ç•Œé¢å±•ç°ã€‚\nå¾®æœåŠ¡çš„é€‚åº”æ€§å’Œé«˜å¯ç”¨æ€§ æ„å¤–æ•…éšœçš„å¤„ç†æ˜¯ä¸ªå¤§éš¾é¢˜ã€‚äº‘ç«¯ç³»ç»Ÿå¿…é¡»èƒ½å¤Ÿæ¥å—æ•…éšœå¹¶å°è¯•è‡ªåŠ¨ä»æ•…éšœä¸­æ¢å¤ã€‚é€šè¿‡ç­–ç•¥é‡æ–°å‘é€æ¶ˆæ¯æˆ–é‡æ–°å‘èµ·è¯·æ±‚ï¼Œä½¿ç”¨è¯¸å¦‚Pollyåº“çš„æ–­è·¯å™¨ã€‚\nå¾®æœåŠ¡çš„è¿è¡ŒçŠ¶å†µç®¡ç†å’Œè¯Šæ–­ å¾®æœåŠ¡å¿…é¡»æŠ¥å‘Šä»–çš„è¿è¡ŒçŠ¶æ€å’Œè¯Šæ–­ä¿¡æ¯ï¼Œé‡‡ç”¨åŒæ„çš„ç»Ÿä¸€æ—¥å¿—æ ¼å¼ã€‚ä½¿ç”¨healthchecksåº“ï¼Œä»¥ä¾¿å¾®æœåŠ¡èƒ½å‘ç›‘æ§æœåŠ¡æŠ¥å‘ŠçŠ¶æ€æ¥æ‰§è¡Œåˆé€‚çš„æ“ä½œã€‚\nç¼–æ’å¼•æ“ç®¡ç†è¿è¡ŒçŠ¶å†µå’Œè¯Šæ–­ä¿¡æ¯ ç¨³å®šçš„åä½œç³»ç»Ÿï¼Œä¸ä»…è¦åˆ›å»ºå¾®æœåŠ¡æ¶æ„ï¼Œè¿˜éœ€è¦å…·å¤‡é«˜å¯ç”¨æ€§ã€å¯å¯»å€èƒ½åŠ›ã€é€‚åº”æ€§ã€è¿è¡ŒçŠ¶å†µå’Œè¯Šæ–­æœºåˆ¶ç­‰ã€‚\nç¼–æ’é«˜æ‰©å±•å’Œé«˜å¯ç”¨çš„å¤šå®¹å™¨å¾®æœåŠ¡ å¿…é¡»ä½¿ç”¨ç¼–æ’å¼•æ“ã€‚ç»„åˆåº”ç”¨çš„è´Ÿè½½å‡è¡¡ã€è·¯ç”±å’Œç¼–æ’ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½æŒ‰éœ€è‡ªåŠ¨å¯åŠ¨ã€æŒ‚èµ·æˆ–å…³é—­å®¹å™¨çš„ç®¡ç†å¹³å°ï¼Œç†æƒ³æƒ…å†µä¸‹è¿˜è¦èƒ½æ§åˆ¶èµ„æºçš„è®¿é—®ï¼ˆä¾‹å¦‚ç½‘ç»œå’Œæ•°æ®å­˜å‚¨ï¼‰ã€‚\né›†ç¾¤å’Œç¼–æ’å¼•æ“ï¼›è°ƒåº¦å™¨ï¼›Docker Swarm\nimage-20201116212838790\rimage-20201116212959369\rç¬¬å…­ç«  åº”è¯¥é€šè¿‡åŠŸèƒ½æ¥åˆ’åˆ†å¾®æœåŠ¡ï¼šå¾®æœåŠ¡åº”è¯¥å½¼æ­¤ç‹¬ç«‹ï¼Œå¦‚æœä¸èƒ½äº¤ä»˜ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºåŠŸèƒ½å—ï¼Œé‚£ä¹ˆåˆ’åˆ†åªèƒ½å¢åŠ å¤æ‚æ€§ã€‚\næˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªå•ä½“åº”ç”¨ç¨‹åºï¼Œä»¥åå†åˆ’åˆ†æˆè‹¥å¹²åŠŸèƒ½ï¼Œå¼€å‘å¹¶éƒ¨ç½²æˆå¾®æœåŠ¡ã€‚\næŠŠåº”ç”¨ç¨‹åºåˆ’åˆ†æˆå¤šä¸ªç¦»æ•£çš„è¿›ç¨‹è¿˜ä¼šå¸¦æ¥å¼€é”€æ–¹é¢çš„é—®é¢˜ã€‚è€ŒæŠŠåŠŸèƒ½åˆ’åˆ†æˆå¤šä¸ªä¸åŒè¿›ç¨‹ä¼šè¿›ä¸€æ­¥å¢åŠ å¤æ‚æ€§ï¼Œé€šä¿¡åè®®ä¹Ÿä¼šå˜å¾—æ›´å¤æ‚ï¼Œå¿…é¡»åœ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥é€šä¿¡ï¼Œäº‹ä»¶æ€»çº¿å¤„ç†ã€å¼¹æ€§æ¶ˆæ¯å’Œé‡è¯•ï¼Œæœ€ç»ˆä¸€è‡´æ€§ç­‰ã€‚\nDockeræ”¯æŒ å³é”®é¡¹ç›®ï¼Œç‚¹å‡»Addï¼Œç„¶åé€‰æ‹©docker supportå³å¯ã€‚è¿™ä¸ªæ¨¡ç‰ˆä¼šç»™é¡¹ç›®æ·»åŠ ä¸€ä¸ªdockerfileï¼ŒåŒæ—¶è¿˜ä¼šæ·»åŠ ä¸€ä¸ªæ–°çš„docker-composeé¡¹ç›®ï¼Œå®ƒæä¾›äº†åˆå§‹çš„docker-compose.ymlæ–‡ä»¶ã€‚\nç¬¬ä¸ƒç«  å°†ä¼ ç»Ÿçš„å•ä½“.NET Frameworkåº”ç”¨ç¨‹åºè¿ç§»åˆ°Windowså®¹å™¨ä¸­ å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›åº”ç”¨ç¨‹åºä¾èµ–çš„å¾®æœåŠ¡ä¹Ÿè¿è¡Œåœ¨åŒä¸€å°Dockerä¸»æœºæˆ–Swarmä¸Šï¼Œè¿™æ ·å¯ä»¥è®©å¼€å‘å·¥ä½œå˜å¾—æ›´å®¹æ˜“ä¸€äº›ï¼ŒåŒæ—¶å¯ä»¥é™ä½ç½‘ç»œå»¶è¿Ÿã€‚åœ¨è¿™æ ·çš„é…ç½®ä¸­ï¼Œå¾®æœåŠ¡å®ä¾‹ä¸ç”¨æˆ·æŒä¹…åŒ–æ•°æ®å­˜å‚¨çš„é«˜å¯ç”¨æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æˆæœ¬æ˜¯å”¯ä¸€çš„é€šä¿¡æˆæœ¬ã€‚\nç¬¬å…«ç«  åº”ç”¨è§„èŒƒ è¿”å›HTML /JSON / XMLå“åº”ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚åº”ç”¨ç¨‹åºæ”¯æŒå„ç§å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬æ¡Œé¢æµè§ˆå™¨ã€webåº”ç”¨ç¨‹åºã€ç§»åŠ¨webåº”ç”¨ç¨‹åºå’ŒåŸç”Ÿç§»åŠ¨åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºå¯èƒ½ä¼šæš´éœ²APIä¾›ç¬¬ä¸‰æ–¹ä½¿ç”¨ï¼Œä»–è¿˜èƒ½å¼‚æ­¥é›†æˆå¾®æœåŠ¡æˆ–å¤–éƒ¨åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿åœ¨å±€éƒ¨æ•…éšœçš„æƒ…å†µä¸‹è®©å¾®æœåŠ¡é¡ºåˆ©æ¢å¤ã€‚\nåº”ç”¨ç¨‹åºç”±ä¸‹åˆ—ç±»å‹çš„ç»„ä»¶ç»„æˆï¼š\nå±•ç¤ºç»„ä»¶ åº”ç”¨ç¨‹åºä¸šåŠ¡é€»è¾‘ æ•°æ®åº“è®¿é—®é€»è¾‘ åº”ç”¨é›†æˆé€»è¾‘ ä¸»è¦åŸºäºæ¶ˆæ¯ä»£ç†çš„æ¶ˆæ¯é€šé“ åº”ç”¨ç¨‹åºéœ€è¦å…·å¤‡è¾ƒé«˜çš„å¯æ‰©å±•æ€§ï¼ŒåŒæ—¶å…è®¸å…¶å‚ç›´å­ç³»ç»Ÿè‡ªåŠ¨æ‰©å±•ï¼Œå¿…é¡»èƒ½å¤Ÿéƒ¨ç½²åœ¨å¤šç§åŸºç¡€è®¾æ–½ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”æœ€å¥½åº”è¯¥æ˜¯è·¨å¹³å°çš„ã€‚\né€‰æ‹©æ¶æ„ å°½å¯èƒ½ä½¿ç”¨å¼‚æ­¥æ–¹å¼\nå¾®æœåŠ¡å¼€å‘å’Œéƒ¨ç½²ä¸ºå½¼æ­¤ç‹¬ç«‹çš„å®¹å™¨ã€‚è¿™æ„å‘³ç€å¼€å‘å›¢é˜Ÿå¯ä»¥åœ¨ä¸å½±å“å…¶ä»–å­ç³»ç»Ÿçš„æƒ…å†µä¸‹å¼€å‘å’Œéƒ¨ç½²æŸä¸ªå¾®æœåŠ¡ã€‚\næ¯ä¸ªå¾®æœåŠ¡æœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œå¹¶ä¸å…¶ä»–å¾®æœåŠ¡å®Œå…¨è§£è€¦ã€‚å¿…è¦æ—¶ï¼Œä½¿ç”¨åº”ç”¨ç¨‹åºçº§é›†æˆäº‹ä»¶ï¼ˆé€šè¿‡é€»è¾‘äº‹ä»¶æ€»çº¿ï¼‰ï¼Œå¦‚å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼ˆCQRSï¼‰å®ç°æ¥è‡ªä¸åŒå¾®æœåŠ¡çš„æ•°æ®åº“é—´ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œä¸šåŠ¡çº¦æŸå¿…é¡»åŒ…å«å¤šä¸ªå¾®æœåŠ¡å’Œç›¸å…³æ•°æ®åº“ä¹‹é—´çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚\nimage-20201116215344205\ré€šä¿¡æ¶æ„ å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡çš„ç›´æ¥é€šä¿¡ å¼‚æ­¥äº‹ä»¶é€šä¿¡ å¦‚æœéœ€è¦ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯ä½¿ç”¨ä¸åŒTCPç«¯å£ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä¸­ï¼Œè¯¥URLå°†æ˜ å°„åˆ°å¾®æœåŠ¡çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œè´Ÿè½½å‡è¡¡å™¨å°†è¯·æ±‚åˆ†å‘åˆ°å¯ç”¨çš„å¾®æœåŠ¡å®ä¾‹ã€‚\nä¸æ‰“ç®—åˆ›å»ºå¯èƒ½å½±å“å¾®æœåŠ¡è‡ªåŠ¨éƒ¨ç½²çš„å•ä½“APIç½‘å…³ï¼Œä½†å¦‚æœè¦è®¾è®¡åŒ…å«æ•°åä¸ªå¾®æœåŠ¡çš„å¤§å‹å¾®æœåŠ¡åº”ç”¨ï¼Œå¼ºçƒˆå°†ä»¥è€ƒè™‘APIç½‘å…³æ¨¡å¼ã€‚\næ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®ä¸»æƒ æ¯ä¸ªå¾®æœåŠ¡æ‹¥æœ‰è‡ªå·±çš„æ•°æ®åº“æˆ–æ•°æ®æºï¼Œæ¯ä¸ªæ•°æ®åº“æˆ–è€…æ•°æ®æºä¼šéƒ¨ç½²ä¸€ä¸ªä¸ºå•ç‹¬çš„å®¹å™¨ï¼Œè¿™ç§è®¾è®¡åªæ˜¯ä¸ºäº†è®©å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾è·å–å’Œå…‹éš†githubä»£ç ï¼Œä½¿ç”¨æ•°æ®æºå®¹å™¨éƒ½å¯ä»¥è®©å¼€å‘äººå‘˜åœ¨å‡ åˆ†é’Ÿå†…æ„å»ºå¹¶éƒ¨ç½²ï¼Œæ•°æ®åº“åº”è¯¥æ˜¯åŸºäºäº‘ç«¯æ•°æ®åº“æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯å®¹å™¨ä¸­ã€‚\nåŸºäºå¾®æœåŠ¡çš„è§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹ æ¯ä¸ªå¾®æœåŠ¡ç›¸å¯¹è¾ƒå°-æ˜“äºç®¡ç†å’Œæ”¹è¿› å¯ä»¥æ‰©å±•åº”ç”¨ç¨‹åºçš„å„ä¸ªåŒºåŸŸ å¯ä»¥å°†å¤šä¸ªå›¢é˜Ÿé—´çš„å¼€å‘å·¥ä½œåˆ†å¼€ é—®é¢˜çš„éš”ç¦»ç¨‹åº¦æ›´é«˜ æ›´æ–¹ä¾¿ä½¿ç”¨æœ€æ–°æŠ€æœ¯ å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹ åˆ†å¸ƒå¼åº”ç”¨ å¼€å‘äººå‘˜å¿…é¡»ä½¿ç”¨è¯¸å¦‚httpæˆ–amqpç­‰åè®®å®ç°å†…éƒ¨æœåŠ¡é€šä¿¡ï¼Œè¿™å¢åŠ äº†æµ‹è¯•å’Œå¼‚å¸¸å¤„ç†çš„å¤æ‚æ€§ï¼Œè¿˜å¢åŠ äº†ç³»ç»Ÿçš„å»¶è¿Ÿ éƒ¨ç½²çš„å¤æ‚æ€§ éœ€è¦èƒ½ä¸ºæ¯ä¸ªæœåŠ¡åˆ›å»ºå¤šä¸ªå®ä¾‹ åŸå­äº‹åŠ¡ å¤šä¸ªå¾®æœåŠ¡é—´çš„åŸå­äº‹åŠ¡é€šå¸¸æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œä¸šåŠ¡éœ€æ±‚å¿…é¡»åŒ…å«å¤šä¸ªå¾®æœåŠ¡é—´çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚ å…¨å±€èµ„æºéœ€æ±‚å¢åŠ  å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡çš„ç›´è¿é€šä¿¡é—®é¢˜ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦é€šè¿‡å¤§é‡å•ç‹¬çš„è¯·æ±‚æ¥ç»„æˆç”¨æˆ·ç•Œé¢ï¼Œè¿™åœ¨äº’è”ç½‘ä¸Šå¯èƒ½æ˜¯ä½æ•ˆçš„ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå¯¹åç«¯ç³»ç»Ÿçš„è¯·æ±‚åº”å°½å¯èƒ½æœ€å°‘ã€‚å¾®æœåŠ¡å¯èƒ½ä½¿ç”¨äº†éæ ‡çš„Webåè®®æˆ–è€…äºŒè¿›åˆ¶åè®®æˆ–è€…AMQPæ¶ˆæ¯ï¼Œè¿™äº›åè®®é€šå¸¸ä¼šè¢«é˜²ç«å¢™å±è”½ï¼Œå› æ­¤æœ€å¥½åªåœ¨å†…éƒ¨ä½¿ç”¨ã€‚å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨å¤šä¸ªç»†ç²’åº¦çš„APIç½‘å…³ã€‚ åˆ†å‰²å¾®æœåŠ¡ æˆ‘ä»¬éœ€è¦ç¡®å®šåº”ç”¨ç¨‹åºä¸å…¶ä»–åŒºåŸŸè§£è€¦å¹¶å…·æœ‰ä½æ•°é‡ç¡¬ä¾èµ–çš„åŒºåŸŸã€‚è¿™ä¸åº”ç”¨ä¸ç±»çš„å•ä¸€èŒè´£åŸåˆ™ç±»ä¼¼ï¼Œå³ï¼šåªèƒ½å¤„äºä¸€ä¸ªåŸå› æ›´æ”¹æŸä¸ªç‰¹å®šçš„ç±»ã€‚æœ€é‡è¦çš„æ˜¯ï¼šå¾®æœåŠ¡å¿…é¡»å®Œå…¨è‡ªæ²»ã€ç«¯åˆ°ç«¯ï¼Œæœ‰è‡ªå·±çš„æ•°æ®æºã€‚ å¤–éƒ¨ä¸å†…éƒ¨æ¶æ„å’Œè®¾è®¡æ¨¡å¼ æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥åŸºäºä¸åŒè®¾è®¡æ¨¡å¼å…·æœ‰ä¸åŒå†…éƒ¨æ¶æ„ã€‚å¹¶éæ‰€æœ‰å¾®æœåŠ¡éƒ½åº”ä½¿ç”¨å…ˆè¿›çš„DDDæ¨¡å¼æ¥å®ç°ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´è¿‡åº¦è®¾è®¡ã€‚\næ–°ä¸–ç•Œï¼šå¤šç§æ¶æ„æ¨¡å¼å’Œå¤šè¯­è¨€å¾®æœåŠ¡ è½¯ä»¶æ¶æ„å¸ˆå’Œå¼€å‘äººå‘˜ä¼šä½¿ç”¨ä¸åŒçš„æ¶æ„æ¨¡å¼ï¼Œä¾‹å¦‚æ··åˆæ¶æ„é£æ ¼å’Œæ¶æ„æ¨¡å¼ï¼š\nç®€å•çš„CRUDï¼Œå•å±‚ ä¼ ç»ŸNå±‚ é¢†åŸŸé©±åŠ¨è®¾è®¡Nå±‚ å¹²å‡€æ¶æ„ å‘½ä»¤å’ŒæŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼ˆCQRSï¼‰ äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰ é‡ç‚¹åœ¨äºï¼šæ²¡æœ‰ä»»ä½•ä¸€ç§æ¶æ„æ¨¡å¼æˆ–é£æ ¼ï¼Œä»¥åŠä»»ä½•ä¸€ç§ç‰¹å®šæŠ€æœ¯ï¼Œèƒ½å¤Ÿé€‚ç”¨äºæ‰€æœ‰æƒ…å†µã€‚\nå¯ä»¥ç”¨ä¸åŒæ–¹å¼å®ç°æ¯ä¸ªå¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯èƒ½å…·æœ‰ä¸åŒæ¶æ„æ¨¡å¼ï¼Œå¹¶æ ¹æ®åº”ç”¨ç¨‹åºçš„æ€§è´¨ã€ä¸šåŠ¡éœ€æ±‚å’Œä¼˜å…ˆçº§ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’Œæ•°æ®åº“ã€‚\nimage-20201116221753802\rå¯ä»¥ç”¨ä¸åŒæ–¹å¼å®ç°æ¯ä¸ªå¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯èƒ½å…·æœ‰ä¸åŒæ¶æ„æ¨¡å¼ï¼Œå¹¶æ ¹æ®åº”ç”¨ç¨‹åºçš„æ€§è´¨ã€ä¸šåŠ¡éœ€æ±‚å’Œä¼˜å…ˆçº§ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’Œæ•°æ®åº“ã€‚å› ä¸ºæ¯ä¸ªå­ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡è¾¹ç•Œå’Œè¦æ±‚é€šå¸¸æ˜¯ä¸åŒçš„ã€‚\nå¯¹äºç®€å•çš„CRUDç»´æŠ¤åº”ç”¨ç¨‹åºï¼Œè®¾è®¡å’Œå®ç°DDDæ¨¡å¼å¯èƒ½æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚ä½†å¯¹äºæ ¸å¿ƒé¢†åŸŸæˆ–æ ¸å¿ƒä¸šåŠ¡ï¼Œå¯èƒ½éœ€è¦åº”ç”¨æ›´å…ˆè¿›çš„æ¨¡å¼æ¥åº”å¯¹ä¸šåŠ¡è§„åˆ™ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡å¤æ‚æ€§ã€‚\næˆ‘ä»¬ä¸å¯èƒ½ç”¨â€œä¸€ç§æ¶æ„æ¨¡å¼æ¥è§£å†³æ‰€æœ‰é—®é¢˜â€ã€‚æ ¹æ®ä¼˜å…ˆçº§ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªå¾®æœåŠ¡é€‰æ‹©ä¸åŒæ–¹æ³•ã€‚\nASP.NET Coreå’ŒWeb APIæ§åˆ¶å™¨ä¸­çš„ä¾èµ–æ³¨å…¥ åœ¨ASP.NET Coreä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€ç®±å³ç”¨çš„ä¾èµ–æ³¨å…¥DIã€‚æ­¤æ—¶ä¸éœ€è¦è®¾ç½®ç¬¬ä¸‰æ–¹æ§åˆ¶åè½¬å®¹å™¨IOCï¼Œä½†å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°†é¦–é€‰Iocå®¹å™¨æ’å…¥åˆ°ASP.NET CoreåŸºç¡€æ¶æ„ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€å¯ä»¥é€šè¿‡æ§åˆ¶å™¨çš„æ„é€ å‡½æ•°ç›´æ¥è¯¸å¦‚æ‰€éœ€çš„EF DBContextæˆ–å…¶ä»–ä»“å‚¨åº“ã€‚\nå°†DbContextç±»æ³¨å†Œåˆ°æœåŠ¡çš„Iocå®¹å™¨ä¸­ï¼Œé€šå¸¸å¯ä»¥åœ¨startupç±»ä¸­é€šè¿‡configureservicesæ–¹æ³•è°ƒç”¨service.addDbcontextï¼ˆï¼‰æ–¹æ³•æ‰§è¡Œæ­¤æ“ä½œã€‚\nåœ¨ASP.NET Web APIä¸­å®ç°ç‰ˆæœ¬æ§åˆ¶ æ›´æ–°webapiä»¥å¤„ç†æ–°çš„éœ€æ±‚æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å¿…é¡»è€ƒè™‘è¿™ç§æ›´æ”¹å¯¹è°ƒç”¨web apiçš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºäº§ç”Ÿçš„å½±å“ï¼Œè™½ç„¶è®¾è®¡å’Œå®ç°web apiçš„å¼€å‘äººå‘˜å¯ä»¥å®Œå…¨æ§åˆ¶è¯¥apiï¼Œä½†å¼€å‘äººå‘˜å¯¹å¯èƒ½ç”±ç¬¬ä¸‰æ–¹ç»„ç»‡è¿œç¨‹æ„å»ºçš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ²¡æœ‰ç›¸åŒç¨‹åºçš„æ§åˆ¶æƒã€‚\nç‰ˆæœ¬æ§åˆ¶ä½¿Web apièƒ½å¤ŸæŒ‡ç¤ºå…¶æš´éœ²çš„åŠŸèƒ½å’Œèµ„æºã€‚ç„¶åï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¾¿å¯æƒ³ç‰¹å®šç‰ˆæœ¬çš„åŠŸèƒ½æˆ–èµ„æºæäº¤è¯·æ±‚ã€‚å®ç°ç‰ˆæœ¬æ§åˆ¶æœ‰å‡ ç§æ–¹æ³•ï¼š\nURiç‰ˆæœ¬æ§åˆ¶ æŸ¥è¯¢å­—ç¬¦ä¸²ç‰ˆæœ¬æ§åˆ¶ Headerç‰ˆæœ¬ å› ä¸ºURLç‰ˆæœ¬æ˜¯æœ€ç®€å•æ˜ç¡®çš„ï¼Œä½¿ç”¨URIç‰ˆæœ¬æ§åˆ¶çš„è¯ï¼Œå¯ä»¥å‘æ¯ä¸ªèµ„æºçš„URIæ·»åŠ ä¸€ä¸ªç‰ˆæœ¬å·ã€‚ç°æœ‰URIåº”è¯¥å‘ä»¥å‰ä¸€æ ·ç»§ç»­è¿è¡Œï¼Œè¿”å›ä¸è¯·æ±‚çš„ç‰ˆæœ¬ç›¸åŒ¹é…çš„æ¨¡å¼çš„èµ„æºã€‚\nå¯ä»¥ä½¿ç”¨web apiä¸­çš„Routeå±æ€§æ¥è®¾ç½®ç‰ˆæœ¬[Route(\u0026ldquo;api/v1/[controller]\u0026rdquo;)]\nåœ¨å¾®æœåŠ¡ï¼ˆé›†æˆäº‹ä»¶ï¼‰ä¹‹é—´å®ç°åŸºäºäº‹ä»¶çš„é€šä¿¡ äº‹ä»¶æ€»çº¿å¯ä»¥è®¾è®¡ä¸ºä¸€ä¸ªæ¥å£ï¼ŒåŒ…æ‹¬è®¢é˜…å’Œå–æ¶ˆè®¢é˜…äº‹ä»¶ä»¥åŠå‘å¸ƒäº‹ä»¶æ‰€éœ€çš„APIï¼Œè¿˜å¯ä»¥å…·æœ‰åŸºäºä»»ä½•è¿›ç¨‹é—´æˆ–æ¶ˆæ¯é€šä¿¡çš„ä¸€ä¸ªæˆ–å¤šä¸ªå®ç°ï¼Œå¦‚æ¶ˆæ¯é˜Ÿåˆ—æˆ–æ”¯æŒå¼‚æ­¥é€šä¿¡ä»¥åŠå‘å¸ƒ/è®¢é˜…æ¨¡å‹çš„æœåŠ¡æ€»çº¿ã€‚\nä½¿ç”¨äº‹ä»¶æ¥å®ç°è·¨æœåŠ¡çš„ä¸šåŠ¡äº‹åŠ¡ï¼Œå€Ÿæ­¤åœ¨æœåŠ¡é—´ä¿æŒæœ€ç»ˆä¸€è‡´æ€§ã€‚\nä¸€æ—¦è¦å†³å®šè¿›è¡Œå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡ï¼Œåº”è¯¥é€‰æ‹©æœ€ç¬¦åˆç”Ÿäº§ç¯å¢ƒéœ€æ±‚çš„æœåŠ¡æ€»çº¿äº§å“ã€‚\né›†æˆäº‹ä»¶ ä¸å»ºè®®åœ¨å¤šä¸ªå¾®æœåŠ¡é—´å…±äº«ä¸€ä¸ªé€šç”¨çš„é›†æˆäº‹ä»¶åº“ï¼Œè¿™æ ·åšä¼šå°†è¿™äº›å¾®æœåŠ¡ä¸å•ä¸ªäº‹ä»¶å®šä¹‰æ•°æ®åº“ç›¸ç»“åˆã€‚ä¸è¿™æ ·åšçš„åŸå› ä¸ä¸å»ºè®®åœ¨å¤šä¸ªå¾®æœåŠ¡ä¸­å…±äº«é€šç”¨çš„é¢†åŸŸæ¨¡å‹ç›¸åŒï¼šå¾®æœåŠ¡å¿…é¡»å®Œå…¨è‡ªæ²»ã€‚\nåœ¨å¾®æœåŠ¡ä¸­å…±äº«çš„åº”è¯¥æ˜¯ï¼šæœ€ç»ˆçš„åº”ç”¨ç¨‹åºå—ï¼Œnugetç»„ä»¶å…±äº«çš„å·¥å…·åº“ï¼Œä¾‹å¦‚jsonåºåˆ—åŒ–ç¨‹åºã€‚\nåœ¨å‘å¸ƒåˆ°äº‹ä»¶æ€»çº¿æ—¶è®¾è®¡åŸå­æ€§å’Œå¼¹æ€§ è¿™ä¸¤ä¸ªæ“ä½œä¸€å®šè¦ä»¥åŸå­æ€§çš„æ–¹å¼æ‰§è¡Œï¼ŒCAPå®šç†ä»»åŠ¡ï¼Œæˆ‘ä»¬æ— æ³•æ„å»ºåŒæ—¶æ»¡è¶³æŒç»­å¯ç”¨ã€å¼ºä¸€è‡´ï¼Œå¹¶ä¸”èƒ½å®¹å¿ä»»ä½•åˆ†åŒºè¿™ä¸‰ä¸ªç‰¹å¾çš„æ•°æ®åº“ï¼Œæ­¤æ—¶åªèƒ½ä»è¿™ä¸‰ä¸ªç‰¹å¾ä¸­é€‰æ‹©ä¸¤ä¸ªæ¥å®ç°ã€‚\nå¦‚æœæœåŠ¡åœ¨æ•°æ®åº“æ›´æ–°åå´©æºƒï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹æ–¹å¼æ¥å¤„ç†æ­¤é—®é¢˜ï¼š\nä½¿ç”¨å®Œæ•´çš„äº‹ä»¶æº¯æºæ¨¡å¼ ä½¿ç”¨äº‹åŠ¡æ—¥å¿—æŒ–æ˜ ä½¿ç”¨å‘ä»¶ç®±æ¨¡å¼ å¯èƒ½æ— æ³•å®Œå…¨å®ç°å®Œæ•´çš„ESç³»ç»Ÿï¼ŒESæ„å‘³ç€åªå°†é¢†åŸŸæ—¶é—´å­˜å‚¨åœ¨äº‹åŠ¡æ•°æ®åº“ä¸­ï¼Œè€Œéå­˜å‚¨å½“å‰çš„çŠ¶æ€æ•°æ®ã€‚ç„¶è€Œå®æ–½å®Œæ•´çš„ESç³»ç»Ÿéœ€è¦é‡æ–°æ„å»ºç³»ç»Ÿçš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œå¹¶å¼•å…¥å¾ˆå¤šå…¶ä»–å¤æ‚æ€§å’Œè¦æ±‚ã€‚ä½†å¹¶éæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œé™¤éå·²ç»æº¯æºªäº‹ä»¶æº¯æºæ¨¡å¼ã€‚\nä½¿ç”¨äº‹åŠ¡æ—¥å¿—æŒ–æ˜çš„æ–¹æ¡ˆï¼Œå¿…é¡»å°†å¾®æœåŠ¡è€¦åˆåˆ°RDBMSäº‹åŠ¡æ—¥å¿—ã€‚\nä¸€ä¸ªæŠ˜ä¸­çš„åŠæ³•æ˜¯å°†äº‹åŠ¡æ•°æ®åº“è¡¨å’Œç®€åŒ–çš„ESæ¨¡å¼ç»„åˆä½¿ç”¨ã€‚å°è¯•å°†äº‹ä»¶å‘å¸ƒåˆ°äº‹ä»¶æ€»çº¿ï¼Œå¦‚æœå‘å¸ƒæ“ä½œæˆåŠŸï¼Œå°†åœ¨åŸå§‹æœåŠ¡ä¸­å¯åŠ¨å¦ä¸€ä¸ªäº‹åŠ¡ã€‚\nå¦‚æœäº‹ä»¶æ€»çº¿ä¸­çš„å‘å¸ƒäº‹ä»¶æ“ä½œå¤±è´¥ï¼Œæ•°æ®åœ¨åŸå§‹å¾®æœåŠ¡ä¸­ä¸ä¼šä¸ä¸€è‡´ã€‚\nå¦‚æœå·²ç»åœ¨ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œåˆ™å¯ä»¥ä½¿ç”¨äº‹åŠ¡è¡¨æ¥å­˜å‚¨é›†æˆæ—¶é—´ã€‚è¦åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°åŸå­æ€§ï¼Œå¯ä»¥ä½¿ç”¨åŸºäºæœ¬åœ°äº‹åŠ¡çš„ä¸¤æ­¥è¿‡ç¨‹ã€‚åŸºæœ¬ä¸Šæˆ‘ä»¬éœ€è¦åœ¨å­˜å‚¨é¢†åŸŸå®ä½“çš„æ•°æ®åº“ä¸­æœ‰ä¸€ä¸ªintegrationeventè¡¨ï¼Œè¯¥è¡¨ç”¨ä½œå®ç°åŸå­æ€§çš„ä¿è¯ï¼Œä»¥ä¾¿å°†æŒä¹…é›†æˆäº‹ä»¶åŒ…æ‹¬åœ¨æäº¤é¢†åŸŸæ•°æ®çš„ç›¸åŒäº‹åŠ¡ä¸­ã€‚\nå› æ­¤å¾ªåºæ¸è¿›çš„æ­¥éª¤å¦‚ä¸‹ï¼šåº”ç”¨ç¨‹åºå¼€å§‹æœ¬åœ°æ•°æ®åº“äº‹åŠ¡ï¼Œç„¶åæ›´æ–°é¢†åŸŸå®ä½“çŠ¶æ€ï¼Œå¹¶å°†äº‹ä»¶æ’å…¥é›†æˆäº‹ä»¶è¡¨ä¸­ï¼Œæœ€åæäº¤äº‹åŠ¡ï¼Œå³å®ç°æ‰€éœ€çš„åŸå­æ€§ã€‚\nåœ¨æäº¤äº‹åŠ¡åç«‹å³å‘å¸ƒé›†æˆäº‹ä»¶ï¼Œå¹¶ä½¿ç”¨å¦ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡å°†è¡¨ä¸­çš„äº‹ä»¶æ ‡è®°ä¸ºå·²å‘å¸ƒã€‚\né€šè¿‡äº‹ä»¶æ€»çº¿å‘å¸ƒé›†æˆäº‹ä»¶æ—¶å®ç°åŸå­æ€§ äº‹ä»¶æ—¥å¿—è¡¨ä¸åŸå§‹æ•°æ®åº“æ“ä½œè¿›è¡ŒåŸå­æ›´æ–°ï¼Œå¯¹åŒä¸€æ•°æ®åº“ä½¿ç”¨æœ¬åœ°äº‹åŠ¡ã€‚å¦‚æœæœ‰ä»»ä½•æ“ä½œå¤±è´¥ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶å¯¹æ‰€æœ‰å·²å®Œæˆçš„æ“ä½œæ‰§è¡Œäº‹åŠ¡å›æ»šï¼Œä»è€Œä¿æŒé¢†åŸŸæ“ä½œä¸å‘é€çš„äº‹ä»¶æ¶ˆæ¯é—´çš„ä¸€è‡´æ€§ã€‚\næ›´æ–°æ¶ˆæ¯äº‹ä»¶ä¸­çš„å¹‚ç­‰æ€§ å¹‚ç­‰æ€§æ„å‘³ç€å¯ä»¥å¤šæ¬¡æ‰§è¡Œæ“ä½œè€Œä¸æ”¹å˜ç»“æœã€‚åœ¨æ¶ˆæ¯ä¼ é€’ç¯å¢ƒä¸­ä¼ æ’­äº‹ä»¶æ—¶ï¼Œå¦‚æœå¯ä»¥å¤šæ¬¡ä¼ é€äº‹ä»¶è€Œä¸æ”¹å˜æ¥æ”¶è€…å¾®æœåŠ¡çš„ç»“æœï¼Œåˆ™äº‹ä»¶æ˜¯å¹‚ç­‰çš„ã€‚\né‡è¦çš„æ˜¯ï¼Œå³ä½¿åŒä¸€è®¢å•å®Œæˆäº‹ä»¶æœ‰é‡å¤çš„æ¶ˆæ¯äº‹ä»¶ï¼Œä¹Ÿåªéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿä¸­æ›´æ–°è®¢å•ä¿¡æ¯ä¸€æ¬¡ã€‚\nè®©æ¯ä¸ªäº‹ä»¶å…·æœ‰æŸç§ç±»å‹çš„æ ‡è¯†æ˜¯ç§æ–¹ä¾¿çš„åšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¼ºåˆ¶æ¯ä¸ªæ¥æ”¶è€…å¯¹æ¯ä¸ªäº‹ä»¶åªå¤„ç†ä¸€æ¬¡çš„é€»è¾‘ã€‚\nåˆ é™¤é‡å¤çš„é›†æˆäº‹ä»¶æ¶ˆæ¯ æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨æ­£åœ¨ç”¨çš„æ¶ˆæ¯æ¶æ„æä¾›çš„é‡å¤æ•°æ®åˆ é™¤åŠŸèƒ½ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨ç›®æ ‡å¾®æœåŠ¡ä¸­è‡ªå®šä¹‰é€»è¾‘ã€‚åœ¨ä¼ è¾“å±‚é¢å’Œåº”ç”¨å±‚é¢è¿›è¡ŒéªŒè¯æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚\nä½¿ç”¨Rabbitmqæ—¶åˆ é™¤é‡å¤æ¶ˆæ¯ æ¶ˆæ¯æ¥æ”¶è€…å¿…é¡»å‡†å¤‡å¥½å¤„ç†è¿™äº›é‡å¤çš„æ¶ˆæ¯ã€‚å¦‚æœå¯èƒ½ï¼Œæ¥æ”¶æ–¹åº”ä»¥å¹‚ç­‰çš„æ–¹å¼å¤„ç†æ¶ˆæ¯ï¼Œè¿™æ¯”ç”¨åˆ é™¤é‡å¤æ•°æ®çš„æ–¹å¼ç›´æ¥å¤„ç†æ¶ˆæ¯æ›´å¥½ã€‚\nRabbitmqä¼šåœ¨å†æ¬¡ä¼ é€æ—¶å°†å…¶è®¾ç½®ä¸ºâ€œredelivered\u0026quot;æ ‡å¿—ï¼Œå› æ­¤åªæœ‰åœ¨æ¶ˆæ¯ä¸­è®¾ç½®äº†â€redeliveredâ€œæ ‡å¿—æ—¶ï¼Œæ¥æ”¶æ–¹æ‰éœ€è¦ä»¥å¹‚ç­‰æ–¹å¼å¯¹æ¶ˆæ¯è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤æˆ–å¤„ç†æ¶ˆæ¯ã€‚\nåœ¨å¾®æœåŠ¡ä¸­è¿ç”¨ç®€åŒ–çš„CQRSå’ŒDDDæ¨¡å¼ æŸ¥è¯¢ï¼šè¿”å›ç»“æœä¸”ä¸æ”¹å˜ç³»ç»ŸçŠ¶æ€ï¼Œå³æŸ¥è¯¢æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ å‘½ä»¤ï¼šæ”¹å˜ç³»ç»ŸçŠ¶æ€ CQRSä¾‹å¦‚ç”¨ä¸€ä¸ªç‰©ç†æ•°æ®åº“æ¥è¯»å–ï¼Œä¸€ä¸ªç‰©ç†æ•°æ®åº“ç”¨æ¥å†™å…¥ï¼ˆæ›´æ–°ï¼‰ã€‚\nCQRSçš„åˆ†ç¦»æ˜¯æŒ‡å°†æŸ¥è¯¢æ“ä½œç»„åˆåœ¨ä¸€å±‚ï¼Œè€Œå‘½ä»¤ç»„åˆåˆ°å¦ä¸€å±‚çš„åšæ³•ã€‚è¿™ä¸¤å±‚å¯ä»¥åŒ…å«åœ¨ç›¸åŒç‰©ç†å±‚çº§æˆ–å¾®æœåŠ¡é‡Œï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒå¾®æœåŠ¡æˆ–è¿›ç¨‹ä¸­å®ç°ï¼Œä»¥ä¾¿å•ç‹¬ä¼˜åŒ–å’Œç‹¬ç«‹åœ°æ¨ªå‘æ‰©å±•ï¼Œé¿å…å½¼æ­¤å¹²æ‰°ã€‚\næ¯•ç«Ÿæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æŸ¥è¯¢æ¥çš„æ›´çµæ´»ï¼Œè€Œä¸æ˜¯åƒèšåˆé‚£æ ·é€šè¿‡DDDæ¨¡å¼çš„çº¦æŸå¯¹æŸ¥è¯¢è¿›è¡Œé™åˆ¶ã€‚\nå°†CQRSå’ŒCQSæ–¹å¼åº”ç”¨åˆ°DDDå¾®æœåŠ¡ä¸­ DDDæ¨¡å¼ä¸æ˜¯æ™®éé€‚ç”¨çš„ï¼Œå®ƒä»¬ä¼šä¸ºè®¾è®¡å¼•å…¥çº¦æŸï¼Œè¿™äº›çº¦æŸæä¾›äº†è¯¸å¦‚éšç€æ—¶é—´æ¨ç§»è¿›ä¸€æ­¥æé«˜è´¨é‡ç­‰å¥½å¤„ï¼Œç‰¹åˆ«æ˜¯ä¼šæ”¹å˜ç³»ç»ŸçŠ¶æ€çš„å‘½ä»¤å’Œå…¶ä»–ä»£ç å¯ä»¥ä»ä¸­è·ç›Šä¸­ã€‚ä½†æ˜¯è¿™äº›çº¦æŸå¢åŠ äº†è¯»å–å’ŒæŸ¥è¯¢æ•°æ®çš„å¤æ‚æ€§ã€‚\næœ¬ä¹¦å»ºè®®ä»…åœ¨å¾®æœåŠ¡çš„äº‹åŠ¡/æ›´æ–°åŒºåŸŸä½¿ç”¨DDDæ¨¡å¼ï¼ŒæŸ¥è¯¢å¯ä»¥éµå¾ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œå¹¶ä¸”åº”æŒ‰ç…§CQRSæ–¹æ³•ä¸å‘½ä»¤åˆ†ç¦»ã€‚\nä¸ºå®ç°æŸ¥è¯¢å±‚ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥é€‰æ‹©ï¼Œä¾‹å¦‚ä½¿ç”¨EF Core/AutoMapperæ˜ å°„ã€å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€ç‰©åŒ–è§†å›¾ç­‰å…¨é¢çš„ORMï¼Œæˆ–è€…ä½¿ç”¨å¾®å‹ORMã€‚\næˆ‘ä»¬ä½¿ç”¨Dapperè¿™æ ·çš„å¾®å‹ORMæ¥å®ç°ç›´æ¥æŸ¥è¯¢ã€‚\nCQRSå’ŒDDDæ¨¡å¼ä¸æ˜¯é¡¶çº§æ¶æ„ å€¼å¾—å¼ºè°ƒçš„æ˜¯ï¼Œæ¯ç§æƒ…å†µå¼ºè¡Œä½¿ç”¨ç›¸åŒæ¨¡å¼å°†å¯¼è‡´å¤±è´¥ï¼Œä¸è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½ä½¿ç”¨CQRSå’ŒDDDã€‚å¾ˆå¤šå­ç³»ç»Ÿã€é™ç•Œä¸Šä¸‹æ–‡æˆ–å¾®æœåŠ¡éƒ½æ¯”è¾ƒç®€å•ï¼Œå¾ˆå®¹æ˜“ç”¨ç®€å•çš„CRUDæœåŠ¡æˆ–å…¶ä»–æ–¹å¼æ¥å®ç°ã€‚\nåœ¨CQRSå¾®æœåŠ¡ä¸­å®ç°è¯»å–/æŸ¥è¯¢ è®¢å•å¾®æœåŠ¡çš„æŸ¥è¯¢æ˜¯ç‹¬ç«‹äºDDDæ¨¡å‹å’Œäº‹åŠ¡å®ç°çš„ã€‚å†™å…¥æ‰§è¡Œçš„äº‹åŠ¡å¿…é¡»ç¬¦åˆé¢†åŸŸé€»è¾‘ï¼Œå¦ä¸€æ–¹é¢ï¼ŒæŸ¥è¯¢æ˜¯å¹‚ç­‰çš„ï¼Œå¯ä»é¢†åŸŸè§„åˆ™ä¸­åˆ†ç¦»å‡ºæ¥ã€‚\nåªéœ€ç®€å•åœ°æŸ¥è¯¢æ•°æ®åº“ä»¥è·å–UIæ‰€éœ€æ•°æ®ï¼Œç„¶åè¿”å›ä¸€ä¸ªåŠ¨æ€ViewModelï¼Œè€Œä¸éœ€è¦åœ¨ä»»ä½•ä½ç½®æ˜ç¡®å®šä¹‰ï¼Œä½†SQLè¯­å¥é™¤å¤–ã€‚\nå®é™…ä¸Šï¼ŒViewModelç±»å°±æ˜¯Dtoå‘—ã€‚\nä½¿ç”¨ç‹¬ç«‹äºé¢†åŸŸæ¨¡å‹çº¦æŸä¸”ä¸“ä¸ºå®¢æˆ·ç«¯åº”ç”¨åˆ›å»ºçš„ViewModel å› æ­¤å¯ä»¥æ ¹æ®æŸ¥è¯¢è¿”å›çš„æ•°æ®ä¸ºå®¢æˆ·ç«¯ä¸“é—¨åˆ›å»ºè¿”å›ç±»å‹ï¼Œè¿™äº›æ¨¡å‹æˆ–æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰æˆä¸ºViewModelã€‚\nè¿”å›çš„æ•°æ®ï¼ˆViewModelï¼‰å¯ä»¥æ˜¯è¿æ¥æ•°æ®åº“ä¸­å¤šä¸ªå®ä½“æˆ–è¡¨çš„æ•°æ®ç»“æœï¼Œä¹Ÿå¯ä»¥æ˜¯äº‹åŠ¡é¢†åŸŸæ¨¡å‹ä¸­å®šä¹‰çš„å¤šä¸ªèšåˆç»“æœã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºæ­£åœ¨åˆ›å»ºç‹¬ç«‹äºé¢†åŸŸæ¨¡å‹çš„æŸ¥è¯¢ï¼Œæ‰€ä»¥èšåˆçš„è¾¹ç•Œå’Œçº¦æŸå¯ä»¥å½»åº•å¿½ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çš„æŸ¥è¯¢éœ€è¦çš„ä»»ä½•è¡¨å’Œåˆ—ã€‚è¿™ç§æ–¹æ³•ä¸ºå¼€å‘äººå‘˜åˆ›å»ºæˆ–æ›´æ–°æŸ¥è¯¢æä¾›äº†æå¤§çš„çµæ´»æ€§å’Œç”Ÿäº§åŠ›ã€‚\nViewModelå¯ä»¥æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„é™æ€ç±»å‹ï¼Œæˆ–è€…å¯æ ¹æ®æ‰§è¡Œçš„æŸ¥è¯¢æ¥åŠ¨æ€åˆ›å»ºï¼Œè¿™å¯¹å¼€å‘äººå‘˜æ¥è¯´éå¸¸çš„çµæ´»ã€‚\nåŠ¨æ€ä¸é™æ€çš„ViewModel å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¯æ±‡æ€»æ¥è‡ªå¤šä¸ªé¢†åŸŸå®ä½“çš„æ•°æ®ï¼Œå¹¶æ ¹æ®å®¢æˆ·ç«¯åº”ç”¨éœ€è¦çš„æ•°æ®ç²¾ç¡®ç»„åˆViewModelã€‚\nä¼˜ç‚¹ï¼šæ•æ·ã€ç›´æˆªäº†å½“å¿«é€Ÿå“åº”æœªæ¥å˜åŒ–\nç¼ºç‚¹ï¼šåŠ¨æ€ç±»å‹ä¼šé™ä½æ¸…æ™°åº¦ç”šè‡³å½±å“æœåŠ¡å’Œå®¢æˆ·ç«¯åº”ç”¨çš„å…¼å®¹æ€§ã€‚\né¢„å…ˆå®šä¹‰çš„DTOç±»ä½œä¸ºViewModel ç»éªŒä¹‹è°ˆï¼šèµ·åˆä½¿ç”¨åŠ¨æ€ViewModelå¼€å‘ï¼Œå› ä¸ºå¼€å‘éå¸¸æ•æ·ã€‚ç„¶è€Œä¸€æ—¦å¼€å‘ç¨³å®šäº†ï¼ŒåŸºäºå‰é¢æè¿°çš„åŸå› ï¼Œæˆ‘ä»¬é€‰æ‹©é‡æ„è¿™ä¸ªä¸»é¢˜ï¼Œå¹¶ä¸ºViewModelä½¿ç”¨é™æ€çš„æˆ–é¢„å…ˆç¡®å®šçš„DTOç±»ã€‚\nè®¾è®¡é¢å‘DDDçš„å¾®æœåŠ¡ é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸»å¼ æ ¹æ®å’Œç”¨ä¾‹ç›¸å…³çš„å®é™…ä¸šåŠ¡æ¥å»ºæ¨¡ã€‚å®ƒä¹Ÿæå‡ºäº†å¤šç§æŠ€æœ¯æ¦‚å¿µå’Œæ¨¡å¼æ¥æ”¯æŒå…¶å†…éƒ¨å®ç°ï¼Œä¾‹å¦‚ä¸°å¯Œæ¨¡å‹é¢†åŸŸå®ä½“ã€å€¼å¯¹è±¡ã€èšåˆæ ¹è§„åˆ™ã€‚\nåœ¨å®ç°DDDæ–¹æ³•æ—¶æœ‰é™¡å³­çš„å­¦ä¹ æ›²çº¿ã€‚ä»¥ä¾¿åˆ’æ¸…ä¸šåŠ¡é—®é¢˜å¹¶ä½¿ç”¨ç›¸åŒçš„ä¸šåŠ¡æœ¯è¯­ï¼ˆç»Ÿä¸€è¯­è¨€ï¼‰ã€‚æ­¤å¤–DDDæ–¹å¼åº”è¯¥åªç”¨äºå®ç°æ‹¥æœ‰é‡è¦ä¸šåŠ¡è§„åˆ™çš„å¤æ‚å¾®æœåŠ¡ã€‚è¯¸å¦‚CRUDæœåŠ¡ç­‰ç®€å•çš„ä»»åŠ¡å¯ä½¿ç”¨æ›´ç®€å•çš„æ–¹æ³•ç®¡ç†ã€‚\nå¦‚ä½•ç¡®å®šè¾¹ç•Œæ˜¯è®¾è®¡å’Œå®šä¹‰å¾®æœåŠ¡çš„å…³é”®ä»»åŠ¡ã€‚DDDæ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£é¢†åŸŸçš„å¤æ‚æ€§ã€‚è¯†åˆ«å’Œå®šä¹‰ç”¨æ¥æ¨¡å‹åŒ–è¯¥é¢†åŸŸçš„å®ä½“ã€å€¼å¯¹è±¡å’Œèšåˆã€‚æ„å»ºå¹¶æç‚¼åœ¨ä¸€ä¸ªå®šä¹‰ä¸Šä¸‹æ–‡è¾¹ç•Œçš„é¢†åŸŸæ¨¡å‹ã€‚\nä¿æŒç›¸å¯¹è¾ƒå°çš„å¾®æœåŠ¡ä¸Šä¸‹æ–‡è¾¹ç•Œ æœ€å¼€å§‹éœ€è¦åˆ›å»ºå°½å¯èƒ½å°çš„å¾®æœåŠ¡ï¼Œå…¶æ¬¡éœ€è¦é¿å…å¾®æœåŠ¡é—´æ— è°“çš„é€šä¿¡ã€‚è¿™ä¸¤ä¸ªç›®æ ‡ç›¸äº’åˆ¶çº¦ï¼Œéœ€è¦æƒè¡¡ã€‚å°½å¯èƒ½å°†ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªå°å‹çš„å¾®æœåŠ¡ï¼Œç›´åˆ°å°è¯•æ‹†åˆ†æ–°çš„ç•Œé™ä¸Šä¸‹æ–‡è€Œå‡ºç°å¿«é€Ÿå¢é•¿çš„è¾¹ç•Œé€šä¿¡æ—¶å³å¯åœæ­¢æ‹†åˆ†ã€‚å†…èšæ˜¯ç‹¬ç«‹ç•Œé™ä¸Šä¸‹æ–‡çš„å…³é”®ã€‚\nå¦‚æœä¸¤ä¸ªå¾®æœåŠ¡éœ€è¦å¾ˆå¤šåä½œï¼Œå®ƒä»¬åº”è¯¥æˆä¸ºåŒä¸€ä¸ªå¾®æœåŠ¡ã€‚\nå¦ä¸€ç§çœ‹å¾…è¿™ç§æƒ…å†µçš„æ–¹æ³•æ˜¯è‡ªä¸»æƒã€‚å¦‚æœä¸€ä¸ªå¾®æœåŠ¡å¿…é¡»ä¾é å…¶ä»–æœåŠ¡æ¥ç›´æ¥å¤„ç†è¯·æ±‚ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯çœŸæ­£çš„è‡ªæ²»ã€‚\nDDDå¾®æœåŠ¡ä¸­çš„åˆ†å±‚ é¢†åŸŸå®ä½“åŒ…å«åœ¨é¢†åŸŸæ¨¡å‹å±‚å†…éƒ¨ï¼Œå¹¶ä¸”ä¸åº”ä¼ é€åˆ°ä¸å±äºå®ƒçš„åŒºåŸŸï¼Œæ¯”å¦‚è¡¨ç°å±‚ã€‚\nViewModelæ˜¯ä¸€ä¸ªä»…ä¸ºæ»¡è¶³è¡¨ç°å±‚éœ€è¦çš„æ•°æ®æ¨¡å‹ã€‚é¢†åŸŸå®ä½“ä¸ç›´å±äºViewModelï¼Œç›¸åï¼Œéœ€è¦åœ¨ViewModelå’Œé¢†åŸŸå®ä½“ä¹‹é—´äº’ç›¸è½¬æ¢ã€‚\né¢†åŸŸæ¨¡å‹å±‚ è¯´ç™½äº†æ„Ÿè§‰å°±æ˜¯Coreï¼Œä¹Ÿå°±æ˜¯pocoã€‚è´Ÿè´£è¡¨è¾¾ä¸šåŠ¡æ¦‚å¿µã€ä¸šåŠ¡çŠ¶æ€ä¿¡æ¯åŠä¸šåŠ¡è§„åˆ™ã€‚ä½†åæ˜ ä¸šåŠ¡æƒ…å†µçš„çŠ¶æ€æ˜¯ç”±æœ¬å±‚æ§åˆ¶å¹¶ä½¿ç”¨çš„ï¼Œé¢†åŸŸæ¨¡å‹å±‚æ˜¯ä¸šåŠ¡è½¯ä»¶çš„æ ¸å¿ƒã€‚\nè¿™æ„å‘³ç€ä¸€ä¸ªé‡è¦çš„è§„åˆ™ï¼šé¢†åŸŸæ¨¡å‹å®ä½“ç±»åº”è¯¥å°±æ˜¯POCOã€‚\né¢†åŸŸå®ä½“ä¸åº”å¯¹ä»»ä½•æ•°æ®è®¿é—®åŸºç¡€æ¡†æ¶å¦‚EFæœ‰ä»»ä½•ç›´æ¥çš„ä¾èµ–ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œé¢†åŸŸå®ä½“ä¸åº”è¯¥ç»§æ‰¿è‡ªæˆ–å®ç°ä»»ä½•åŸºç¡€æ¡†æ¶é‡Œçš„ä»»ä½•ç±»å‹ã€‚\nç†è§£æ•°æ®çš„ç‰©ç†æ¨¡å‹å’Œå¦‚ä½•æ˜ å°„åˆ°å®ä½“å¯¹è±¡æ¨¡å‹ä¾ç„¶å¾ˆé‡è¦ã€‚\nåº”ç”¨å±‚ å®šä¹‰è½¯ä»¶è¦å®Œæˆçš„ä»»åŠ¡ï¼Œå¹¶åªä¼šè¡¨è¾¾é¢†åŸŸæ¦‚å¿µçš„å¯¹è±¡æ¥è§£å†³é—®é¢˜ã€‚åº”ç”¨å±‚è¦å°½é‡ç®€å•ï¼Œä¸åŒ…å«ä¸šåŠ¡è§„åˆ™æˆ–çŸ¥è¯†ï¼Œåªä¸ºä¸‹ä¸€å±‚ä¸­çš„é¢†åŸŸå¯¹è±¡åè°ƒä»»åŠ¡ï¼Œåˆ†é…å·¥ä½œï¼Œä½¿å®ƒä»¬ç›¸äº’åä½œã€‚å³ä¸ºç”¨æˆ·æˆ–ç¨‹åºæ˜¾ç¤ºæŸä¸ªä»»åŠ¡çš„è¿›åº¦ã€‚\nè¡¨ç¤ºåº”ç”¨å±‚å¿…é¡»ä¸åŒ…å«ä¸šåŠ¡è§„åˆ™æˆ–é¢†åŸŸçŸ¥è¯†ï¼Œè¿™äº›å†…å®¹åº”è¯¥æœ‰é¢†åŸŸæ¨¡å‹ç±»åº“æ‰€æ‹¥æœ‰ã€‚åº”ç”¨å±‚å¿…ä»…åè°ƒä»»åŠ¡è€Œä¸èƒ½ä¿ç•™æˆ–å®šä¹‰ä»»ä½•é¢†åŸŸçŠ¶æ€ï¼ˆé¢†åŸŸæ¨¡å‹ï¼‰ã€‚\nåº”ç”¨å±‚å°†ä¸šåŠ¡è§„åˆ™çš„æ‰§è¡Œå§”æ‰˜ç»™é¢†åŸŸæ¨¡å‹ç±»æœ¬èº«ï¼Œæœ€ç»ˆåœ¨é‚£äº›é¢†åŸŸå®ä½“ä¸­æ›´æ–°æ•°æ®ã€‚\nåŸºç¡€æ¶æ„å±‚ åŸºç¡€æ¶æ„å±‚ç”¨äºå°†æœ€åˆä¿ç•™åœ¨å†…å­˜ä¸­çš„é¢†åŸŸå®ä½“æ±‡æ€»çš„æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“æˆ–å…¶ä»–æŒä¹…å­˜å‚¨ä¸­ã€‚\nåœ¨ç»å¯¹ä¸äº§ç”Ÿæ¡†æ¶å¼ºä¾èµ–çš„å‰æä¸‹ç¡®ä¿é¢†åŸŸæ¨¡å‹å®ä½“ç±»å’Œç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„åŸºç¡€æ¶æ„æ— å…³ã€‚å³ä»…æœ‰å®ç°è½¯ä»¶æ ¸å¿ƒçš„POCOå®ç°ç±»ï¼Œå¹¶ä¸”ä¸åŸºç¡€æ¶æ„æŠ€æœ¯å®Œå…¨è§£è€¦ã€‚\nå› æ­¤å±‚æˆ–ç±»åº“ä»¥åŠé¡¹ç›®åº”è¯¥æœ€ç»ˆä¾èµ–ä¸é¢†åŸŸæ¨¡å‹å±‚ï¼ˆåº“ï¼‰ã€‚\nimage-20201117160828300\ræ¯ä¸ªå¾®æœåŠ¡çš„åŸºç¡€æ¶æ„å±‚è®¾è®¡åº”è¯¥æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥æŒ‰ç…§DDDæ¨¡å¼å®ç°å¤æ‚å¾®æœåŠ¡ï¼Œè€Œç”¨æ›´ç®€å•çš„æ–¹æ³•å®ç°ç®€å•æ•°æ®é©±åŠ¨å¾®æœåŠ¡ï¼ˆå•å±‚çš„ç®€å•CRUDï¼‰ã€‚\n","date":"2020-11-16T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.16/","title":"å¾®æœåŠ¡2020.11.16"},{"content":"æœ¬å‘¨å·¥ä½œæƒ…å†µï¼š 1.Dapperå­¦ä¹ åŠä½¿ç”¨ï¼ˆå®Œæˆï¼‰ 2.MQTTå­¦ä¹ åŠä½¿ç”¨ï¼ˆå®Œæˆï¼‰ 3.Dapper\u0026amp;MQTTä¿è¯æ•°æ®ä¸€è‡´æ€§Demoï¼ˆæ‰¹é‡å¢ã€åˆ ã€æ”¹ï¼‰ï¼ˆå®Œæˆï¼‰ 4.è·¨æœåŠ¡äº‹åŠ¡ä¸€è‡´æ€§å­¦ä¹ ï¼ˆsaga)ï¼ˆæœªå®Œæˆï¼‰ è®¡åˆ’ä¸‹é˜¶æ®µä»»åŠ¡ï¼š 1.äº†è§£oeså„ä¸ªæ¨¡å—ä¸šåŠ¡é€»è¾‘ï¼Œä¸Šå±‚ï¼šç‹é”å¸ˆå…„ï¼Œä¸‹å±‚ï¼šä¸½ä¿Šå¸ˆå…„ï¼ŒAppï¼šå­è‹¥å§ï¼Œé‡ç‚¹äº†è§£æµç¨‹ï¼Œä¸æ…Œæ­å»ºå¾®æœåŠ¡ 2.ç»§ç»­å­¦ä¹ å¾®æœåŠ¡åˆ’åˆ†åŸåˆ™å’Œç¤ºä¾‹ï¼Œæ ¹æ®é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰åŠå¸ˆå…„å¸ˆå§çš„ç†è§£åˆ’åˆ†å„æ¨¡å—æ„å»ºå¾®æœåŠ¡è“å›¾ 3.äº†è§£æ•°æ®æ± åŒ–æŠ€æœ¯ï¼Œæ–Ÿé…Œæ•°æ®åº“é€‰ç”¨ Dapperå…¥é—¨åŠä½¿ç”¨ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰è½»é‡çº§æ¡†æ¶ï¼šæ•°æ®åº“æŒä¹…åŒ–æŠ€æœ¯ï¼Œæ± åŒ–æŠ€æœ¯ EFæ¡†æ¶åŠ è½½æ ‘ï¼š image-20201113095855356\rDapperåŠ è½½æ ‘ï¼š image-20201113092949378\rMQTTå­¦ä¹ åŠä½¿ç”¨ image-20201113094906752\rMQTT\u0026amp;Dapperä¿è¯è·¨æ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ image-20201113091711501\rä½¿ç”¨EMQå¯è§†åŒ–ç•Œé¢ä½œä¸ºä»£ç†æ¥ç®¡ç†mqTTçš„å®¢æˆ·ç«¯åŠä¸»é¢˜ã€è®¢é˜…ã€å‘å¸ƒ image-20201113090134383\ræ‰¹é‡å¢åŠ  image-20201113090214669\rimage-20201113090255394\ræ‰¹é‡ä¿®æ”¹ image-20201113090947812\rimage-20201113090956564\rimage-20201113091105493\ræ‰¹é‡åˆ é™¤ image-20201113091511010\rimage-20201113091524415\rimage-20201113091600481\r","date":"2020-11-13T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.13/","title":"å¾®æœåŠ¡2020.11.13"},{"content":"å¾®æœåŠ¡æ¶æ„å­¦ä¹ æ–‡æ¡£ Netflixæµåª’ä½“æ’­æ”¾å¹³å°å¾®æœåŠ¡æ¶æ„ï¼š\nimg\roesç›®å‰è®¾æƒ³ï¼š\nimage-20201013172440573\rimage-20201012210849046\rå¾®æœåŠ¡æ¶æ„ç‰¹æ€§ï¼š å•ä¸€èŒè´£ è½»é‡çº§é€šä¿¡ï¼ˆé€šè¿‡httpã€rpcåè®®ä¸‹çš„xmlã€jsonæ ¼å¼ï¼Œæ— å…³è¯­è¨€ã€å¹³å°ï¼‰ ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ï¼ˆå¹¶è¡Œå·¥ç¨‹ï¼‰ preview\råˆ†å¸ƒå¼\u0026ndash;é›†ç¾¤\u0026ndash;å¾®æœåŠ¡ åˆ†å¸ƒå¼ï¼šä¸åŒæœåŠ¡å™¨éƒ¨ç½²ä¸åŒä¸šåŠ¡ï¼ˆåº”ç”¨ï¼‰\né›†ç¾¤ï¼šä¸åŒæœåŠ¡å™¨éƒ¨ç½²åŒä¸€å¥—ä¸šåŠ¡ï¼ˆåº”ç”¨ï¼‰\nå¾®æœåŠ¡ï¼šåŒä¸€å°æœåŠ¡å™¨å¯èƒ½éƒ¨ç½²å¤šä¸ªå¾®åº”ç”¨\npreview\ré—®é¢˜ï¼š å•ä½“åº”ç”¨ ä¼˜ç‚¹ï¼šä¾¿äºå¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²\nç¼ºç‚¹ï¼šç»´æŠ¤æˆæœ¬é«˜ã€äº¤ä»˜å‘¨æœŸé•¿ã€æ‰©å±•æ€§å·®\nä½œä¸šå¹³å°ã€ç§»åŠ¨ç«¯ã€ç³»ç»Ÿå¹³å°æœ‰åŠŸèƒ½ç›¸åŒæˆ–è€…é‡å¤çš„ä»£ç ï¼Œç›¸åŒä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼Œä¿®æ”¹ç»´æŠ¤å¾ˆä¸æ–¹ä¾¿ æ•°æ®æœ‰æ—¶å€™é€šè¿‡æ•°æ®åº“å…±äº«ï¼Œæœ‰æ—¶å€™é€šè¿‡æ¥å£è°ƒç”¨ä¼ è¾“ã€‚æ¥å£è°ƒç”¨å…³ç³»æ‚ä¹±ã€‚ å•ä¸ªåº”ç”¨ä¸ºäº†ç»™å…¶ä»–åº”ç”¨æä¾›æ¥å£ï¼Œæ¸æ¸åœ°è¶Šæ”¹è¶Šå¤§ï¼ŒåŒ…å«äº†å¾ˆå¤šæœ¬æ¥å°±ä¸å±äºå®ƒçš„é€»è¾‘ã€‚åº”ç”¨è¾¹ç•Œæ¨¡ç³Šï¼ŒåŠŸèƒ½å½’å±æ··ä¹±ã€‚ åŠ å…¥æ•°æ®åˆ†æã€æ·±åº¦å­¦ä¹ ç­‰ç›¸å…³åŠŸèƒ½åå‡ºç°æ€§èƒ½ç“¶é¢ˆï¼Œå½±å“äº†å…¶ä»–åº”ç”¨ã€‚ æ•°æ®åº“è¡¨ç»“æ„è¢«å¤šä¸ªåº”ç”¨ä¾èµ–ï¼Œæ— æ³•é‡æ„å’Œä¼˜åŒ–ã€‚ æ‰€æœ‰åº”ç”¨éƒ½åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸Šæ“ä½œï¼Œæ•°æ®åº“å‡ºç°æ€§èƒ½ç“¶é¢ˆã€‚ å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ã€ç»´æŠ¤æ„ˆå‘å›°éš¾ã€‚å³ä½¿åªæ”¹åŠ¨ä¸€ä¸ªå°åŠŸèƒ½ï¼Œä¹Ÿéœ€è¦æ•´ä¸ªåº”ç”¨ä¸€èµ·å‘å¸ƒã€‚æœ‰æ—¶å€™å‘å¸ƒä¼šä¸å°å¿ƒå¸¦ä¸Šäº†ä¸€äº›æœªç»æµ‹è¯•çš„ä»£ç ï¼Œæˆ–è€…ä¿®æ”¹äº†ä¸€ä¸ªåŠŸèƒ½åï¼Œå¦ä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„åœ°æ–¹å‡ºé”™äº†ã€‚ å›¢é˜Ÿå‡ºç°æ¨è¯¿æ‰¯çš®ç°è±¡ã€‚å…³äºä¸€äº›å…¬ç”¨çš„åŠŸèƒ½åº”è¯¥å»ºè®¾åœ¨å“ªä¸ªåº”ç”¨ä¸Šçš„é—®é¢˜å¸¸å¸¸è¦äº‰è®ºå¾ˆä¹…ï¼Œæœ€åè¦ä¹ˆå¹²è„†å„åšå„çš„ï¼Œæˆ–è€…éšä¾¿æ”¾ä¸ªåœ°æ–¹ä½†æ˜¯éƒ½ä¸ç»´æŠ¤ã€‚ ç´§è¿«ä¸”ç¹é‡çš„ä»»åŠ¡å®¹æ˜“ä½¿äººé™·å…¥å±€éƒ¨ã€çŸ­æµ…çš„æ€ç»´æ–¹å¼ï¼Œä»è€Œåšå‡ºå¦¥åå¼çš„å†³ç­–ã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œæ¯ä¸ªäººéƒ½åªå…³æ³¨åœ¨è‡ªå·±çš„ä¸€äº©ä¸‰åˆ†åœ°ï¼Œç¼ºä¹å…¨å±€çš„ã€é•¿è¿œçš„è®¾è®¡ã€‚é•¿æ­¤ä»¥å¾€ï¼Œç³»ç»Ÿå»ºè®¾å°†ä¼šè¶Šæ¥è¶Šå›°éš¾ï¼Œç”šè‡³é™·å…¥ä¸æ–­æ¨ç¿»ã€é‡å»ºçš„å¾ªç¯ã€‚\nè¦åšæ”¹é€ ï¼Œé¦–å…ˆä½ éœ€è¦æœ‰è¶³å¤Ÿçš„ç²¾åŠ›å’Œèµ„æºã€‚å¦‚æœä½ çš„éœ€æ±‚æ–¹ï¼ˆä¸šåŠ¡äººå‘˜ã€é¡¹ç›®ç»ç†ã€ä¸Šå¸ç­‰ï¼‰å¾ˆå¼ºåŠ¿åœ°ä¸€å¿ƒè¿½æ±‚éœ€æ±‚è¿›åº¦ï¼Œä»¥è‡´äºä½ æ— æ³•æŒªå‡ºé¢å¤–çš„ç²¾åŠ›å’Œèµ„æºçš„è¯ï¼Œé‚£ä¹ˆä½ å¯èƒ½æ— æ³•åšä»»ä½•äº‹â€¦â€¦\næ•´ç†äº†ä¸šåŠ¡é€»è¾‘ï¼ŒæŠ½è±¡å‡ºå…¬ç”¨çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšæˆå‡ ä¸ªå…¬å…±æœåŠ¡\nå„ä¸ªåº”ç”¨åå°åªéœ€ä»è¿™äº›æœåŠ¡è·å–æ‰€éœ€çš„æ•°æ®ï¼Œä»è€Œåˆ å»äº†å¤§é‡å†—ä½™çš„ä»£ç ï¼Œå°±å‰©ä¸ªè½»è–„çš„æ§åˆ¶å±‚å’Œå‰ç«¯ã€‚è¿™ä¸€é˜¶æ®µçš„æ¶æ„å¦‚ä¸‹ï¼š\nimg\ræ•°æ®åº“ä¾ç„¶æ˜¯å…±ç”¨çš„ï¼Œæ‰€ä»¥ä¸€äº›çƒŸå›±å¼ç³»ç»Ÿçš„ç¼ºç‚¹ä»ç„¶å­˜åœ¨ï¼š\næ•°æ®åº“é€æ¸æˆä¸ºäº†æ€§èƒ½ç“¶é¢ˆ\nå¯èƒ½ä¼šæœ‰ä¸€ä¸ªæœåŠ¡ä»æ•°æ®åº“ä¸­è¯»å–å¦ä¸€ä¸ªæœåŠ¡çš„ç°è±¡å‘ç”Ÿ\næ•°æ®åº“è¡¨ç»“æ„å¯èƒ½è¢«å¤šä¸ªæœåŠ¡ä¾èµ–ï¼Œå¯¼è‡´å¾ˆéš¾è°ƒæ•´\næŒä¹…åŒ–å±‚ç›¸äº’éš”ç¦»ï¼Œç”±å„ä¸ªæœåŠ¡è‡ªå·±è´Ÿè´£ã€‚å¦å¤–ï¼Œä¸ºäº†æé«˜ç³»ç»Ÿçš„å®æ—¶æ€§ï¼ŒåŠ å…¥äº†æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶ã€‚æ¶æ„å¦‚ä¸‹ï¼š\nimg\ræ•°æ®åˆ†æå’Œæ·±åº¦å­¦ä¹ å¯ä»¥åšæ•°æ®åº“æŒä¹…åŒ–å±‚ï¼Œä¸€äº›å¸¸ç”¨çš„è®¿é—®å¯ä»¥åšmemcacheç¼“å­˜æœºåˆ¶ï¼Œå¤§æ–‡ä»¶éç»“æ„åŒ–æ–‡æœ¬å¯ä»¥é‡‡ç”¨nosqléå…³ç³»å‹æ•°æ®åº“ï¼Œä¾‹å¦‚mongodbã€redis\nè¿˜æœ‰ä¸€ç§æŠ½è±¡å‡ºå…¬å…±é€»è¾‘çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›å…¬å…±é€»è¾‘åšæˆå…¬å…±çš„æ¡†æ¶åº“ã€‚è¿™ç§æ–¹æ³•å¯ä»¥å‡å°‘æœåŠ¡è°ƒç”¨çš„æ€§èƒ½æŸè€—ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•çš„ç®¡ç†æˆæœ¬éå¸¸é«˜æ˜‚ï¼Œå¾ˆéš¾ä¿è¯æ‰€æœ‰åº”ç”¨ç‰ˆæœ¬çš„ä¸€è‡´æ€§ã€‚ æ•°æ®åº“æ‹†åˆ†ä¹Ÿæœ‰ä¸€äº›é—®é¢˜å’ŒæŒ‘æˆ˜ï¼šæ¯”å¦‚è¯´è·¨åº“çº§è”çš„éœ€æ±‚ï¼Œé€šè¿‡æœåŠ¡æŸ¥è¯¢æ•°æ®é¢—ç²’åº¦çš„ç²—ç»†é—®é¢˜ç­‰ã€‚ä½†æ˜¯è¿™äº›é—®é¢˜å¯ä»¥é€šè¿‡åˆç†çš„è®¾è®¡æ¥è§£å†³ã€‚æ€»ä½“æ¥è¯´ï¼Œæ•°æ®åº“æ‹†åˆ†æ˜¯ä¸€ä¸ªåˆ©å¤§äºå¼Šçš„ã€‚\nå¾®æœåŠ¡æ¶æ„çš„ä¼˜ç‚¹è¿˜åœ¨äºå…¶ä½¿å¾—æ•´ä¸ªç³»ç»Ÿçš„åˆ†å·¥æ›´ä¸ºæ˜ç¡®ï¼Œè´£ä»»æ›´åŠ æ¸…æ™°ï¼›å•ä½“åº”ç”¨å…¬å…±éƒ¨åˆ†å¯èƒ½å¤§å®¶éƒ½å®ç°äº†ä¸€éï¼Œå…¬å…±çš„ä¸šåŠ¡åŠŸèƒ½æ²¡æœ‰æ˜ç¡®çš„å½’å± å¾®æœåŠ¡æ¶æ„çš„ç¼ºç‚¹ï¼šå®¹æ˜“äº§ç”Ÿé›ªå´©æ•ˆåº”ï¼Œå³ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œå¦ä¸€ä¸ªæœåŠ¡ç›´æ¥æˆ–è€…é—´æ¥åœ°è°ƒç”¨è¯¥æœåŠ¡ï¼Œå¯¼è‡´è¿™ä¸ªæœåŠ¡ä¹Ÿè·Ÿç€å®•æœºäº†ï¼›æ­¤å¤–ï¼Œæ•´ä¸ªåº”ç”¨è¢«æ‹†åˆ†ä¸ºäº†å¤šä¸ªæœåŠ¡ï¼Œå®šä½æ•…éšœç‚¹ä¹Ÿååˆ†å›°éš¾ é—®é¢˜æ˜¯è§£å†³äº†ï¼Œä½†è°ä¹Ÿæ— æ³•ä¿è¯ä¸ä¼šå†å‘ç”Ÿç±»ä¼¼çš„å…¶ä»–é—®é¢˜ã€‚å¾®æœåŠ¡æ¶æ„è™½ç„¶é€»è¾‘è®¾è®¡ä¸Šçœ‹æ˜¯å®Œç¾çš„ï¼Œä½†å°±åƒç§¯æœ¨æ­å»ºçš„åä¸½å®«æ®¿ä¸€æ ·ï¼Œç»ä¸èµ·é£å¹è‰åŠ¨ã€‚å¾®æœåŠ¡æ¶æ„è™½ç„¶è§£å†³äº†æ—§é—®é¢˜ï¼Œä¹Ÿå¼•å…¥äº†æ–°çš„é—®é¢˜ï¼š\nå¾®æœåŠ¡æ¶æ„æ•´ä¸ªåº”ç”¨åˆ†æ•£æˆå¤šä¸ªæœåŠ¡ï¼Œå®šä½æ•…éšœç‚¹éå¸¸å›°éš¾ã€‚\nç¨³å®šæ€§ä¸‹é™ã€‚æœåŠ¡æ•°é‡å˜å¤šå¯¼è‡´å…¶ä¸­ä¸€ä¸ªæœåŠ¡å‡ºç°æ•…éšœçš„æ¦‚ç‡å¢å¤§ï¼Œå¹¶ä¸”ä¸€ä¸ªæœåŠ¡æ•…éšœå¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»ŸæŒ‚æ‰ã€‚äº‹å®ä¸Šï¼Œåœ¨å¤§è®¿é—®é‡çš„ç”Ÿäº§åœºæ™¯ä¸‹ï¼Œæ•…éšœæ€»æ˜¯ä¼šå‡ºç°çš„ã€‚\næœåŠ¡æ•°é‡éå¸¸å¤šï¼Œéƒ¨ç½²ã€ç®¡ç†çš„å·¥ä½œé‡å¾ˆå¤§ã€‚\nå¼€å‘æ–¹é¢ï¼šå¦‚ä½•ä¿è¯å„ä¸ªæœåŠ¡åœ¨æŒç»­å¼€å‘çš„æƒ…å†µä¸‹ä»ç„¶ä¿æŒååŒåˆä½œã€‚\næµ‹è¯•æ–¹é¢ï¼šæœåŠ¡æ‹†åˆ†åï¼Œå‡ ä¹æ‰€æœ‰åŠŸèƒ½éƒ½ä¼šæ¶‰åŠå¤šä¸ªæœåŠ¡ã€‚åŸæœ¬å•ä¸ªç¨‹åºçš„æµ‹è¯•å˜ä¸ºæœåŠ¡é—´è°ƒç”¨çš„æµ‹è¯•ã€‚æµ‹è¯•å˜å¾—æ›´åŠ å¤æ‚ã€‚\nå¦‚ä½•è§£å†³ï¼š\nå¼•å…¥ç›‘æ§ï¼ˆå¾®æœåŠ¡ç›‘æ§ç³»ç»Ÿï¼‰ï¼šä½¿ç”¨å¼€æºç»„ä»¶è·å–å„æ¥å£æŸ¥çœ‹å„çŠ¶æ€ï¼Œåˆ©ç”¨æŒ‡æ ‡é‡‡é›†å™¨æ¥åšç›‘æ§ç•Œé¢å’Œå‘Šè­¦å¤„ç†\nredisè¦ç›‘æ§å ç”¨å†…å­˜å€¼ï¼Œç½‘ç»œæµé‡ï¼›\næ•°æ®åº“è¦ç›‘æ§ç£ç›˜ç©ºé—´ã€æ•°æ®åº“è¿æ¥æ•°\nä¸šåŠ¡æœåŠ¡è¦ç›‘æ§é”™è¯¯ç‡ï¼Œå¹¶å‘æ•°ï¼Œå“åº”å»¶è¿Ÿ\rimg\rimg\rå®šä½æ•…éšœ\nDapper\næœåŠ¡å®¹é”™\nç†”æ–­å¤„ç†ï¼šæœåŠ¡å¼‚å¸¸æˆ–è€…å¤§é‡å»¶æ—¶å°±ä¸»åŠ¨ç†”æ–­ï¼Œç›´æ¥è¿”å›ï¼›ä¸ç»§ç»­è°ƒç”¨æœåŠ¡é˜²æ­¢é›ªå´©æ•ˆåº”å¯¼è‡´æœåŠ¡å™¨å®•æœºï¼Œéš”ç¦»ä¸€æ®µæ—¶é—´åï¼Œå…è®¸æ”¾è¡Œå°‘é‡è¯·æ±‚è¿›å…¥åŠç†”æ–­çŠ¶æ€ï¼Œå¦‚æœä»ç„¶è°ƒç”¨å¤±è´¥æˆ–è¶…æ—¶å¼‚å¸¸ï¼Œç»§ç»­ç†”æ–­ï¼Œå¦åˆ™å…³é—­ç†”æ–­æ¨¡å¼ çº¿ç¨‹éš”ç¦»ï¼ˆä¸€ç§éš”ç¦»æ¨¡å¼ï¼‰ä¸åŒæœåŠ¡ä½¿ç”¨ä¸åŒçº¿ç¨‹æ± ï¼Œå³æ—¶æœåŠ¡å‡ºç°æ•…éšœè€—å°½çº¿ç¨‹æ± èµ„æºä¹Ÿä¸ä¼šè®©å…¶ä»–æœåŠ¡å—åˆ°å½±å“ å›é€€æ“ä½œ é™æµå¤„ç†ï¼šå¯¹å¹¶å‘é‡è®¿é—®é‡è¿›è¡Œæ§åˆ¶ï¼Œè¶…å‡ºéƒ¨åˆ†æ‹’ç»è¯·æ±‚ åŠ¨æ€é…ç½®\nåŠ¨æ€ä¿®æ”¹é…ç½®å‚æ•°ï¼Œè§£å†³æ–¹æ¡ˆä¹‹ä¸€æ˜¯å­˜æ”¾åœ¨gitç§æœ‰ä»“åº“é‡Œï¼Œé€šè¿‡dockerä»gitæœåŠ¡å™¨ä¸­åŠ¨æ€è¯»å–ï¼Œæœ¬åœ°ä»“åº“å‘ç”Ÿä»£ç å˜åŒ–æ—¶ï¼Œé€šè¿‡pushæ“ä½œæ¨é€åˆ°gitä»“åº“ï¼ŒgitæœåŠ¡å™¨é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—é€šçŸ¥é…ç½®ä¸­å¿ƒåˆ·æ–°å¯¹åº”çš„é…ç½®æ–‡ä»¶\ndubboï¼ˆé˜¿é‡Œï¼‰\nåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ŒåŸºäºjava RPCåè®®ï¼Œæ ¸å¿ƒç»„ä»¶ï¼šæœ‰RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰ã€è´Ÿè½½å‡è¡¡ã€æœåŠ¡å‘ç°ä¸æ³¨å†Œã€å®¹é”™ã€æœåŠ¡ç›‘æ§ï¼Œç”±äºé›†æˆäº†ä¼—å¤šåŠŸèƒ½ç»„ä»¶ï¼Œæ˜¾å¾—æ¡†æ¶è¾ƒé‡ï¼Œä½†ç»å†äº†é˜¿é‡Œç”µå•†çš„è€ƒéªŒï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—ç ”ç©¶å’Œä½¿ç”¨çš„æ¡†æ¶ã€‚Nettyï¼ˆåŸºç¡€é€šä¿¡ç»„ä»¶ï¼‰Zookeeperï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼‰dubbo-monitorï¼ˆæœåŠ¡ç›‘æ§ä¸­å¿ƒï¼‰\nè§’è‰²å®šä¹‰ï¼šconsumer/provider/registry/monitor/container\nspring cloud\nä¸dubboä¸åŒï¼Œå…¶é‡‡ç”¨httpï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰åè®®restfulé£æ ¼ï¼Œæ ¸å¿ƒç»„ä»¶ï¼šæœåŠ¡å‘ç°ä¸æ³¨å†Œã€æœåŠ¡ç›‘æ§ã€‚enrukaï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼‰springboot adminï¼ˆæœåŠ¡ç›‘æ§ä¸­å¿ƒï¼‰\nåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œçº¿ç¨‹æ•°é‡å¯èƒ½ä¼šåˆ›å»ºå¤ªå¤šï¼Œæ“ä½œç³»ç»Ÿçš„ä»»åŠ¡è°ƒåº¦å‹åŠ›å¤§ï¼Œç³»ç»Ÿè´Ÿè½½ä¹Ÿä¼šæ¯”è¾ƒé«˜ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ\nZuul\nspring cloudä¸‹å¾®æœåŠ¡apiç½‘å…³ï¼Œé›†æˆribbonè´Ÿè½½å‡è¡¡ã€é‰´æƒã€é™æµã€ç†”æ–­ã€æä¾›åŠ¨æ€è·¯ç”±ã€ç›‘æ§ã€å®‰å…¨è®¤è¯ã€è´Ÿè½½å¸è½½ç­‰åŠŸèƒ½ã€‚ç½‘å…³å°±å¯ä»¥å¯¹å¤–æš´éœ²èšåˆAPIï¼Œå±è”½å†…éƒ¨å¾®æœåŠ¡çš„å¾®å°å˜åŠ¨ï¼Œä¿æŒæ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚\nEureka\næœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒ\n1.æœåŠ¡æ³¨å†Œï¼šç”Ÿäº§è€…ï¼ˆproviderï¼‰åœ¨æä¾›æœåŠ¡å®ä¾‹çš„æ—¶å€™æ³¨å†Œå¹¶å­˜è¿›æ³¨å†Œè¡¨ä¸­\n2.æä¾›æ³¨å†Œè¡¨ï¼šæ¶ˆè´¹è€…ï¼ˆconsumer)åœ¨è°ƒç”¨æœåŠ¡çš„æ—¶å€™æŸ¥è¯¢æ³¨å†Œè¡¨é‡Œå¯ç”¨çš„æœåŠ¡ï¼Œè°ƒç”¨å…¶æ–¹æ³•ï¼Œé€šå¸¸ä¼šç¼“å­˜æ³¨å†Œè¡¨ï¼Œå¹¶å®šæœŸæƒ³æ³¨å†Œä¸­å¿ƒç´¢å–æ³¨å†Œè¡¨ä¿¡æ¯\n3.ä¿¡æ¯åŒæ­¥ã€æœåŠ¡ç»­çº¦ï¼šæœåŠ¡å®ä¾‹é€šè¿‡å¿ƒè·³æœºåˆ¶å®šæœŸå‘æ³¨å†Œä¸­å¿ƒæŠ¥å‘Šè¯¥å®ä¾‹çš„å¥åº·çŠ¶æ€ï¼Œæ³¨å†Œä¸­å¿ƒæœªæ£€æµ‹åˆ°å°±å°†å…¶ä»æ³¨å†Œè¡¨ä¸Šå‰”é™¤\n4.æœåŠ¡ä¸‹çº¿ï¼šæœåŠ¡å®ä¾‹ä¸‹çº¿çš„æ—¶å€™ï¼Œæ³¨å†Œä¸­å¿ƒå°†å…¶å‰”é™¤\n5.è´Ÿè½½å‡è¡¡ï¼šå†…ç½®Ribbonï¼Œå¤šä¸ªæœåŠ¡å®ä¾‹æ—¶ï¼Œæ ¹æ®ribbionè¯·æ±‚è¯·æ±‚åˆ†æ³•è‡ªåŠ¨è¿›è¡Œè´Ÿè½½å‡è¡¡\n6.è‡ªæˆ‘ä¿æŠ¤ï¼šå½“æ£€æµ‹ä¸åˆ°å¿ƒè·³æœºåˆ¶æ—¶ï¼Œå¤§é‡æœåŠ¡ä»æ³¨å†Œä¸­å¿ƒå‰”é™¤ï¼Œæœ‰å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜ï¼Œè¿™æ—¶åœæ­¢å‰”é™¤ï¼Œé˜²æ­¢è¯¯æ€æœåŠ¡ï¼›åœ¨æ­¤æœŸé—´èƒ½å¤Ÿè¿›è¡ŒæœåŠ¡æ³¨å†Œå’ŒæŸ¥è¯¢ï¼Œç½‘ç»œç¨³å®šå°†æ–°çš„æœåŠ¡å®ä¾‹åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ä¸­\n7.é›†ç¾¤éƒ¨ç½²ï¼šæ‰€æœ‰eurekaèŠ‚ç‚¹ä¼šå®šæ—¶è‡ªåŠ¨åŒæ­¥å¾®æœåŠ¡çš„æ³¨å†Œä¿¡æ¯\nNginx\nè´Ÿè½½å‡è¡¡å·¥å…·ï¼ˆLinuxï¼‰ï¼Œä¼˜ç§€çš„åå‘ä»£ç†æœåŠ¡å™¨ï¼Œï¼ˆæ­£å‘ä»£ç†å°±æ˜¯æ›¿å®¢æˆ·ç«¯åšä»£ç†ï¼Œå»è¯·æ±‚æœåŠ¡å™¨ï¼Œä¾‹å¦‚ç§‘å­¦ä¸Šç½‘ï¼Œåå‘ä»£ç†å°±æ˜¯æ›¿æœåŠ¡ç«¯åšä»£ç†ï¼Œå°†å®¢æˆ·ç«¯è¯·æ±‚åˆ†å‘åˆ°çœŸå®çš„æœåŠ¡å™¨ä¸Šï¼Œè¿›è€Œå®ç°è´Ÿè½½å‡è¡¡ã€‚ï¼‰è¿˜å¯ä»¥åšwebæœåŠ¡ã€webç¼“å­˜ï¼Œä¼˜ç‚¹ï¼šé«˜å¹¶å‘ã€ä½æ¶ˆè€—ã€ipé™é€Ÿã€é™åˆ¶è¿æ¥æ•°ã€\nimg\rRibbon\nè´Ÿè½½å‡è¡¡å·¥å…·ï¼Œè¢«å°è£…åœ¨springcloudå†…ï¼Œè‡ªåŠ¨å°†åŸºäºhttpçš„restfulæ¨¡ç‰ˆè½¬æ¢æˆå®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡çš„æœåŠ¡è°ƒç”¨ã€‚è´Ÿè½½å‡è¡¡æ˜¯å¯¹ç³»ç»Ÿçš„é«˜å¯ç”¨ã€ç½‘ç»œå‹åŠ›çš„ç¼“è§£å’Œå¤„ç†èƒ½åŠ›æ‰©å®¹çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ã€‚\nDapper\nè°·æ­Œæ——ä¸‹åˆ†å¸ƒå¼æ¶æ„è·Ÿè¸ªç³»ç»Ÿï¼Œä½æ¶ˆè€—é«˜æ‹“å±•ï¼Œæä¾›é“¾è·¯å®šä½è·Ÿè¸ª\nMock\nå•å…ƒæµ‹è¯•ã€ç”Ÿæˆæ•°æ®ï¼Œå¯¹ä¸å®¹æ˜“è·å–ã€æ„é€ çš„å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªmockå¯¹è±¡æ¥æ¨¡ä»¿å¯¹è±¡çš„è¡Œä¸º\nå®Œç¾RPCï¼ˆè®©è¿œç¨‹è°ƒç”¨åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ï¼Œè§£å†³åˆ†å¸ƒå¼ç³»ç»ŸæœåŠ¡é—´è°ƒç”¨çš„é—®é¢˜ï¼‰\næœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆZkï¼Œè´Ÿè´£æœåŠ¡å‘ç°ã€æ³¨å†Œä¸æ²»ç†ï¼‰ã€è´Ÿè½½å‡è¡¡ï¼ˆå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•å¦‚è½®è¯¢ã€å‹åŠ›æœ€å°ï¼Œè¯·æ±‚åˆ†å‘ï¼Œï¼‰ã€ç¼“å­˜æœºåˆ¶ï¼ˆç¼“å­˜æ³¨å†Œè¡¨ï¼‰ã€å¼‚æ­¥è°ƒç”¨ã€æ•…éšœå®šä½ã€å‘Šè­¦å’Œç›‘æ§ã€\nè½®è¯¢ã€é•¿è¿æ¥å’Œå¿ƒè·³æœºåˆ¶\nè½®è¯¢è€—èµ„æºï¼Œæ¯æ¬¡è½®è¯¢å°±è¦å»ºç«‹è¿æ¥ï¼Œé—´éš”æ—¶é—´å®šä¹‰ï¼Œé•¿è¿æ¥ä½æ¶ˆè€—ï¼Œå¿ƒè·³æ›´ä½ï¼Œè½®è¯¢å’Œé•¿è¿æ¥ç”¨æ¥è¯·æ±‚æ•°æ®ï¼Œè·å–å“åº”ï¼Œå¿ƒè·³ç”¨æ¥ä¿æŒè¿æ¥å³å¯\nkubernetes\nDocker\nå¾®æœåŠ¡ä»¥é•œåƒçš„å½¢å¼ï¼Œè¿è¡Œåœ¨Dockerå®¹å™¨ä¸­ã€‚ä½¿ç”¨Dockerå®¹å™¨æŠ€æœ¯ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‰€éœ€çš„åŸºç¡€é•œåƒï¼ˆjdkç­‰ï¼‰å’Œå¾®æœåŠ¡ç”Ÿæˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œå°†è¿™ä¸ªæœ€ç»ˆçš„é•œåƒéƒ¨ç½²åœ¨Dockerå®¹å™¨ä¸­è¿è¡Œï¼Œè¿™ç§æ–¹å¼ç®€å•ã€é«˜æ•ˆï¼Œèƒ½å¤Ÿå¿«é€Ÿéƒ¨ç½²æœåŠ¡ã€‚æ¯ä¸ªDockerå®¹å™¨ä¸­å¯ä»¥è¿è¡Œå¤šä¸ªå¾®æœåŠ¡ï¼ŒDockerå®¹å™¨ä»¥é›†ç¾¤çš„æ–¹å¼éƒ¨ç½²ï¼Œä½¿ç”¨Docker Swarmå¯¹è¿™äº›å®¹å™¨è¿›è¡Œç®¡ç†ã€‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé•œåƒä»“åº“ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„åŸºç¡€é•œåƒä»¥åŠç”Ÿæˆçš„æœ€ç»ˆäº¤ä»˜é•œåƒï¼Œåœ¨é•œåƒä»“åº“ä¸­å¯¹æ‰€æœ‰é•œåƒè¿›è¡Œç®¡ç†ã€‚\nè‡ªåŠ¨åŒ–æµ‹è¯•+å‘å¸ƒ\nè“ç»¿å‘å¸ƒ\næŠŠAç»„å‰¥ç¦»å‡ºLBè¿›è¡Œå‡çº§ï¼Œå‡çº§å®Œäº†å†é‡æ–°éƒ¨ç½²è¿›LBä¸­ï¼Œæ²¡é—®é¢˜çš„è¯æŠŠBç»„å‰¥ç¦»å‡ºLBè¿›è¡Œå‡çº§ï¼Œå‡çº§å®Œäº†å†é‡æ–°éƒ¨ç½²è¿›LBä¸­ã€‚\nimage-20201012154800884\rä¼˜ç‚¹ï¼šå‘å¸ƒå¹³æ»‘/æœ‰é—®é¢˜åŠæ—¶å›æ»š/å‡ºé—®é¢˜å½±å“èŒƒå›´æ¯”è¾ƒå¤§/ç­–ç•¥ç®€å•\nç¼ºç‚¹ï¼šå°†ABåˆ†åˆ«å‰¥ç¦»å‡ºLBï¼Œå°±éœ€è¦ä¸¤å€æ•°é‡çš„æœåŠ¡å™¨æä¾›æ”¯æŒï¼Œå¦åˆ™å®¹æ˜“å¯¼è‡´å› è¯·æ±‚é‡è¿‡å¤§æœåŠ¡å™¨æ„å¤–å®•æœºï¼ŒçŸ­æ—¶é—´å†…æµªè´¹ä¸€å®šèµ„æºæˆæœ¬ï¼Œä¾‹å¦‚äº‘èµ„æºæˆ–ç¡¬ä»¶èµ„æº\nç°åº¦å‘å¸ƒ\nå‡çº§éƒ¨åˆ†æœåŠ¡ï¼Œè®©ä¸€éƒ¨åˆ†ç”¨æˆ·ç»§ç»­ä½¿ç”¨è€ç‰ˆæœ¬ï¼Œä¸€éƒ¨åˆ†ä½¿ç”¨æ–°ç‰ˆæœ¬ï¼Œå½“æ–°ç‰ˆæœ¬æ— é—®é¢˜å®¢æˆ·æ— åé¦ˆï¼Œå°±é€æ­¥æ‰©å¤§æœåŠ¡å‡çº§èŒƒå›´ï¼Œè‡³å…¨éƒ¨å‡çº§å®Œæ¯•ã€‚ï¼ˆå½¢ä¼¼å…¬æµ‹å’Œå†…æµ‹ï¼‰ä»LBä¸­å»æ‰ç°åº¦æœåŠ¡å™¨ï¼Œå¯¹ç°åº¦æœåŠ¡å™¨è¿›è¡Œå‡çº§ï¼Œå‡çº§åè¿›è¡Œæµ‹è¯•ï¼Œç°åº¦æœåŠ¡å™¨æµ‹è¯•æˆåŠŸå°±å‡çº§å‰©ä½™æœåŠ¡å™¨ã€‚\nimage-20201012154815099\rä¼˜ç‚¹ï¼šé€æ­¥ä¿è¯ç¨³å®šæ€§ï¼Œä¸€æœ‰é—®é¢˜å°±å¯ä»¥åŠæ—¶å‘ç°ï¼Œå½±å“çš„èŒƒå›´ç›¸å¯¹å¯æ§ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œå¹³æ»‘è¿‡æ¸¡\nç¼ºç‚¹ï¼šè‡ªåŠ¨åŒ–è¦æ±‚æ¯”è¾ƒé«˜\næ»šåŠ¨å‘å¸ƒ\nä¸€æ¬¡å‡çº§ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ï¼Œç›´åˆ°å…¨éƒ¨æœåŠ¡éƒ½å‡çº§ï¼›\nimage-20201012155403577\rä¼˜ç‚¹ï¼šèŠ‚çº¦èµ„æº/å¹³æ»‘è¿‡æ¸¡\nç¼ºç‚¹ï¼šä¸æ˜“å›æ»š/å‘å¸ƒç­–ç•¥å¤æ‚/è‡ªåŠ¨åŒ–è¦æ±‚é«˜\nè“ç»¿å‘å¸ƒï¼šä¸¤å¥—ç¯å¢ƒäº¤æ›¿å‡çº§ï¼Œæ—§ç‰ˆæœ¬ä¿ç•™ä¸€å®šæ—¶é—´ä¾¿äºå›æ»šã€‚ ç°åº¦å‘å¸ƒï¼šæ ¹æ®æ¯”ä¾‹å°†è€ç‰ˆæœ¬å‡çº§ï¼Œä¾‹å¦‚80%ç”¨æˆ·è®¿é—®æ˜¯è€ç‰ˆæœ¬ï¼Œ20%ç”¨æˆ·è®¿é—®æ˜¯æ–°ç‰ˆæœ¬ã€‚ æ»šåŠ¨å‘å¸ƒï¼šæŒ‰æ‰¹æ¬¡åœæ­¢è€ç‰ˆæœ¬å®ä¾‹ï¼Œå¯åŠ¨æ–°ç‰ˆæœ¬å®ä¾‹ã€‚ ","date":"2020-10-23T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"å¾®æœåŠ¡æ¶æ„å­¦ä¹ æ–‡æ¡£"},{"content":"å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼å­¦ä¹ æ–‡æ¡£ å¾®æœåŠ¡ä¸åœ¨äºâ€œå¾®â€ï¼Œè€Œåœ¨äºå•ä¸€èŒè´£ã€‚\nâ€”â€”å¼•è‡ªã€Šå¾®æœåŠ¡æ¶æ„ä¸å®è·µã€‹ç‹ç£Š ç‰¹ç‚¹ï¼š å•ä¸€èŒè´£ è½»é‡é€šä¿¡ï¼ˆæ— å…³å¹³å°è¯­è¨€ã€é€šè¿‡è½»é‡çº§é€šä¿¡æœºåˆ¶äº’è”ï¼‰ image-20201019111933340\ré‡‡ç”¨xmlæˆ–jsonæ ¼å¼è¾¾åˆ°é€šç”¨ï¼Œå¯ä»¥åŸºäºhttpåè®®æˆ–rpcåè®®è¾¾åˆ°æœåŠ¡é—´çš„è½»é‡çº§é€šä¿¡\nä¸šåŠ¡ç‹¬ç«‹ï¼ˆå¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ï¼‰ image-20201019112313900\rè¿›ç¨‹éš”ç¦» image-20201019162622677\ræŒç»­äº¤ä»˜ æŠ€æœ¯çš„å¯æ‰©å±•æ€§ï¼ˆæ¥å£ä¸ä¾èµ–äºç‰¹å®šè¯­è¨€å’Œå¹³å°ï¼‰ åŠ£åŠ¿ï¼š ç½‘ç»œé€šä¿¡ï¼šè¿›ç¨‹å†…è°ƒç”¨æ¯”è¿›ç¨‹é—´è°ƒç”¨ç”¨æ—¶çŸ­ï¼Œåˆ†å¸ƒå¼è°ƒç”¨ä¸¥é‡ä¾èµ–ç½‘ç»œå¯é æ€§ä¸ç¨³å®šæ€§ã€‚ è‡ªåŠ¨åŒ–æµ‹è¯•æ¡ä»¶ä¸¥è‹›ï¼ˆæµ‹è¯•éš¾åº¦å¤§ï¼‰ image-20201019161945662\råˆ†åŒºæ•°æ®åº“æ¶æ„ï¼ˆéœ€è¦ä½¿ç”¨åŸºäºæœ€ç»ˆä¸€è‡´æ€§çš„æ–¹æ³•ï¼‰ è·¨è¶Šå¤šæœåŠ¡å˜æ›´ï¼ˆæœåŠ¡ä¹‹é—´å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼‰ éš¾ç‚¹ï¼š æ€§èƒ½ï¼ˆè·¨è¿›ç¨‹ã€è·¨ç½‘ç»œã€è·¨æ•°æ®åº“ï¼‰ï¼šè€ƒè™‘é€šä¿¡æˆæœ¬ã€ç½‘ç»œå»¶è¿Ÿã€å¸¦å®½ã€å¤šæœåŠ¡äº¤äº’çš„å“åº”æ—¶é—´ å¯é æ€§ï¼šæœåŠ¡æ•°é‡èŠ‚ç‚¹å¢å¤šå¯èƒ½å¸¦æ¥æ½œåœ¨æ•…éšœç‚¹ï¼Œé˜²æ­¢å•ç‚¹æ•…éšœ å¼‚æ­¥ï¼šåŒæ­¥é€šä¿¡é€ æˆé˜»å¡ï¼Œå¼‚æ­¥é€šä¿¡ç¼ºå¢åŠ åŠŸèƒ½å®ç°çš„å¤æ‚åº¦ï¼Œå‡ºç°æ•…éšœæ—¶çš„é“¾è·¯è¿½è¸ªã€å®šä½ã€è°ƒè¯•æœ‰éš¾åº¦ã€‚ image-20201019164512498\ræ•°æ®ä¸€è‡´æ€§ï¼šä¿æŒæ•°æ®ä¸€è‡´æ€§éœ€è¦ä½¿ç”¨sagaæˆ–è€…ä»€ä¹ˆcqrsè§†å›¾æŸ¥è¯¢ä»€ä¹ˆçš„ è”è¡¨æŸ¥è¯¢ï¼š å°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„æ”¹é€ é—ç•™ç³»ç»Ÿï¼š æ”¹é€ ç­–ç•¥/åŸåˆ™ï¼š\næœ€å°ä¿®æ”¹ï¼ˆåœæ­¢æŒ–æ˜ï¼‰ image-20201019165725693\råŠŸèƒ½å‰¥ç¦» image-20201019165818362\ræ•°æ®è§£è€¦ image-20201019171523179\ræ•°æ®åŒæ­¥ image-20201019171657915\râ€”â€”å¼•è‡ªã€Šå¾®æœåŠ¡:ä»è®¾è®¡åˆ°éƒ¨ç½²ã€‹Oposguyç¿»è¯‘ä¸æ’ç‰ˆ image-20201019174033415\rimage-20201019174056966\rimage-20201019191811111\ræ¯ä¸ªå¾®æœåŠ¡æ‹¥æœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œè¿™å°†å¯¼è‡´éƒ¨åˆ†æ•°æ®å†—ä½™ï¼Œä½†è¿™æ ·å¯ä»¥å®ç°æ¾è€¦åˆã€‚\nimage-20201019174508586\rimage-20201019175638779\rè¿›ç¨‹é—´é€šä¿¡ï¼š\nimage-20201019192425195\ræœåŠ¡ä¸­ä½¿ç”¨äº†é€šçŸ¥ã€è¯·æ±‚/å“åº”å’Œå‘å¸ƒ/è®¢é˜…ç»„åˆã€‚\nå¿…é¡»è¦åŠ å…¥ç†”æ–­å¤„ç†æœºåˆ¶ï¼ˆæˆ–è€…è®¾ç½®è¶…æ—¶ã€é™åˆ¶æœªå®Œæˆçš„è¯·æ±‚æ•°é‡æˆ–æä¾›å›æ»šæ“ä½œï¼‰ï¼Œå¦åˆ™å°†ä¼šé€ æˆçº¿ç¨‹å µå¡æ— æ³•å“åº”ã€‚\nimage-20201019192657830\rä½¿ç”¨å¼‚æ­¥åŸºäºæ¶ˆæ¯çš„é€šä¿¡ï¼Œä¾‹å¦‚ä½¿ç”¨rabbitmqã€amqpç­‰ç­‰\nimage-20201019193109130\rå¦‚ä½•ç»´æŠ¤å¤šä¸ªæœåŠ¡ä¹‹é—´çš„ä¸šåŠ¡äº‹åŠ¡ä¸€è‡´æ€§ï¼Œä¼ ç»Ÿçš„ä¸¤é˜¶æ®µæäº¤2pcå·²ç»ä¸èƒ½ä½¿ç”¨\nimage-20201019195112681\rå¦‚ä½•ä»å¤šä¸ªæœåŠ¡ä¸­æ£€ç´¢æ•°æ®ï¼ˆåˆ©ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ä½œä¸ºè§£å†³æ–¹æ¡ˆï¼Œé¦–å…ˆå‘å¸ƒä¸€ä¸ªäº‹ä»¶ï¼Œè®©ä¸å…¶ç›¸å…³çš„æ•°æ®åº“æ‰€å±çš„å¾®æœåŠ¡è®¢é˜…è¯¥äº‹ä»¶ï¼Œè¿™æ ·å°±å¯¼è‡´ï¼šæŸä¸ªå¾®æœåŠ¡å†…çš„äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œè®¢é˜…è¯¥äº‹ä»¶çš„å¾®æœåŠ¡æ¨¡å—è¿›ä¸€æ­¥è§¦å‘ï¼Œå¯¼è‡´æ›´å¤šçš„äº‹ä»¶è¢«å‘å¸ƒï¼‰\nä¸­é—´å±‚æ¬¡æ˜¯æ¶ˆæ¯ä»£ç†\näº‹ä»¶é©±åŠ¨çš„æ¶æ„èƒ½å¤Ÿè·¨è¶Šå¤šæœåŠ¡å¹¶æä¾›æœ€ç»ˆä¸€è‡´æ€§äº‹åŠ¡ï¼Œå¦å¤–å°±æ˜¯èƒ½å¤Ÿç”Ÿæˆå’Œç»´æŠ¤ç‰©åŒ–è§†å›¾ã€‚\nimage-20201019195846736\rimage-20201019200203845\rimage-20201019200214661\rimage-20201019201228525\rå¾®æœåŠ¡é‡æ„ç­–ç•¥ï¼š\nåœæ­¢æŒ–æ˜ image-20201019202506214\rä»¥ä¸Šéœ€è¦ä¸¤ä¸ªç»„ä»¶ï¼Œç¬¬ä¸€ä¸ªä¸ºapiç½‘å…³ï¼Œæä¾›è´Ÿè½½å‡è¡¡ã€è¯·æ±‚åˆ†å‘ã€è·¯ç”±æ§åˆ¶ï¼›ç¬¬äºŒä¸ªæ˜¯ç²˜åˆä»£ç ï¼Œç”¨äºä¸å•ä½“é›†æˆï¼Œæ¯•ç«Ÿä¸€ä¸ªæœåŠ¡å¾ˆå°‘å­¤ç«‹å­˜åœ¨ï¼Œé€šå¸¸éœ€è¦è®¿é—®å•ä½“çš„æ•°æ®åº“ã€‚è¿™å°±éœ€è¦ç²˜åˆä»£ç æ¥è´Ÿè´£æ•°æ®é›†æˆã€‚\næå–æœåŠ¡ image-20201019205850332\rimage-20201019210059948\râ€”â€”å¼•è‡ªã€Š.NETå¾®æœåŠ¡ä¸å®¹å™¨åŒ–.NETåº”ç”¨æ¶æ„æŒ‡å—ã€‹Cesar de la Torre,Bill Wagner,Mike Rousos åˆ›å»ºå¾®æœåŠ¡çš„é‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„å¾®æœåŠ¡ï¼Œåªè¦ä»–ä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šçš„ç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥å°½å¯èƒ½å°ï¼Œé‡è¦çš„è¿˜æ˜¯è¦æœ‰å†…éƒ¨ä¸€è‡´æ€§å’Œå¯¹å…¶ä»–æœåŠ¡çš„ä¾èµ–ã€‚\nä¼˜åŠ¿ï¼šé•¿æœŸæ•æ·æ€§ã€ç‹¬ç«‹éƒ¨ç½²ã€ç»†ç²’åº¦ã€é«˜æ‰©å±•ã€å¯ç»´æŠ¤ã€ç‹¬ç«‹è¿›è¡Œæ¨ªå‘æ‰©å±•ä»¥ä¾¿èŠ‚çº¦æˆæœ¬ã€‚\nimage-20201019211612693\rç„¶è€Œï¼Œå¾®æœåŠ¡æ¶æ„çš„æ•°æ®è®¿é—®ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚å³ä½¿åœ¨ä¸€ä¸ªå¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡é‡Œèƒ½å¤Ÿæˆ–è€…åº”è¯¥åšåˆ°ACIDäº‹åŠ¡ä¸€è‡´ï¼Œä½†æ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡å¾®æœåŠ¡çš„APIæ¥è®¿é—®ã€‚å°†æ•°æ®è¿›è¡Œå°è£…ç¡®ä¿äº†å¾®æœåŠ¡æ˜¯æ¾è€¦åˆä¸”èƒ½ç‹¬ç«‹å˜åŒ–çš„ã€‚å¦‚æœå¤šä¸ªæœåŠ¡è®¿é—®ç›¸åŒæ•°æ®ï¼Œæ•°æ®çš„æ›´æ–°å°±è¦æ±‚åè°ƒåŒæ­¥åˆ°æ‰€æœ‰æœåŠ¡ï¼Œè¿™ä¼šç ´åå¾®æœåŠ¡ç”Ÿå‘½å‘¨æœŸçš„è‡ªæ²»æ€§ã€‚è¿™å°±è¡¨ç¤ºï¼Œå½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ã€‚è¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQLè¿æ¥è¦å¤æ‚å¾—å¤šã€‚åŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚\nåˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ å¦‚ä½•å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼ˆDDDé¢†åŸŸé©±åŠ¨è®¾è®¡åŠç•Œé™ä¸Šä¸‹æ–‡ï¼‰\rimage-20201020151358861\rimage-20201020151420359\rå¦‚ä½•åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼ˆèšåˆä¿¡æ¯æé«˜æ•ˆç‡ï¼Œ1.ä½¿ç”¨apiç½‘å…³ï¼Œä½†æ˜¯å¯èƒ½ä¼šæˆä¸ºå•ç‚¹æ•…éšœæˆ–è€…ç³»ç»Ÿç“¶é¢ˆï¼Œæ‰€ä»¥è¦å°½å¯èƒ½ä½¿ç”¨å¤šä¸ªç»†ç²’åº¦çš„apiç½‘å…³ï¼Œ2.ä½¿ç”¨CQRSæŸ¥è¯¢ï¼Œå³ä½¿ç”¨ç‰©åŒ–è§†å›¾æ¨¡å¼ï¼‰ image-20201020145820045\rimage-20201020151855677\rå¦‚ä½•åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§ï¼ˆåº”è¯¥ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œæˆ–è€…è¯´æ˜¯åŸºäºäº‹ä»¶çš„é€šä¿¡ï¼Œå³å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼‰\rimage-20201020145954765\rimage-20201020154005367\rå¦‚ä½•åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ï¼ˆhttpåŒæ­¥æœ¬è´¨ï¼Œä¼šå¸¦æ¥httpè°ƒç”¨é“¾æ¡ï¼Œé€ æˆé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ç”šè‡³é›ªå´©å¼å®•æœºï¼Œä¼šæœ‰è¿™æ ·ä¸€ç§äº‰è®®ï¼šå®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œè¿›ç¨‹é—´æ˜¯åŸºäºhttpçš„ï¼Œæ²¡æœ‰è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚å› æ­¤æˆ‘ä»¬å»ºè®®ï¼Œä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ï¼Œæˆ–è€…ä½¿ç”¨httpè½®è¯¢æ–¹å¼ï¼‰\rimage-20201020153126389\r","date":"2020-10-13T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼å­¦ä¹ æ–‡æ¡£"},{"content":"Rediså­¦ä¹ æ–‡æ¡£ nosqlè®²è§£\né˜¿é‡Œå·´å·´æ¶æ„æ¼”è¿›\nnosqlæ•°æ®æ¨¡å‹\nnosqlå››å¤§åˆ†ç±»\ncap\nbase\nrediså…¥é—¨\nrediså®‰è£…\näº”å¤§åŸºæœ¬æ•°æ®ç±»å‹\nstring\nlist\nset\nhash\nzset\nä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹\ngeo\nhyperloglog\nbitmap\nRedisé…ç½®è¯¦è§£\nredisæŒä¹…åŒ–\nrdb\naof\nredisäº‹åŠ¡æ“ä½œ\nrediså®ç°è®¢é˜…å‘å¸ƒ\nredisä¸»ä»å¤åˆ¶\nrediså“¨å…µæ¨¡å¼\nç¼“å­˜ç©¿é€åŠè§£å†³æ–¹æ¡ˆ\nç¼“å­˜å‡»ç©¿åŠè§£å†³æ–¹æ¡ˆ\nç¼“å­˜é›ªå´©åŠè§£å†³æ–¹æ¡ˆ\nåŸºç¡€apiä¹‹jedisè¯¦è§£\nspringbootç»§æ‰¿redisæ“ä½œ\nredisçš„å®è·µåˆ†æ\nnosqlæ¦‚è¿°\nå¤§æ•°æ®æ—¶ä»£ï¼Œä¸€èˆ¬çš„æ•°æ®åº“æ— æ³•è¿›è¡Œåˆ†æå¤„ç†äº†ï¼\nspringboot+springcloud\n1.å•æœºmysqlå¹´ä»£\napp=\u0026gt;dal=\u0026gt;mysql\n90å¹´ä»£é™æ€ç½‘é¡µhtml æœåŠ¡å™¨æ²¡æœ‰å¤ªå¤§çš„å‹åŠ›\n1.æ•°æ®é‡å¦‚æœå¤ªå¤§ï¼Œä¸€å°æœºå™¨æ”¾ä¸ä¸‹äº†\n2.æ•°æ®çš„ç´¢å¼• 300ä¸‡æ¡å°±ä¸€å®šè¦å»ºç«‹ç´¢å¼•ï¼Œé‚£ä¹ˆä¸€ä¸ªæœºå™¨çš„å†…å­˜æ”¾ä¸ä¸‹\n3.è®¿é—®é‡ï¼Œè¯»å†™æ··åˆï¼Œä¸€ä¸ªæœåŠ¡å™¨å—ä¸äº†\n2.Memcachedï¼ˆç¼“å­˜ï¼‰mysql+å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰\nç½‘ç«™80%éƒ½åœ¨è¯»ï¼Œå¦‚æœæ¯æ¬¡å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡\nimage-20200923185840123\rå‘å±•è¿‡ç¨‹ï¼šä¼˜åŒ–æ•°æ®ç»“æ„å’Œç´¢å¼•===\u0026gt;æ–‡ä»¶ç¼“å­˜ï¼ˆIOï¼‰===\u0026gt;memchched(å½“æ—¶æœ€çƒ­é—¨çš„æŠ€æœ¯)===\u0026gt;\n3.åˆ†åº“åˆ†è¡¨+æ°´å¹³æ‹†åˆ†+mysqlé›†ç¾¤\nimage-20200923190414174\ræœ¬è´¨ï¼šæ•°æ®åº“ï¼ˆè¯»å†™ï¼‰\næ—©äº›å¹´mysiamï¼šè¡¨é”ï¼ˆå½±å“æ•ˆç‡ï¼‰ï¼Œé«˜å¹¶å‘ä¸‹å‡ºç°ä¸¥é‡çš„é”é—®é¢˜\næ—©äº›å¹´innodbï¼šè¡Œé”ï¼Œæ…¢æ…¢çš„å°±å¼€å§‹ä½¿ç”¨åˆ†åº“åˆ†è¡¨æ¥è§£å†³å†™çš„å‹åŠ›ï¼mysqlåœ¨é‚£ä¸ªå¹´ä»£æ¨å‡ºäº†è¡¨åˆ†åŒºï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰å¤šå°‘å…¬å¸ä½¿ç”¨ï¼\nmysqlçš„é›†ç¾¤ï¼Œå¾ˆå¥½çš„æ»¡è¶³äº†é‚£ä¸ªå¹´ä»£çš„æ‰€æœ‰éœ€æ±‚ï¼\n4.å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£\næŠ€æœ¯çˆ†ç‚¸ï¼š\n2000-2010ï¼šåå¹´é—´ï¼Œå˜åŒ–å¤ªå¿«äº†ï¼ˆçƒ­æ¦œã€éŸ³ä¹ï¼‰\nmysqlç­‰å…³ç³»å‹æ•°æ®åº“å°±ä¸å¤Ÿç”¨äº†ï¼æ•°æ®é‡å¾ˆå¤šï¼Œå˜åŒ–å¾ˆå¿«ï¼\nmysqlæœ‰çš„ä½¿ç”¨å®ƒæ¥å­˜å‚¨ä¸€äº›æ¯”è¾ƒå¤§çš„æ–‡ä»¶ã€æ’­å®¢ã€å›¾ç‰‡ï¼æ•°æ®åº“è¡¨å¾ˆå¤§ï¼Œæ•ˆç‡å°±å¾ˆä½äº†\nå¦‚æœæœ‰ä¸€ç§æ•°æ®åº“æ¥ä¸“é—¨å¤„ç†è¿™ç§æ•°æ®ï¼Œmysqlçš„å‹åŠ›å°±ä¼šå˜å¾—ååˆ†å°ï¼Œï¼ˆç ”ç©¶å¦‚ä½•å¤„ç†è¿™äº›é—®é¢˜ï¼‰å¤§æ•°æ®çš„ioå‹åŠ›ä¸‹ï¼Œè¡¨å‡ ä¹æ²¡æ³•æ›´æ”¹ï¼Œ\nç›®å‰ä¸€ä¸ªåŸºæœ¬äº’è”ç½‘é¡¹ç›®ï¼\nimage-20200923191743309\rä¸ºä»€ä¹ˆè¦ç”¨nosql\nç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤æ¸©æ˜‚ç½—ï¼Œåœ°ç†ä½ç½®ï¼Œç”¨æˆ·è‡ªå·±äº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·æ—¥å¿—ç­‰ç­‰çˆ†å‘å¼å¢é•¿ï¼\nè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨nosqlæ•°æ®åº“çš„ï¼Œnosqlå¯ä»¥å¾ˆå¥½çš„å¤„ç†ä»¥ä¸Šæƒ…å†µ\nä»€ä¹ˆæ˜¯nosql\nnosql = not only sql(ä¸ä»…ä»…æ˜¯sql)\nå…³ç³»å‹æ•°æ®åº“ï¼šè¡¨æ ¼ï¼Œè¡Œï¼Œåˆ—ï¼ˆPOIï¼‰\næ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“çš„ï¼Œ éšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼æš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼Œnosqlåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼Œredisæ˜¯å‘å±•æœ€å¿«çš„ï¼Œè€Œä¸”æ˜¯æˆ‘ä»¬å½“ä¸‹å¿…é¡»æŒæ¡çš„ä¸€ä¸ªæŠ€æœ¯ï¼\nå¾ˆå¤šçš„æ•°æ®ç±»å‹ï¼šä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ï¼Œæµåª’ä½“ï¼Œè¿™äº›æ•°æ®ç±»å‹çš„å­˜å‚¨ä¸éœ€è¦ä¸€ä¸ªå›ºå®šçš„æ ¼å¼ï¼ä¸éœ€è¦å¤šä½™çš„æ“ä½œå°±å¯ä»¥æ¨ªå‘æ‰©å±•çš„ï¼ŒMap\u0026lt;String , Object\u0026gt;ä½¿ç”¨é”®å€¼å¯¹æ¥æ§åˆ¶ï¼\nGet Set\nnosqlç‰¹ç‚¹\n1.æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼‰\nè§£è€¦\n2.å¤§æ•°æ®é‡é«˜æ€§èƒ½ï¼ˆRedis ä¸€ç§’å†™80000æ¬¡ï¼Œè¯»å–110000æ¬¡ï¼Œnosqlçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼ï¼‰\n3.æ•°æ®ç±»å‹æ˜¯å¤šæ ·å‹ï¼ï¼ˆä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“ï¼éšå–éšç”¨ï¼å¦‚æœæ•°æ®é‡ååˆ†å¤§çš„è¡¨ï¼Œå¾ˆå¤šäººå°±æ— æ³•è®¾è®¡äº†ï¼ï¼‰\n4.ä¼ ç»Ÿçš„rdbms å’Œnosqlçš„åŒºåˆ«\nä¼ ç»Ÿçš„rdbms -ç»“æ„åŒ–ç»„ç»‡ -sql -æ•°æ®å’Œå…³ç³»éƒ½å­˜åœ¨å•ç‹¬çš„è¡¨ä¸­ -æ“ä½œæ“ä½œï¼Œæ•°æ®å®šä¹‰è¯­è¨€ -ä¸¥æ ¼çš„ä¸€è‡´æ€§ -åŸºç¡€çš„äº‹åŠ¡ -.... nosql -ä¸ä»…ä»…æ˜¯æ•°æ® -æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€ -é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»ï¼‰ -æœ€ç»ˆä¸€è‡´æ€§ -CAPå®šç† å’Œ BASEï¼ˆå¼‚åœ°å¤šæ´»ï¼ï¼‰ åˆçº§æ¶æ„å¸ˆ -é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜å¯æ‰© -.... äº†è§£ï¼š3V+3é«˜\nå¤§æ•°æ®æ—¶ä»£çš„3Vï¼šä¸»è¦æ˜¯æè¿°é—®é¢˜çš„\n1.æµ·é‡volume\n2.å¤šæ ·variety\n3.å®æ—¶velocity\nå¤§æ•°æ®æ—¶ä»£çš„3é«˜ï¼šä¸»è¦æ˜¯å¯¹ç¨‹åºçš„è¦æ±‚\n1.é«˜å¹¶å‘\n2.é«˜å¯æ‹“ï¼ˆéšæ—¶æ°´å¹³æ‹†åˆ†ï¼Œæœºå™¨ä¸å¤Ÿäº†ï¼Œå¯ä»¥æ‰©å±•æœºå™¨æ¥è§£å†³ï¼‰\n3.é«˜æ€§èƒ½ï¼ˆä¿è¯ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ï¼‰\nçœŸæ­£åœ¨å…¬å¸ä¸­çš„å®è·µä¸€å®šæ˜¯ï¼šnosql+RDBMSä¸€èµ·ä½¿ç”¨æ‰æ˜¯æœ€å¼ºçš„ï¼Œé˜¿é‡Œå·´å·´çš„æ¶æ„æ¼”è¿›\næŠ€æœ¯æ²¡æœ‰é«˜ä½ä¹‹åˆ†ï¼Œå°±çœ‹ä½ å¦‚ä½•ä½¿ç”¨\né˜¿é‡Œå·´å·´çš„æ¼”è¿›åˆ†æ\nè¿™ä¹ˆå¤šä¸œè¥¿éš¾é“éƒ½æ˜¯åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­çš„å—ï¼Ÿ\nimage-20200923195311367\ræ•æ·å¼€å‘ã€æé™ç¼–ç¨‹\nå¼€æºæ‰ç‰›\nå¦‚æœä½ æœªæ¥æƒ³å½“ä¸€ä¸ªæ¶æ„æ˜¯ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„\nimage-20200923200304616\r# 1.å•†å“åŸºæœ¬ä¿¡æ¯ åç§°ã€ä»·æ ¼ã€å•†å®¶ä¿¡æ¯ï¼› å…³ç³»å‹æ•°æ®åº“å°±å¯ä»¥è§£å†³äº†ï¼mysql /oracle(æ·˜å®æ—©å¹´å°±å»IOE!--ç‹åš) æ·˜å®å†…éƒ¨çš„mysql ä¸æ˜¯å¤§å®¶ç”¨çš„mysql #2.å•†å“çš„æè¿°ã€è¯„è®ºï¼ˆæ–‡å­—æ¯”è¾ƒå¤šï¼‰ æ–‡æ¡£å‹æ•°æ®åº“ä¸­ï¼Œmongodb #3.å›¾ç‰‡ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS -æ·˜å®è‡ªå·±çš„TFS â€”googleè‡ªå·±çš„GFS -Hadoop HDFS -é˜¿é‡Œäº‘çš„ oss #4.å•†å“çš„å…³é”®å­—ï¼ˆæœç´¢ï¼‰ -æœç´¢å¼•æ“ solr elasticsearch -iseacher å¤šéš† æ‰€æœ‰ç‰›é€¼çš„äººéƒ½æœ‰ä¸€æ®µè‹¦é€¼çš„å²æœˆ #5.å•†å“çƒ­é—¨çš„æ³¢æ®µä¿¡æ¯ -å†…å­˜æ•°æ®åº“ -redis tairã€memarche #6.å•†å“çš„äº¤æ˜“ï¼Œå¤–éƒ¨çš„æ”¯ä»˜æ¥å£ -ä¸‰æ–¹åº”ç”¨ è¦çŸ¥é“ï¼Œä¸€ä¸ªç®€å•çš„ç½‘é¡µèƒŒåçš„æŠ€æœ¯ä¸€å®šä¸æ˜¯å¤§å®¶æƒ³çš„é‚£ä¹ˆç®€å•\nå¤§å‹äº’è”ç½‘åº”ç”¨é—®é¢˜ï¼š\næ•°æ®ç±»å‹å¤ªå¤šäº† æ•°æ®æºç¹å¤šï¼Œç»å¸¸é‡æ„ æ•°æ®è¦æ”¹é€ ï¼Œå¤§é¢ç§¯æ”¹é€  image-20200923202347841\rimage-20200923202441215\rimage-20200923202455222\rä»¥ä¸Šéƒ½æ˜¯nosqlå…¥é—¨æ¦‚è¿°\nnosqlçš„å››å¤§åˆ†ç±» KVé”®å€¼å¯¹ï¼š\næ–°æµªï¼šredis ç¾å›¢ï¼šredis+tair é˜¿é‡Œã€ç™¾åº¦ï¼šredis+tair+meecache æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆBsonæ ¼å¼å’Œjsonä¸€æ ·ï¼‰ï¼š\nMongoDBï¼ˆä¸€èˆ¬å¿…é¡»æŒæ¡ï¼‰ MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼ŒC++ç¼–å†™çš„ ä¸»è¦ç”¨æ¥å¤„ç†å¤§é‡çš„æ–‡æ¡£ MongoDBæ˜¯ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¸­ä¸­é—´çš„äº§å“ï¼ŒMongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„ï¼Œæœ€åƒå…³ç³»å‹æ•°æ®åº“çš„ï¼ conthDB åˆ—å­˜å‚¨æ•°æ®åº“\nHBase åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ å›¾å½¢å…³ç³»æ•°æ®åº“\nimage-20200923203416066\rä»–ä¸æ˜¯å­˜å›¾å½¢ï¼Œæ”¾çš„æ˜¯å…³ç³»ï¼Œæ¯”å¦‚ï¼šæœ‹å‹åœˆç¤¾äº¤ç½‘ç»œï¼Œå¹¿å‘Šæ¨èï¼ neo4jï¼Œinfogrid å››è€…å¯¹æ¯”\nimage-20200923203555105\rrediså…¥é—¨\næ¦‚è¿°\nredisæ˜¯ä»€ä¹ˆ\nremote dictionary server è¿œç¨‹å­—å…¸æœåŠ¡\næ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI Cè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Valueæ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚\nå…è´¹å’Œå¼€æºï¼æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„nosqlæŠ€æœ¯ä¹‹ä¸€ï¼Œä¹Ÿè¢«äººä»¬ç§°ä¹‹ä¸ºç»“æ„åŒ–æ•°æ®åº“\nredisèƒ½å¹²å˜›\nredisä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†master-slave(ä¸»ä»)åŒæ­¥ã€‚\nimage-20200924092136203\r1.å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ï¼Œå†…å­˜ä¸­æ˜¯æ–­ç”µå³å¤±ï¼Œæ‰€ä»¥è¯´æŒä¹…åŒ–å¾ˆé‡è¦ï¼ˆrdbã€aofï¼‰\n2.æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨æˆ·é«˜é€Ÿç¼“å­˜\n3.å‘å¸ƒè®¢é˜…ç³»ç»Ÿ\n4.åœ°å›¾ä¿¡æ¯åˆ†æ\n5.è®¡æ—¶å™¨ã€è®¡æ•°å™¨ï¼ˆæµè§ˆé‡ï¼ï¼‰\n6\u0026hellip;.\nç‰¹æ€§\n1.å¤šæ ·çš„æ•°æ®ç±»å‹\n2.æŒä¹…åŒ–\n3.é›†ç¾¤\n4.äº‹åŠ¡\n\u0026hellip;.\nå­¦ä¹ ä¸­éœ€è¦ç”¨åˆ°çš„ä¸œè¥¿\n1.å…¬ä¼—å·\n2.redis.io\n3.windowsåœ¨githubä¸Šä¸‹è½½ï¼ˆåœæ›´å¾ˆä¹…äº†ï¼‰\nredisæ¨èéƒ½æ˜¯åœ¨linuxæœåŠ¡å™¨ä¸Šæ­å»ºçš„ï¼Œæˆ‘ä»¬æ˜¯åŸºäºlinuxå­¦ä¹ \nwindowsä¸‹å®‰è£… 1.ä¸‹è½½å®‰è£…åŒ…\n2.ä¸‹è½½å®Œæ¯•å¾—åˆ°å‹ç¼©åŒ…\n3.è§£å‹\nimage-20200924095526656\r4.å¼€å¯redisï¼ŒåŒå‡»è¿è¡ŒæœåŠ¡\nimage-20200924095553184\ré»˜è®¤ç«¯å£å·6379\n5.ä½¿ç”¨rediså®¢æˆ·ç«¯æ¥è¿æ¥redis\nimage-20200924095651464\rimage-20200924095841127\rè®°ä½ä¸€å¥è¯ï¼Œwindowä¸‹ä½¿ç”¨ç¡®å®ç®€å•ï¼Œä½†æ˜¯redisæ¨èæˆ‘ä»¬ä½¿ç”¨linuxå»å¼€å‘ä½¿ç”¨\nimage-20200924100331170\ræµ‹è¯•æ€§èƒ½\nredis-benchmarkæ˜¯ä¸€ä¸ªå‹åŠ›æµ‹è¯•å·¥å…·\nå®˜æ–¹è‡ªå¸¦çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼\nimage-20200924101324907\r100000å¹¶å‘ï¼Œ50å°å®¢æˆ·ç«¯å¹¶å‘ï¼Œæ¯æ¬¡å†™å…¥3ä¸ªå­—èŠ‚ï¼Œåªæœ‰ä¸€å°æœåŠ¡å™¨æ¥å¤„ç†è¿™äº›è¯·æ±‚ï¼Œæ‰€æœ‰è¯·æ±‚åœ¨2æ¯«ç§’å†…å¤„ç†å®Œæˆ\nåŸºç¡€çŸ¥è¯† redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“\né»˜è®¤ä½¿ç”¨ç¬¬0ä¸ªï¼Œå¯ä»¥åˆ‡æ¢æ•°æ®åº“\n127.0.0.1:6379\u0026gt; select 3\t#åˆ‡æ¢æ•°æ®åº“ OK 127.0.0.1:6379[3]\u0026gt; dbsize\t#æŸ¥çœ‹å¤§å° (integer) 0 image-20200924102052855\rimage-20200924102123448\ræŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰çš„key\nimage-20200924102338783\råˆ é™¤å½“å‰æ•°æ®åº“ä¸­flush\nimage-20200924102622792\ræ¸…ç©ºå…¨éƒ¨çš„æ•°æ®åº“flushall\næ€è€ƒï¼šä¸ºä»€ä¹ˆredisç«¯å£å·æ˜¯6379\nredisæ˜¯å•çº¿ç¨‹çš„\næ˜ç™½redisæ˜¯å¾ˆå¿«çš„ï¼Œå®˜æ–¹è¡¨ç¤ºï¼Œredisæ˜¯åŸºäºå†…å­˜æ“ä½œçš„ï¼Œcpuä¸æ˜¯redisæ€§èƒ½ç“¶é¢ˆï¼Œredisçš„ç“¶é¢ˆæ˜¯æ ¹æ®æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ï¼Œæ—¢ç„¶å¯ä»¥ä½¿ç”¨å•çº¿ç¨‹æ¥å®ç°ï¼Œå°±æ˜¯ç”¨å•çº¿ç¨‹äº†ï¼Œæ‰€ä»¥å°±ä½¿ç”¨äº†å•çº¿ç¨‹äº†ï¼\nredisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ\nredisæ˜¯cè¯­è¨€å†™çš„ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®ä¸º100000+çš„QPSï¼Œè¿™ä¸ªä¸æ¯”åŒæ ·æ˜¯ä½¿ç”¨äº†key-valueçš„memecacheå·®\nredisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«\n1.é«˜æ€§èƒ½æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿï¼Ÿ\n2.å¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ä¸€å®šæ˜¯å•çº¿ç¨‹æ•ˆç‡é«˜ï¼Ÿï¼Ÿ\ncpu/memory/ç¡¬ç›˜é€Ÿåº¦è¦æœ‰æ‰€äº†è§£ï¼\næ ¸å¿ƒï¼šredisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼šè€—æ—¶çš„æ“ä½œï¼ï¼ï¼ï¼ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šæ¬¡è¯»å†™éƒ½åœ¨ä¸€ä¸ªcpuä¸Šçš„ï¼Œæ‰€ä»¥åœ¨å†…å­˜æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå°±æ˜¯æœ€ä½³çš„æ–¹æ¡ˆï¼\näº”å¤§æ•°æ®ç±»å‹ Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶. å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰ ç´¢å¼•åŠå¾„æŸ¥è¯¢. Redis å†…ç½®äº† å¤åˆ¶ï¼ˆreplicationï¼‰ï¼Œ LUAè„šæœ¬ï¼ˆLua scriptingï¼‰ï¼Œ LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰ï¼Œ äº‹åŠ¡ï¼ˆtransactionsï¼‰ å’Œä¸åŒçº§åˆ«çš„ ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰ï¼Œ å¹¶é€šè¿‡ Rediså“¨å…µï¼ˆSentinelï¼‰ å’Œè‡ªåŠ¨ åˆ†åŒºï¼ˆClusterï¼‰æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰.\nè®²è§£çš„æ‰€æœ‰å‘½ä»¤ï¼Œåé¢ä½¿ç”¨springbootã€jedisï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯è¿™äº›å‘½ä»¤\nå•ç‚¹ç™»é™†\nredis-key keys * æŸ¥çœ‹æ‰€ä»¥çš„key exists name åˆ¤æ–­å½“å‰çš„keyæ˜¯å¦å­˜åœ¨ move name ç§»é™¤å½“å‰çš„key expire name 10 è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ å•ä½æ˜¯ç§’å“¦ ttl æŸ¥çœ‹å½“å‰keyçš„å‰©ä½™æ—¶é—´ type name æŸ¥çœ‹å½“å‰keyçš„ç±»å‹ image-20200924104300213\rimage-20200924104451001\rimage-20200924104806660\rimage-20200924105127099\rstringï¼ˆå­—ç¬¦ä¸²ï¼‰ 90%çš„javaç¨‹åºå‘˜ä½¿ç”¨çš„éƒ½æ˜¯redisçš„stringç±»å‹\nimage-20200924105632891\rappend è¿½åŠ å­—ç¬¦ä¸² ï¼Œ å¦‚æœkeyä¸å­˜åœ¨ ï¼Œ å°±ç›¸å½“äºset key value exists åˆ¤æ–­æŸä¸ªkeyæ˜¯å¦å­˜åœ¨ strlen è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ image-20200924110407868\rincr key è‡ªå¢å‘½ä»¤ï¼Œè‡ªå¢1 decr key è‡ªå‡å‘½ä»¤ï¼Œè‡ªå‡1 incrby key increment è‡ªå¢å¤šå°‘æ­¥é•¿ decrby key decrement è‡ªå‡å¤šå°‘æ­¥é•¿ image-20200924110748593\rèŒƒå›´ getrange key start end å…¶å®å°±æ˜¯æˆªå–å­—ç¬¦ä¸² ä»0å¼€å§‹ å¦‚æœæ˜¯0åˆ°-1 å°±æ˜¯æˆªå–å…¨éƒ¨çš„å­—ç¬¦ä¸² æ›¿æ¢å‘¢ï¼Ÿ setrange key offset value æ›¿æ¢ key ä»å“ªé‡Œå¼€å§‹ç®—èµ·ï¼Œæ›¿æ¢å¤šå°‘ä¸ªå­—ç¬¦ setexï¼ˆset with expire) #è®¾ç½®è¿‡æœŸæ—¶é—´ setnx(set if not exist) #ä¸å­˜åœ¨è®¾ç½® image-20200924111131931\rsetex key time value è®¾ç½®è¿‡æœŸæ—¶é—´ttl key æŸ¥çœ‹å¤šä¹…è¿‡æœŸsetnx key value è®¾ç½®åŸæœ¬ä¸å­˜åœ¨çš„keyçš„valueå€¼è¿”å›å€¼æ˜¯0ä»£è¡¨æ²¡æœ‰æˆåŠŸ 1ä»£è¡¨æˆåŠŸ image-20200924111716363\rmset åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ mget åŒæ—¶è·å–å¤šä¸ªå€¼msetnx æ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥ image-20200924112237809\r#å¯¹è±¡set user1:1 {name:zhangsan,age:3}#è®¾ç½®user:1å¯¹è±¡ å€¼ä¸ºjsonå­—ç¬¦ä¸²æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡#è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„è®¾ç½®ï¼šuserï¼š{id}ï¼š{filed}ï¼Œå¦‚æ­¤è®¾è®¡åœ¨redisä¸­æ˜¯å®Œå…¨okçš„ image-20200924112908580\rimage-20200924113631933\rgetset key value æ²¡æœ‰å°±è®¾ç½®è®¾ç½®å®Œäº†å°±å¯ä»¥å†æ”¹ image-20200924150037955\rimage-20200924150059352\rimage-20200924150112188\rstringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯æˆ‘ä»¬çš„å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æˆ‘ä»¬çš„æ•°å­—\nè®¡æ•°å™¨ ç»Ÿè®¡å¤šå•ä½æ•°é‡ ä¾‹å¦‚ uid:55646541:follow 0 ç²‰ä¸æ•° å¯¹è±¡ç¼“å­˜å­˜å‚¨ list åœ¨redisé‡Œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠlistç©æˆä¸€ä¸ªæ ˆã€é˜Ÿåˆ—ã€é˜»å¡é˜Ÿåˆ—ï¼\næ‰€æœ‰çš„listå‘½ä»¤éƒ½æ˜¯ä»¥Lå¼€å¤´çš„\nlpush å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼ï¼Œæ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨ï¼ˆå·¦ï¼‰rpush å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼ï¼Œæ’å…¥åˆ°åˆ—è¡¨å°¾éƒ¨ï¼ˆå³ï¼‰lrange key start end è·å–å€¼ image-20200924151313766\rlpop ç§»é™¤listçš„ç¬¬ä¸€ä¸ªå…ƒç´ rpop ç§»é™¤listçš„æœ€åä¸€ä¸ªå…ƒç´  image-20200924151853384\rlindex key index é€šè¿‡ä¸‹æ ‡è·å–æŸä¸€ä¸ªå€¼ image-20200924152048330\rllen listçš„é•¿åº¦ image-20200924152237266\rç§»é™¤æŒ‡å®šçš„å€¼ï¼å–æ¶ˆå…³æ³¨ uidlrem key count value ç§»é™¤ç‰¹å®šä¸ªæ•°çš„æŒ‡å®šå€¼ image-20200924152956569\rtrim ä¿®å‰ªltrim æˆªæ–­listé›†åˆå¹¶è·å–ç‰¹å®šä¸‹æ ‡çš„é›†åˆltrim key start end image-20200924153243035\rrpoplpushç§»é™¤åˆ—è¡¨å³è¾¹æœ€åä¸€ä¸ªå…ƒç´ å¹¶ä¸”å°†å…¶åŠ å…¥åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­rpoplpush source destination image-20200924153737788\rlset key index value å°†åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å€¼æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªå€¼ï¼Œæ›´æ–°æ“ä½œå¦‚æœä¸å­˜åœ¨æŒ‡å®šä¸‹æ ‡ï¼Œå°±ä¼šæŠ¥é”™ image-20200924154630068\rlistä¸­å¤šç”¨lrrangeã€lpushã€lpopè€Œélset\nlinsert key before/after ç‰¹å®šçš„value è¦æ’å…¥çš„valueå°†æŸä¸€ä¸ªå…·ä½“çš„valueæ’å…¥åˆ°åˆ—è¡¨ä¸­æŸä¸ªç‰¹å®šå…ƒç´ çš„å‰é¢æˆ–è€…åé¢ image-20200924155744795\rå°ç»“\nä»–å®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore node after left right éƒ½å¯ä»¥æ’å…¥å€¼ å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„é“¾è¡¨ å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹ å¦‚æœç§»é™¤äº†æ‰€æœ‰çš„å€¼ï¼Œç©ºé“¾è¡¨ï¼Œä¹Ÿä»£è¡¨ä¸å­˜åœ¨ åœ¨ä¸¤è¾¹æ’å…¥æˆ–è€…æ”¹åŠ¨å€¼ï¼Œæ•ˆç‡æœ€é«˜ï¼ä¸­é—´å…ƒç´ ï¼Œç›¸å¯¹æ¥è¯´æ•ˆç‡ä¼šä½ä¸€ç‚¹ï¼ æ¶ˆæ¯æ’é˜Ÿï¼lpush rpopï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ lpush lpopï¼ˆæ ˆï¼‰\nsetï¼ˆé›†åˆï¼‰ setä¸­çš„å€¼ä¸èƒ½é‡å¤\nseté€šå¸¸éƒ½æ˜¯ä»¥så¼€å¤´çš„sadd key member å‘é›†åˆä¸­æ·»åŠ å…ƒç´ sismember key member åˆ¤æ–­æŸå…ƒç´ æ˜¯å¦åœ¨æŒ‡å®šçš„é›†åˆä¸­smembers key æŸ¥çœ‹æŒ‡å®šé›†åˆçš„æ‰€æœ‰å…ƒç´ scard key æŸ¥çœ‹æŒ‡å®šé›†åˆçš„é•¿åº¦ image-20200924162841343\rsrem (s removeç¼©å†™) key value åˆ é™¤æŒ‡å®šé›†åˆé‡Œçš„æŒ‡å®šå…ƒç´  image-20200924163026477\rsetæ— éœ€ä¸é‡å¤é›†åˆï¼Œå¯ä»¥å®ç°æŠ½éšæœºsrandmember key æ•°é‡ éšæœºæŠ½å–æŒ‡å®šæ•°é‡çš„å…ƒç´ ä»æŸæŒ‡å®šé›†åˆä¸­ image-20200924163406035\råˆ é™¤æŒ‡å®šçš„keyï¼Œ éšæœºåˆ é™¤æŒ‡å®šçš„key0spop key count éšæœºç§»é™¤æŒ‡å®šé›†åˆå†…æŒ‡å®šæ•°é‡çš„å…ƒç´  image-20200924163558641\rå°†ä¸€ä¸ªæŒ‡å®šçš„é›†åˆä¸­çš„æŒ‡å®šå…ƒç´ ç§»é™¤è‡³å¦ä¸€ä¸ªæŒ‡å®šé›†åˆä¸­smove source destination value image-20200924163918565\rå¾®åšã€Bç«™ã€å…±åŒå…³æ³¨ï¼ˆäº¤é›†ï¼‰\nå·®é›†sdiff(set different) sdiff key1 key2 ä¸ sdiff key2 key1ä¸åŒï¼Œå‚è€ƒç³»ä¸ä¸€æ ·sunion key1 key2 sinter key1 key2 image-20200924164627415\rå¾®åšï¼ŒAç”¨æˆ·å°†æ‰€æœ‰å…³æ³¨çš„äººï¼Œæ”¾åœ¨ä¸€ä¸ªseté›†åˆä¸­ï¼Œå°†ä»–çš„ç²‰ä¸ä¹Ÿæ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œ\nå…±åŒå…³æ³¨ï¼šAç”¨æˆ·å’ŒBç”¨æˆ·çš„å…±åŒå…³æ³¨ï¼ŒäºŒåº¦å¥½å‹ï¼Œæ¨èå¥½å‹ï¼Œå…­åº¦åˆ†å‰²ç†è®º\nhashï¼ˆå“ˆå¸Œï¼‰ æƒ³è±¡æˆmapé›†åˆï¼Œkey-mapé›†åˆï¼Œ key -\u0026lt;key,value\u0026gt;é›†åˆï¼Œåªæ˜¯è¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªmapé›†åˆï¼Œå…¶å®æœ¬è´¨å’Œstringç±»å‹æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œè¿˜æ˜¯ä¸€ä¸ªç®€å•çš„key-value\nhset key field value è®¾ç½®å€¼hget key field è·å–å€¼hmset key field1 value1 field2 value2 æ‰¹é‡è®¾ç½®å€¼hget key field1 field2 æ‰¹é‡è®¾ç½®å€¼hgetall key è·å–æ‰€æœ‰çš„å€¼ image-20200924170715011\rset myhash field kuansheng\næ‰€æœ‰çš„hashéƒ½æ˜¯ä»¥Hå¼€å¤´æ»´å“ˆå®è´ä»¬\nzset\nä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹ geospatial\nhyperloglog\nbitmaps\n","date":"2020-09-19T00:33:33+08:00","permalink":"https://linjianshu.github.io/p/redis%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/","title":"Rediså­¦ä¹ æ–‡æ¡£"},{"content":"ä»é›¶æ­å»ºå¾®æœåŠ¡æ¡†æ¶å—· æ–°å»ºwebapié¡¹ç›®\nimage-20201026181939602\ræ–°å»ºstudentæ§åˆ¶å™¨ï¼Œæµ‹è¯•è¿è¡Œ\nimage-20201026182245668\rimage-20201026182254921\ræ·»åŠ æ–°é¡¹ç›®æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼ŒåŠ å…¥modelç±»\nimage-20201026182407678\rimage-20201026182436593\rimage-20201026182536295\råˆ é™¤program.csæ–‡ä»¶ï¼Œå³é”®å±æ€§ï¼Œä¿®æ”¹è¾“å‡ºç±»å‹ä¸ºâ€œç±»åº“â€\nimage-20201026182552213\rç»§ç»­æ–°å»ºé¡¹ç›®ï¼Œinterfaceï¼Œä½œä¸ºæœåŠ¡çš„æ¥å£\nimage-20201026183008099\råˆ é™¤program.csæ–‡ä»¶ï¼Œç»§ç»­ä¿®æ”¹å±æ€§ä¸ºç±»åº“\nå®šä¹‰å®Œäº†æ¥å£ï¼Œæ¥ä¸‹æ¥åº”è¯¥å®šä¹‰å®ç°æ¥å£çš„å…·ä½“æœåŠ¡äº†ï¼Œæ–°å»ºæ§åˆ¶å°åº”ç”¨ç¨‹åº\nç¼–å†™DBhelperç±»ï¼ŒåŸç”Ÿè¿æ¥æ•°æ®åº“\næ·»åŠ StudentServiceå®ç°ç±»ï¼Œç»§æ‰¿IStudentServiceï¼Œå®ç°å®ƒæœªå®ç°çš„æ–¹æ³•\nimage-20201026183509062\rimage-20201026183523894\rä¾ç„¶é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œå³é”®å±æ€§ï¼Œä¿®æ”¹è¾“å‡ºç±»å‹ä¸ºç±»åº“\næµ‹è¯•ï¼Œä»¥ä¸Šä¾ç„¶æ˜¯ä¸ªå•ä½“ç»“æ„ï¼Œåªä¸è¿‡åˆ†å±‚äº†ï¼Œç°åœ¨æˆ‘ä»¬æ­äº†åŸºå±‚ç»“æ„å¦‚å›¾ï¼š\nimage-20201026183657453\råˆ†åˆ«ä¸ºï¼Œwebapiï¼Œæ¥å£ï¼Œæ¨¡å‹å±‚ï¼Œæ¥å£å®ç°ç±»\næ¥ä¸‹æ¥ä¿®æ”¹webapiå†…studentæ§åˆ¶å±‚é‡Œçš„æ–¹æ³•ï¼Œå°è¯•è°ƒç”¨é€šè¿‡æ¥å£è°ƒç”¨æœåŠ¡ï¼Œè¿›è€Œè·å–æ•°æ®åº“ä¸­çš„æ•°æ®\nä¿®æ”¹å‰ï¼š\nimage-20201026183803906\rä¿®æ”¹åï¼š\nå…ˆåœ¨startup.csä¸­è¿›è¡ŒæœåŠ¡ç±»çš„ä¾èµ–æ³¨å…¥\nimage-20201026184259317\råœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹controllerè¿›è¡Œé‡æ–°æ„é€ ï¼š\nå®šä¹‰ä¸€ä¸ªç§æœ‰åªè¯»IStudentServiceæ¥å£ ï¼›\nåœ¨æ„é€ å‡½æ•°é‡Œä¸ºå®ƒèµ‹å€¼\nåœ¨GetAllStuæ–¹æ³•é‡Œè¿›è¡Œè°ƒç”¨\nimage-20201026184627518\rå¯åŠ¨è¯•è¯•ï¼Œè¾“å…¥url\nimage-20201026184827682\rä¸é”™ä¸é”™\næ¥ä¸‹æ¥æˆ‘ä»¬è¦æ·»åŠ æœåŠ¡å®ä¾‹ï¼Œå°†åŸæ¥çš„å•ä½“åº”ç”¨ç¨‹åºï¼Œæ¨¡æ‹Ÿæ‹†åˆ†æˆåˆ†å¸ƒå¼åº”ç”¨ç¨‹åº\næ–°å»ºé¡¹ç›®ï¼Œæ–°å»ºwebapi\nimage-20201026185004596\ræ–°å»ºæ–°çš„æ§åˆ¶å™¨ï¼Œä¸ºäº†å’Œä¸Šé¢çš„studentæ§åˆ¶å™¨åŒºåˆ†ï¼Œä¸”ï¼Œæˆ‘ä»¬è¦çŸ¥é“ï¼Œæœ€åä¸Šé¢å°†ä½œä¸ºå®¢æˆ·ç«¯ï¼Œè°ƒç”¨æˆ‘ä»¬ç°åœ¨æ­£åœ¨æ­å»ºçš„æœåŠ¡å®ä¾‹ï¼Œè¿™ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥çœŸæ­£ä¼šå’Œæ¥å£ã€æœåŠ¡ã€æ•°æ®åº“æ‰“äº¤é“çš„åº”è¯¥åœ¨æˆ‘ä»¬ç°åœ¨æ­å»ºçš„è¿™ä¸ªæ§åˆ¶å™¨é‡Œé¢ï¼Œåœ¨è¿™é‡Œæˆ‘å–åä¸ºStuImplControlleræ§åˆ¶å™¨ã€‚\nimage-20201026185242569\råœ¨è¿™é‡Œé¢ï¼Œå¤åˆ¶ä¹‹å‰çš„studentcontrolleré‡Œçš„å†…å®¹ï¼Œä½œä¸ºçœŸæ­£è°ƒç”¨çš„æºå¤´\nimage-20201026185405390\råŒæ—¶ï¼Œåˆ«å¿˜è®°äº†ï¼Œè¦æ­£å¸¸ä½¿ç”¨ï¼Œè®°å¾—åœ¨è¯¥é¡¹ç›®å†…startup.csä¸­å¢åŠ ä¾èµ–æ³¨å…¥\rimage-20201026185548164\rä¿®æ”¹å¯åŠ¨é¡¹ç›®ä¸ºè¯¥æœåŠ¡å®ä¾‹ï¼Œæˆ‘ä»¬å…ˆè¯•è¯•çœ‹èƒ½ä¸èƒ½è·‘\nimage-20201026190458520\rnice\næ¥ä¸‹æ¥æˆ‘ä»¬åšåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼šæˆ‘ä»¬å¸Œæœ›LjsMicroServiceReviewDemoé€šè¿‡ServiceInstanceå»è°ƒç”¨ï¼Œè¿™æ ·å­ï¼Œå‰è€…å°±å¯ä»¥ä½œä¸ºå®¢æˆ·ç«¯ï¼Œåè€…å°±å¯ä»¥ä½œä¸ºæœåŠ¡ç«¯ï¼Œå› ä¸ºæ˜¯è¿›ç¨‹é—´é€šä¿¡ï¼Œè™½ç„¶åœ¨ä¸€å°ç”µè„‘ä¸Šè·‘ï¼Œä½†æ˜¯å¯ä»¥ç†è§£ä¸ºæ˜¯åˆ©ç”¨ç½‘ç»œæ¶èµ·çš„æ¡¥æ¢ï¼Œè¿›è¡Œåˆ†å¸ƒå¼åº”ç”¨çš„éƒ¨ç½²å’Œè°ƒç”¨ã€‚\nè¿™æ—¶å€™è®°å½•ä¸€ä¸‹ç½‘å€\nhttp://localhost:42464/api/StuImpl/GetAllStu\nimage-20201026190938569\råœ¨å®¢æˆ·ç«¯ï¼Œå†™ä¸€ä¸ªè°ƒç”¨æ–¹æ³•ï¼Œè°ƒç”¨åˆšåˆšçš„ç½‘å€å˜¿å˜¿\nåŒæ—¶å¯åŠ¨ä¸¤ä¸ªé¡¹ç›®ï¼Œè®©ä»–æå»å§\nimage-20201026191036770\rimage-20201026191232782\rçˆ½çˆ†äº†ï¼\nä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨é‡Œæ€ä¹ˆå¯èƒ½åªæœ‰ä¸€ä¸ªæœåŠ¡å®ä¾‹åœ¨è·‘å‘¢ï¼Œé‚£åŒåä¸€ä¸æ˜¯ç‚¸è£‚ï¼Œæ‰€ä»¥è¿™æ—¶å€™ä¼šæœ‰å¾ˆå¤šå®ä¾‹åœ¨è·‘æ‰å¯¹ï¼Œä¾‹å¦‚ä¸¤ä¸ªã€ä¸‰ä¸ªç›¸åŒçš„å®ä¾‹ä¸€èµ·è¿è¡Œï¼ŒåŒæ—¶å¯¹å¤–æä¾›æœåŠ¡æ‰å¯¹ã€‚\næˆ‘ä»¬è¦ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡ŒæœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸”èµ‹äºˆç›¸åº”çš„ç«¯å£å·\nimage-20201026193900248\rimage-20201026194428606\rimage-20201026194845947\råœ¨åœ°å€æ æ•²cmd\nimage-20201026194856720\rimage-20201026194903514\rimage-20201026194909623\rå¼€å¯ä¸‰ä¸ªæœåŠ¡å®ä¾‹ï¼Œç«¯å£ä¸º5726ã€5727ã€5728\nä¸ºäº†éªŒè¯ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨è¯•è¯•\nimage-20201026195019372\rnice\nè¿™æ—¶å€™ï¼Œå®¢æˆ·ç«¯è°ƒç”¨çš„urlå°±å¾—æ”¹æˆä¸Šè¿°ç½‘å€äº†\nimage-20201026195131547\rä½ æœ‰ç§è°ƒç”¨æˆ‘è¯•è¯•\nimage-20201026195809734\rå¯æ˜¯æˆ‘ä»¬åšä¸åˆ°è´Ÿè½½å‡è¡¡å‘€ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸æ™“å¾—æ€ä¹ˆè°ƒç”¨5726è¿˜æ˜¯5727è¿˜æ˜¯5728å˜ï¼Œè¿™æ—¶å€™å°±è¦å¼•å…¥Nginxå•¦ï¼\nä¸‹è½½Nginxå’Œç¯å¢ƒå˜é‡çš„é…ç½®å°±ä¸è¿‡å¤šèµ˜è¿°äº†\nimage-20201026195315199\rä¿®æ”¹confæ–‡ä»¶\nimage-20201026195409611\ré…ç½®ç«¯å£ä¾¦å¬\né…ç½®ä»£ç†ç«¯å£å·\næœ€åæˆ‘ä»¬æ‰“ç®—èˆå¼ƒä¼ ç»Ÿçš„è°ƒç”¨æ–¹å¼ï¼Œå¯„å¸Œæœ›äºNginxåå‘ä»£ç†å·¥å…·æ¥å¸®æˆ‘ä»¬å®ç°ä¸€äº›è´Ÿè½½å‡è¡¡çš„ç­–ç•¥\nå¯åŠ¨Nginx.exe\nimage-20201026195704107\rå¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºï¼Œè·‘ä¸€è·‘\nimage-20201026195954175\ré—®é¢˜ä¸å¤§ï¼Œä½†æ˜¯è¿™æ—¶å€™åˆæœ‰ä¸ªé—®é¢˜äº†ï¼Œå¦‚æœæŸä¸ªæœåŠ¡çªç„¶æŒ‚äº†æ€ä¹ˆåŠå‘¢ï¼Œå¦‚æœæœ‰ä¸ªæœåŠ¡å› ä¸ºé¢„è®¡å¯èƒ½ä¼šæœ‰å¤§è§„æ¨¡çš„è®¿é—®ï¼Œè¿ç»´äººå‘˜åˆåŠ ä¸Šäº†å‡ ä¸ªæœåŠ¡å®ä¾‹å‘¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åœ¨confçš„é…ç½®æ–‡ä»¶é‡Œè¿›è¡Œé…ç½®ï¼Œè¿™æ ·ååˆ†çš„ä½æ•ˆï¼Œå‡å¦‚ä½ åœ¨ä¸€å®¶è¶…å¤§å‹çš„äº’è”ç½‘å…¬å¸ï¼Œå°±GGäº†ï¼Œæ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬è¦ç”¨consulæ¥æ›¿ä»£Nginx\nnugetåŒ…å¿…ä¸å¯å°‘\nimage-20201026200233953\råŒæ ·åœ¨æœåŠ¡å®ä¾‹é¡¹ç›®é‡Œä¹Ÿè¦å¼•å…¥consulåŒ…\nåœ¨æœåŠ¡å®ä¾‹é¡¹ç›®ä¸­ï¼ŒåŠ å…¥å¸®åŠ©ç±»ï¼Œå¿ƒè·³æ£€æµ‹æ§åˆ¶å™¨ï¼Œå¹¶åœ¨startup.csä¸­é…ç½®\nåœ¨ReviewDemoä¸­ä¹Ÿè¦æ³¨å†Œå¹¶ä½¿ç”¨\né…ç½®å®Œæ¯•åè¦æ¿€æ´»consulï¼Œé‡æ–°ç”Ÿæˆæ‰è¡Œ\nimage-20201026202449309\rimage-20201026202508759\rå¯åŠ¨æˆåŠŸï¼Œæ¥ç€è®©ä¸‰ä¸ªæœåŠ¡å®ä¾‹ä¸Šçº¿\nimage-20201026204217548\rimage-20201026204225424\rå…¶å®è¿™æ—¶å€™æˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•åšè´Ÿè½½å‡è¡¡ï¼Œå¦‚æœè¦åšçš„è¯ï¼Œä¹Ÿå¸¦åœ¨å®¢æˆ·ç«¯åšè´Ÿè½½å‡è¡¡ï¼Œè¿™æ ·æ¯ä¸ªå®¢æˆ·ç«¯éƒ½è¦åšä¸€ä¸ªï¼Œå°±å¾ˆéº»çƒ¦ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚ä¸èƒ½è§£å†³çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åŠ ä¸€å±‚æœåŠ¡ç½‘å…³ï¼ŒOcelotï¼Œç”¨äºè¯·æ±‚åˆ†å‘ã€ç»Ÿä¸€è´Ÿè½½å‡è¡¡ã€ç†”æ–­ã€é™æµã€é™çº§\nimage-20201026204426653\ræˆ‘ä»¬ç»§ç»­åˆ›å»ºæ–°é¡¹ç›®ï¼šwebapi\nimage-20201026204640378\rå¼•å…¥nugetåŒ…ï¼Œocelotç”¨äºæœåŠ¡ç½‘å…³ï¼Œconsulç”¨äºç½‘å…³å’Œæ³¨å†Œä¸­å¿ƒçš„é›†æˆï¼Œpollyç”¨äºç†”æ–­ã€é™æµã€é™çº§ç­‰\nå½“ç„¶ï¼Œåœ¨æœåŠ¡å®ä¾‹å±‚ä¹Ÿè¦åŠ å…¥ocelot.provider.consulï¼Œå¦åˆ™ocelotæ€ä¹ˆçŸ¥é“æœåŠ¡å®ä¾‹ä»å“ªé‡Œæ¥å‘¢å¯¹å§ï¼Œå¥½äº†æˆ‘ä»¬å†å›åˆ°gatewayå±‚\nåœ¨program.csæ–‡ä»¶ä¸­æ·»åŠ é…ç½®çš„jsonæ–‡ä»¶\nimage-20201026204959449\råœ¨startup.csæ–‡ä»¶ä¸­æŠŠç®¡é“æ¢æˆocelotè‡ªå·±çš„\nimage-20201026205138653\ré…ç½®æ–‡ä»¶\nimage-20201026205802408\rç»™å¥¹ä¸€ä¸ªè¿è¡Œç«¯å£\nimage-20201026205827534\rè·‘ä¸€è·‘\nimage-20201026205837308\rç»“æŸäº†å—·ï¼Œä¸‹ä¸ªé˜¶æ®µçš„å†…å®¹åº”è¯¥æ˜¯ï¼ŒCQRSå‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼Œä»¥åŠä»¥åŠä»¥åŠæ•°æ®åº“å¦‚ä½•åˆ’åˆ†ï¼Œä»¥åŠä»¥åŠä»¥åŠRabbitmqä»¥åŠåŸºäºäº‹ä»¶çš„é©±åŠ¨ã€‚\n","date":"1999-10-10T23:44:44+08:00","permalink":"https://linjianshu.github.io/p/%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6%E5%97%B7/","title":"ä»é›¶æ­å»ºå¾®æœåŠ¡æ¡†æ¶å—·"},{"content":"windowsæœåŠ¡å¼€å‘å¤‡å¿˜ å…ˆå¼€ä¸ªçª—ä½“æ¥è°ƒè¯•è¯•è¯•çœ‹\nå†æ–°å¢ä¸€ä¸ªserviceæœåŠ¡è¿›æ¥\nä¿®æ”¹é»˜è®¤æœåŠ¡å\næ·»åŠ å®‰è£…ç¨‹åº ä¿®æ”¹ä¸ºæœ¬åœ°\nimage-20210928105412125\rè®°å¾—å¼•å…¥æ—¥å¿— å¹¶å°†configæ–‡ä»¶å¤åˆ¶åˆ°è¾“å‡ºç›®å½•\næœ‰æ—¶å€™install.batå‘½ä»¤ä¸è¡Œå¯èƒ½æ˜¯ç³»ç»Ÿæ²¡æœ‰æƒé™\nè·‘æœåŠ¡çš„æ—¶å€™è®°å¾—å†programé‡Œæ”¹æˆæœåŠ¡,åˆ«æ³¡æˆçª—ä½“åº”ç”¨äº†\næœåŠ¡çš„onstarté‡Œéœ€è¦å†™çš„æ˜¯å¼‚æ­¥æ–¹æ³•æˆ–è€…æ–°å¼€ä¸€ä¸ªçº¿ç¨‹,å¦åˆ™ä¼šå‡ºç°æ— æ³•æœåŠ¡è¿›ç¨‹æ— æ³•è¿æ¥åˆ°æœåŠ¡æ§åˆ¶å™¨ä¸Šçš„é”™è¯¯\nimage-20210928105853916\rimage-20210928105911601\ræ¥å£æœåŠ¡å˜›,æœ€å¥½å°è¯•pingä¸€ä¸‹æœåŠ¡å™¨,æœåŠ¡å™¨ç•…é€šæ‰èƒ½å·¥ä½œ\nå¦å¤–æœ€å¥½å¯¹é—´éš”æ—¶é—´åšåˆ°å¯é…ç½®\n","date":"1999-10-01T09:17:59+08:00","permalink":"https://linjianshu.github.io/p/windows%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91%E5%A4%87%E5%BF%98/","title":"windowsæœåŠ¡å¼€å‘å¤‡å¿˜"}]