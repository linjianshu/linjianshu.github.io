<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='2020.11.16å¾®æœåŠ¡ç»§ç»­å­¦ä¹  Dockeræ•°æ®å·æŠ€æœ¯ æ•°æ®å·æ˜¯æŒ‡ä»ä¸»æœºæ“ä½œç³»ç»Ÿæ˜ å°„åˆ°å®¹å™¨çš„ç›®å½•ã€‚å½“å®¹å™¨ä¸­çš„ä»£ç è®¿é—®è¿™äº›ç›®å½•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ã€‚è¿™äº›ç›®å½•å¹¶æ²¡æœ‰ç»‘å®šåˆ°å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒä»¬èƒ½è¢«ç›´æ¥è¿è¡Œåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„ä»£ç è®¿é—®ï¼Œæˆ–è¢«å…¶ä»–åŒæ ·æ˜ å°„äº†è¯¥ç›®å½•çš„å®¹å™¨è®¿é—®ã€‚å› æ­¤ï¼Œæ•°æ®å·æŒ‰ç…§è®¾è®¡å¯ç‹¬ç«‹äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¥å®ç°æ•°æ®çš„æŒä¹…å­˜å‚¨ã€‚å¦‚æœä»dockerä¸»æœºåˆ é™¤å®¹å™¨æˆ–é•œåƒï¼Œæ•°æ®å·ä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶ä¸­çš„æ•°æ®ä¾ç„¶èƒ½ä»ä¸»æœºæ“ä½œç³»ç»Ÿè®¿é—®ã€‚
å¾®æœåŠ¡æ¶æ„ æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£å®ç°ä¸€ä¸ªç‰¹å®šçš„ç«¯åˆ°ç«¯é¢†åŸŸï¼Œæˆ–æœ‰ç€ç¡®å®šè¾¹ç•Œçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡å¿…é¡»èƒ½ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥æ‹¥æœ‰è‡ªå·±ç‰¹å®šçš„é¢†åŸŸæ•°æ®æ¨¡å‹å’Œé¢†åŸŸé€»è¾‘ï¼ˆè‡ªæ²»å’Œå»ä¸­å¿ƒåŒ–çš„æ•°æ®ç®¡ç†ï¼‰ï¼Œå®ƒä»¬æ˜¯åŸºäºä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼ˆSQLã€NoSQLï¼‰å’Œä¸åŒç¼–ç¨‹è¯­è¨€å®ç°çš„ã€‚
é‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„æœåŠ¡ï¼Œåªè¦å®ƒä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥ä½¿å®ƒä»¬å°½å¯èƒ½åœ°å°ã€‚
å¾®æœåŠ¡æ¶æ„æä¾›äº†é•¿æœŸçš„æ•æ·æ€§ï¼Œå¾®æœåŠ¡å¯ä»¥åŸºäºå¤šä¸ªç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡æ¥åˆ›å»ºåº”ç”¨ã€‚
å¾®æœåŠ¡å¦ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚è€Œä¸æ˜¯ä¸€èµ·å°†æœ¬ä¸éœ€è¦æ‰©å±•çš„å…¶ä»–åŠŸèƒ½åŒºåŸŸä¹Ÿè¿›è¡Œæ‰©å±•ã€‚éš¾ç‚¹ï¼šå¦‚ä½•åœ¨å¤šä¸ªå±‚çº§è®¾è®¡å¹¶å®ç°å®‰å…¨æ€§ï¼šè®¤è¯ã€æˆæƒã€å¯†æ–‡å¯†ç ç®¡ç†å’Œå®‰å…¨é€šä¿¡ç­‰ã€‚
å¾®æœåŠ¡çš„æ•°æ®è‡ªæ²» Aä¸Bå­ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨Cå®ä½“çš„å±æ€§å’Œæ•°æ®ï¼Œè€Œå®ƒä»¬æ˜¯éš¶å±äºä¸åŒä¸Šä¸‹æ–‡è¾¹ç•Œçš„ã€‚è¿™æ ·çš„åŸåˆ™åœ¨DDDé‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯ä¸ªé™ç•Œä¸Šä¸‹æ–‡ã€è‡ªæ²»çš„å­ç³»ç»Ÿæˆ–æœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸæ¨¡å‹ï¼ˆæ•°æ®&#43;é€»è¾‘&#43;è¡Œä¸ºï¼‰ã€‚
ä¸­å¿ƒåŒ–æ•°æ®åº“ï¼šåŒä¸€å¼ åœ°å›¾æ»¡è¶³å¾’æ­¥æ—…è¡Œã€é•¿é€”æ±½è½¦æ—…è¡Œå’Œå­¦ä¹ åœ°ç†çŸ¥è¯†çš„éœ€æ±‚ï¼›éƒ½æ”¯æŒACIDåŸåˆ™å’ŒSQLè¯­è¨€ã€‚
å½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ï¼Œè¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQlè¿æ¥è¦å¤æ‚çš„å¤šï¼ŒåŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚
åŸºäºå¾®æœåŠ¡çš„åº”ç”¨é€šå¸¸ä¼šæ··åˆä½¿ç”¨SQLå’ŒNoSQLæ•°æ®åº“ï¼Œè¿™ç§åšæ³•æœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ··åˆæ•°æ®æŒä¹…åŒ–ã€‚
å¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³» æ¯ä¸ªBCå¿…é¡»æœ‰è‡ªå·±çš„æ¨¡å‹å’Œæ•°æ®åº“ã€‚
é€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„ ç¡®å®šäº†ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡ï¼Œä½†ä¸æ„å‘³è¿™æœ€ä½³å®ç°æ–¹å¼å°±æ˜¯ä¸ºæ¯ä¸ªä¸šåŠ¡å¾®æœåŠ¡åˆ›å»ºå•ç‹¬çš„æœåŠ¡ï¼ˆä¾‹å¦‚ä½œä¸ºä¸€ä¸ªASP.NET Web APIï¼‰æˆ–å•ç‹¬çš„Dockerå®¹å™¨ã€‚
ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡å¿…é¡»è‡ªä¸»åœ°è¿›è¡Œä»£ç å’ŒçŠ¶æ€çš„ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚
åˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼š å…³æ³¨åº”ç”¨çš„é€»è¾‘é¢†åŸŸæ¨¡å‹å’Œç›¸å…³æ•°æ®
åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼š éœ€è¦ä¸€ç§æ–¹å¼æ¥èšåˆä¿¡æ¯ï¼›
APIç½‘å…³ã€CQRSæŸ¥è¯¢/è¯»å–è¡¨ï¼šæ­¤æ—¶å¤æ‚çš„æŸ¥è¯¢å°†å˜æˆå·¨å¤§çš„æŒ‘æˆ˜ï¼Œä¸ºæ­¤å¯ä»¥ä½¿ç”¨CQRSæ–¹æ¡ˆï¼šåœ¨ä¸åŒæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåªç”¨ä½œæŸ¥è¯¢çš„éè§„èŒƒè¡¨ï¼Œè¿™ç§æ–¹å¼ä¸ä»…è§£å†³äº†æœ€åˆçš„é—®é¢˜ï¼ˆå¦‚ä½•è·¨å¾®æœåŠ¡æŸ¥è¯¢å’Œè”æ¥ï¼‰ï¼Œä¸å¤æ‚çš„SQLè”æ¥è¯­å¥ç›¸æ¯”è¿˜èƒ½è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå› ä¸ºåº”ç”¨æ‰€éœ€çš„æ•°æ®å·²ç»åœ¨æŸ¥è¯¢è¡¨é‡Œäº†ï¼›
ä¸­å¿ƒæ•°æ®åº“çš„â€œå†·æ•°æ®â€ï¼šå°†â€œçƒ­æ•°æ®â€å¯¼å‡ºä¸ºâ€œå†·æ•°æ®â€å‚¨å­˜åˆ°æŠ¥è¡¨ä¸“ç”¨çš„å¤§å‹æ•°æ®åº“ä¸­ã€‚ä¸ºäº†åŒæ­¥æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå¦‚æœä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡çš„æ–¹å¼ï¼Œæ•´åˆæµç¨‹å°†ä¸ä¸Šæ–‡æåˆ°çš„ä½¿ç”¨CQRSæŸ¥è¯¢è¡¨è·å–æ•°æ®çš„æ–¹å¼ç›¸ä¼¼ã€‚
ç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šéœ€è¦ä¸æ–­ä»å¤šä¸ªå¾®æœåŠ¡é‡Œè¿›è¡Œèšåˆæ•°æ®å¹¶è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œé‚£ä¹ˆé€šå¸¸åœ¨é‡åˆ°æ­¤ç±»é—®é¢˜åï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šè€ƒè™‘åˆå¹¶å¾®æœåŠ¡ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§ ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œå¦‚é›†æˆäº‹ä»¶ï¼ˆæ¶ˆæ¯å’ŒåŸºäºäº‹ä»¶çš„é€šä¿¡ï¼‰çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚æ ¹æ®CAPç†è®ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç”¨æ€§å’Œå¼ºACIDä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰ã€‚å¤§å¤šæ•°å¾®æœåŠ¡åœºæ™¯è¦æ±‚é«˜å¯ç”¨æ€§å’Œé«˜æ‰©å±•æ€§ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¼±ä¸€è‡´æ€§æˆ–æœ€ç»ˆä¸€è‡´æ€§çš„æŠ€æœ¯æ¥åšåˆ°å¼ºä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„æ¶æ„æ‰€é‡‡å–çš„æ–¹æ³•ã€‚
æ­¤å¤–ï¼ŒACIDé£æ ¼æˆ–ä¸¤æ­¥å¼æäº¤äº‹åŠ¡è¿èƒŒäº†å¾®æœåŠ¡åŸåˆ™ï¼Œè·¨æœåŠ¡å’Œæ•°æ®åº“ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§éå¸¸é‡è¦ã€‚éœ€è¦åœ¨å¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡å’Œå‘å¸ƒè®¢é˜…ç³»ç»Ÿæ¥å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ åœ¨å¤šä¸ªå¾®æœåŠ¡é—´åˆ›å»ºäº†é•¿ä¸²çš„åŒæ­¥HTTPè°ƒç”¨ï¼Œåº”ç”¨æœ€ç»ˆå°†ä¼šç¢°åˆ°é—®é¢˜ï¼šé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ã€‚
å› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€ç§äº‰è®®ï¼šè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œå®ƒçš„è¿›ç¨‹é—´æ˜¯åŸºäºHTTPçš„ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚
ä¸ºäº†ä¿ƒè¿›å¾®æœåŠ¡çš„è‡ªæ²»å¹¶è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œåº”è¯¥å‡å°‘ä½¿ç”¨è·¨æœåŠ¡çš„é“¾å¼è¯·æ±‚/å“åº”é€šä¿¡ã€‚å»ºè®®å¾®æœåŠ¡é—´çš„é€šä¿¡åªä½¿ç”¨å¼‚æ­¥äº¤äº’ï¼Œä¾‹å¦‚ä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ã€‚
è¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ è™½ç„¶å¾®æœåŠ¡åº”è¯¥å°½å¯èƒ½åœ°è¶‹å‘äºå°å‹åŒ–ï¼Œä½†è¯†åˆ«æ¯ä¸ªå¾®æœåŠ¡çš„æ¨¡å‹è¾¹ç•Œä¸æ˜¯ä¸ºäº†å°½å¯èƒ½æ‹†æˆç»†ç²’åº¦ï¼Œè€Œæ˜¯æ ¹æ®é¢†åŸŸçŸ¥è¯†æ¥è¿›è¡Œæœ€æœ‰æ„ä¹‰çš„åˆ’åˆ†ã€‚é‡ç‚¹ä¸åœ¨äºå¤§å°ï¼Œè€Œåœ¨äºä¸šåŠ¡éœ€è¦ã€‚å¦å¤–ï¼Œå¦‚æœå› ä¸ºå­˜åœ¨åºå¤§å¤æ‚çš„ä¾èµ–å…³ç³»è€Œè¦æ±‚åº”ç”¨çš„æŸä¸ªé¢†åŸŸæœ‰æ¸…æ™°çš„ä¸€è‡´æ€§çš„éœ€æ±‚ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜è¯¥é¢†åŸŸåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚
å› æ­¤ï¼ŒBCä¼šå¸®åŠ©æ¾„æ¸…å“ªé‡Œéœ€è¦ç‰¹å®šçš„é¢†åŸŸæœ¯è¯­ï¼Œä»¥åŠå“ªé‡Œéœ€è¦æŠŠç³»ç»Ÿæ‹†åˆ†æˆé¢å¤–çš„ä¸åŒé¢†åŸŸBCã€‚
ç„¶è€Œä¹Ÿæœ‰äº›å…·æœ‰ä¸åŒå½¢æ€ä½†å´å…±ç”¨ç›¸åŒæ ‡è¯†çš„å®ä½“ï¼Œå®ƒä»¬å­˜åœ¨äºå¤šä¸ªå¾®æœåŠ¡æ‰€åŒ…å«çš„å¤šä¸ªé¢†åŸŸæ¨¡å‹ä¸­ã€‚ä¾‹å¦‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“ï¼Œè¯¥å®ä½“æ‰€å¯¹åº”çš„åŒä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨è®¢å•å¾®æœåŠ¡é‡Œè¢«ç§°ä¸ºä¹°å®¶ï¼Œåœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œåä¸ºä»˜æ¬¾æ–¹ï¼Œè€Œåœ¨å®¢æˆ·æœåŠ¡å¾®æœåŠ¡é‡Œç§°ä½œå®¢æˆ·ã€‚è¿™æ˜¯å› ä¸ºåŸºäºæ¯ä¸ªé¢†åŸŸä¸“å®¶ä½¿ç”¨çš„é€šç”¨è¯­è¨€ï¼Œä¼šå¯¹åŒä¸€ä¸ªç”¨æˆ·æœ‰ä¸åŒè§†è§’ï¼Œç”šè‡³åŒ…å«ä¸åŒå±æ€§ã€‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡é‡Œçš„ç”¨æˆ·å®ä½“åº”è¯¥åŒ…å«æœ€å¤šçš„ä¸ªäººæ•°æ®å±æ€§ï¼Œä½†æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œçš„ä¹°å®¶æ ‡è¯†å’Œå®¢æˆ·æœåŠ¡é‡Œçš„å®¢æˆ·æ ‡è¯†å°±ä¸éœ€è¦é‚£ä¹ˆå¤šå±æ€§äº†ã€‚
æ¯ä¸ªé¢†åŸŸæ¨¡å‹é‡Œçš„ç”¨æˆ·å®ä½“å¯èƒ½æœ‰ä¸åŒçš„è¡¥å……ç»†èŠ‚ã€‚å› æ­¤éœ€è¦æŸç§æ–¹å¼æŠŠä¸€ä¸ªé¢†åŸŸçš„ç”¨æˆ·å®ä½“æ˜ å°„åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸­ã€‚
å®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’ŒAPIç½‘å…³æ¨¡å¼ ç›´è¿æœ‰å¼Šç«¯ï¼šå¦‚ä½•å¤„ç†è·¨ç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚æˆæƒã€æ•°æ®ä¼ è¾“å’ŒåŠ¨æ€è¯·æ±‚æ´¾å‘ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ç°å®‰å…¨å’Œç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ€§å’Œæˆæƒæœºåˆ¶ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›æœåŠ¡æ”¾è¿›Dockerä¸»æœºæˆ–å†…éƒ¨é›†ç¾¤ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªä¸­é—´ä½ç½®ï¼Œä¾‹å¦‚APIç½‘å…³æ¥è§£å†³è·¨ç•Œé™é—®é¢˜ã€‚
æœ‰æ—¶è¦ä»å“åº”ä¸­å»æ‰ç§»åŠ¨ç«¯ä¸éœ€è¦çš„æ•°æ®ï¼Œè¿˜è¦å‹ç¼©æ•°æ®ï¼Œæ‰€ä»¥è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨å¤–è§‚æ¨¡å¼æˆ–APIå°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ã€‚
ä½¿ç”¨APIç½‘å…³ï¼š
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€çš„è‡ªå®šä¹‰APIç½‘å…³æœåŠ¡æ¥é¢å¯¹å¤šä¸ªä¸åŒå®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†è¿™ä¼šé€ æˆå·¨å¤§çš„é£é™©ï¼Œå› ä¸ºAPIç½‘å…³æœåŠ¡ä¼šéšç€å®¢æˆ·ç«¯åº”ç”¨éœ€æ±‚çš„å˜åŒ–è€Œå¢é•¿å¹¶æ¼”åŒ–ï¼Œæœ€ç»ˆå®ƒä¼šå› ä¸ºéœ€æ±‚çš„å˜åŒ–è€Œå˜å¾—è‡ƒè‚¿ï¼Œåœ¨æ•ˆæœä¸Šå°†ä¼šç­‰åŒäºå•ä½“åº”ç”¨æˆ–æœåŠ¡ã€‚å› æ­¤æˆ‘ä»¬æåŠ›æ¨èå°†APIç½‘å…³æ‹†åˆ†æˆå¤šä¸ªæœåŠ¡æˆ–è€…å°å‹çš„APIç½‘å…³ï¼Œæ¯ä¸ªAPIç½‘å…³éƒ½æœ‰è‡ªå·±çš„å½¢å¼ã€‚
æˆ‘ä»¬åº”è¯¥åˆ›å»ºå¤šä¸ªAPIç½‘å…³ï¼Œä»¥ä¾¿ä¸ºæ¯ç§å®¢æˆ·ç«¯éœ€æ±‚å®ç°ä¸åŒå¤–è§‚ï¼Œç•¥æœ‰å·®å¼‚çš„APIï¼Œç”šè‡³å¯èƒ½åŸºäºå®¢æˆ·ç«¯å±•ç°å½¢å¼æˆ–è®¾å¤‡æ¥å®ç°ç‰¹å®šçš„é€‚é…ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨åº•å±‚è°ƒç”¨å¤šä¸ªå†…éƒ¨çš„å¾®æœåŠ¡ã€‚
é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªAPIç½‘å…³å°†åº”ç”¨ä¸­æ‰€æœ‰å†…éƒ¨å¾®æœåŠ¡èšåˆåœ¨ä¸€èµ·ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜æ™ºã€‚å› æ­¤ï¼ŒAPIç½‘å…³åº”è¯¥åŸºäºä¸šåŠ¡è¾¹ç•Œæ¥æ‹†åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„ä¸€ä¸ªèšåˆå™¨ã€‚
åœ¨è¿™å•ç‹¬çš„ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿‡æ»¤å†…éƒ¨å¾®æœåŠ¡çš„APIï¼Œæˆ–è€…åœ¨å·²å‘å¸ƒçš„APIä¸Šæ·»åŠ æˆæƒã€‚
ç½‘å…³æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šå¦‚æœAPIç½‘å…³åŒ…å«è‡ªå®šä¹‰é€»è¾‘å’Œæ•°æ®é›†æˆï¼Œå°±ä¼šè¦æ±‚é¢å¤–çš„å¼€å‘æˆæœ¬å’Œæœªæ¥çš„ç»´æŠ¤æˆæœ¬ã€‚å¦‚æœAPIç½‘å…³åªä½¿ç”¨äº†å®‰å…¨æ€§ã€æ—¥å¿—ç®¡ç†å’Œç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›é¢å¤–çš„å¼€å‘å·¥ä½œä¾¿ä¸ä¼šå‘ç”Ÿã€‚
å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ é€šä¿¡ç±»å‹ å®¢æˆ·ç«¯ä»£ç æˆ–æ¶ˆæ¯å‘é€è€…é€šå¸¸ä¸éœ€è¦ç­‰å¾…å“åº”ï¼Œåªè¦æŠŠæ¶ˆæ¯å‘é€ç»™RabbitMQé˜Ÿåˆ—æˆ–å…¶ä»–æ¶ˆæ¯ä»£ç†å³å¯ã€‚
ä¾‹å¦‚äº‹ä»¶é©±åŠ¨æ¶æ„é‡Œçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚
å¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²» å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥ï¼Œå¾®æœåŠ¡é—´é€šè¿‡å¼‚æ­¥ä¼ è¾“æ¥é€šä¿¡ï¼Œä½†ä¸è¦ä¾èµ–äºå…¶ä»–å†…éƒ¨å¾®æœåŠ¡ä½œä¸ºè‡ªå·±HTTPè¯·æ±‚/å“åº”çš„ä¸€éƒ¨åˆ†ã€‚
æ¯ä¸ªå¾®æœåŠ¡åº”ä»¥è‡ªæ²»ä»¥åŠå¯¹å®¢æˆ·ç«¯å¯ç”¨ä¸ºç›®æ ‡ï¼Œå³ä½¿ä½œä¸ºç«¯åˆ°ç«¯åº”ç”¨ä¸€éƒ¨åˆ†çš„å…¶ä»–æœåŠ¡å‘ç”Ÿæ•…éšœæˆ–ä¸ç¨³å®šä¹Ÿåº”å¦‚æ­¤ã€‚å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¾®æœåŠ¡è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ï¼ˆå¦‚å‘èµ·HTTPè¯·æ±‚æ¥æŸ¥è¯¢æ•°æ®ï¼‰ä¸ºå®¢æˆ·ç«¯åº”ç”¨æä¾›å“åº”ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ¶æ„åœ¨å…¶å®ƒå¾®æœåŠ¡å‘ç”Ÿæ•…éšœæ—¶å°±å˜å¾—ä¸ç¨³å®šã€‚
å¦‚æœæœ€åˆçš„å¾®æœåŠ¡éœ€è¦åŸæœ¬åœ¨åˆ«çš„å¾®æœåŠ¡é‡Œæ‹¥æœ‰çš„æ•°æ®ï¼Œä¸è¦ä¾é åŒæ­¥è¯·æ±‚æ¥è·å–æ•°æ®ã€‚è€Œæ˜¯é€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ï¼ˆé€šå¸¸é€šè¿‡é›†æˆäº‹ä»¶ï¼‰æ–¹å¼æ¥å¤åˆ¶æˆ–ä¼ è¾“è¿™äº›æ•°æ®åˆ°æœ€åˆçš„å¾®æœåŠ¡çš„æ•°æ®åº“ä¸­ã€‚
ä¸ºäº†è·å¾—æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åè®®åœ¨å¾®æœåŠ¡ä¹‹é—´å¼‚æ­¥åœ°é€šä¿¡æ¥è·å–æ•°æ®ã€‚é‡ç‚¹åœ¨äºï¼šä¸è¦åœ¨å¾®æœåŠ¡é—´åˆ›å»ºåŒæ­¥ä¾èµ–ã€‚
å¼‚æ­¥æ¶ˆæ¯é€šä¿¡ è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡ä»¥åŠç›¸å…³é¢†åŸŸæ¨¡å‹ä¼ é€å˜åŒ–æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡è‡³å…³é‡è¦ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚
å°½å¯èƒ½éµå¾ªå¦ä¸€ä¸ªè§„åˆ™ï¼šåªåœ¨å†…éƒ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œåªåœ¨ä»å®¢æˆ·ç«¯åº”ç”¨åˆ°å‰ç«¯æœåŠ¡ï¼ˆAPIç½‘å…³
åŠ ä¸Šç¬¬ä¸€çº§å¾®æœåŠ¡ï¼‰é—´ä½¿ç”¨åŒæ­¥é€šä¿¡ã€‚
å¤šæ¥å—è€…æ¶ˆæ¯é€šä¿¡
ä½¿ç”¨å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼›å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼›
åˆ›å»ºã€æ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡APIçš„ç‰ˆæœ¬å’Œå¥‘çº¦ å³ä¾¿åˆå§‹ç‰ˆæœ¬çš„å¥‘çº¦å·²ç»è€ƒè™‘çš„å¾ˆå‘¨å…¨äº†ï¼Œéšç€æ—¶é—´å‘å±•ï¼ŒæœåŠ¡çš„APIä¹Ÿå¯èƒ½éœ€è¦æ”¹å˜ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°¤å…¶æ˜¯è¢«å¤šä¸ªå®¢æˆ·ç«¯åº”ç”¨è°ƒç”¨çš„å…¬å…±APIï¼Œé€šå¸¸æ— æ³•å¼ºåˆ¶æ‰€æœ‰å®¢æˆ·ç«¯å‡çº§åˆ°æ–°çš„APIå¥‘çº¦ã€‚é€šå¸¸è¿™éœ€è¦å¢é‡éƒ¨ç½²æœåŠ¡çš„æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè¦è®©è€ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬æœåŠ¡å¥‘çº¦åŒæ—¶è¿è¡Œã€‚å› æ­¤ï¼ŒæœåŠ¡çš„ç‰ˆæœ¬ç­–ç•¥å¾ˆé‡è¦ã€‚
æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡APIè¿›è¡Œä¸å…¼å®¹çš„å¤§ç‰ˆæœ¬æ›´æ–°ã€‚å› ä¸ºä¸èƒ½å¼ºåˆ¶å®¢æˆ·ç«¯åº”ç”¨æˆ–æœåŠ¡ç«‹åˆ»å‡çº§åˆ°æ–°ç‰ˆï¼ŒæœåŠ¡ç«¯å¿…é¡»æ”¯æŒè€ç‰ˆæœ¬ç»§ç»­è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½¿ç”¨åŸºäºHTTPçš„æœºåˆ¶ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠAPIçš„ç‰ˆæœ¬å·åµŒå…¥URLæˆ–HTTPå¤´éƒ¨ã€‚ç„¶åå¯ä»¥å†³å®šæ˜¯åœ¨ä¸€ä¸ªæœåŠ¡é‡ŒåŒæ—¶å®ç°ä¸¤ä¸ªç‰ˆæœ¬çš„APIï¼Œæˆ–æ˜¯éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¥å„è‡ªå¤„ç†ä¸€ä¸ªç‰ˆæœ¬çš„APIã€‚æ­¤æ—¶ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•æ˜¯é‡‡ç”¨ä¸­ä»‹è€…æ¨¡å¼å¦‚MediaRåº“å°†ä¸åŒç‰ˆæœ¬çš„å®ç°ç”¨ä¸åŒçš„å¤„ç†å™¨æ¥å¤„ç†ã€‚Hypermediaæ˜¯ç”¨æ¥è¿›è¡ŒæœåŠ¡ç‰ˆæœ¬åŒ–å’Œæ”¹è¿›çš„æœ€ä½³é€‰æ‹©ã€‚
å¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ ä½¿ç”¨Marathonå’ŒKuberneteså’ŒDC/Oså¤„ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œæ’¤é”€ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯Service Fabricï¼Œå®ƒä¹Ÿæä¾›äº†å¼€ç®±æœºç”¨çš„å‘½åæœåŠ¡æ¥å®ç°æœåŠ¡æ³¨å†Œã€‚'><title>å¾®æœåŠ¡2020.11.16</title>

<link rel='canonical' href='https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.16/'>

<link rel="stylesheet" href="/scss/style.min.css">
<style>
     
    body{
        background-repeat: repeat;
        background-attachment: fixed;
        background-size:cover;
         cursor: url(https://files.cnblogs.com/files/monster-jian/cursor.ico),auto;
    }
     
    #div_digg {
      position: fixed;
      bottom: 10px;
      right: 15px;
      border: 2px solid #ECD7B1;
      padding: 10px;
      width: 140px;
      background-color: #fff;
      border-radius: 5px 5px 5px 5px !important;
      box-shadow: 0 0 0 1px #5F5A4B, 1px 1px 6px 1px rgba(10, 10, 0, 0.5);
    }
    </style><script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2"></script>
<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2">
</script>
<script type="text/javascript" color="255,0,0" pointcolor="255,0,0" opacity="0.7" zindex="-2" count="100" src="/dist/canvas-nest.js"></script>
<script type="text/javascript" src="/dist/canvas-nest.umd.js"></script>
<script type="text/javascript">
    var cn = new CanvasNest(document.getElementById('area-render'), {
        color: '255,0,255',
        count: 50,
      });
      
      function asyncLoad() {
        
        var i = document.createElement("iframe");
        i.src = "https://ghbtns.com/github-btn.html?user=hustcc&repo=canvas-nest.js&type=star&count=true";
        i.scrolling = "no";
        i.frameborder = "0";
        i.border = "0";
        i.setAttribute("frameborder", "0", 0);
        i.width = "100px";
        i.height = "20px";
        document.getElementById("github-iframe").appendChild(i);
      }
      function loadGitHubBtn() {
        if (window.addEventListener) {window.addEventListener("load", asyncLoad, false);}
        else if (window.attachEvent) {window.attachEvent("onload", asyncLoad);}
        else {window.onload = asyncLoad;}
      }
      loadGitHubBtn();
</script>
<script src="/canvas-nest.js?version=10"></script><canvas width="1536" height="454" style="display: block; position: absolute; top: 0px; left: 0px; height: 100%; width: 100%; overflow: hidden; pointer-events: none;"></canvas>
<script src="https://files.cnblogs.com/files/monster-jian/mouse-click.js"></script>
<script type="text/javascript">
    
     
    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("â¤ä¸åšå’¸é±¼ï¼â¤","â¤æ‹’ç»æ‡’æƒ°ï¼â¤","â¤æƒ³åšåƒè´§â¤","â¤å‘å¤§ä½¬å­¦ä¹ â¤","â¤æ‰¶æˆ‘èµ·æ¥~â¤","â¤come onâ¤","â¤ä¸€ç›´åœ¨è·¯ä¸Š~â¤","â¤ç´¯äº†~â¤","â¤å†è¶´ä¸€ä¼šâ¤","â¤66666â¤","â¤é«˜å…´çš„é£èµ·*****â¤");
            var $i = $("<span></span>").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
            y = e.pageY;
            $i.css({
                "z-index": 999999999999999999999999999999999999999999999999999999999999999999999,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
            });
            $("body").append($i);
            $i.animate({
                "top": y - 180,
                "opacity": 0
            },
            1500,
            function() {
                $i.remove();
            });
        });
    });
    </script>

    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>  

 
   
      
      
          
         <script>         
            L2Dwidget.init({ "model": { jsonPath:          "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",  
                  "scale": 1 }, "display": { "position": "right", "width": 66, "height": 88,        "hOffset": 0, "vOffset": -20 },
                   "mobile": { "show": true, "scale": 0.5 },      "react": { "opacityDefault": 0.8, "opacityOnHover": 0.1 } }); 
                    </script><meta property='og:title' content='å¾®æœåŠ¡2020.11.16'>
<meta property='og:description' content='2020.11.16å¾®æœåŠ¡ç»§ç»­å­¦ä¹  Dockeræ•°æ®å·æŠ€æœ¯ æ•°æ®å·æ˜¯æŒ‡ä»ä¸»æœºæ“ä½œç³»ç»Ÿæ˜ å°„åˆ°å®¹å™¨çš„ç›®å½•ã€‚å½“å®¹å™¨ä¸­çš„ä»£ç è®¿é—®è¿™äº›ç›®å½•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ã€‚è¿™äº›ç›®å½•å¹¶æ²¡æœ‰ç»‘å®šåˆ°å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒä»¬èƒ½è¢«ç›´æ¥è¿è¡Œåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„ä»£ç è®¿é—®ï¼Œæˆ–è¢«å…¶ä»–åŒæ ·æ˜ å°„äº†è¯¥ç›®å½•çš„å®¹å™¨è®¿é—®ã€‚å› æ­¤ï¼Œæ•°æ®å·æŒ‰ç…§è®¾è®¡å¯ç‹¬ç«‹äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¥å®ç°æ•°æ®çš„æŒä¹…å­˜å‚¨ã€‚å¦‚æœä»dockerä¸»æœºåˆ é™¤å®¹å™¨æˆ–é•œåƒï¼Œæ•°æ®å·ä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶ä¸­çš„æ•°æ®ä¾ç„¶èƒ½ä»ä¸»æœºæ“ä½œç³»ç»Ÿè®¿é—®ã€‚
å¾®æœåŠ¡æ¶æ„ æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£å®ç°ä¸€ä¸ªç‰¹å®šçš„ç«¯åˆ°ç«¯é¢†åŸŸï¼Œæˆ–æœ‰ç€ç¡®å®šè¾¹ç•Œçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡å¿…é¡»èƒ½ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥æ‹¥æœ‰è‡ªå·±ç‰¹å®šçš„é¢†åŸŸæ•°æ®æ¨¡å‹å’Œé¢†åŸŸé€»è¾‘ï¼ˆè‡ªæ²»å’Œå»ä¸­å¿ƒåŒ–çš„æ•°æ®ç®¡ç†ï¼‰ï¼Œå®ƒä»¬æ˜¯åŸºäºä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼ˆSQLã€NoSQLï¼‰å’Œä¸åŒç¼–ç¨‹è¯­è¨€å®ç°çš„ã€‚
é‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„æœåŠ¡ï¼Œåªè¦å®ƒä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥ä½¿å®ƒä»¬å°½å¯èƒ½åœ°å°ã€‚
å¾®æœåŠ¡æ¶æ„æä¾›äº†é•¿æœŸçš„æ•æ·æ€§ï¼Œå¾®æœåŠ¡å¯ä»¥åŸºäºå¤šä¸ªç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡æ¥åˆ›å»ºåº”ç”¨ã€‚
å¾®æœåŠ¡å¦ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚è€Œä¸æ˜¯ä¸€èµ·å°†æœ¬ä¸éœ€è¦æ‰©å±•çš„å…¶ä»–åŠŸèƒ½åŒºåŸŸä¹Ÿè¿›è¡Œæ‰©å±•ã€‚éš¾ç‚¹ï¼šå¦‚ä½•åœ¨å¤šä¸ªå±‚çº§è®¾è®¡å¹¶å®ç°å®‰å…¨æ€§ï¼šè®¤è¯ã€æˆæƒã€å¯†æ–‡å¯†ç ç®¡ç†å’Œå®‰å…¨é€šä¿¡ç­‰ã€‚
å¾®æœåŠ¡çš„æ•°æ®è‡ªæ²» Aä¸Bå­ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨Cå®ä½“çš„å±æ€§å’Œæ•°æ®ï¼Œè€Œå®ƒä»¬æ˜¯éš¶å±äºä¸åŒä¸Šä¸‹æ–‡è¾¹ç•Œçš„ã€‚è¿™æ ·çš„åŸåˆ™åœ¨DDDé‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯ä¸ªé™ç•Œä¸Šä¸‹æ–‡ã€è‡ªæ²»çš„å­ç³»ç»Ÿæˆ–æœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸæ¨¡å‹ï¼ˆæ•°æ®&#43;é€»è¾‘&#43;è¡Œä¸ºï¼‰ã€‚
ä¸­å¿ƒåŒ–æ•°æ®åº“ï¼šåŒä¸€å¼ åœ°å›¾æ»¡è¶³å¾’æ­¥æ—…è¡Œã€é•¿é€”æ±½è½¦æ—…è¡Œå’Œå­¦ä¹ åœ°ç†çŸ¥è¯†çš„éœ€æ±‚ï¼›éƒ½æ”¯æŒACIDåŸåˆ™å’ŒSQLè¯­è¨€ã€‚
å½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ï¼Œè¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQlè¿æ¥è¦å¤æ‚çš„å¤šï¼ŒåŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚
åŸºäºå¾®æœåŠ¡çš„åº”ç”¨é€šå¸¸ä¼šæ··åˆä½¿ç”¨SQLå’ŒNoSQLæ•°æ®åº“ï¼Œè¿™ç§åšæ³•æœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ··åˆæ•°æ®æŒä¹…åŒ–ã€‚
å¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³» æ¯ä¸ªBCå¿…é¡»æœ‰è‡ªå·±çš„æ¨¡å‹å’Œæ•°æ®åº“ã€‚
é€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„ ç¡®å®šäº†ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡ï¼Œä½†ä¸æ„å‘³è¿™æœ€ä½³å®ç°æ–¹å¼å°±æ˜¯ä¸ºæ¯ä¸ªä¸šåŠ¡å¾®æœåŠ¡åˆ›å»ºå•ç‹¬çš„æœåŠ¡ï¼ˆä¾‹å¦‚ä½œä¸ºä¸€ä¸ªASP.NET Web APIï¼‰æˆ–å•ç‹¬çš„Dockerå®¹å™¨ã€‚
ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡å¿…é¡»è‡ªä¸»åœ°è¿›è¡Œä»£ç å’ŒçŠ¶æ€çš„ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚
åˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼š å…³æ³¨åº”ç”¨çš„é€»è¾‘é¢†åŸŸæ¨¡å‹å’Œç›¸å…³æ•°æ®
åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼š éœ€è¦ä¸€ç§æ–¹å¼æ¥èšåˆä¿¡æ¯ï¼›
APIç½‘å…³ã€CQRSæŸ¥è¯¢/è¯»å–è¡¨ï¼šæ­¤æ—¶å¤æ‚çš„æŸ¥è¯¢å°†å˜æˆå·¨å¤§çš„æŒ‘æˆ˜ï¼Œä¸ºæ­¤å¯ä»¥ä½¿ç”¨CQRSæ–¹æ¡ˆï¼šåœ¨ä¸åŒæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåªç”¨ä½œæŸ¥è¯¢çš„éè§„èŒƒè¡¨ï¼Œè¿™ç§æ–¹å¼ä¸ä»…è§£å†³äº†æœ€åˆçš„é—®é¢˜ï¼ˆå¦‚ä½•è·¨å¾®æœåŠ¡æŸ¥è¯¢å’Œè”æ¥ï¼‰ï¼Œä¸å¤æ‚çš„SQLè”æ¥è¯­å¥ç›¸æ¯”è¿˜èƒ½è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå› ä¸ºåº”ç”¨æ‰€éœ€çš„æ•°æ®å·²ç»åœ¨æŸ¥è¯¢è¡¨é‡Œäº†ï¼›
ä¸­å¿ƒæ•°æ®åº“çš„â€œå†·æ•°æ®â€ï¼šå°†â€œçƒ­æ•°æ®â€å¯¼å‡ºä¸ºâ€œå†·æ•°æ®â€å‚¨å­˜åˆ°æŠ¥è¡¨ä¸“ç”¨çš„å¤§å‹æ•°æ®åº“ä¸­ã€‚ä¸ºäº†åŒæ­¥æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå¦‚æœä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡çš„æ–¹å¼ï¼Œæ•´åˆæµç¨‹å°†ä¸ä¸Šæ–‡æåˆ°çš„ä½¿ç”¨CQRSæŸ¥è¯¢è¡¨è·å–æ•°æ®çš„æ–¹å¼ç›¸ä¼¼ã€‚
ç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šéœ€è¦ä¸æ–­ä»å¤šä¸ªå¾®æœåŠ¡é‡Œè¿›è¡Œèšåˆæ•°æ®å¹¶è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œé‚£ä¹ˆé€šå¸¸åœ¨é‡åˆ°æ­¤ç±»é—®é¢˜åï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šè€ƒè™‘åˆå¹¶å¾®æœåŠ¡ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§ ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œå¦‚é›†æˆäº‹ä»¶ï¼ˆæ¶ˆæ¯å’ŒåŸºäºäº‹ä»¶çš„é€šä¿¡ï¼‰çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚æ ¹æ®CAPç†è®ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç”¨æ€§å’Œå¼ºACIDä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰ã€‚å¤§å¤šæ•°å¾®æœåŠ¡åœºæ™¯è¦æ±‚é«˜å¯ç”¨æ€§å’Œé«˜æ‰©å±•æ€§ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¼±ä¸€è‡´æ€§æˆ–æœ€ç»ˆä¸€è‡´æ€§çš„æŠ€æœ¯æ¥åšåˆ°å¼ºä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„æ¶æ„æ‰€é‡‡å–çš„æ–¹æ³•ã€‚
æ­¤å¤–ï¼ŒACIDé£æ ¼æˆ–ä¸¤æ­¥å¼æäº¤äº‹åŠ¡è¿èƒŒäº†å¾®æœåŠ¡åŸåˆ™ï¼Œè·¨æœåŠ¡å’Œæ•°æ®åº“ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§éå¸¸é‡è¦ã€‚éœ€è¦åœ¨å¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡å’Œå‘å¸ƒè®¢é˜…ç³»ç»Ÿæ¥å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ åœ¨å¤šä¸ªå¾®æœåŠ¡é—´åˆ›å»ºäº†é•¿ä¸²çš„åŒæ­¥HTTPè°ƒç”¨ï¼Œåº”ç”¨æœ€ç»ˆå°†ä¼šç¢°åˆ°é—®é¢˜ï¼šé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ã€‚
å› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€ç§äº‰è®®ï¼šè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œå®ƒçš„è¿›ç¨‹é—´æ˜¯åŸºäºHTTPçš„ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚
ä¸ºäº†ä¿ƒè¿›å¾®æœåŠ¡çš„è‡ªæ²»å¹¶è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œåº”è¯¥å‡å°‘ä½¿ç”¨è·¨æœåŠ¡çš„é“¾å¼è¯·æ±‚/å“åº”é€šä¿¡ã€‚å»ºè®®å¾®æœåŠ¡é—´çš„é€šä¿¡åªä½¿ç”¨å¼‚æ­¥äº¤äº’ï¼Œä¾‹å¦‚ä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ã€‚
è¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ è™½ç„¶å¾®æœåŠ¡åº”è¯¥å°½å¯èƒ½åœ°è¶‹å‘äºå°å‹åŒ–ï¼Œä½†è¯†åˆ«æ¯ä¸ªå¾®æœåŠ¡çš„æ¨¡å‹è¾¹ç•Œä¸æ˜¯ä¸ºäº†å°½å¯èƒ½æ‹†æˆç»†ç²’åº¦ï¼Œè€Œæ˜¯æ ¹æ®é¢†åŸŸçŸ¥è¯†æ¥è¿›è¡Œæœ€æœ‰æ„ä¹‰çš„åˆ’åˆ†ã€‚é‡ç‚¹ä¸åœ¨äºå¤§å°ï¼Œè€Œåœ¨äºä¸šåŠ¡éœ€è¦ã€‚å¦å¤–ï¼Œå¦‚æœå› ä¸ºå­˜åœ¨åºå¤§å¤æ‚çš„ä¾èµ–å…³ç³»è€Œè¦æ±‚åº”ç”¨çš„æŸä¸ªé¢†åŸŸæœ‰æ¸…æ™°çš„ä¸€è‡´æ€§çš„éœ€æ±‚ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜è¯¥é¢†åŸŸåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚
å› æ­¤ï¼ŒBCä¼šå¸®åŠ©æ¾„æ¸…å“ªé‡Œéœ€è¦ç‰¹å®šçš„é¢†åŸŸæœ¯è¯­ï¼Œä»¥åŠå“ªé‡Œéœ€è¦æŠŠç³»ç»Ÿæ‹†åˆ†æˆé¢å¤–çš„ä¸åŒé¢†åŸŸBCã€‚
ç„¶è€Œä¹Ÿæœ‰äº›å…·æœ‰ä¸åŒå½¢æ€ä½†å´å…±ç”¨ç›¸åŒæ ‡è¯†çš„å®ä½“ï¼Œå®ƒä»¬å­˜åœ¨äºå¤šä¸ªå¾®æœåŠ¡æ‰€åŒ…å«çš„å¤šä¸ªé¢†åŸŸæ¨¡å‹ä¸­ã€‚ä¾‹å¦‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“ï¼Œè¯¥å®ä½“æ‰€å¯¹åº”çš„åŒä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨è®¢å•å¾®æœåŠ¡é‡Œè¢«ç§°ä¸ºä¹°å®¶ï¼Œåœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œåä¸ºä»˜æ¬¾æ–¹ï¼Œè€Œåœ¨å®¢æˆ·æœåŠ¡å¾®æœåŠ¡é‡Œç§°ä½œå®¢æˆ·ã€‚è¿™æ˜¯å› ä¸ºåŸºäºæ¯ä¸ªé¢†åŸŸä¸“å®¶ä½¿ç”¨çš„é€šç”¨è¯­è¨€ï¼Œä¼šå¯¹åŒä¸€ä¸ªç”¨æˆ·æœ‰ä¸åŒè§†è§’ï¼Œç”šè‡³åŒ…å«ä¸åŒå±æ€§ã€‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡é‡Œçš„ç”¨æˆ·å®ä½“åº”è¯¥åŒ…å«æœ€å¤šçš„ä¸ªäººæ•°æ®å±æ€§ï¼Œä½†æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œçš„ä¹°å®¶æ ‡è¯†å’Œå®¢æˆ·æœåŠ¡é‡Œçš„å®¢æˆ·æ ‡è¯†å°±ä¸éœ€è¦é‚£ä¹ˆå¤šå±æ€§äº†ã€‚
æ¯ä¸ªé¢†åŸŸæ¨¡å‹é‡Œçš„ç”¨æˆ·å®ä½“å¯èƒ½æœ‰ä¸åŒçš„è¡¥å……ç»†èŠ‚ã€‚å› æ­¤éœ€è¦æŸç§æ–¹å¼æŠŠä¸€ä¸ªé¢†åŸŸçš„ç”¨æˆ·å®ä½“æ˜ å°„åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸­ã€‚
å®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’ŒAPIç½‘å…³æ¨¡å¼ ç›´è¿æœ‰å¼Šç«¯ï¼šå¦‚ä½•å¤„ç†è·¨ç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚æˆæƒã€æ•°æ®ä¼ è¾“å’ŒåŠ¨æ€è¯·æ±‚æ´¾å‘ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ç°å®‰å…¨å’Œç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ€§å’Œæˆæƒæœºåˆ¶ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›æœåŠ¡æ”¾è¿›Dockerä¸»æœºæˆ–å†…éƒ¨é›†ç¾¤ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªä¸­é—´ä½ç½®ï¼Œä¾‹å¦‚APIç½‘å…³æ¥è§£å†³è·¨ç•Œé™é—®é¢˜ã€‚
æœ‰æ—¶è¦ä»å“åº”ä¸­å»æ‰ç§»åŠ¨ç«¯ä¸éœ€è¦çš„æ•°æ®ï¼Œè¿˜è¦å‹ç¼©æ•°æ®ï¼Œæ‰€ä»¥è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨å¤–è§‚æ¨¡å¼æˆ–APIå°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ã€‚
ä½¿ç”¨APIç½‘å…³ï¼š
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€çš„è‡ªå®šä¹‰APIç½‘å…³æœåŠ¡æ¥é¢å¯¹å¤šä¸ªä¸åŒå®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†è¿™ä¼šé€ æˆå·¨å¤§çš„é£é™©ï¼Œå› ä¸ºAPIç½‘å…³æœåŠ¡ä¼šéšç€å®¢æˆ·ç«¯åº”ç”¨éœ€æ±‚çš„å˜åŒ–è€Œå¢é•¿å¹¶æ¼”åŒ–ï¼Œæœ€ç»ˆå®ƒä¼šå› ä¸ºéœ€æ±‚çš„å˜åŒ–è€Œå˜å¾—è‡ƒè‚¿ï¼Œåœ¨æ•ˆæœä¸Šå°†ä¼šç­‰åŒäºå•ä½“åº”ç”¨æˆ–æœåŠ¡ã€‚å› æ­¤æˆ‘ä»¬æåŠ›æ¨èå°†APIç½‘å…³æ‹†åˆ†æˆå¤šä¸ªæœåŠ¡æˆ–è€…å°å‹çš„APIç½‘å…³ï¼Œæ¯ä¸ªAPIç½‘å…³éƒ½æœ‰è‡ªå·±çš„å½¢å¼ã€‚
æˆ‘ä»¬åº”è¯¥åˆ›å»ºå¤šä¸ªAPIç½‘å…³ï¼Œä»¥ä¾¿ä¸ºæ¯ç§å®¢æˆ·ç«¯éœ€æ±‚å®ç°ä¸åŒå¤–è§‚ï¼Œç•¥æœ‰å·®å¼‚çš„APIï¼Œç”šè‡³å¯èƒ½åŸºäºå®¢æˆ·ç«¯å±•ç°å½¢å¼æˆ–è®¾å¤‡æ¥å®ç°ç‰¹å®šçš„é€‚é…ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨åº•å±‚è°ƒç”¨å¤šä¸ªå†…éƒ¨çš„å¾®æœåŠ¡ã€‚
é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªAPIç½‘å…³å°†åº”ç”¨ä¸­æ‰€æœ‰å†…éƒ¨å¾®æœåŠ¡èšåˆåœ¨ä¸€èµ·ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜æ™ºã€‚å› æ­¤ï¼ŒAPIç½‘å…³åº”è¯¥åŸºäºä¸šåŠ¡è¾¹ç•Œæ¥æ‹†åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„ä¸€ä¸ªèšåˆå™¨ã€‚
åœ¨è¿™å•ç‹¬çš„ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿‡æ»¤å†…éƒ¨å¾®æœåŠ¡çš„APIï¼Œæˆ–è€…åœ¨å·²å‘å¸ƒçš„APIä¸Šæ·»åŠ æˆæƒã€‚
ç½‘å…³æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šå¦‚æœAPIç½‘å…³åŒ…å«è‡ªå®šä¹‰é€»è¾‘å’Œæ•°æ®é›†æˆï¼Œå°±ä¼šè¦æ±‚é¢å¤–çš„å¼€å‘æˆæœ¬å’Œæœªæ¥çš„ç»´æŠ¤æˆæœ¬ã€‚å¦‚æœAPIç½‘å…³åªä½¿ç”¨äº†å®‰å…¨æ€§ã€æ—¥å¿—ç®¡ç†å’Œç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›é¢å¤–çš„å¼€å‘å·¥ä½œä¾¿ä¸ä¼šå‘ç”Ÿã€‚
å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ é€šä¿¡ç±»å‹ å®¢æˆ·ç«¯ä»£ç æˆ–æ¶ˆæ¯å‘é€è€…é€šå¸¸ä¸éœ€è¦ç­‰å¾…å“åº”ï¼Œåªè¦æŠŠæ¶ˆæ¯å‘é€ç»™RabbitMQé˜Ÿåˆ—æˆ–å…¶ä»–æ¶ˆæ¯ä»£ç†å³å¯ã€‚
ä¾‹å¦‚äº‹ä»¶é©±åŠ¨æ¶æ„é‡Œçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚
å¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²» å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥ï¼Œå¾®æœåŠ¡é—´é€šè¿‡å¼‚æ­¥ä¼ è¾“æ¥é€šä¿¡ï¼Œä½†ä¸è¦ä¾èµ–äºå…¶ä»–å†…éƒ¨å¾®æœåŠ¡ä½œä¸ºè‡ªå·±HTTPè¯·æ±‚/å“åº”çš„ä¸€éƒ¨åˆ†ã€‚
æ¯ä¸ªå¾®æœåŠ¡åº”ä»¥è‡ªæ²»ä»¥åŠå¯¹å®¢æˆ·ç«¯å¯ç”¨ä¸ºç›®æ ‡ï¼Œå³ä½¿ä½œä¸ºç«¯åˆ°ç«¯åº”ç”¨ä¸€éƒ¨åˆ†çš„å…¶ä»–æœåŠ¡å‘ç”Ÿæ•…éšœæˆ–ä¸ç¨³å®šä¹Ÿåº”å¦‚æ­¤ã€‚å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¾®æœåŠ¡è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ï¼ˆå¦‚å‘èµ·HTTPè¯·æ±‚æ¥æŸ¥è¯¢æ•°æ®ï¼‰ä¸ºå®¢æˆ·ç«¯åº”ç”¨æä¾›å“åº”ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ¶æ„åœ¨å…¶å®ƒå¾®æœåŠ¡å‘ç”Ÿæ•…éšœæ—¶å°±å˜å¾—ä¸ç¨³å®šã€‚
å¦‚æœæœ€åˆçš„å¾®æœåŠ¡éœ€è¦åŸæœ¬åœ¨åˆ«çš„å¾®æœåŠ¡é‡Œæ‹¥æœ‰çš„æ•°æ®ï¼Œä¸è¦ä¾é åŒæ­¥è¯·æ±‚æ¥è·å–æ•°æ®ã€‚è€Œæ˜¯é€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ï¼ˆé€šå¸¸é€šè¿‡é›†æˆäº‹ä»¶ï¼‰æ–¹å¼æ¥å¤åˆ¶æˆ–ä¼ è¾“è¿™äº›æ•°æ®åˆ°æœ€åˆçš„å¾®æœåŠ¡çš„æ•°æ®åº“ä¸­ã€‚
ä¸ºäº†è·å¾—æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åè®®åœ¨å¾®æœåŠ¡ä¹‹é—´å¼‚æ­¥åœ°é€šä¿¡æ¥è·å–æ•°æ®ã€‚é‡ç‚¹åœ¨äºï¼šä¸è¦åœ¨å¾®æœåŠ¡é—´åˆ›å»ºåŒæ­¥ä¾èµ–ã€‚
å¼‚æ­¥æ¶ˆæ¯é€šä¿¡ è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡ä»¥åŠç›¸å…³é¢†åŸŸæ¨¡å‹ä¼ é€å˜åŒ–æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡è‡³å…³é‡è¦ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚
å°½å¯èƒ½éµå¾ªå¦ä¸€ä¸ªè§„åˆ™ï¼šåªåœ¨å†…éƒ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œåªåœ¨ä»å®¢æˆ·ç«¯åº”ç”¨åˆ°å‰ç«¯æœåŠ¡ï¼ˆAPIç½‘å…³
åŠ ä¸Šç¬¬ä¸€çº§å¾®æœåŠ¡ï¼‰é—´ä½¿ç”¨åŒæ­¥é€šä¿¡ã€‚
å¤šæ¥å—è€…æ¶ˆæ¯é€šä¿¡
ä½¿ç”¨å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼›å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼›
åˆ›å»ºã€æ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡APIçš„ç‰ˆæœ¬å’Œå¥‘çº¦ å³ä¾¿åˆå§‹ç‰ˆæœ¬çš„å¥‘çº¦å·²ç»è€ƒè™‘çš„å¾ˆå‘¨å…¨äº†ï¼Œéšç€æ—¶é—´å‘å±•ï¼ŒæœåŠ¡çš„APIä¹Ÿå¯èƒ½éœ€è¦æ”¹å˜ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°¤å…¶æ˜¯è¢«å¤šä¸ªå®¢æˆ·ç«¯åº”ç”¨è°ƒç”¨çš„å…¬å…±APIï¼Œé€šå¸¸æ— æ³•å¼ºåˆ¶æ‰€æœ‰å®¢æˆ·ç«¯å‡çº§åˆ°æ–°çš„APIå¥‘çº¦ã€‚é€šå¸¸è¿™éœ€è¦å¢é‡éƒ¨ç½²æœåŠ¡çš„æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè¦è®©è€ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬æœåŠ¡å¥‘çº¦åŒæ—¶è¿è¡Œã€‚å› æ­¤ï¼ŒæœåŠ¡çš„ç‰ˆæœ¬ç­–ç•¥å¾ˆé‡è¦ã€‚
æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡APIè¿›è¡Œä¸å…¼å®¹çš„å¤§ç‰ˆæœ¬æ›´æ–°ã€‚å› ä¸ºä¸èƒ½å¼ºåˆ¶å®¢æˆ·ç«¯åº”ç”¨æˆ–æœåŠ¡ç«‹åˆ»å‡çº§åˆ°æ–°ç‰ˆï¼ŒæœåŠ¡ç«¯å¿…é¡»æ”¯æŒè€ç‰ˆæœ¬ç»§ç»­è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½¿ç”¨åŸºäºHTTPçš„æœºåˆ¶ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠAPIçš„ç‰ˆæœ¬å·åµŒå…¥URLæˆ–HTTPå¤´éƒ¨ã€‚ç„¶åå¯ä»¥å†³å®šæ˜¯åœ¨ä¸€ä¸ªæœåŠ¡é‡ŒåŒæ—¶å®ç°ä¸¤ä¸ªç‰ˆæœ¬çš„APIï¼Œæˆ–æ˜¯éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¥å„è‡ªå¤„ç†ä¸€ä¸ªç‰ˆæœ¬çš„APIã€‚æ­¤æ—¶ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•æ˜¯é‡‡ç”¨ä¸­ä»‹è€…æ¨¡å¼å¦‚MediaRåº“å°†ä¸åŒç‰ˆæœ¬çš„å®ç°ç”¨ä¸åŒçš„å¤„ç†å™¨æ¥å¤„ç†ã€‚Hypermediaæ˜¯ç”¨æ¥è¿›è¡ŒæœåŠ¡ç‰ˆæœ¬åŒ–å’Œæ”¹è¿›çš„æœ€ä½³é€‰æ‹©ã€‚
å¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ ä½¿ç”¨Marathonå’ŒKuberneteså’ŒDC/Oså¤„ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œæ’¤é”€ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯Service Fabricï¼Œå®ƒä¹Ÿæä¾›äº†å¼€ç®±æœºç”¨çš„å‘½åæœåŠ¡æ¥å®ç°æœåŠ¡æ³¨å†Œã€‚'>
<meta property='og:url' content='https://linjianshu.github.io/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.16/'>
<meta property='og:site_name' content='think hy how to learn'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='å¾®æœåŠ¡' /><meta property='article:published_time' content='2020-11-16T09:17:59&#43;08:00'/><meta property='article:modified_time' content='2020-11-16T09:17:59&#43;08:00'/><meta property='og:image' content='https://linjianshu.github.io/img/avatar.png' />
<meta name="twitter:site" content="@ljsljs56495989">
    <meta name="twitter:creator" content="@ljsljs56495989"><meta name="twitter:title" content="å¾®æœåŠ¡2020.11.16">
<meta name="twitter:description" content="2020.11.16å¾®æœåŠ¡ç»§ç»­å­¦ä¹  Dockeræ•°æ®å·æŠ€æœ¯ æ•°æ®å·æ˜¯æŒ‡ä»ä¸»æœºæ“ä½œç³»ç»Ÿæ˜ å°„åˆ°å®¹å™¨çš„ç›®å½•ã€‚å½“å®¹å™¨ä¸­çš„ä»£ç è®¿é—®è¿™äº›ç›®å½•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ã€‚è¿™äº›ç›®å½•å¹¶æ²¡æœ‰ç»‘å®šåˆ°å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒä»¬èƒ½è¢«ç›´æ¥è¿è¡Œåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„ä»£ç è®¿é—®ï¼Œæˆ–è¢«å…¶ä»–åŒæ ·æ˜ å°„äº†è¯¥ç›®å½•çš„å®¹å™¨è®¿é—®ã€‚å› æ­¤ï¼Œæ•°æ®å·æŒ‰ç…§è®¾è®¡å¯ç‹¬ç«‹äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¥å®ç°æ•°æ®çš„æŒä¹…å­˜å‚¨ã€‚å¦‚æœä»dockerä¸»æœºåˆ é™¤å®¹å™¨æˆ–é•œåƒï¼Œæ•°æ®å·ä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶ä¸­çš„æ•°æ®ä¾ç„¶èƒ½ä»ä¸»æœºæ“ä½œç³»ç»Ÿè®¿é—®ã€‚
å¾®æœåŠ¡æ¶æ„ æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£å®ç°ä¸€ä¸ªç‰¹å®šçš„ç«¯åˆ°ç«¯é¢†åŸŸï¼Œæˆ–æœ‰ç€ç¡®å®šè¾¹ç•Œçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡å¿…é¡»èƒ½ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥æ‹¥æœ‰è‡ªå·±ç‰¹å®šçš„é¢†åŸŸæ•°æ®æ¨¡å‹å’Œé¢†åŸŸé€»è¾‘ï¼ˆè‡ªæ²»å’Œå»ä¸­å¿ƒåŒ–çš„æ•°æ®ç®¡ç†ï¼‰ï¼Œå®ƒä»¬æ˜¯åŸºäºä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼ˆSQLã€NoSQLï¼‰å’Œä¸åŒç¼–ç¨‹è¯­è¨€å®ç°çš„ã€‚
é‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„æœåŠ¡ï¼Œåªè¦å®ƒä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥ä½¿å®ƒä»¬å°½å¯èƒ½åœ°å°ã€‚
å¾®æœåŠ¡æ¶æ„æä¾›äº†é•¿æœŸçš„æ•æ·æ€§ï¼Œå¾®æœåŠ¡å¯ä»¥åŸºäºå¤šä¸ªç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡æ¥åˆ›å»ºåº”ç”¨ã€‚
å¾®æœåŠ¡å¦ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚è€Œä¸æ˜¯ä¸€èµ·å°†æœ¬ä¸éœ€è¦æ‰©å±•çš„å…¶ä»–åŠŸèƒ½åŒºåŸŸä¹Ÿè¿›è¡Œæ‰©å±•ã€‚éš¾ç‚¹ï¼šå¦‚ä½•åœ¨å¤šä¸ªå±‚çº§è®¾è®¡å¹¶å®ç°å®‰å…¨æ€§ï¼šè®¤è¯ã€æˆæƒã€å¯†æ–‡å¯†ç ç®¡ç†å’Œå®‰å…¨é€šä¿¡ç­‰ã€‚
å¾®æœåŠ¡çš„æ•°æ®è‡ªæ²» Aä¸Bå­ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨Cå®ä½“çš„å±æ€§å’Œæ•°æ®ï¼Œè€Œå®ƒä»¬æ˜¯éš¶å±äºä¸åŒä¸Šä¸‹æ–‡è¾¹ç•Œçš„ã€‚è¿™æ ·çš„åŸåˆ™åœ¨DDDé‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯ä¸ªé™ç•Œä¸Šä¸‹æ–‡ã€è‡ªæ²»çš„å­ç³»ç»Ÿæˆ–æœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸæ¨¡å‹ï¼ˆæ•°æ®&#43;é€»è¾‘&#43;è¡Œä¸ºï¼‰ã€‚
ä¸­å¿ƒåŒ–æ•°æ®åº“ï¼šåŒä¸€å¼ åœ°å›¾æ»¡è¶³å¾’æ­¥æ—…è¡Œã€é•¿é€”æ±½è½¦æ—…è¡Œå’Œå­¦ä¹ åœ°ç†çŸ¥è¯†çš„éœ€æ±‚ï¼›éƒ½æ”¯æŒACIDåŸåˆ™å’ŒSQLè¯­è¨€ã€‚
å½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ï¼Œè¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQlè¿æ¥è¦å¤æ‚çš„å¤šï¼ŒåŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚
åŸºäºå¾®æœåŠ¡çš„åº”ç”¨é€šå¸¸ä¼šæ··åˆä½¿ç”¨SQLå’ŒNoSQLæ•°æ®åº“ï¼Œè¿™ç§åšæ³•æœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ··åˆæ•°æ®æŒä¹…åŒ–ã€‚
å¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³» æ¯ä¸ªBCå¿…é¡»æœ‰è‡ªå·±çš„æ¨¡å‹å’Œæ•°æ®åº“ã€‚
é€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„ ç¡®å®šäº†ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡ï¼Œä½†ä¸æ„å‘³è¿™æœ€ä½³å®ç°æ–¹å¼å°±æ˜¯ä¸ºæ¯ä¸ªä¸šåŠ¡å¾®æœåŠ¡åˆ›å»ºå•ç‹¬çš„æœåŠ¡ï¼ˆä¾‹å¦‚ä½œä¸ºä¸€ä¸ªASP.NET Web APIï¼‰æˆ–å•ç‹¬çš„Dockerå®¹å™¨ã€‚
ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡å¿…é¡»è‡ªä¸»åœ°è¿›è¡Œä»£ç å’ŒçŠ¶æ€çš„ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚
åˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼š å…³æ³¨åº”ç”¨çš„é€»è¾‘é¢†åŸŸæ¨¡å‹å’Œç›¸å…³æ•°æ®
åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼š éœ€è¦ä¸€ç§æ–¹å¼æ¥èšåˆä¿¡æ¯ï¼›
APIç½‘å…³ã€CQRSæŸ¥è¯¢/è¯»å–è¡¨ï¼šæ­¤æ—¶å¤æ‚çš„æŸ¥è¯¢å°†å˜æˆå·¨å¤§çš„æŒ‘æˆ˜ï¼Œä¸ºæ­¤å¯ä»¥ä½¿ç”¨CQRSæ–¹æ¡ˆï¼šåœ¨ä¸åŒæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåªç”¨ä½œæŸ¥è¯¢çš„éè§„èŒƒè¡¨ï¼Œè¿™ç§æ–¹å¼ä¸ä»…è§£å†³äº†æœ€åˆçš„é—®é¢˜ï¼ˆå¦‚ä½•è·¨å¾®æœåŠ¡æŸ¥è¯¢å’Œè”æ¥ï¼‰ï¼Œä¸å¤æ‚çš„SQLè”æ¥è¯­å¥ç›¸æ¯”è¿˜èƒ½è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå› ä¸ºåº”ç”¨æ‰€éœ€çš„æ•°æ®å·²ç»åœ¨æŸ¥è¯¢è¡¨é‡Œäº†ï¼›
ä¸­å¿ƒæ•°æ®åº“çš„â€œå†·æ•°æ®â€ï¼šå°†â€œçƒ­æ•°æ®â€å¯¼å‡ºä¸ºâ€œå†·æ•°æ®â€å‚¨å­˜åˆ°æŠ¥è¡¨ä¸“ç”¨çš„å¤§å‹æ•°æ®åº“ä¸­ã€‚ä¸ºäº†åŒæ­¥æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå¦‚æœä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡çš„æ–¹å¼ï¼Œæ•´åˆæµç¨‹å°†ä¸ä¸Šæ–‡æåˆ°çš„ä½¿ç”¨CQRSæŸ¥è¯¢è¡¨è·å–æ•°æ®çš„æ–¹å¼ç›¸ä¼¼ã€‚
ç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šéœ€è¦ä¸æ–­ä»å¤šä¸ªå¾®æœåŠ¡é‡Œè¿›è¡Œèšåˆæ•°æ®å¹¶è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œé‚£ä¹ˆé€šå¸¸åœ¨é‡åˆ°æ­¤ç±»é—®é¢˜åï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šè€ƒè™‘åˆå¹¶å¾®æœåŠ¡ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§ ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œå¦‚é›†æˆäº‹ä»¶ï¼ˆæ¶ˆæ¯å’ŒåŸºäºäº‹ä»¶çš„é€šä¿¡ï¼‰çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚æ ¹æ®CAPç†è®ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç”¨æ€§å’Œå¼ºACIDä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰ã€‚å¤§å¤šæ•°å¾®æœåŠ¡åœºæ™¯è¦æ±‚é«˜å¯ç”¨æ€§å’Œé«˜æ‰©å±•æ€§ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¼±ä¸€è‡´æ€§æˆ–æœ€ç»ˆä¸€è‡´æ€§çš„æŠ€æœ¯æ¥åšåˆ°å¼ºä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„æ¶æ„æ‰€é‡‡å–çš„æ–¹æ³•ã€‚
æ­¤å¤–ï¼ŒACIDé£æ ¼æˆ–ä¸¤æ­¥å¼æäº¤äº‹åŠ¡è¿èƒŒäº†å¾®æœåŠ¡åŸåˆ™ï¼Œè·¨æœåŠ¡å’Œæ•°æ®åº“ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§éå¸¸é‡è¦ã€‚éœ€è¦åœ¨å¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡å’Œå‘å¸ƒè®¢é˜…ç³»ç»Ÿæ¥å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚
åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡ åœ¨å¤šä¸ªå¾®æœåŠ¡é—´åˆ›å»ºäº†é•¿ä¸²çš„åŒæ­¥HTTPè°ƒç”¨ï¼Œåº”ç”¨æœ€ç»ˆå°†ä¼šç¢°åˆ°é—®é¢˜ï¼šé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ã€‚
å› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€ç§äº‰è®®ï¼šè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œå®ƒçš„è¿›ç¨‹é—´æ˜¯åŸºäºHTTPçš„ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚
ä¸ºäº†ä¿ƒè¿›å¾®æœåŠ¡çš„è‡ªæ²»å¹¶è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œåº”è¯¥å‡å°‘ä½¿ç”¨è·¨æœåŠ¡çš„é“¾å¼è¯·æ±‚/å“åº”é€šä¿¡ã€‚å»ºè®®å¾®æœåŠ¡é—´çš„é€šä¿¡åªä½¿ç”¨å¼‚æ­¥äº¤äº’ï¼Œä¾‹å¦‚ä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ã€‚
è¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ è™½ç„¶å¾®æœåŠ¡åº”è¯¥å°½å¯èƒ½åœ°è¶‹å‘äºå°å‹åŒ–ï¼Œä½†è¯†åˆ«æ¯ä¸ªå¾®æœåŠ¡çš„æ¨¡å‹è¾¹ç•Œä¸æ˜¯ä¸ºäº†å°½å¯èƒ½æ‹†æˆç»†ç²’åº¦ï¼Œè€Œæ˜¯æ ¹æ®é¢†åŸŸçŸ¥è¯†æ¥è¿›è¡Œæœ€æœ‰æ„ä¹‰çš„åˆ’åˆ†ã€‚é‡ç‚¹ä¸åœ¨äºå¤§å°ï¼Œè€Œåœ¨äºä¸šåŠ¡éœ€è¦ã€‚å¦å¤–ï¼Œå¦‚æœå› ä¸ºå­˜åœ¨åºå¤§å¤æ‚çš„ä¾èµ–å…³ç³»è€Œè¦æ±‚åº”ç”¨çš„æŸä¸ªé¢†åŸŸæœ‰æ¸…æ™°çš„ä¸€è‡´æ€§çš„éœ€æ±‚ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜è¯¥é¢†åŸŸåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚
å› æ­¤ï¼ŒBCä¼šå¸®åŠ©æ¾„æ¸…å“ªé‡Œéœ€è¦ç‰¹å®šçš„é¢†åŸŸæœ¯è¯­ï¼Œä»¥åŠå“ªé‡Œéœ€è¦æŠŠç³»ç»Ÿæ‹†åˆ†æˆé¢å¤–çš„ä¸åŒé¢†åŸŸBCã€‚
ç„¶è€Œä¹Ÿæœ‰äº›å…·æœ‰ä¸åŒå½¢æ€ä½†å´å…±ç”¨ç›¸åŒæ ‡è¯†çš„å®ä½“ï¼Œå®ƒä»¬å­˜åœ¨äºå¤šä¸ªå¾®æœåŠ¡æ‰€åŒ…å«çš„å¤šä¸ªé¢†åŸŸæ¨¡å‹ä¸­ã€‚ä¾‹å¦‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“ï¼Œè¯¥å®ä½“æ‰€å¯¹åº”çš„åŒä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨è®¢å•å¾®æœåŠ¡é‡Œè¢«ç§°ä¸ºä¹°å®¶ï¼Œåœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œåä¸ºä»˜æ¬¾æ–¹ï¼Œè€Œåœ¨å®¢æˆ·æœåŠ¡å¾®æœåŠ¡é‡Œç§°ä½œå®¢æˆ·ã€‚è¿™æ˜¯å› ä¸ºåŸºäºæ¯ä¸ªé¢†åŸŸä¸“å®¶ä½¿ç”¨çš„é€šç”¨è¯­è¨€ï¼Œä¼šå¯¹åŒä¸€ä¸ªç”¨æˆ·æœ‰ä¸åŒè§†è§’ï¼Œç”šè‡³åŒ…å«ä¸åŒå±æ€§ã€‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡é‡Œçš„ç”¨æˆ·å®ä½“åº”è¯¥åŒ…å«æœ€å¤šçš„ä¸ªäººæ•°æ®å±æ€§ï¼Œä½†æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œçš„ä¹°å®¶æ ‡è¯†å’Œå®¢æˆ·æœåŠ¡é‡Œçš„å®¢æˆ·æ ‡è¯†å°±ä¸éœ€è¦é‚£ä¹ˆå¤šå±æ€§äº†ã€‚
æ¯ä¸ªé¢†åŸŸæ¨¡å‹é‡Œçš„ç”¨æˆ·å®ä½“å¯èƒ½æœ‰ä¸åŒçš„è¡¥å……ç»†èŠ‚ã€‚å› æ­¤éœ€è¦æŸç§æ–¹å¼æŠŠä¸€ä¸ªé¢†åŸŸçš„ç”¨æˆ·å®ä½“æ˜ å°„åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸­ã€‚
å®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’ŒAPIç½‘å…³æ¨¡å¼ ç›´è¿æœ‰å¼Šç«¯ï¼šå¦‚ä½•å¤„ç†è·¨ç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚æˆæƒã€æ•°æ®ä¼ è¾“å’ŒåŠ¨æ€è¯·æ±‚æ´¾å‘ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ç°å®‰å…¨å’Œç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ€§å’Œæˆæƒæœºåˆ¶ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›æœåŠ¡æ”¾è¿›Dockerä¸»æœºæˆ–å†…éƒ¨é›†ç¾¤ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªä¸­é—´ä½ç½®ï¼Œä¾‹å¦‚APIç½‘å…³æ¥è§£å†³è·¨ç•Œé™é—®é¢˜ã€‚
æœ‰æ—¶è¦ä»å“åº”ä¸­å»æ‰ç§»åŠ¨ç«¯ä¸éœ€è¦çš„æ•°æ®ï¼Œè¿˜è¦å‹ç¼©æ•°æ®ï¼Œæ‰€ä»¥è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨å¤–è§‚æ¨¡å¼æˆ–APIå°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ã€‚
ä½¿ç”¨APIç½‘å…³ï¼š
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€çš„è‡ªå®šä¹‰APIç½‘å…³æœåŠ¡æ¥é¢å¯¹å¤šä¸ªä¸åŒå®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†è¿™ä¼šé€ æˆå·¨å¤§çš„é£é™©ï¼Œå› ä¸ºAPIç½‘å…³æœåŠ¡ä¼šéšç€å®¢æˆ·ç«¯åº”ç”¨éœ€æ±‚çš„å˜åŒ–è€Œå¢é•¿å¹¶æ¼”åŒ–ï¼Œæœ€ç»ˆå®ƒä¼šå› ä¸ºéœ€æ±‚çš„å˜åŒ–è€Œå˜å¾—è‡ƒè‚¿ï¼Œåœ¨æ•ˆæœä¸Šå°†ä¼šç­‰åŒäºå•ä½“åº”ç”¨æˆ–æœåŠ¡ã€‚å› æ­¤æˆ‘ä»¬æåŠ›æ¨èå°†APIç½‘å…³æ‹†åˆ†æˆå¤šä¸ªæœåŠ¡æˆ–è€…å°å‹çš„APIç½‘å…³ï¼Œæ¯ä¸ªAPIç½‘å…³éƒ½æœ‰è‡ªå·±çš„å½¢å¼ã€‚
æˆ‘ä»¬åº”è¯¥åˆ›å»ºå¤šä¸ªAPIç½‘å…³ï¼Œä»¥ä¾¿ä¸ºæ¯ç§å®¢æˆ·ç«¯éœ€æ±‚å®ç°ä¸åŒå¤–è§‚ï¼Œç•¥æœ‰å·®å¼‚çš„APIï¼Œç”šè‡³å¯èƒ½åŸºäºå®¢æˆ·ç«¯å±•ç°å½¢å¼æˆ–è®¾å¤‡æ¥å®ç°ç‰¹å®šçš„é€‚é…ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨åº•å±‚è°ƒç”¨å¤šä¸ªå†…éƒ¨çš„å¾®æœåŠ¡ã€‚
é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªAPIç½‘å…³å°†åº”ç”¨ä¸­æ‰€æœ‰å†…éƒ¨å¾®æœåŠ¡èšåˆåœ¨ä¸€èµ·ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜æ™ºã€‚å› æ­¤ï¼ŒAPIç½‘å…³åº”è¯¥åŸºäºä¸šåŠ¡è¾¹ç•Œæ¥æ‹†åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„ä¸€ä¸ªèšåˆå™¨ã€‚
åœ¨è¿™å•ç‹¬çš„ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿‡æ»¤å†…éƒ¨å¾®æœåŠ¡çš„APIï¼Œæˆ–è€…åœ¨å·²å‘å¸ƒçš„APIä¸Šæ·»åŠ æˆæƒã€‚
ç½‘å…³æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šå¦‚æœAPIç½‘å…³åŒ…å«è‡ªå®šä¹‰é€»è¾‘å’Œæ•°æ®é›†æˆï¼Œå°±ä¼šè¦æ±‚é¢å¤–çš„å¼€å‘æˆæœ¬å’Œæœªæ¥çš„ç»´æŠ¤æˆæœ¬ã€‚å¦‚æœAPIç½‘å…³åªä½¿ç”¨äº†å®‰å…¨æ€§ã€æ—¥å¿—ç®¡ç†å’Œç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›é¢å¤–çš„å¼€å‘å·¥ä½œä¾¿ä¸ä¼šå‘ç”Ÿã€‚
å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ é€šä¿¡ç±»å‹ å®¢æˆ·ç«¯ä»£ç æˆ–æ¶ˆæ¯å‘é€è€…é€šå¸¸ä¸éœ€è¦ç­‰å¾…å“åº”ï¼Œåªè¦æŠŠæ¶ˆæ¯å‘é€ç»™RabbitMQé˜Ÿåˆ—æˆ–å…¶ä»–æ¶ˆæ¯ä»£ç†å³å¯ã€‚
ä¾‹å¦‚äº‹ä»¶é©±åŠ¨æ¶æ„é‡Œçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚
å¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²» å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥ï¼Œå¾®æœåŠ¡é—´é€šè¿‡å¼‚æ­¥ä¼ è¾“æ¥é€šä¿¡ï¼Œä½†ä¸è¦ä¾èµ–äºå…¶ä»–å†…éƒ¨å¾®æœåŠ¡ä½œä¸ºè‡ªå·±HTTPè¯·æ±‚/å“åº”çš„ä¸€éƒ¨åˆ†ã€‚
æ¯ä¸ªå¾®æœåŠ¡åº”ä»¥è‡ªæ²»ä»¥åŠå¯¹å®¢æˆ·ç«¯å¯ç”¨ä¸ºç›®æ ‡ï¼Œå³ä½¿ä½œä¸ºç«¯åˆ°ç«¯åº”ç”¨ä¸€éƒ¨åˆ†çš„å…¶ä»–æœåŠ¡å‘ç”Ÿæ•…éšœæˆ–ä¸ç¨³å®šä¹Ÿåº”å¦‚æ­¤ã€‚å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¾®æœåŠ¡è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ï¼ˆå¦‚å‘èµ·HTTPè¯·æ±‚æ¥æŸ¥è¯¢æ•°æ®ï¼‰ä¸ºå®¢æˆ·ç«¯åº”ç”¨æä¾›å“åº”ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ¶æ„åœ¨å…¶å®ƒå¾®æœåŠ¡å‘ç”Ÿæ•…éšœæ—¶å°±å˜å¾—ä¸ç¨³å®šã€‚
å¦‚æœæœ€åˆçš„å¾®æœåŠ¡éœ€è¦åŸæœ¬åœ¨åˆ«çš„å¾®æœåŠ¡é‡Œæ‹¥æœ‰çš„æ•°æ®ï¼Œä¸è¦ä¾é åŒæ­¥è¯·æ±‚æ¥è·å–æ•°æ®ã€‚è€Œæ˜¯é€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ï¼ˆé€šå¸¸é€šè¿‡é›†æˆäº‹ä»¶ï¼‰æ–¹å¼æ¥å¤åˆ¶æˆ–ä¼ è¾“è¿™äº›æ•°æ®åˆ°æœ€åˆçš„å¾®æœåŠ¡çš„æ•°æ®åº“ä¸­ã€‚
ä¸ºäº†è·å¾—æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åè®®åœ¨å¾®æœåŠ¡ä¹‹é—´å¼‚æ­¥åœ°é€šä¿¡æ¥è·å–æ•°æ®ã€‚é‡ç‚¹åœ¨äºï¼šä¸è¦åœ¨å¾®æœåŠ¡é—´åˆ›å»ºåŒæ­¥ä¾èµ–ã€‚
å¼‚æ­¥æ¶ˆæ¯é€šä¿¡ è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡ä»¥åŠç›¸å…³é¢†åŸŸæ¨¡å‹ä¼ é€å˜åŒ–æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡è‡³å…³é‡è¦ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚
å°½å¯èƒ½éµå¾ªå¦ä¸€ä¸ªè§„åˆ™ï¼šåªåœ¨å†…éƒ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œåªåœ¨ä»å®¢æˆ·ç«¯åº”ç”¨åˆ°å‰ç«¯æœåŠ¡ï¼ˆAPIç½‘å…³
åŠ ä¸Šç¬¬ä¸€çº§å¾®æœåŠ¡ï¼‰é—´ä½¿ç”¨åŒæ­¥é€šä¿¡ã€‚
å¤šæ¥å—è€…æ¶ˆæ¯é€šä¿¡
ä½¿ç”¨å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼›å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼›
åˆ›å»ºã€æ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡APIçš„ç‰ˆæœ¬å’Œå¥‘çº¦ å³ä¾¿åˆå§‹ç‰ˆæœ¬çš„å¥‘çº¦å·²ç»è€ƒè™‘çš„å¾ˆå‘¨å…¨äº†ï¼Œéšç€æ—¶é—´å‘å±•ï¼ŒæœåŠ¡çš„APIä¹Ÿå¯èƒ½éœ€è¦æ”¹å˜ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°¤å…¶æ˜¯è¢«å¤šä¸ªå®¢æˆ·ç«¯åº”ç”¨è°ƒç”¨çš„å…¬å…±APIï¼Œé€šå¸¸æ— æ³•å¼ºåˆ¶æ‰€æœ‰å®¢æˆ·ç«¯å‡çº§åˆ°æ–°çš„APIå¥‘çº¦ã€‚é€šå¸¸è¿™éœ€è¦å¢é‡éƒ¨ç½²æœåŠ¡çš„æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè¦è®©è€ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬æœåŠ¡å¥‘çº¦åŒæ—¶è¿è¡Œã€‚å› æ­¤ï¼ŒæœåŠ¡çš„ç‰ˆæœ¬ç­–ç•¥å¾ˆé‡è¦ã€‚
æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡APIè¿›è¡Œä¸å…¼å®¹çš„å¤§ç‰ˆæœ¬æ›´æ–°ã€‚å› ä¸ºä¸èƒ½å¼ºåˆ¶å®¢æˆ·ç«¯åº”ç”¨æˆ–æœåŠ¡ç«‹åˆ»å‡çº§åˆ°æ–°ç‰ˆï¼ŒæœåŠ¡ç«¯å¿…é¡»æ”¯æŒè€ç‰ˆæœ¬ç»§ç»­è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½¿ç”¨åŸºäºHTTPçš„æœºåˆ¶ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠAPIçš„ç‰ˆæœ¬å·åµŒå…¥URLæˆ–HTTPå¤´éƒ¨ã€‚ç„¶åå¯ä»¥å†³å®šæ˜¯åœ¨ä¸€ä¸ªæœåŠ¡é‡ŒåŒæ—¶å®ç°ä¸¤ä¸ªç‰ˆæœ¬çš„APIï¼Œæˆ–æ˜¯éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¥å„è‡ªå¤„ç†ä¸€ä¸ªç‰ˆæœ¬çš„APIã€‚æ­¤æ—¶ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•æ˜¯é‡‡ç”¨ä¸­ä»‹è€…æ¨¡å¼å¦‚MediaRåº“å°†ä¸åŒç‰ˆæœ¬çš„å®ç°ç”¨ä¸åŒçš„å¤„ç†å™¨æ¥å¤„ç†ã€‚Hypermediaæ˜¯ç”¨æ¥è¿›è¡ŒæœåŠ¡ç‰ˆæœ¬åŒ–å’Œæ”¹è¿›çš„æœ€ä½³é€‰æ‹©ã€‚
å¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ ä½¿ç”¨Marathonå’ŒKuberneteså’ŒDC/Oså¤„ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œæ’¤é”€ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯Service Fabricï¼Œå®ƒä¹Ÿæä¾›äº†å¼€ç®±æœºç”¨çš„å‘½åæœåŠ¡æ¥å®ç°æœåŠ¡æ³¨å†Œã€‚"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://linjianshu.github.io/img/avatar.png' />
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <style>
            * {
              margin: 0;
              padding: 0;
            }
            html, body {
              height: 100%;
              width: 100%;
            }
            #github-iframe {
              position: fixed;
              left: 32px;
              top: 32px;
            }
             
        </style>
   


<link rel="stylesheet" type="texts" href="https://blog-static.cnblogs.com/files/monster-jian/waifu.css"/>


</head>







<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>

<body size-sensor-id="1" style="position: relative;">
    
    <div id="area-render"></div>
   

</body>

<canvas width="1777" height="841" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>

</html>


    </head>
    <body class="
    article-page 
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        on-phone--column extended
    
">
    
        <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/hanbagui_hu1992e2ef3ca17530e3489d97af7cbea6_3164_300x0_resize_box.bmp" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        <h1 class="site-name"><a href="https://linjianshu.github.io/">think hy how to learn</a></h1>
        <h2 class="site-description">å¥½è¿æš´å¯Œ,å°±åœ¨ä»Šæ—¥.</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>æš—è‰²æ¨¡å¼</span>
            </li>
        
    </ol>
</aside>

    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="background-color: #fcd217; color: #fff;">
                å¾®æœåŠ¡
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.16/">å¾®æœåŠ¡2020.11.16</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 16, 2020</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 2 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h3 id="20201116å¾®æœåŠ¡ç»§ç»­å­¦ä¹ ">2020.11.16å¾®æœåŠ¡ç»§ç»­å­¦ä¹ </h3>
<h5 id="dockeræ•°æ®å·æŠ€æœ¯">Dockeræ•°æ®å·æŠ€æœ¯</h5>
<p>æ•°æ®å·æ˜¯æŒ‡ä»ä¸»æœºæ“ä½œç³»ç»Ÿæ˜ å°„åˆ°å®¹å™¨çš„ç›®å½•ã€‚å½“å®¹å™¨ä¸­çš„ä»£ç è®¿é—®è¿™äº›ç›®å½•æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ã€‚è¿™äº›ç›®å½•å¹¶æ²¡æœ‰ç»‘å®šåˆ°å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒä»¬èƒ½è¢«ç›´æ¥è¿è¡Œåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸­çš„ä»£ç è®¿é—®ï¼Œæˆ–è¢«å…¶ä»–åŒæ ·æ˜ å°„äº†è¯¥ç›®å½•çš„å®¹å™¨è®¿é—®ã€‚å› æ­¤ï¼Œæ•°æ®å·æŒ‰ç…§è®¾è®¡å¯ç‹¬ç«‹äºå®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¥å®ç°æ•°æ®çš„æŒä¹…å­˜å‚¨ã€‚å¦‚æœä»dockerä¸»æœºåˆ é™¤å®¹å™¨æˆ–é•œåƒï¼Œæ•°æ®å·ä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶ä¸­çš„æ•°æ®ä¾ç„¶èƒ½ä»ä¸»æœºæ“ä½œç³»ç»Ÿè®¿é—®ã€‚</p>
<h5 id="å¾®æœåŠ¡æ¶æ„">å¾®æœåŠ¡æ¶æ„</h5>
<p>æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£å®ç°ä¸€ä¸ªç‰¹å®šçš„ç«¯åˆ°ç«¯é¢†åŸŸï¼Œæˆ–æœ‰ç€ç¡®å®šè¾¹ç•Œçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡å¿…é¡»èƒ½ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥æ‹¥æœ‰è‡ªå·±ç‰¹å®šçš„é¢†åŸŸæ•°æ®æ¨¡å‹å’Œé¢†åŸŸé€»è¾‘ï¼ˆè‡ªæ²»å’Œå»ä¸­å¿ƒåŒ–çš„æ•°æ®ç®¡ç†ï¼‰ï¼Œå®ƒä»¬æ˜¯åŸºäºä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼ˆSQLã€NoSQLï¼‰å’Œä¸åŒç¼–ç¨‹è¯­è¨€å®ç°çš„ã€‚</p>
<p><strong>é‡ç‚¹æ˜¯è¦åˆ›å»ºä½è€¦åˆçš„æœåŠ¡</strong>ï¼Œåªè¦å®ƒä»¬ä¹‹é—´æ²¡æœ‰å¤ªå¤šç›´æ¥ä¾èµ–ï¼Œå°±åº”è¯¥ä½¿å®ƒä»¬å°½å¯èƒ½åœ°å°ã€‚</p>
<p>å¾®æœåŠ¡æ¶æ„æä¾›äº†é•¿æœŸçš„æ•æ·æ€§ï¼Œå¾®æœåŠ¡å¯ä»¥åŸºäºå¤šä¸ªç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡æ¥åˆ›å»ºåº”ç”¨ã€‚</p>
<p>å¾®æœåŠ¡å¦ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚è€Œä¸æ˜¯ä¸€èµ·å°†æœ¬ä¸éœ€è¦æ‰©å±•çš„å…¶ä»–åŠŸèƒ½åŒºåŸŸä¹Ÿè¿›è¡Œæ‰©å±•ã€‚éš¾ç‚¹ï¼šå¦‚ä½•åœ¨å¤šä¸ªå±‚çº§è®¾è®¡å¹¶å®ç°å®‰å…¨æ€§ï¼šè®¤è¯ã€æˆæƒã€å¯†æ–‡å¯†ç ç®¡ç†å’Œå®‰å…¨é€šä¿¡ç­‰ã€‚</p>
<h5 id="å¾®æœåŠ¡çš„æ•°æ®è‡ªæ²»">å¾®æœåŠ¡çš„æ•°æ®è‡ªæ²»</h5>
<p>Aä¸Bå­ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨Cå®ä½“çš„å±æ€§å’Œæ•°æ®ï¼Œè€Œå®ƒä»¬æ˜¯éš¶å±äºä¸åŒä¸Šä¸‹æ–‡è¾¹ç•Œçš„ã€‚è¿™æ ·çš„åŸåˆ™åœ¨DDDé‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯ä¸ªé™ç•Œä¸Šä¸‹æ–‡ã€è‡ªæ²»çš„å­ç³»ç»Ÿæˆ–æœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸæ¨¡å‹ï¼ˆæ•°æ®+é€»è¾‘+è¡Œä¸ºï¼‰ã€‚</p>
<p>ä¸­å¿ƒåŒ–æ•°æ®åº“ï¼šåŒä¸€å¼ åœ°å›¾æ»¡è¶³å¾’æ­¥æ—…è¡Œã€é•¿é€”æ±½è½¦æ—…è¡Œå’Œå­¦ä¹ åœ°ç†çŸ¥è¯†çš„éœ€æ±‚ï¼›éƒ½æ”¯æŒACIDåŸåˆ™å’ŒSQLè¯­è¨€ã€‚</p>
<p>å½“ä¸šåŠ¡æµç¨‹è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å”¯ä¸€çš„åŠæ³•ï¼Œè¿™æ¯”å†™ä¸€ä¸ªç®€å•çš„SQlè¿æ¥è¦å¤æ‚çš„å¤šï¼ŒåŒç†ï¼Œå¾ˆå¤šå…¶ä»–å…³ç³»å‹æ•°æ®åº“åŠŸèƒ½ä¹Ÿä¸æ”¯æŒè·¨å¾®æœåŠ¡ä½¿ç”¨ã€‚</p>
<p>åŸºäºå¾®æœåŠ¡çš„åº”ç”¨é€šå¸¸ä¼šæ··åˆä½¿ç”¨SQLå’ŒNoSQLæ•°æ®åº“ï¼Œè¿™ç§åšæ³•æœ‰æ—¶ä¼šè¢«ç§°ä¸ºæ··åˆæ•°æ®æŒä¹…åŒ–ã€‚</p>
<h5 id="å¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³»">å¾®æœåŠ¡å’Œé™ç•Œä¸Šä¸‹æ–‡æ¨¡å¼çš„å…³ç³»</h5>
<p>æ¯ä¸ªBCå¿…é¡»æœ‰è‡ªå·±çš„æ¨¡å‹å’Œæ•°æ®åº“ã€‚</p>
<h5 id="é€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„">é€»è¾‘æ¶æ„å’Œç‰©ç†æ¶æ„</h5>
<p>ç¡®å®šäº†ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡ï¼Œä½†ä¸æ„å‘³è¿™æœ€ä½³å®ç°æ–¹å¼å°±æ˜¯ä¸ºæ¯ä¸ªä¸šåŠ¡å¾®æœåŠ¡åˆ›å»ºå•ç‹¬çš„æœåŠ¡ï¼ˆä¾‹å¦‚ä½œä¸ºä¸€ä¸ªASP.NET Web APIï¼‰æˆ–å•ç‹¬çš„Dockerå®¹å™¨ã€‚</p>
<p>ä¸šåŠ¡å¾®æœåŠ¡æˆ–é™ç•Œä¸Šä¸‹æ–‡å¿…é¡»è‡ªä¸»åœ°è¿›è¡Œä»£ç å’ŒçŠ¶æ€çš„ç‹¬ç«‹ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚</p>
<h5 id="åˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ">åˆ†å¸ƒå¼æ•°æ®ç®¡ç†çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ</h5>
<h6 id="å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œ">å®šä¹‰å¾®æœåŠ¡è¾¹ç•Œï¼š</h6>
<p>å…³æ³¨åº”ç”¨çš„é€»è¾‘é¢†åŸŸæ¨¡å‹å’Œç›¸å…³æ•°æ®</p>
<h6 id="åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢">åˆ›å»ºä»å¤šä¸ªå¾®æœåŠ¡è·å–æ•°æ®çš„æŸ¥è¯¢ï¼š</h6>
<p>éœ€è¦ä¸€ç§æ–¹å¼æ¥èšåˆä¿¡æ¯ï¼›</p>
<p>APIç½‘å…³ã€CQRSæŸ¥è¯¢/è¯»å–è¡¨ï¼šæ­¤æ—¶å¤æ‚çš„æŸ¥è¯¢å°†å˜æˆå·¨å¤§çš„æŒ‘æˆ˜ï¼Œä¸ºæ­¤å¯ä»¥ä½¿ç”¨CQRSæ–¹æ¡ˆï¼šåœ¨ä¸åŒæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåªç”¨ä½œæŸ¥è¯¢çš„éè§„èŒƒè¡¨ï¼Œè¿™ç§æ–¹å¼ä¸ä»…è§£å†³äº†æœ€åˆçš„é—®é¢˜ï¼ˆå¦‚ä½•è·¨å¾®æœåŠ¡æŸ¥è¯¢å’Œè”æ¥ï¼‰ï¼Œä¸å¤æ‚çš„SQLè”æ¥è¯­å¥ç›¸æ¯”è¿˜èƒ½è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå› ä¸ºåº”ç”¨æ‰€éœ€çš„æ•°æ®å·²ç»åœ¨æŸ¥è¯¢è¡¨é‡Œäº†ï¼›</p>
<p>ä¸­å¿ƒæ•°æ®åº“çš„â€œå†·æ•°æ®â€ï¼šå°†â€œçƒ­æ•°æ®â€å¯¼å‡ºä¸ºâ€œå†·æ•°æ®â€å‚¨å­˜åˆ°æŠ¥è¡¨ä¸“ç”¨çš„å¤§å‹æ•°æ®åº“ä¸­ã€‚ä¸ºäº†åŒæ­¥æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼Œå¦‚æœä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡çš„æ–¹å¼ï¼Œæ•´åˆæµç¨‹å°†ä¸ä¸Šæ–‡æåˆ°çš„ä½¿ç”¨CQRSæŸ¥è¯¢è¡¨è·å–æ•°æ®çš„æ–¹å¼ç›¸ä¼¼ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šéœ€è¦ä¸æ–­ä»å¤šä¸ªå¾®æœåŠ¡é‡Œè¿›è¡Œèšåˆæ•°æ®å¹¶è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œé‚£ä¹ˆé€šå¸¸åœ¨é‡åˆ°æ­¤ç±»é—®é¢˜åï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šè€ƒè™‘åˆå¹¶å¾®æœåŠ¡ã€‚</p>
<h6 id="åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§">åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´å®ç°ä¸€è‡´æ€§</h6>
<p>ä½¿ç”¨åŸºäºå¼‚æ­¥é€šä¿¡ï¼Œå¦‚é›†æˆäº‹ä»¶ï¼ˆæ¶ˆæ¯å’ŒåŸºäºäº‹ä»¶çš„é€šä¿¡ï¼‰çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚æ ¹æ®CAPç†è®ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç”¨æ€§å’Œå¼ºACIDä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰ã€‚å¤§å¤šæ•°å¾®æœåŠ¡åœºæ™¯è¦æ±‚é«˜å¯ç”¨æ€§å’Œé«˜æ‰©å±•æ€§ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¼±ä¸€è‡´æ€§æˆ–æœ€ç»ˆä¸€è‡´æ€§çš„æŠ€æœ¯æ¥åšåˆ°å¼ºä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„æ¶æ„æ‰€é‡‡å–çš„æ–¹æ³•ã€‚</p>
<p>æ­¤å¤–ï¼ŒACIDé£æ ¼æˆ–ä¸¤æ­¥å¼æäº¤äº‹åŠ¡è¿èƒŒäº†å¾®æœåŠ¡åŸåˆ™ï¼Œè·¨æœåŠ¡å’Œæ•°æ®åº“ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§éå¸¸é‡è¦ã€‚éœ€è¦åœ¨å¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨äº‹ä»¶é©±åŠ¨é€šä¿¡å’Œå‘å¸ƒè®¢é˜…ç³»ç»Ÿæ¥å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<h6 id="åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡">åœ¨å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡</h6>
<p>åœ¨å¤šä¸ªå¾®æœåŠ¡é—´åˆ›å»ºäº†é•¿ä¸²çš„åŒæ­¥HTTPè°ƒç”¨ï¼Œåº”ç”¨æœ€ç»ˆå°†ä¼šç¢°åˆ°é—®é¢˜ï¼šé˜»å¡å’Œæ€§èƒ½ä½ä¸‹ã€‚</p>
<p>å› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€ç§äº‰è®®ï¼šè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å•ä½“å¼åº”ç”¨ï¼Œå®ƒçš„è¿›ç¨‹é—´æ˜¯åŸºäºHTTPçš„ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨è¿›ç¨‹å†…é€šä¿¡æœºåˆ¶ã€‚</p>
<p>ä¸ºäº†ä¿ƒè¿›å¾®æœåŠ¡çš„è‡ªæ²»å¹¶è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œåº”è¯¥å‡å°‘ä½¿ç”¨è·¨æœåŠ¡çš„é“¾å¼è¯·æ±‚/å“åº”é€šä¿¡ã€‚å»ºè®®å¾®æœåŠ¡é—´çš„é€šä¿¡åªä½¿ç”¨å¼‚æ­¥äº¤äº’ï¼Œä¾‹å¦‚ä½¿ç”¨åŸºäºæ¶ˆæ¯æˆ–æ—¶é—´çš„å¼‚æ­¥é€šä¿¡ã€‚</p>
<h6 id="è¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ">è¯†åˆ«å¾®æœåŠ¡çš„é¢†åŸŸæ¨¡å‹è¾¹ç•Œ</h6>
<p>è™½ç„¶å¾®æœåŠ¡åº”è¯¥å°½å¯èƒ½åœ°è¶‹å‘äºå°å‹åŒ–ï¼Œä½†è¯†åˆ«æ¯ä¸ªå¾®æœåŠ¡çš„æ¨¡å‹è¾¹ç•Œä¸æ˜¯ä¸ºäº†å°½å¯èƒ½æ‹†æˆç»†ç²’åº¦ï¼Œè€Œæ˜¯æ ¹æ®é¢†åŸŸçŸ¥è¯†æ¥è¿›è¡Œæœ€æœ‰æ„ä¹‰çš„åˆ’åˆ†ã€‚é‡ç‚¹ä¸åœ¨äºå¤§å°ï¼Œè€Œåœ¨äºä¸šåŠ¡éœ€è¦ã€‚å¦å¤–ï¼Œå¦‚æœå› ä¸ºå­˜åœ¨åºå¤§å¤æ‚çš„ä¾èµ–å…³ç³»è€Œè¦æ±‚åº”ç”¨çš„æŸä¸ªé¢†åŸŸæœ‰æ¸…æ™°çš„ä¸€è‡´æ€§çš„éœ€æ±‚ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜è¯¥é¢†åŸŸåº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚</p>
<p>å› æ­¤ï¼ŒBCä¼šå¸®åŠ©æ¾„æ¸…å“ªé‡Œéœ€è¦ç‰¹å®šçš„é¢†åŸŸæœ¯è¯­ï¼Œä»¥åŠå“ªé‡Œéœ€è¦æŠŠç³»ç»Ÿæ‹†åˆ†æˆé¢å¤–çš„ä¸åŒé¢†åŸŸBCã€‚</p>
<p>ç„¶è€Œä¹Ÿæœ‰äº›å…·æœ‰ä¸åŒå½¢æ€ä½†å´å…±ç”¨ç›¸åŒæ ‡è¯†çš„å®ä½“ï¼Œå®ƒä»¬å­˜åœ¨äºå¤šä¸ªå¾®æœåŠ¡æ‰€åŒ…å«çš„å¤šä¸ªé¢†åŸŸæ¨¡å‹ä¸­ã€‚ä¾‹å¦‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“ï¼Œè¯¥å®ä½“æ‰€å¯¹åº”çš„åŒä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨è®¢å•å¾®æœåŠ¡é‡Œè¢«ç§°ä¸ºä¹°å®¶ï¼Œåœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œåä¸ºä»˜æ¬¾æ–¹ï¼Œè€Œåœ¨å®¢æˆ·æœåŠ¡å¾®æœåŠ¡é‡Œç§°ä½œå®¢æˆ·ã€‚è¿™æ˜¯å› ä¸ºåŸºäºæ¯ä¸ªé¢†åŸŸä¸“å®¶ä½¿ç”¨çš„é€šç”¨è¯­è¨€ï¼Œä¼šå¯¹åŒä¸€ä¸ªç”¨æˆ·æœ‰ä¸åŒè§†è§’ï¼Œç”šè‡³åŒ…å«ä¸åŒå±æ€§ã€‚ä¼šè®®ç®¡ç†å¾®æœåŠ¡é‡Œçš„ç”¨æˆ·å®ä½“åº”è¯¥åŒ…å«æœ€å¤šçš„ä¸ªäººæ•°æ®å±æ€§ï¼Œä½†æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨æ”¯ä»˜å¾®æœåŠ¡é‡Œçš„ä¹°å®¶æ ‡è¯†å’Œå®¢æˆ·æœåŠ¡é‡Œçš„å®¢æˆ·æ ‡è¯†å°±ä¸éœ€è¦é‚£ä¹ˆå¤šå±æ€§äº†ã€‚</p>
<p>æ¯ä¸ªé¢†åŸŸæ¨¡å‹é‡Œçš„ç”¨æˆ·å®ä½“å¯èƒ½æœ‰ä¸åŒçš„è¡¥å……ç»†èŠ‚ã€‚å› æ­¤éœ€è¦æŸç§æ–¹å¼æŠŠä¸€ä¸ªé¢†åŸŸçš„ç”¨æˆ·å®ä½“æ˜ å°„åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸­ã€‚</p>
<h5 id="å®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’Œapiç½‘å…³æ¨¡å¼">å®¢æˆ·ç«¯å¾®æœåŠ¡ç›´è¿å’ŒAPIç½‘å…³æ¨¡å¼</h5>
<p>ç›´è¿æœ‰å¼Šç«¯ï¼šå¦‚ä½•å¤„ç†è·¨ç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚æˆæƒã€æ•°æ®ä¼ è¾“å’ŒåŠ¨æ€è¯·æ±‚æ´¾å‘ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ç°å®‰å…¨å’Œç•Œé™é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ€§å’Œæˆæƒæœºåˆ¶ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›æœåŠ¡æ”¾è¿›Dockerä¸»æœºæˆ–å†…éƒ¨é›†ç¾¤ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªä¸­é—´ä½ç½®ï¼Œä¾‹å¦‚APIç½‘å…³æ¥è§£å†³è·¨ç•Œé™é—®é¢˜ã€‚</p>
<p>æœ‰æ—¶è¦ä»å“åº”ä¸­å»æ‰ç§»åŠ¨ç«¯ä¸éœ€è¦çš„æ•°æ®ï¼Œè¿˜è¦å‹ç¼©æ•°æ®ï¼Œæ‰€ä»¥è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ä½¿ç”¨å¤–è§‚æ¨¡å¼æˆ–APIå°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ã€‚</p>
<p>ä½¿ç”¨APIç½‘å…³ï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€çš„è‡ªå®šä¹‰APIç½‘å…³æœåŠ¡æ¥é¢å¯¹å¤šä¸ªä¸åŒå®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†è¿™ä¼šé€ æˆå·¨å¤§çš„é£é™©ï¼Œå› ä¸ºAPIç½‘å…³æœåŠ¡ä¼šéšç€å®¢æˆ·ç«¯åº”ç”¨éœ€æ±‚çš„å˜åŒ–è€Œå¢é•¿å¹¶æ¼”åŒ–ï¼Œæœ€ç»ˆå®ƒä¼šå› ä¸ºéœ€æ±‚çš„å˜åŒ–è€Œå˜å¾—è‡ƒè‚¿ï¼Œåœ¨æ•ˆæœä¸Šå°†ä¼šç­‰åŒäºå•ä½“åº”ç”¨æˆ–æœåŠ¡ã€‚å› æ­¤æˆ‘ä»¬æåŠ›æ¨èå°†APIç½‘å…³æ‹†åˆ†æˆå¤šä¸ªæœåŠ¡æˆ–è€…å°å‹çš„APIç½‘å…³ï¼Œæ¯ä¸ªAPIç½‘å…³éƒ½æœ‰è‡ªå·±çš„å½¢å¼ã€‚</p>
<p>æˆ‘ä»¬åº”è¯¥åˆ›å»ºå¤šä¸ªAPIç½‘å…³ï¼Œä»¥ä¾¿ä¸ºæ¯ç§å®¢æˆ·ç«¯éœ€æ±‚å®ç°ä¸åŒå¤–è§‚ï¼Œç•¥æœ‰å·®å¼‚çš„APIï¼Œç”šè‡³å¯èƒ½åŸºäºå®¢æˆ·ç«¯å±•ç°å½¢å¼æˆ–è®¾å¤‡æ¥å®ç°ç‰¹å®šçš„é€‚é…ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨åº•å±‚è°ƒç”¨å¤šä¸ªå†…éƒ¨çš„å¾®æœåŠ¡ã€‚</p>
<p>é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªAPIç½‘å…³å°†åº”ç”¨ä¸­æ‰€æœ‰å†…éƒ¨å¾®æœåŠ¡èšåˆåœ¨ä¸€èµ·ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜æ™ºã€‚å› æ­¤ï¼ŒAPIç½‘å…³åº”è¯¥åŸºäºä¸šåŠ¡è¾¹ç•Œæ¥æ‹†åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„ä¸€ä¸ªèšåˆå™¨ã€‚</p>
<p>åœ¨è¿™å•ç‹¬çš„ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿‡æ»¤å†…éƒ¨å¾®æœåŠ¡çš„APIï¼Œæˆ–è€…åœ¨å·²å‘å¸ƒçš„APIä¸Šæ·»åŠ æˆæƒã€‚</p>
<p>ç½‘å…³æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šå¦‚æœAPIç½‘å…³åŒ…å«è‡ªå®šä¹‰é€»è¾‘å’Œæ•°æ®é›†æˆï¼Œå°±ä¼šè¦æ±‚é¢å¤–çš„å¼€å‘æˆæœ¬å’Œæœªæ¥çš„ç»´æŠ¤æˆæœ¬ã€‚å¦‚æœAPIç½‘å…³åªä½¿ç”¨äº†å®‰å…¨æ€§ã€æ—¥å¿—ç®¡ç†å’Œç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›é¢å¤–çš„å¼€å‘å·¥ä½œä¾¿ä¸ä¼šå‘ç”Ÿã€‚</p>
<h5 id="å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡">å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡</h5>
<h6 id="é€šä¿¡ç±»å‹">é€šä¿¡ç±»å‹</h6>
<p>å®¢æˆ·ç«¯ä»£ç æˆ–æ¶ˆæ¯å‘é€è€…é€šå¸¸ä¸éœ€è¦ç­‰å¾…å“åº”ï¼Œåªè¦æŠŠæ¶ˆæ¯å‘é€ç»™RabbitMQé˜Ÿåˆ—æˆ–å…¶ä»–æ¶ˆæ¯ä»£ç†å³å¯ã€‚</p>
<p>ä¾‹å¦‚äº‹ä»¶é©±åŠ¨æ¶æ„é‡Œçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚</p>
<h6 id="å¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²»">å¼‚æ­¥æ•´åˆæ–¹å¼å¢å¼ºå¾®æœåŠ¡è‡ªæ²»</h6>
<p><strong>å¾®æœåŠ¡é—´çš„äº¤äº’è¶Šå°‘è¶Šå¥½ï¼Œæ ¸å¿ƒè§„åˆ™æ˜¯å¾®æœåŠ¡é—´çš„äº¤äº’éœ€è¦å¼‚æ­¥</strong>ï¼Œå¾®æœåŠ¡é—´é€šè¿‡å¼‚æ­¥ä¼ è¾“æ¥é€šä¿¡ï¼Œä½†ä¸è¦ä¾èµ–äºå…¶ä»–å†…éƒ¨å¾®æœåŠ¡ä½œä¸ºè‡ªå·±HTTPè¯·æ±‚/å“åº”çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ¯ä¸ªå¾®æœåŠ¡åº”ä»¥è‡ªæ²»ä»¥åŠå¯¹å®¢æˆ·ç«¯å¯ç”¨ä¸ºç›®æ ‡ï¼Œå³ä½¿ä½œä¸ºç«¯åˆ°ç«¯åº”ç”¨ä¸€éƒ¨åˆ†çš„å…¶ä»–æœåŠ¡å‘ç”Ÿæ•…éšœæˆ–ä¸ç¨³å®šä¹Ÿåº”å¦‚æ­¤ã€‚å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¾®æœåŠ¡è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ï¼ˆå¦‚å‘èµ·HTTPè¯·æ±‚æ¥æŸ¥è¯¢æ•°æ®ï¼‰ä¸ºå®¢æˆ·ç«¯åº”ç”¨æä¾›å“åº”ç»“æœï¼Œé‚£ä¹ˆè¿™æ ·çš„æ¶æ„åœ¨å…¶å®ƒå¾®æœåŠ¡å‘ç”Ÿæ•…éšœæ—¶å°±å˜å¾—ä¸ç¨³å®šã€‚</p>
<p>å¦‚æœæœ€åˆçš„å¾®æœåŠ¡éœ€è¦åŸæœ¬åœ¨åˆ«çš„å¾®æœåŠ¡é‡Œæ‹¥æœ‰çš„æ•°æ®ï¼Œä¸è¦ä¾é åŒæ­¥è¯·æ±‚æ¥è·å–æ•°æ®ã€‚è€Œæ˜¯é€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ï¼ˆé€šå¸¸é€šè¿‡é›†æˆäº‹ä»¶ï¼‰æ–¹å¼æ¥å¤åˆ¶æˆ–ä¼ è¾“è¿™äº›æ•°æ®åˆ°æœ€åˆçš„å¾®æœåŠ¡çš„æ•°æ®åº“ä¸­ã€‚</p>
<p>ä¸ºäº†è·å¾—æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åè®®åœ¨å¾®æœåŠ¡ä¹‹é—´å¼‚æ­¥åœ°é€šä¿¡æ¥è·å–æ•°æ®ã€‚é‡ç‚¹åœ¨äºï¼šä¸è¦åœ¨å¾®æœåŠ¡é—´åˆ›å»ºåŒæ­¥ä¾èµ–ã€‚</p>
<h5 id="å¼‚æ­¥æ¶ˆæ¯é€šä¿¡">å¼‚æ­¥æ¶ˆæ¯é€šä¿¡</h5>
<p>è·¨è¶Šå¤šä¸ªå¾®æœåŠ¡ä»¥åŠç›¸å…³é¢†åŸŸæ¨¡å‹ä¼ é€å˜åŒ–æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡è‡³å…³é‡è¦ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<p>å°½å¯èƒ½éµå¾ªå¦ä¸€ä¸ªè§„åˆ™ï¼šåªåœ¨å†…éƒ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œåªåœ¨ä»å®¢æˆ·ç«¯åº”ç”¨åˆ°å‰ç«¯æœåŠ¡ï¼ˆAPIç½‘å…³</p>
<p>åŠ ä¸Šç¬¬ä¸€çº§å¾®æœåŠ¡ï¼‰é—´ä½¿ç”¨åŒæ­¥é€šä¿¡ã€‚</p>
<p>å¤šæ¥å—è€…æ¶ˆæ¯é€šä¿¡</p>
<p>ä½¿ç”¨å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼›å¼‚æ­¥äº‹ä»¶é©±åŠ¨é€šä¿¡ï¼›</p>
<h5 id="åˆ›å»ºæ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡apiçš„ç‰ˆæœ¬å’Œå¥‘çº¦">åˆ›å»ºã€æ”¹è¿›å’Œæ§åˆ¶å¾®æœåŠ¡APIçš„ç‰ˆæœ¬å’Œå¥‘çº¦</h5>
<p><strong>å³ä¾¿åˆå§‹ç‰ˆæœ¬çš„å¥‘çº¦å·²ç»è€ƒè™‘çš„å¾ˆå‘¨å…¨äº†ï¼Œéšç€æ—¶é—´å‘å±•ï¼ŒæœåŠ¡çš„APIä¹Ÿå¯èƒ½éœ€è¦æ”¹å˜ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°¤å…¶æ˜¯è¢«å¤šä¸ªå®¢æˆ·ç«¯åº”ç”¨è°ƒç”¨çš„å…¬å…±APIï¼Œé€šå¸¸æ— æ³•å¼ºåˆ¶æ‰€æœ‰å®¢æˆ·ç«¯å‡çº§åˆ°æ–°çš„APIå¥‘çº¦ã€‚é€šå¸¸è¿™éœ€è¦å¢é‡éƒ¨ç½²æœåŠ¡çš„æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè¦è®©è€ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬æœåŠ¡å¥‘çº¦åŒæ—¶è¿è¡Œã€‚å› æ­¤ï¼ŒæœåŠ¡çš„ç‰ˆæœ¬ç­–ç•¥å¾ˆé‡è¦ã€‚</strong></p>
<p><strong>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡APIè¿›è¡Œä¸å…¼å®¹çš„å¤§ç‰ˆæœ¬æ›´æ–°ã€‚å› ä¸ºä¸èƒ½å¼ºåˆ¶å®¢æˆ·ç«¯åº”ç”¨æˆ–æœåŠ¡ç«‹åˆ»å‡çº§åˆ°æ–°ç‰ˆï¼ŒæœåŠ¡ç«¯å¿…é¡»æ”¯æŒè€ç‰ˆæœ¬ç»§ç»­è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½¿ç”¨åŸºäºHTTPçš„æœºåˆ¶ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠAPIçš„ç‰ˆæœ¬å·åµŒå…¥URLæˆ–HTTPå¤´éƒ¨ã€‚ç„¶åå¯ä»¥å†³å®šæ˜¯åœ¨ä¸€ä¸ªæœåŠ¡é‡ŒåŒæ—¶å®ç°ä¸¤ä¸ªç‰ˆæœ¬çš„APIï¼Œæˆ–æ˜¯éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¥å„è‡ªå¤„ç†ä¸€ä¸ªç‰ˆæœ¬çš„APIã€‚æ­¤æ—¶ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•æ˜¯é‡‡ç”¨ä¸­ä»‹è€…æ¨¡å¼å¦‚MediaRåº“å°†ä¸åŒç‰ˆæœ¬çš„å®ç°ç”¨ä¸åŒçš„å¤„ç†å™¨æ¥å¤„ç†ã€‚Hypermediaæ˜¯ç”¨æ¥è¿›è¡ŒæœåŠ¡ç‰ˆæœ¬åŒ–å’Œæ”¹è¿›çš„æœ€ä½³é€‰æ‹©ã€‚</strong></p>
<h5 id="å¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ">å¾®æœåŠ¡çš„å¯å‘ç°æ€§å’ŒæœåŠ¡æ³¨å†Œ</h5>
<p>ä½¿ç”¨Marathonå’ŒKuberneteså’ŒDC/Oså¤„ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œæ’¤é”€ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯Service Fabricï¼Œå®ƒä¹Ÿæä¾›äº†å¼€ç®±æœºç”¨çš„å‘½åæœåŠ¡æ¥å®ç°æœåŠ¡æ³¨å†Œã€‚</p>
<h5 id="åˆ›å»ºåŸºäºå¤šä¸ªå¾®æœåŠ¡ç»„åˆç•Œé¢å…¶ä¸­åŒ…æ‹¬ç”±å¾®æœåŠ¡ç”Ÿæˆçš„å¯è§†åŒ–uiå¤–è§‚å’Œå¸ƒå±€">åˆ›å»ºåŸºäºå¤šä¸ªå¾®æœåŠ¡ç»„åˆç•Œé¢ï¼Œå…¶ä¸­åŒ…æ‹¬ç”±å¾®æœåŠ¡ç”Ÿæˆçš„å¯è§†åŒ–UIå¤–è§‚å’Œå¸ƒå±€</h5>
<p>å¾®æœåŠ¡æ¶æ„é€šå¸¸å§‹äºæœåŠ¡ç«¯çš„æ•°æ®å¤„ç†å’Œé€»è¾‘ã€‚ä½†ä¸€ç§æ›´å…ˆè¿›çš„æ–¹å¼æ˜¯è®¾è®¡åŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç•Œé¢ï¼Œè¿™ä»¥ä¸ºè¿™æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªç”±å¤šä¸ªå¾®æœåŠ¡ç”Ÿæˆçš„ç»„åˆç•Œé¢ï¼Œè€Œä¸æ˜¯ç”±ä¸€ä¸ªå•ä½“å®¢æˆ·ç«¯åº”ç”¨æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„å¾®æœåŠ¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼çš„å¾®æœåŠ¡èƒ½å¤Ÿå®Œæ•´åœ°åŒ…æ‹¬é€»è¾‘å’Œå¯è§†åŒ–å±•ç°ã€‚</p>
<p>å•ä½“å®¢æˆ·å•è°ƒç”¨å¤šä¸ªå¾®æœåŠ¡çš„è¿‡ç¨‹ï¼Œè¿™äº›å¾®æœåŠ¡ä»…ä»…å…³æ³¨é€»è¾‘å’Œæ•°æ®ï¼Œè€Œä¸å…³æ³¨ç•Œé¢å±•ç°ã€‚</p>
<h5 id="å¾®æœåŠ¡çš„é€‚åº”æ€§å’Œé«˜å¯ç”¨æ€§">å¾®æœåŠ¡çš„é€‚åº”æ€§å’Œé«˜å¯ç”¨æ€§</h5>
<p>æ„å¤–æ•…éšœçš„å¤„ç†æ˜¯ä¸ªå¤§éš¾é¢˜ã€‚äº‘ç«¯ç³»ç»Ÿå¿…é¡»èƒ½å¤Ÿæ¥å—æ•…éšœå¹¶å°è¯•è‡ªåŠ¨ä»æ•…éšœä¸­æ¢å¤ã€‚é€šè¿‡ç­–ç•¥é‡æ–°å‘é€æ¶ˆæ¯æˆ–é‡æ–°å‘èµ·è¯·æ±‚ï¼Œä½¿ç”¨è¯¸å¦‚Pollyåº“çš„æ–­è·¯å™¨ã€‚</p>
<h5 id="å¾®æœåŠ¡çš„è¿è¡ŒçŠ¶å†µç®¡ç†å’Œè¯Šæ–­">å¾®æœåŠ¡çš„è¿è¡ŒçŠ¶å†µç®¡ç†å’Œè¯Šæ–­</h5>
<p>å¾®æœåŠ¡å¿…é¡»æŠ¥å‘Šä»–çš„è¿è¡ŒçŠ¶æ€å’Œè¯Šæ–­ä¿¡æ¯ï¼Œé‡‡ç”¨åŒæ„çš„ç»Ÿä¸€æ—¥å¿—æ ¼å¼ã€‚ä½¿ç”¨healthchecksåº“ï¼Œä»¥ä¾¿å¾®æœåŠ¡èƒ½å‘ç›‘æ§æœåŠ¡æŠ¥å‘ŠçŠ¶æ€æ¥æ‰§è¡Œåˆé€‚çš„æ“ä½œã€‚</p>
<h5 id="ç¼–æ’å¼•æ“ç®¡ç†è¿è¡ŒçŠ¶å†µå’Œè¯Šæ–­ä¿¡æ¯">ç¼–æ’å¼•æ“ç®¡ç†è¿è¡ŒçŠ¶å†µå’Œè¯Šæ–­ä¿¡æ¯</h5>
<p>ç¨³å®šçš„åä½œç³»ç»Ÿï¼Œä¸ä»…è¦åˆ›å»ºå¾®æœåŠ¡æ¶æ„ï¼Œè¿˜éœ€è¦å…·å¤‡é«˜å¯ç”¨æ€§ã€å¯å¯»å€èƒ½åŠ›ã€é€‚åº”æ€§ã€è¿è¡ŒçŠ¶å†µå’Œè¯Šæ–­æœºåˆ¶ç­‰ã€‚</p>
<h5 id="ç¼–æ’é«˜æ‰©å±•å’Œé«˜å¯ç”¨çš„å¤šå®¹å™¨å¾®æœåŠ¡">ç¼–æ’é«˜æ‰©å±•å’Œé«˜å¯ç”¨çš„å¤šå®¹å™¨å¾®æœåŠ¡</h5>
<p>å¿…é¡»ä½¿ç”¨ç¼–æ’å¼•æ“ã€‚ç»„åˆåº”ç”¨çš„è´Ÿè½½å‡è¡¡ã€è·¯ç”±å’Œç¼–æ’ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½æŒ‰éœ€è‡ªåŠ¨å¯åŠ¨ã€æŒ‚èµ·æˆ–å…³é—­å®¹å™¨çš„ç®¡ç†å¹³å°ï¼Œç†æƒ³æƒ…å†µä¸‹è¿˜è¦èƒ½æ§åˆ¶èµ„æºçš„è®¿é—®ï¼ˆä¾‹å¦‚ç½‘ç»œå’Œæ•°æ®å­˜å‚¨ï¼‰ã€‚</p>
<p>é›†ç¾¤å’Œç¼–æ’å¼•æ“ï¼›è°ƒåº¦å™¨ï¼›Docker Swarm</p>
<p><figure 
	>
	<a href="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116212838790.png" >
		<img src="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116212838790.png"
			
			
			
			loading="lazy"
			alt="image-20201116212838790">
	</a>
	
	<figcaption>image-20201116212838790</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116212959369.png" >
		<img src="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116212959369.png"
			
			
			
			loading="lazy"
			alt="image-20201116212959369">
	</a>
	
	<figcaption>image-20201116212959369</figcaption>
	
</figure></p>
<h5 id="ç¬¬å…­ç« ">ç¬¬å…­ç« </h5>
<p><strong>åº”è¯¥é€šè¿‡åŠŸèƒ½æ¥åˆ’åˆ†å¾®æœåŠ¡ï¼šå¾®æœåŠ¡åº”è¯¥å½¼æ­¤ç‹¬ç«‹ï¼Œå¦‚æœä¸èƒ½äº¤ä»˜ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºåŠŸèƒ½å—ï¼Œé‚£ä¹ˆåˆ’åˆ†åªèƒ½å¢åŠ å¤æ‚æ€§ã€‚</strong></p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªå•ä½“åº”ç”¨ç¨‹åºï¼Œä»¥åå†åˆ’åˆ†æˆè‹¥å¹²åŠŸèƒ½ï¼Œå¼€å‘å¹¶éƒ¨ç½²æˆå¾®æœåŠ¡ã€‚</p>
<p>æŠŠåº”ç”¨ç¨‹åºåˆ’åˆ†æˆå¤šä¸ªç¦»æ•£çš„è¿›ç¨‹è¿˜ä¼šå¸¦æ¥å¼€é”€æ–¹é¢çš„é—®é¢˜ã€‚è€ŒæŠŠåŠŸèƒ½åˆ’åˆ†æˆå¤šä¸ªä¸åŒè¿›ç¨‹ä¼šè¿›ä¸€æ­¥å¢åŠ å¤æ‚æ€§ï¼Œé€šä¿¡åè®®ä¹Ÿä¼šå˜å¾—æ›´å¤æ‚ï¼Œå¿…é¡»åœ¨æœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥é€šä¿¡ï¼Œäº‹ä»¶æ€»çº¿å¤„ç†ã€å¼¹æ€§æ¶ˆæ¯å’Œé‡è¯•ï¼Œæœ€ç»ˆä¸€è‡´æ€§ç­‰ã€‚</p>
<h5 id="dockeræ”¯æŒ">Dockeræ”¯æŒ</h5>
<p>å³é”®é¡¹ç›®ï¼Œç‚¹å‡»Addï¼Œç„¶åé€‰æ‹©docker supportå³å¯ã€‚è¿™ä¸ªæ¨¡ç‰ˆä¼šç»™é¡¹ç›®æ·»åŠ ä¸€ä¸ªdockerfileï¼ŒåŒæ—¶è¿˜ä¼šæ·»åŠ ä¸€ä¸ªæ–°çš„docker-composeé¡¹ç›®ï¼Œå®ƒæä¾›äº†åˆå§‹çš„docker-compose.ymlæ–‡ä»¶ã€‚</p>
<h5 id="ç¬¬ä¸ƒç« -å°†ä¼ ç»Ÿçš„å•ä½“net-frameworkåº”ç”¨ç¨‹åºè¿ç§»åˆ°windowså®¹å™¨ä¸­">ç¬¬ä¸ƒç«  å°†ä¼ ç»Ÿçš„å•ä½“.NET Frameworkåº”ç”¨ç¨‹åºè¿ç§»åˆ°Windowså®¹å™¨ä¸­</h5>
<h5 id="å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ">å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ</h5>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›åº”ç”¨ç¨‹åºä¾èµ–çš„å¾®æœåŠ¡ä¹Ÿè¿è¡Œåœ¨åŒä¸€å°Dockerä¸»æœºæˆ–Swarmä¸Šï¼Œè¿™æ ·å¯ä»¥è®©å¼€å‘å·¥ä½œå˜å¾—æ›´å®¹æ˜“ä¸€äº›ï¼ŒåŒæ—¶å¯ä»¥é™ä½ç½‘ç»œå»¶è¿Ÿã€‚åœ¨è¿™æ ·çš„é…ç½®ä¸­ï¼Œå¾®æœåŠ¡å®ä¾‹ä¸ç”¨æˆ·æŒä¹…åŒ–æ•°æ®å­˜å‚¨çš„é«˜å¯ç”¨æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æˆæœ¬æ˜¯å”¯ä¸€çš„é€šä¿¡æˆæœ¬ã€‚</p>
<h5 id="ç¬¬å…«ç« ">ç¬¬å…«ç« </h5>
<h5 id="åº”ç”¨è§„èŒƒ">åº”ç”¨è§„èŒƒ</h5>
<p>è¿”å›HTML /JSON / XMLå“åº”ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚åº”ç”¨ç¨‹åºæ”¯æŒå„ç§å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬æ¡Œé¢æµè§ˆå™¨ã€webåº”ç”¨ç¨‹åºã€ç§»åŠ¨webåº”ç”¨ç¨‹åºå’ŒåŸç”Ÿç§»åŠ¨åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºå¯èƒ½ä¼šæš´éœ²APIä¾›ç¬¬ä¸‰æ–¹ä½¿ç”¨ï¼Œä»–è¿˜èƒ½å¼‚æ­¥é›†æˆå¾®æœåŠ¡æˆ–å¤–éƒ¨åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿åœ¨å±€éƒ¨æ•…éšœçš„æƒ…å†µä¸‹è®©å¾®æœåŠ¡é¡ºåˆ©æ¢å¤ã€‚</p>
<p>åº”ç”¨ç¨‹åºç”±ä¸‹åˆ—ç±»å‹çš„ç»„ä»¶ç»„æˆï¼š</p>
<ul>
<li>å±•ç¤ºç»„ä»¶</li>
<li>åº”ç”¨ç¨‹åºä¸šåŠ¡é€»è¾‘</li>
<li>æ•°æ®åº“è®¿é—®é€»è¾‘</li>
<li>åº”ç”¨é›†æˆé€»è¾‘ ä¸»è¦åŸºäºæ¶ˆæ¯ä»£ç†çš„æ¶ˆæ¯é€šé“</li>
</ul>
<p>åº”ç”¨ç¨‹åºéœ€è¦å…·å¤‡è¾ƒé«˜çš„å¯æ‰©å±•æ€§ï¼ŒåŒæ—¶å…è®¸å…¶å‚ç›´å­ç³»ç»Ÿè‡ªåŠ¨æ‰©å±•ï¼Œå¿…é¡»èƒ½å¤Ÿéƒ¨ç½²åœ¨å¤šç§åŸºç¡€è®¾æ–½ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”æœ€å¥½åº”è¯¥æ˜¯è·¨å¹³å°çš„ã€‚</p>
<h5 id="é€‰æ‹©æ¶æ„">é€‰æ‹©æ¶æ„</h5>
<p>å°½å¯èƒ½ä½¿ç”¨å¼‚æ­¥æ–¹å¼</p>
<p>å¾®æœåŠ¡å¼€å‘å’Œéƒ¨ç½²ä¸ºå½¼æ­¤ç‹¬ç«‹çš„å®¹å™¨ã€‚è¿™æ„å‘³ç€å¼€å‘å›¢é˜Ÿå¯ä»¥åœ¨ä¸å½±å“å…¶ä»–å­ç³»ç»Ÿçš„æƒ…å†µä¸‹å¼€å‘å’Œéƒ¨ç½²æŸä¸ªå¾®æœåŠ¡ã€‚</p>
<p>æ¯ä¸ªå¾®æœåŠ¡æœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œå¹¶ä¸å…¶ä»–å¾®æœåŠ¡å®Œå…¨è§£è€¦ã€‚å¿…è¦æ—¶ï¼Œä½¿ç”¨åº”ç”¨ç¨‹åºçº§é›†æˆäº‹ä»¶ï¼ˆé€šè¿‡é€»è¾‘äº‹ä»¶æ€»çº¿ï¼‰ï¼Œå¦‚å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼ˆCQRSï¼‰å®ç°æ¥è‡ªä¸åŒå¾®æœåŠ¡çš„æ•°æ®åº“é—´ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œä¸šåŠ¡çº¦æŸå¿…é¡»åŒ…å«å¤šä¸ªå¾®æœåŠ¡å’Œç›¸å…³æ•°æ®åº“ä¹‹é—´çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<p><figure 
	>
	<a href="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116215344205.png" >
		<img src="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116215344205.png"
			
			
			
			loading="lazy"
			alt="image-20201116215344205">
	</a>
	
	<figcaption>image-20201116215344205</figcaption>
	
</figure></p>
<h5 id="é€šä¿¡æ¶æ„">é€šä¿¡æ¶æ„</h5>
<ul>
<li>å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡çš„ç›´æ¥é€šä¿¡</li>
<li>å¼‚æ­¥äº‹ä»¶é€šä¿¡</li>
</ul>
<p>å¦‚æœéœ€è¦ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯ä½¿ç”¨ä¸åŒTCPç«¯å£ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä¸­ï¼Œè¯¥URLå°†æ˜ å°„åˆ°å¾®æœåŠ¡çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œè´Ÿè½½å‡è¡¡å™¨å°†è¯·æ±‚åˆ†å‘åˆ°å¯ç”¨çš„å¾®æœåŠ¡å®ä¾‹ã€‚</p>
<p>ä¸æ‰“ç®—åˆ›å»ºå¯èƒ½å½±å“å¾®æœåŠ¡è‡ªåŠ¨éƒ¨ç½²çš„å•ä½“APIç½‘å…³ï¼Œä½†å¦‚æœè¦è®¾è®¡åŒ…å«æ•°åä¸ªå¾®æœåŠ¡çš„å¤§å‹å¾®æœåŠ¡åº”ç”¨ï¼Œå¼ºçƒˆå°†ä»¥è€ƒè™‘APIç½‘å…³æ¨¡å¼ã€‚</p>
<h5 id="æ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®ä¸»æƒ">æ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®ä¸»æƒ</h5>
<p>æ¯ä¸ªå¾®æœåŠ¡æ‹¥æœ‰è‡ªå·±çš„æ•°æ®åº“æˆ–æ•°æ®æºï¼Œæ¯ä¸ªæ•°æ®åº“æˆ–è€…æ•°æ®æºä¼šéƒ¨ç½²ä¸€ä¸ªä¸ºå•ç‹¬çš„å®¹å™¨ï¼Œè¿™ç§è®¾è®¡åªæ˜¯ä¸ºäº†è®©å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾è·å–å’Œå…‹éš†githubä»£ç ï¼Œä½¿ç”¨æ•°æ®æºå®¹å™¨éƒ½å¯ä»¥è®©å¼€å‘äººå‘˜åœ¨å‡ åˆ†é’Ÿå†…æ„å»ºå¹¶éƒ¨ç½²ï¼Œæ•°æ®åº“åº”è¯¥æ˜¯åŸºäºäº‘ç«¯æ•°æ®åº“æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯å®¹å™¨ä¸­ã€‚</p>
<h5 id="åŸºäºå¾®æœåŠ¡çš„è§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹">åŸºäºå¾®æœåŠ¡çš„è§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹</h5>
<ul>
<li>æ¯ä¸ªå¾®æœåŠ¡ç›¸å¯¹è¾ƒå°-æ˜“äºç®¡ç†å’Œæ”¹è¿›</li>
<li>å¯ä»¥æ‰©å±•åº”ç”¨ç¨‹åºçš„å„ä¸ªåŒºåŸŸ</li>
<li>å¯ä»¥å°†å¤šä¸ªå›¢é˜Ÿé—´çš„å¼€å‘å·¥ä½œåˆ†å¼€</li>
<li>é—®é¢˜çš„éš”ç¦»ç¨‹åº¦æ›´é«˜</li>
<li>æ›´æ–¹ä¾¿ä½¿ç”¨æœ€æ–°æŠ€æœ¯</li>
</ul>
<h5 id="å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹">å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹</h5>
<ul>
<li>åˆ†å¸ƒå¼åº”ç”¨ å¼€å‘äººå‘˜å¿…é¡»ä½¿ç”¨è¯¸å¦‚httpæˆ–amqpç­‰åè®®å®ç°å†…éƒ¨æœåŠ¡é€šä¿¡ï¼Œè¿™å¢åŠ äº†æµ‹è¯•å’Œå¼‚å¸¸å¤„ç†çš„å¤æ‚æ€§ï¼Œè¿˜å¢åŠ äº†ç³»ç»Ÿçš„å»¶è¿Ÿ</li>
<li>éƒ¨ç½²çš„å¤æ‚æ€§ éœ€è¦èƒ½ä¸ºæ¯ä¸ªæœåŠ¡åˆ›å»ºå¤šä¸ªå®ä¾‹</li>
<li>åŸå­äº‹åŠ¡ å¤šä¸ªå¾®æœåŠ¡é—´çš„åŸå­äº‹åŠ¡é€šå¸¸æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œä¸šåŠ¡éœ€æ±‚å¿…é¡»åŒ…å«å¤šä¸ªå¾®æœåŠ¡é—´çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚</li>
<li>å…¨å±€èµ„æºéœ€æ±‚å¢åŠ </li>
<li>å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡çš„ç›´è¿é€šä¿¡é—®é¢˜ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦é€šè¿‡å¤§é‡å•ç‹¬çš„è¯·æ±‚æ¥ç»„æˆç”¨æˆ·ç•Œé¢ï¼Œè¿™åœ¨äº’è”ç½‘ä¸Šå¯èƒ½æ˜¯ä½æ•ˆçš„ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå¯¹åç«¯ç³»ç»Ÿçš„è¯·æ±‚åº”å°½å¯èƒ½æœ€å°‘ã€‚å¾®æœåŠ¡å¯èƒ½ä½¿ç”¨äº†éæ ‡çš„Webåè®®æˆ–è€…äºŒè¿›åˆ¶åè®®æˆ–è€…AMQPæ¶ˆæ¯ï¼Œè¿™äº›åè®®é€šå¸¸ä¼šè¢«é˜²ç«å¢™å±è”½ï¼Œå› æ­¤æœ€å¥½åªåœ¨å†…éƒ¨ä½¿ç”¨ã€‚å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨å¤šä¸ªç»†ç²’åº¦çš„APIç½‘å…³ã€‚</li>
<li>åˆ†å‰²å¾®æœåŠ¡ æˆ‘ä»¬éœ€è¦ç¡®å®šåº”ç”¨ç¨‹åºä¸å…¶ä»–åŒºåŸŸè§£è€¦å¹¶å…·æœ‰ä½æ•°é‡ç¡¬ä¾èµ–çš„åŒºåŸŸã€‚è¿™ä¸åº”ç”¨ä¸ç±»çš„å•ä¸€èŒè´£åŸåˆ™ç±»ä¼¼ï¼Œå³ï¼šåªèƒ½å¤„äºä¸€ä¸ªåŸå› æ›´æ”¹æŸä¸ªç‰¹å®šçš„ç±»ã€‚æœ€é‡è¦çš„æ˜¯ï¼šå¾®æœåŠ¡å¿…é¡»å®Œå…¨è‡ªæ²»ã€ç«¯åˆ°ç«¯ï¼Œæœ‰è‡ªå·±çš„æ•°æ®æºã€‚</li>
</ul>
<h5 id="å¤–éƒ¨ä¸å†…éƒ¨æ¶æ„å’Œè®¾è®¡æ¨¡å¼">å¤–éƒ¨ä¸å†…éƒ¨æ¶æ„å’Œè®¾è®¡æ¨¡å¼</h5>
<p><strong>æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥åŸºäºä¸åŒè®¾è®¡æ¨¡å¼å…·æœ‰ä¸åŒå†…éƒ¨æ¶æ„ã€‚å¹¶éæ‰€æœ‰å¾®æœåŠ¡éƒ½åº”ä½¿ç”¨å…ˆè¿›çš„DDDæ¨¡å¼æ¥å®ç°ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´è¿‡åº¦è®¾è®¡ã€‚</strong></p>
<h5 id="æ–°ä¸–ç•Œå¤šç§æ¶æ„æ¨¡å¼å’Œå¤šè¯­è¨€å¾®æœåŠ¡">æ–°ä¸–ç•Œï¼šå¤šç§æ¶æ„æ¨¡å¼å’Œå¤šè¯­è¨€å¾®æœåŠ¡</h5>
<p>è½¯ä»¶æ¶æ„å¸ˆå’Œå¼€å‘äººå‘˜ä¼šä½¿ç”¨ä¸åŒçš„æ¶æ„æ¨¡å¼ï¼Œä¾‹å¦‚æ··åˆæ¶æ„é£æ ¼å’Œæ¶æ„æ¨¡å¼ï¼š</p>
<ul>
<li>ç®€å•çš„CRUDï¼Œå•å±‚</li>
<li>ä¼ ç»ŸNå±‚</li>
<li>é¢†åŸŸé©±åŠ¨è®¾è®¡Nå±‚</li>
<li>å¹²å‡€æ¶æ„</li>
<li>å‘½ä»¤å’ŒæŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼ˆCQRSï¼‰</li>
<li>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰</li>
</ul>
<p>é‡ç‚¹åœ¨äºï¼šæ²¡æœ‰ä»»ä½•ä¸€ç§æ¶æ„æ¨¡å¼æˆ–é£æ ¼ï¼Œä»¥åŠä»»ä½•ä¸€ç§ç‰¹å®šæŠ€æœ¯ï¼Œèƒ½å¤Ÿé€‚ç”¨äºæ‰€æœ‰æƒ…å†µã€‚</p>
<p>å¯ä»¥ç”¨ä¸åŒæ–¹å¼å®ç°æ¯ä¸ªå¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯èƒ½å…·æœ‰ä¸åŒæ¶æ„æ¨¡å¼ï¼Œå¹¶æ ¹æ®åº”ç”¨ç¨‹åºçš„æ€§è´¨ã€ä¸šåŠ¡éœ€æ±‚å’Œä¼˜å…ˆçº§ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’Œæ•°æ®åº“ã€‚</p>
<p><figure 
	>
	<a href="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116221753802.png" >
		<img src="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201116221753802.png"
			
			
			
			loading="lazy"
			alt="image-20201116221753802">
	</a>
	
	<figcaption>image-20201116221753802</figcaption>
	
</figure></p>
<p>å¯ä»¥ç”¨ä¸åŒæ–¹å¼å®ç°æ¯ä¸ªå¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯èƒ½å…·æœ‰ä¸åŒæ¶æ„æ¨¡å¼ï¼Œå¹¶æ ¹æ®åº”ç”¨ç¨‹åºçš„æ€§è´¨ã€ä¸šåŠ¡éœ€æ±‚å’Œä¼˜å…ˆçº§ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’Œæ•°æ®åº“ã€‚å› ä¸ºæ¯ä¸ªå­ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡è¾¹ç•Œå’Œè¦æ±‚é€šå¸¸æ˜¯ä¸åŒçš„ã€‚</p>
<p><strong>å¯¹äºç®€å•çš„CRUDç»´æŠ¤åº”ç”¨ç¨‹åºï¼Œè®¾è®¡å’Œå®ç°DDDæ¨¡å¼å¯èƒ½æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚ä½†å¯¹äºæ ¸å¿ƒé¢†åŸŸæˆ–æ ¸å¿ƒä¸šåŠ¡ï¼Œå¯èƒ½éœ€è¦åº”ç”¨æ›´å…ˆè¿›çš„æ¨¡å¼æ¥åº”å¯¹ä¸šåŠ¡è§„åˆ™ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡å¤æ‚æ€§ã€‚</strong></p>
<p><strong>æˆ‘ä»¬ä¸å¯èƒ½ç”¨â€œä¸€ç§æ¶æ„æ¨¡å¼æ¥è§£å†³æ‰€æœ‰é—®é¢˜â€ã€‚æ ¹æ®ä¼˜å…ˆçº§ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªå¾®æœåŠ¡é€‰æ‹©ä¸åŒæ–¹æ³•ã€‚</strong></p>
<h5 id="aspnet-coreå’Œweb-apiæ§åˆ¶å™¨ä¸­çš„ä¾èµ–æ³¨å…¥">ASP.NET Coreå’ŒWeb APIæ§åˆ¶å™¨ä¸­çš„ä¾èµ–æ³¨å…¥</h5>
<p>åœ¨ASP.NET Coreä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€ç®±å³ç”¨çš„ä¾èµ–æ³¨å…¥DIã€‚æ­¤æ—¶ä¸éœ€è¦è®¾ç½®ç¬¬ä¸‰æ–¹æ§åˆ¶åè½¬å®¹å™¨IOCï¼Œä½†å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°†é¦–é€‰Iocå®¹å™¨æ’å…¥åˆ°ASP.NET CoreåŸºç¡€æ¶æ„ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€å¯ä»¥é€šè¿‡æ§åˆ¶å™¨çš„æ„é€ å‡½æ•°ç›´æ¥è¯¸å¦‚æ‰€éœ€çš„EF DBContextæˆ–å…¶ä»–ä»“å‚¨åº“ã€‚</p>
<p>å°†DbContextç±»æ³¨å†Œåˆ°æœåŠ¡çš„Iocå®¹å™¨ä¸­ï¼Œé€šå¸¸å¯ä»¥åœ¨startupç±»ä¸­é€šè¿‡configureservicesæ–¹æ³•è°ƒç”¨service.addDbcontext<!-- raw HTML omitted -->ï¼ˆï¼‰æ–¹æ³•æ‰§è¡Œæ­¤æ“ä½œã€‚</p>
<h5 id="åœ¨aspnet-web-apiä¸­å®ç°ç‰ˆæœ¬æ§åˆ¶">åœ¨ASP.NET Web APIä¸­å®ç°ç‰ˆæœ¬æ§åˆ¶</h5>
<p><strong>æ›´æ–°webapiä»¥å¤„ç†æ–°çš„éœ€æ±‚æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å¿…é¡»è€ƒè™‘è¿™ç§æ›´æ”¹å¯¹è°ƒç”¨web apiçš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºäº§ç”Ÿçš„å½±å“ï¼Œè™½ç„¶è®¾è®¡å’Œå®ç°web apiçš„å¼€å‘äººå‘˜å¯ä»¥å®Œå…¨æ§åˆ¶è¯¥apiï¼Œä½†å¼€å‘äººå‘˜å¯¹å¯èƒ½ç”±ç¬¬ä¸‰æ–¹ç»„ç»‡è¿œç¨‹æ„å»ºçš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ²¡æœ‰ç›¸åŒç¨‹åºçš„æ§åˆ¶æƒã€‚</strong></p>
<p><strong>ç‰ˆæœ¬æ§åˆ¶ä½¿Web apièƒ½å¤ŸæŒ‡ç¤ºå…¶æš´éœ²çš„åŠŸèƒ½å’Œèµ„æºã€‚ç„¶åï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¾¿å¯æƒ³ç‰¹å®šç‰ˆæœ¬çš„åŠŸèƒ½æˆ–èµ„æºæäº¤è¯·æ±‚ã€‚å®ç°ç‰ˆæœ¬æ§åˆ¶æœ‰å‡ ç§æ–¹æ³•ï¼š</strong></p>
<ul>
<li><strong>URiç‰ˆæœ¬æ§åˆ¶</strong></li>
<li><strong>æŸ¥è¯¢å­—ç¬¦ä¸²ç‰ˆæœ¬æ§åˆ¶</strong></li>
<li><strong>Headerç‰ˆæœ¬</strong></li>
</ul>
<p><strong>å› ä¸ºURLç‰ˆæœ¬æ˜¯æœ€ç®€å•æ˜ç¡®çš„ï¼Œä½¿ç”¨URIç‰ˆæœ¬æ§åˆ¶çš„è¯ï¼Œå¯ä»¥å‘æ¯ä¸ªèµ„æºçš„URIæ·»åŠ ä¸€ä¸ªç‰ˆæœ¬å·ã€‚ç°æœ‰URIåº”è¯¥å‘ä»¥å‰ä¸€æ ·ç»§ç»­è¿è¡Œï¼Œè¿”å›ä¸è¯·æ±‚çš„ç‰ˆæœ¬ç›¸åŒ¹é…çš„æ¨¡å¼çš„èµ„æºã€‚</strong></p>
<p><strong>å¯ä»¥ä½¿ç”¨web apiä¸­çš„Routeå±æ€§æ¥è®¾ç½®ç‰ˆæœ¬[Route(&ldquo;api/v1/[controller]&quot;)]</strong></p>
<h5 id="åœ¨å¾®æœåŠ¡é›†æˆäº‹ä»¶ä¹‹é—´å®ç°åŸºäºäº‹ä»¶çš„é€šä¿¡">åœ¨å¾®æœåŠ¡ï¼ˆé›†æˆäº‹ä»¶ï¼‰ä¹‹é—´å®ç°åŸºäºäº‹ä»¶çš„é€šä¿¡</h5>
<p>äº‹ä»¶æ€»çº¿å¯ä»¥è®¾è®¡ä¸ºä¸€ä¸ªæ¥å£ï¼ŒåŒ…æ‹¬è®¢é˜…å’Œå–æ¶ˆè®¢é˜…äº‹ä»¶ä»¥åŠå‘å¸ƒäº‹ä»¶æ‰€éœ€çš„APIï¼Œè¿˜å¯ä»¥å…·æœ‰åŸºäºä»»ä½•è¿›ç¨‹é—´æˆ–æ¶ˆæ¯é€šä¿¡çš„ä¸€ä¸ªæˆ–å¤šä¸ªå®ç°ï¼Œå¦‚æ¶ˆæ¯é˜Ÿåˆ—æˆ–æ”¯æŒå¼‚æ­¥é€šä¿¡ä»¥åŠå‘å¸ƒ/è®¢é˜…æ¨¡å‹çš„æœåŠ¡æ€»çº¿ã€‚</p>
<p>ä½¿ç”¨äº‹ä»¶æ¥å®ç°è·¨æœåŠ¡çš„ä¸šåŠ¡äº‹åŠ¡ï¼Œå€Ÿæ­¤åœ¨æœåŠ¡é—´ä¿æŒæœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<p>ä¸€æ—¦è¦å†³å®šè¿›è¡Œå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨çš„é€šä¿¡ï¼Œåº”è¯¥é€‰æ‹©æœ€ç¬¦åˆç”Ÿäº§ç¯å¢ƒéœ€æ±‚çš„æœåŠ¡æ€»çº¿äº§å“ã€‚</p>
<h5 id="é›†æˆäº‹ä»¶">é›†æˆäº‹ä»¶</h5>
<p>ä¸å»ºè®®åœ¨å¤šä¸ªå¾®æœåŠ¡é—´å…±äº«ä¸€ä¸ªé€šç”¨çš„é›†æˆäº‹ä»¶åº“ï¼Œè¿™æ ·åšä¼šå°†è¿™äº›å¾®æœåŠ¡ä¸å•ä¸ªäº‹ä»¶å®šä¹‰æ•°æ®åº“ç›¸ç»“åˆã€‚ä¸è¿™æ ·åšçš„åŸå› ä¸ä¸å»ºè®®åœ¨å¤šä¸ªå¾®æœåŠ¡ä¸­å…±äº«é€šç”¨çš„é¢†åŸŸæ¨¡å‹ç›¸åŒï¼šå¾®æœåŠ¡å¿…é¡»å®Œå…¨è‡ªæ²»ã€‚</p>
<p>åœ¨å¾®æœåŠ¡ä¸­å…±äº«çš„åº”è¯¥æ˜¯ï¼šæœ€ç»ˆçš„åº”ç”¨ç¨‹åºå—ï¼Œnugetç»„ä»¶å…±äº«çš„å·¥å…·åº“ï¼Œä¾‹å¦‚jsonåºåˆ—åŒ–ç¨‹åºã€‚</p>
<h5 id="åœ¨å‘å¸ƒåˆ°äº‹ä»¶æ€»çº¿æ—¶è®¾è®¡åŸå­æ€§å’Œå¼¹æ€§">åœ¨å‘å¸ƒåˆ°äº‹ä»¶æ€»çº¿æ—¶è®¾è®¡åŸå­æ€§å’Œå¼¹æ€§</h5>
<p>è¿™ä¸¤ä¸ªæ“ä½œä¸€å®šè¦ä»¥åŸå­æ€§çš„æ–¹å¼æ‰§è¡Œï¼ŒCAPå®šç†ä»»åŠ¡ï¼Œæˆ‘ä»¬æ— æ³•æ„å»ºåŒæ—¶æ»¡è¶³æŒç»­å¯ç”¨ã€å¼ºä¸€è‡´ï¼Œå¹¶ä¸”èƒ½å®¹å¿ä»»ä½•åˆ†åŒºè¿™ä¸‰ä¸ªç‰¹å¾çš„æ•°æ®åº“ï¼Œæ­¤æ—¶åªèƒ½ä»è¿™ä¸‰ä¸ªç‰¹å¾ä¸­é€‰æ‹©ä¸¤ä¸ªæ¥å®ç°ã€‚</p>
<p>å¦‚æœæœåŠ¡åœ¨æ•°æ®åº“æ›´æ–°åå´©æºƒï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹æ–¹å¼æ¥å¤„ç†æ­¤é—®é¢˜ï¼š</p>
<ul>
<li>ä½¿ç”¨å®Œæ•´çš„äº‹ä»¶æº¯æºæ¨¡å¼</li>
<li>ä½¿ç”¨äº‹åŠ¡æ—¥å¿—æŒ–æ˜</li>
<li>ä½¿ç”¨å‘ä»¶ç®±æ¨¡å¼</li>
</ul>
<p>å¯èƒ½æ— æ³•å®Œå…¨å®ç°å®Œæ•´çš„ESç³»ç»Ÿï¼ŒESæ„å‘³ç€åªå°†é¢†åŸŸæ—¶é—´å­˜å‚¨åœ¨äº‹åŠ¡æ•°æ®åº“ä¸­ï¼Œè€Œéå­˜å‚¨å½“å‰çš„çŠ¶æ€æ•°æ®ã€‚ç„¶è€Œå®æ–½å®Œæ•´çš„ESç³»ç»Ÿéœ€è¦é‡æ–°æ„å»ºç³»ç»Ÿçš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œå¹¶å¼•å…¥å¾ˆå¤šå…¶ä»–å¤æ‚æ€§å’Œè¦æ±‚ã€‚ä½†å¹¶éæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œé™¤éå·²ç»æº¯æºªäº‹ä»¶æº¯æºæ¨¡å¼ã€‚</p>
<p>ä½¿ç”¨äº‹åŠ¡æ—¥å¿—æŒ–æ˜çš„æ–¹æ¡ˆï¼Œå¿…é¡»å°†å¾®æœåŠ¡è€¦åˆåˆ°RDBMSäº‹åŠ¡æ—¥å¿—ã€‚</p>
<p>ä¸€ä¸ªæŠ˜ä¸­çš„åŠæ³•æ˜¯å°†äº‹åŠ¡æ•°æ®åº“è¡¨å’Œç®€åŒ–çš„ESæ¨¡å¼ç»„åˆä½¿ç”¨ã€‚å°è¯•å°†äº‹ä»¶å‘å¸ƒåˆ°äº‹ä»¶æ€»çº¿ï¼Œå¦‚æœå‘å¸ƒæ“ä½œæˆåŠŸï¼Œå°†åœ¨åŸå§‹æœåŠ¡ä¸­å¯åŠ¨å¦ä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<p>å¦‚æœäº‹ä»¶æ€»çº¿ä¸­çš„å‘å¸ƒäº‹ä»¶æ“ä½œå¤±è´¥ï¼Œæ•°æ®åœ¨åŸå§‹å¾®æœåŠ¡ä¸­ä¸ä¼šä¸ä¸€è‡´ã€‚</p>
<p>å¦‚æœå·²ç»åœ¨ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œåˆ™å¯ä»¥ä½¿ç”¨äº‹åŠ¡è¡¨æ¥å­˜å‚¨é›†æˆæ—¶é—´ã€‚è¦åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°åŸå­æ€§ï¼Œå¯ä»¥ä½¿ç”¨åŸºäºæœ¬åœ°äº‹åŠ¡çš„ä¸¤æ­¥è¿‡ç¨‹ã€‚åŸºæœ¬ä¸Šæˆ‘ä»¬éœ€è¦åœ¨å­˜å‚¨é¢†åŸŸå®ä½“çš„æ•°æ®åº“ä¸­æœ‰ä¸€ä¸ªintegrationeventè¡¨ï¼Œè¯¥è¡¨ç”¨ä½œå®ç°åŸå­æ€§çš„ä¿è¯ï¼Œä»¥ä¾¿å°†æŒä¹…é›†æˆäº‹ä»¶åŒ…æ‹¬åœ¨æäº¤é¢†åŸŸæ•°æ®çš„ç›¸åŒäº‹åŠ¡ä¸­ã€‚</p>
<p>å› æ­¤å¾ªåºæ¸è¿›çš„æ­¥éª¤å¦‚ä¸‹ï¼šåº”ç”¨ç¨‹åºå¼€å§‹æœ¬åœ°æ•°æ®åº“äº‹åŠ¡ï¼Œç„¶åæ›´æ–°é¢†åŸŸå®ä½“çŠ¶æ€ï¼Œå¹¶å°†äº‹ä»¶æ’å…¥é›†æˆäº‹ä»¶è¡¨ä¸­ï¼Œæœ€åæäº¤äº‹åŠ¡ï¼Œå³å®ç°æ‰€éœ€çš„åŸå­æ€§ã€‚</p>
<p>åœ¨æäº¤äº‹åŠ¡åç«‹å³å‘å¸ƒé›†æˆäº‹ä»¶ï¼Œå¹¶ä½¿ç”¨å¦ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡å°†è¡¨ä¸­çš„äº‹ä»¶æ ‡è®°ä¸ºå·²å‘å¸ƒã€‚</p>
<h5 id="é€šè¿‡äº‹ä»¶æ€»çº¿å‘å¸ƒé›†æˆäº‹ä»¶æ—¶å®ç°åŸå­æ€§">é€šè¿‡äº‹ä»¶æ€»çº¿å‘å¸ƒé›†æˆäº‹ä»¶æ—¶å®ç°åŸå­æ€§</h5>
<p>äº‹ä»¶æ—¥å¿—è¡¨ä¸åŸå§‹æ•°æ®åº“æ“ä½œè¿›è¡ŒåŸå­æ›´æ–°ï¼Œå¯¹åŒä¸€æ•°æ®åº“ä½¿ç”¨æœ¬åœ°äº‹åŠ¡ã€‚å¦‚æœæœ‰ä»»ä½•æ“ä½œå¤±è´¥ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶å¯¹æ‰€æœ‰å·²å®Œæˆçš„æ“ä½œæ‰§è¡Œäº‹åŠ¡å›æ»šï¼Œä»è€Œä¿æŒé¢†åŸŸæ“ä½œä¸å‘é€çš„äº‹ä»¶æ¶ˆæ¯é—´çš„ä¸€è‡´æ€§ã€‚</p>
<h5 id="æ›´æ–°æ¶ˆæ¯äº‹ä»¶ä¸­çš„å¹‚ç­‰æ€§">æ›´æ–°æ¶ˆæ¯äº‹ä»¶ä¸­çš„å¹‚ç­‰æ€§</h5>
<p>å¹‚ç­‰æ€§æ„å‘³ç€å¯ä»¥å¤šæ¬¡æ‰§è¡Œæ“ä½œè€Œä¸æ”¹å˜ç»“æœã€‚åœ¨æ¶ˆæ¯ä¼ é€’ç¯å¢ƒä¸­ä¼ æ’­äº‹ä»¶æ—¶ï¼Œå¦‚æœå¯ä»¥å¤šæ¬¡ä¼ é€äº‹ä»¶è€Œä¸æ”¹å˜æ¥æ”¶è€…å¾®æœåŠ¡çš„ç»“æœï¼Œåˆ™äº‹ä»¶æ˜¯å¹‚ç­‰çš„ã€‚</p>
<p>é‡è¦çš„æ˜¯ï¼Œå³ä½¿åŒä¸€è®¢å•å®Œæˆäº‹ä»¶æœ‰é‡å¤çš„æ¶ˆæ¯äº‹ä»¶ï¼Œä¹Ÿåªéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿä¸­æ›´æ–°è®¢å•ä¿¡æ¯ä¸€æ¬¡ã€‚</p>
<p>è®©æ¯ä¸ªäº‹ä»¶å…·æœ‰æŸç§ç±»å‹çš„æ ‡è¯†æ˜¯ç§æ–¹ä¾¿çš„åšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¼ºåˆ¶æ¯ä¸ªæ¥æ”¶è€…å¯¹æ¯ä¸ªäº‹ä»¶åªå¤„ç†ä¸€æ¬¡çš„é€»è¾‘ã€‚</p>
<h5 id="åˆ é™¤é‡å¤çš„é›†æˆäº‹ä»¶æ¶ˆæ¯">åˆ é™¤é‡å¤çš„é›†æˆäº‹ä»¶æ¶ˆæ¯</h5>
<p>æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨æ­£åœ¨ç”¨çš„æ¶ˆæ¯æ¶æ„æä¾›çš„é‡å¤æ•°æ®åˆ é™¤åŠŸèƒ½ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨ç›®æ ‡å¾®æœåŠ¡ä¸­è‡ªå®šä¹‰é€»è¾‘ã€‚åœ¨ä¼ è¾“å±‚é¢å’Œåº”ç”¨å±‚é¢è¿›è¡ŒéªŒè¯æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p>
<h5 id="ä½¿ç”¨rabbitmqæ—¶åˆ é™¤é‡å¤æ¶ˆæ¯">ä½¿ç”¨Rabbitmqæ—¶åˆ é™¤é‡å¤æ¶ˆæ¯</h5>
<p>æ¶ˆæ¯æ¥æ”¶è€…å¿…é¡»å‡†å¤‡å¥½å¤„ç†è¿™äº›é‡å¤çš„æ¶ˆæ¯ã€‚å¦‚æœå¯èƒ½ï¼Œæ¥æ”¶æ–¹åº”ä»¥å¹‚ç­‰çš„æ–¹å¼å¤„ç†æ¶ˆæ¯ï¼Œè¿™æ¯”ç”¨åˆ é™¤é‡å¤æ•°æ®çš„æ–¹å¼ç›´æ¥å¤„ç†æ¶ˆæ¯æ›´å¥½ã€‚</p>
<p>Rabbitmqä¼šåœ¨å†æ¬¡ä¼ é€æ—¶å°†å…¶è®¾ç½®ä¸ºâ€œredelivered&quot;æ ‡å¿—ï¼Œå› æ­¤åªæœ‰åœ¨æ¶ˆæ¯ä¸­è®¾ç½®äº†â€redeliveredâ€œæ ‡å¿—æ—¶ï¼Œæ¥æ”¶æ–¹æ‰éœ€è¦ä»¥å¹‚ç­‰æ–¹å¼å¯¹æ¶ˆæ¯è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤æˆ–å¤„ç†æ¶ˆæ¯ã€‚</p>
<h5 id="åœ¨å¾®æœåŠ¡ä¸­è¿ç”¨ç®€åŒ–çš„cqrså’Œdddæ¨¡å¼">åœ¨å¾®æœåŠ¡ä¸­è¿ç”¨ç®€åŒ–çš„CQRSå’ŒDDDæ¨¡å¼</h5>
<ul>
<li>æŸ¥è¯¢ï¼šè¿”å›ç»“æœä¸”ä¸æ”¹å˜ç³»ç»ŸçŠ¶æ€ï¼Œå³æŸ¥è¯¢æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„</li>
<li>å‘½ä»¤ï¼šæ”¹å˜ç³»ç»ŸçŠ¶æ€</li>
</ul>
<p>CQRSä¾‹å¦‚ç”¨ä¸€ä¸ªç‰©ç†æ•°æ®åº“æ¥è¯»å–ï¼Œä¸€ä¸ªç‰©ç†æ•°æ®åº“ç”¨æ¥å†™å…¥ï¼ˆæ›´æ–°ï¼‰ã€‚</p>
<p>CQRSçš„åˆ†ç¦»æ˜¯æŒ‡å°†æŸ¥è¯¢æ“ä½œç»„åˆåœ¨ä¸€å±‚ï¼Œè€Œå‘½ä»¤ç»„åˆåˆ°å¦ä¸€å±‚çš„åšæ³•ã€‚è¿™ä¸¤å±‚å¯ä»¥åŒ…å«åœ¨ç›¸åŒç‰©ç†å±‚çº§æˆ–å¾®æœåŠ¡é‡Œï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒå¾®æœåŠ¡æˆ–è¿›ç¨‹ä¸­å®ç°ï¼Œä»¥ä¾¿å•ç‹¬ä¼˜åŒ–å’Œç‹¬ç«‹åœ°æ¨ªå‘æ‰©å±•ï¼Œé¿å…å½¼æ­¤å¹²æ‰°ã€‚</p>
<p>æ¯•ç«Ÿæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æŸ¥è¯¢æ¥çš„æ›´çµæ´»ï¼Œè€Œä¸æ˜¯åƒèšåˆé‚£æ ·é€šè¿‡DDDæ¨¡å¼çš„çº¦æŸå¯¹æŸ¥è¯¢è¿›è¡Œé™åˆ¶ã€‚</p>
<h5 id="å°†cqrså’Œcqsæ–¹å¼åº”ç”¨åˆ°dddå¾®æœåŠ¡ä¸­">å°†CQRSå’ŒCQSæ–¹å¼åº”ç”¨åˆ°DDDå¾®æœåŠ¡ä¸­</h5>
<p>DDDæ¨¡å¼ä¸æ˜¯æ™®éé€‚ç”¨çš„ï¼Œå®ƒä»¬ä¼šä¸ºè®¾è®¡å¼•å…¥çº¦æŸï¼Œè¿™äº›çº¦æŸæä¾›äº†è¯¸å¦‚éšç€æ—¶é—´æ¨ç§»è¿›ä¸€æ­¥æé«˜è´¨é‡ç­‰å¥½å¤„ï¼Œç‰¹åˆ«æ˜¯ä¼šæ”¹å˜ç³»ç»ŸçŠ¶æ€çš„å‘½ä»¤å’Œå…¶ä»–ä»£ç å¯ä»¥ä»ä¸­è·ç›Šä¸­ã€‚ä½†æ˜¯è¿™äº›çº¦æŸå¢åŠ äº†è¯»å–å’ŒæŸ¥è¯¢æ•°æ®çš„å¤æ‚æ€§ã€‚</p>
<p>æœ¬ä¹¦å»ºè®®ä»…åœ¨å¾®æœåŠ¡çš„äº‹åŠ¡/æ›´æ–°åŒºåŸŸä½¿ç”¨DDDæ¨¡å¼ï¼ŒæŸ¥è¯¢å¯ä»¥éµå¾ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œå¹¶ä¸”åº”æŒ‰ç…§CQRSæ–¹æ³•ä¸å‘½ä»¤åˆ†ç¦»ã€‚</p>
<p>ä¸ºå®ç°æŸ¥è¯¢å±‚ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥é€‰æ‹©ï¼Œä¾‹å¦‚ä½¿ç”¨EF Core/AutoMapperæ˜ å°„ã€å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€ç‰©åŒ–è§†å›¾ç­‰å…¨é¢çš„ORMï¼Œæˆ–è€…ä½¿ç”¨å¾®å‹ORMã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨Dapperè¿™æ ·çš„å¾®å‹ORMæ¥å®ç°ç›´æ¥æŸ¥è¯¢ã€‚</p>
<h5 id="cqrså’Œdddæ¨¡å¼ä¸æ˜¯é¡¶çº§æ¶æ„">CQRSå’ŒDDDæ¨¡å¼ä¸æ˜¯é¡¶çº§æ¶æ„</h5>
<p>å€¼å¾—å¼ºè°ƒçš„æ˜¯ï¼Œæ¯ç§æƒ…å†µå¼ºè¡Œä½¿ç”¨ç›¸åŒæ¨¡å¼å°†å¯¼è‡´å¤±è´¥ï¼Œä¸è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½ä½¿ç”¨CQRSå’ŒDDDã€‚å¾ˆå¤šå­ç³»ç»Ÿã€é™ç•Œä¸Šä¸‹æ–‡æˆ–å¾®æœåŠ¡éƒ½æ¯”è¾ƒç®€å•ï¼Œå¾ˆå®¹æ˜“ç”¨ç®€å•çš„CRUDæœåŠ¡æˆ–å…¶ä»–æ–¹å¼æ¥å®ç°ã€‚</p>
<h5 id="åœ¨cqrså¾®æœåŠ¡ä¸­å®ç°è¯»å–æŸ¥è¯¢">åœ¨CQRSå¾®æœåŠ¡ä¸­å®ç°è¯»å–/æŸ¥è¯¢</h5>
<p>è®¢å•å¾®æœåŠ¡çš„æŸ¥è¯¢æ˜¯ç‹¬ç«‹äºDDDæ¨¡å‹å’Œäº‹åŠ¡å®ç°çš„ã€‚å†™å…¥æ‰§è¡Œçš„äº‹åŠ¡å¿…é¡»ç¬¦åˆé¢†åŸŸé€»è¾‘ï¼Œå¦ä¸€æ–¹é¢ï¼ŒæŸ¥è¯¢æ˜¯å¹‚ç­‰çš„ï¼Œå¯ä»é¢†åŸŸè§„åˆ™ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</p>
<p>åªéœ€ç®€å•åœ°æŸ¥è¯¢æ•°æ®åº“ä»¥è·å–UIæ‰€éœ€æ•°æ®ï¼Œç„¶åè¿”å›ä¸€ä¸ªåŠ¨æ€ViewModelï¼Œè€Œä¸éœ€è¦åœ¨ä»»ä½•ä½ç½®æ˜ç¡®å®šä¹‰ï¼Œä½†SQLè¯­å¥é™¤å¤–ã€‚</p>
<p>å®é™…ä¸Šï¼ŒViewModelç±»å°±æ˜¯Dtoå‘—ã€‚</p>
<h5 id="ä½¿ç”¨ç‹¬ç«‹äºé¢†åŸŸæ¨¡å‹çº¦æŸä¸”ä¸“ä¸ºå®¢æˆ·ç«¯åº”ç”¨åˆ›å»ºçš„viewmodel">ä½¿ç”¨ç‹¬ç«‹äºé¢†åŸŸæ¨¡å‹çº¦æŸä¸”ä¸“ä¸ºå®¢æˆ·ç«¯åº”ç”¨åˆ›å»ºçš„ViewModel</h5>
<p>å› æ­¤å¯ä»¥æ ¹æ®æŸ¥è¯¢è¿”å›çš„æ•°æ®ä¸ºå®¢æˆ·ç«¯ä¸“é—¨åˆ›å»ºè¿”å›ç±»å‹ï¼Œè¿™äº›æ¨¡å‹æˆ–æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰æˆä¸ºViewModelã€‚</p>
<p>è¿”å›çš„æ•°æ®ï¼ˆViewModelï¼‰å¯ä»¥æ˜¯è¿æ¥æ•°æ®åº“ä¸­å¤šä¸ªå®ä½“æˆ–è¡¨çš„æ•°æ®ç»“æœï¼Œä¹Ÿå¯ä»¥æ˜¯äº‹åŠ¡é¢†åŸŸæ¨¡å‹ä¸­å®šä¹‰çš„å¤šä¸ªèšåˆç»“æœã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºæ­£åœ¨åˆ›å»ºç‹¬ç«‹äºé¢†åŸŸæ¨¡å‹çš„æŸ¥è¯¢ï¼Œæ‰€ä»¥èšåˆçš„è¾¹ç•Œå’Œçº¦æŸå¯ä»¥å½»åº•å¿½ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çš„æŸ¥è¯¢éœ€è¦çš„ä»»ä½•è¡¨å’Œåˆ—ã€‚è¿™ç§æ–¹æ³•ä¸ºå¼€å‘äººå‘˜åˆ›å»ºæˆ–æ›´æ–°æŸ¥è¯¢æä¾›äº†æå¤§çš„çµæ´»æ€§å’Œç”Ÿäº§åŠ›ã€‚</p>
<p>ViewModelå¯ä»¥æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„é™æ€ç±»å‹ï¼Œæˆ–è€…å¯æ ¹æ®æ‰§è¡Œçš„æŸ¥è¯¢æ¥åŠ¨æ€åˆ›å»ºï¼Œè¿™å¯¹å¼€å‘äººå‘˜æ¥è¯´éå¸¸çš„çµæ´»ã€‚</p>
<h5 id="åŠ¨æ€ä¸é™æ€çš„viewmodel">åŠ¨æ€ä¸é™æ€çš„ViewModel</h5>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¯æ±‡æ€»æ¥è‡ªå¤šä¸ªé¢†åŸŸå®ä½“çš„æ•°æ®ï¼Œå¹¶æ ¹æ®å®¢æˆ·ç«¯åº”ç”¨éœ€è¦çš„æ•°æ®ç²¾ç¡®ç»„åˆViewModelã€‚</p>
<p>ä¼˜ç‚¹ï¼šæ•æ·ã€ç›´æˆªäº†å½“å¿«é€Ÿå“åº”æœªæ¥å˜åŒ–</p>
<p>ç¼ºç‚¹ï¼šåŠ¨æ€ç±»å‹ä¼šé™ä½æ¸…æ™°åº¦ç”šè‡³å½±å“æœåŠ¡å’Œå®¢æˆ·ç«¯åº”ç”¨çš„å…¼å®¹æ€§ã€‚</p>
<h5 id="é¢„å…ˆå®šä¹‰çš„dtoç±»ä½œä¸ºviewmodel">é¢„å…ˆå®šä¹‰çš„DTOç±»ä½œä¸ºViewModel</h5>
<p>ç»éªŒä¹‹è°ˆï¼šèµ·åˆä½¿ç”¨åŠ¨æ€ViewModelå¼€å‘ï¼Œå› ä¸ºå¼€å‘éå¸¸æ•æ·ã€‚ç„¶è€Œä¸€æ—¦å¼€å‘ç¨³å®šäº†ï¼ŒåŸºäºå‰é¢æè¿°çš„åŸå› ï¼Œæˆ‘ä»¬é€‰æ‹©é‡æ„è¿™ä¸ªä¸»é¢˜ï¼Œå¹¶ä¸ºViewModelä½¿ç”¨é™æ€çš„æˆ–é¢„å…ˆç¡®å®šçš„DTOç±»ã€‚</p>
<h5 id="è®¾è®¡é¢å‘dddçš„å¾®æœåŠ¡">è®¾è®¡é¢å‘DDDçš„å¾®æœåŠ¡</h5>
<p>é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸»å¼ æ ¹æ®å’Œç”¨ä¾‹ç›¸å…³çš„å®é™…ä¸šåŠ¡æ¥å»ºæ¨¡ã€‚å®ƒä¹Ÿæå‡ºäº†å¤šç§æŠ€æœ¯æ¦‚å¿µå’Œæ¨¡å¼æ¥æ”¯æŒå…¶å†…éƒ¨å®ç°ï¼Œä¾‹å¦‚ä¸°å¯Œæ¨¡å‹é¢†åŸŸå®ä½“ã€å€¼å¯¹è±¡ã€èšåˆæ ¹è§„åˆ™ã€‚</p>
<p>åœ¨å®ç°DDDæ–¹æ³•æ—¶æœ‰é™¡å³­çš„å­¦ä¹ æ›²çº¿ã€‚ä»¥ä¾¿åˆ’æ¸…ä¸šåŠ¡é—®é¢˜å¹¶ä½¿ç”¨ç›¸åŒçš„ä¸šåŠ¡æœ¯è¯­ï¼ˆç»Ÿä¸€è¯­è¨€ï¼‰ã€‚æ­¤å¤–DDDæ–¹å¼åº”è¯¥åªç”¨äºå®ç°æ‹¥æœ‰é‡è¦ä¸šåŠ¡è§„åˆ™çš„å¤æ‚å¾®æœåŠ¡ã€‚è¯¸å¦‚CRUDæœåŠ¡ç­‰ç®€å•çš„ä»»åŠ¡å¯ä½¿ç”¨æ›´ç®€å•çš„æ–¹æ³•ç®¡ç†ã€‚</p>
<p>å¦‚ä½•ç¡®å®šè¾¹ç•Œæ˜¯è®¾è®¡å’Œå®šä¹‰å¾®æœåŠ¡çš„å…³é”®ä»»åŠ¡ã€‚DDDæ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£é¢†åŸŸçš„å¤æ‚æ€§ã€‚è¯†åˆ«å’Œå®šä¹‰ç”¨æ¥æ¨¡å‹åŒ–è¯¥é¢†åŸŸçš„å®ä½“ã€å€¼å¯¹è±¡å’Œèšåˆã€‚æ„å»ºå¹¶æç‚¼åœ¨ä¸€ä¸ªå®šä¹‰ä¸Šä¸‹æ–‡è¾¹ç•Œçš„é¢†åŸŸæ¨¡å‹ã€‚</p>
<h5 id="ä¿æŒç›¸å¯¹è¾ƒå°çš„å¾®æœåŠ¡ä¸Šä¸‹æ–‡è¾¹ç•Œ">ä¿æŒç›¸å¯¹è¾ƒå°çš„å¾®æœåŠ¡ä¸Šä¸‹æ–‡è¾¹ç•Œ</h5>
<p>æœ€å¼€å§‹éœ€è¦åˆ›å»ºå°½å¯èƒ½å°çš„å¾®æœåŠ¡ï¼Œå…¶æ¬¡éœ€è¦é¿å…å¾®æœåŠ¡é—´æ— è°“çš„é€šä¿¡ã€‚è¿™ä¸¤ä¸ªç›®æ ‡ç›¸äº’åˆ¶çº¦ï¼Œéœ€è¦æƒè¡¡ã€‚å°½å¯èƒ½å°†ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªå°å‹çš„å¾®æœåŠ¡ï¼Œç›´åˆ°å°è¯•æ‹†åˆ†æ–°çš„ç•Œé™ä¸Šä¸‹æ–‡è€Œå‡ºç°å¿«é€Ÿå¢é•¿çš„è¾¹ç•Œé€šä¿¡æ—¶å³å¯åœæ­¢æ‹†åˆ†ã€‚å†…èšæ˜¯ç‹¬ç«‹ç•Œé™ä¸Šä¸‹æ–‡çš„å…³é”®ã€‚</p>
<p>å¦‚æœä¸¤ä¸ªå¾®æœåŠ¡éœ€è¦å¾ˆå¤šåä½œï¼Œå®ƒä»¬åº”è¯¥æˆä¸ºåŒä¸€ä¸ªå¾®æœåŠ¡ã€‚</p>
<p>å¦ä¸€ç§çœ‹å¾…è¿™ç§æƒ…å†µçš„æ–¹æ³•æ˜¯è‡ªä¸»æƒã€‚å¦‚æœä¸€ä¸ªå¾®æœåŠ¡å¿…é¡»ä¾é å…¶ä»–æœåŠ¡æ¥ç›´æ¥å¤„ç†è¯·æ±‚ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯çœŸæ­£çš„è‡ªæ²»ã€‚</p>
<h5 id="dddå¾®æœåŠ¡ä¸­çš„åˆ†å±‚">DDDå¾®æœåŠ¡ä¸­çš„åˆ†å±‚</h5>
<p>é¢†åŸŸå®ä½“åŒ…å«åœ¨é¢†åŸŸæ¨¡å‹å±‚å†…éƒ¨ï¼Œå¹¶ä¸”ä¸åº”ä¼ é€åˆ°ä¸å±äºå®ƒçš„åŒºåŸŸï¼Œæ¯”å¦‚è¡¨ç°å±‚ã€‚</p>
<p>ViewModelæ˜¯ä¸€ä¸ªä»…ä¸ºæ»¡è¶³è¡¨ç°å±‚éœ€è¦çš„æ•°æ®æ¨¡å‹ã€‚é¢†åŸŸå®ä½“ä¸ç›´å±äºViewModelï¼Œç›¸åï¼Œéœ€è¦åœ¨ViewModelå’Œé¢†åŸŸå®ä½“ä¹‹é—´äº’ç›¸è½¬æ¢ã€‚</p>
<h5 id="é¢†åŸŸæ¨¡å‹å±‚">é¢†åŸŸæ¨¡å‹å±‚</h5>
<p>è¯´ç™½äº†æ„Ÿè§‰å°±æ˜¯Coreï¼Œä¹Ÿå°±æ˜¯pocoã€‚è´Ÿè´£è¡¨è¾¾ä¸šåŠ¡æ¦‚å¿µã€ä¸šåŠ¡çŠ¶æ€ä¿¡æ¯åŠä¸šåŠ¡è§„åˆ™ã€‚ä½†åæ˜ ä¸šåŠ¡æƒ…å†µçš„çŠ¶æ€æ˜¯ç”±æœ¬å±‚æ§åˆ¶å¹¶ä½¿ç”¨çš„ï¼Œé¢†åŸŸæ¨¡å‹å±‚æ˜¯ä¸šåŠ¡è½¯ä»¶çš„æ ¸å¿ƒã€‚</p>
<p>è¿™æ„å‘³ç€ä¸€ä¸ªé‡è¦çš„è§„åˆ™ï¼šé¢†åŸŸæ¨¡å‹å®ä½“ç±»åº”è¯¥å°±æ˜¯POCOã€‚</p>
<p>é¢†åŸŸå®ä½“ä¸åº”å¯¹ä»»ä½•æ•°æ®è®¿é—®åŸºç¡€æ¡†æ¶å¦‚EFæœ‰ä»»ä½•ç›´æ¥çš„ä¾èµ–ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œé¢†åŸŸå®ä½“ä¸åº”è¯¥ç»§æ‰¿è‡ªæˆ–å®ç°ä»»ä½•åŸºç¡€æ¡†æ¶é‡Œçš„ä»»ä½•ç±»å‹ã€‚</p>
<p>ç†è§£æ•°æ®çš„ç‰©ç†æ¨¡å‹å’Œå¦‚ä½•æ˜ å°„åˆ°å®ä½“å¯¹è±¡æ¨¡å‹ä¾ç„¶å¾ˆé‡è¦ã€‚</p>
<h5 id="åº”ç”¨å±‚">åº”ç”¨å±‚</h5>
<p>å®šä¹‰è½¯ä»¶è¦å®Œæˆçš„ä»»åŠ¡ï¼Œå¹¶åªä¼šè¡¨è¾¾é¢†åŸŸæ¦‚å¿µçš„å¯¹è±¡æ¥è§£å†³é—®é¢˜ã€‚åº”ç”¨å±‚è¦å°½é‡ç®€å•ï¼Œä¸åŒ…å«ä¸šåŠ¡è§„åˆ™æˆ–çŸ¥è¯†ï¼Œåªä¸ºä¸‹ä¸€å±‚ä¸­çš„é¢†åŸŸå¯¹è±¡åè°ƒä»»åŠ¡ï¼Œåˆ†é…å·¥ä½œï¼Œä½¿å®ƒä»¬ç›¸äº’åä½œã€‚å³ä¸ºç”¨æˆ·æˆ–ç¨‹åºæ˜¾ç¤ºæŸä¸ªä»»åŠ¡çš„è¿›åº¦ã€‚</p>
<p>è¡¨ç¤ºåº”ç”¨å±‚å¿…é¡»ä¸åŒ…å«ä¸šåŠ¡è§„åˆ™æˆ–é¢†åŸŸçŸ¥è¯†ï¼Œè¿™äº›å†…å®¹åº”è¯¥æœ‰é¢†åŸŸæ¨¡å‹ç±»åº“æ‰€æ‹¥æœ‰ã€‚åº”ç”¨å±‚å¿…ä»…åè°ƒä»»åŠ¡è€Œä¸èƒ½ä¿ç•™æˆ–å®šä¹‰ä»»ä½•é¢†åŸŸçŠ¶æ€ï¼ˆé¢†åŸŸæ¨¡å‹ï¼‰ã€‚</p>
<p>åº”ç”¨å±‚å°†ä¸šåŠ¡è§„åˆ™çš„æ‰§è¡Œå§”æ‰˜ç»™é¢†åŸŸæ¨¡å‹ç±»æœ¬èº«ï¼Œæœ€ç»ˆåœ¨é‚£äº›é¢†åŸŸå®ä½“ä¸­æ›´æ–°æ•°æ®ã€‚</p>
<h5 id="åŸºç¡€æ¶æ„å±‚">åŸºç¡€æ¶æ„å±‚</h5>
<p>åŸºç¡€æ¶æ„å±‚ç”¨äºå°†æœ€åˆä¿ç•™åœ¨å†…å­˜ä¸­çš„é¢†åŸŸå®ä½“æ±‡æ€»çš„æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“æˆ–å…¶ä»–æŒä¹…å­˜å‚¨ä¸­ã€‚</p>
<p>åœ¨ç»å¯¹ä¸äº§ç”Ÿæ¡†æ¶å¼ºä¾èµ–çš„å‰æä¸‹ç¡®ä¿é¢†åŸŸæ¨¡å‹å®ä½“ç±»å’Œç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„åŸºç¡€æ¶æ„æ— å…³ã€‚å³ä»…æœ‰å®ç°è½¯ä»¶æ ¸å¿ƒçš„POCOå®ç°ç±»ï¼Œå¹¶ä¸”ä¸åŸºç¡€æ¶æ„æŠ€æœ¯å®Œå…¨è§£è€¦ã€‚</p>
<p>å› æ­¤å±‚æˆ–ç±»åº“ä»¥åŠé¡¹ç›®åº”è¯¥æœ€ç»ˆä¾èµ–ä¸é¢†åŸŸæ¨¡å‹å±‚ï¼ˆåº“ï¼‰ã€‚</p>
<p><figure 
	>
	<a href="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201117160828300.png" >
		<img src="/2020.11.16%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%bb%a7%e7%bb%ad%e5%ad%a6%e4%b9%a0.assets/image-20201117160828300.png"
			
			
			
			loading="lazy"
			alt="image-20201117160828300">
	</a>
	
	<figcaption>image-20201117160828300</figcaption>
	
</figure></p>
<p>æ¯ä¸ªå¾®æœåŠ¡çš„åŸºç¡€æ¶æ„å±‚è®¾è®¡åº”è¯¥æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥æŒ‰ç…§DDDæ¨¡å¼å®ç°å¤æ‚å¾®æœåŠ¡ï¼Œè€Œç”¨æ›´ç®€å•çš„æ–¹æ³•å®ç°ç®€å•æ•°æ®é©±åŠ¨å¾®æœåŠ¡ï¼ˆå•å±‚çš„ç®€å•CRUDï¼‰ã€‚</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">å¾®æœåŠ¡</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="">
    <a href="/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.17%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%92%E5%88%86%E5%8E%9F%E5%88%99/">
        
        

        <div class="article-details">
            <h2 class="article-title">å¾®æœåŠ¡2020.11.17å¾®æœåŠ¡åˆ’åˆ†åŸåˆ™</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/%E5%BE%AE%E6%9C%8D%E5%8A%A12020.11.13/">
        
        

        <div class="article-details">
            <h2 class="article-title">å¾®æœåŠ¡2020.11.13</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/">
        
        

        <div class="article-details">
            <h2 class="article-title">å¾®æœåŠ¡æ¶æ„å­¦ä¹ æ–‡æ¡£</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3/">
        
        

        <div class="article-details">
            <h2 class="article-title">å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼å­¦ä¹ æ–‡æ¡£</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
     
        
    <script src="https://utteranc.es/client.js" 
        repo="linjianshu/hugoblogtalks"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2021 think hy how to learn
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<!doctype html>
<html lang="en">
<head>
   
</head>









<body>
</body>

</html>


    </body>
</html>
