<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='mysqlå­¦ä¹ æ–‡æ¡£ ä¸€ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“ äºŒ æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ DBMS DB SQL
ä¸‰ æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ å›› åˆå§‹mysql mysqläº§å“çš„ä»‹ç»
mysqläº§å“çš„å®‰è£…
mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢
mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º
mysqlçš„å¸¸è§å‘½ä»¤å’Œè¯­æ³•è§„èŒƒ
äº”DQLè¯­è¨€çš„å­¦ä¹  åŸºç¡€æŸ¥è¯¢
æ¡ä»¶æŸ¥è¯¢
æ’åºæŸ¥è¯¢
å¸¸è§å‡½æ•°
åˆ†ç»„æŸ¥è¯¢
è¿æ¥æŸ¥è¯¢
å­æŸ¥è¯¢
åˆ†é¡µæŸ¥è¯¢
unionè”åˆæŸ¥è¯¢
å…­ DMLè¯­è¨€çš„å­¦ä¹  æ’å…¥è¯­å¥
ä¿®æ”¹è¯­å¥
åˆ é™¤è¯­å¥
ä¸ƒ DDLè¯­è¨€çš„å­¦ä¹  åº“å’Œè¡¨çš„ç®¡ç†
å¸¸è§æ•°æ®ç±»å‹ä»‹ç»
å¸¸è§çº¦æŸ
ä¿å­˜æ•°æ®çš„å®¹å™¨:
æ•°ç»„ é›†åˆ å†…å­˜æ•°æ® æ–­ç”µå°±æ²¡äº†
æ–‡ä»¶ ä½†æ˜¯æ–‡ä»¶ä¸å¥½æŸ¥æ‰¾
å› æ­¤æŠŠæ–‡ä»¶åšæˆæ–¹ä¾¿å¢åˆ æ”¹æŸ¥çš„è½¯ä»¶ å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ è¿™æ ·çš„è½¯ä»¶å°±å«åšæ•°æ®åº“
æ•°æ®åº“çš„å¥½å¤„  å®ç°æ•°æ®æŒä¹…åŒ– ä½¿ç”¨å®Œæ•´çš„ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†,æ˜“äºæŸ¥è¯¢  æ•°æ®åº“çš„æ¦‚å¿µ DB æ•°æ®åº“ database:å­˜å‚¨æ•°æ®çš„ä»“åº“,ä¿å­˜äº†ä¸€ç³»åˆ—æœ‰ç»„ç»‡çš„æ•°æ®.
DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ database management system æ•°æ®åº“æ˜¯é€šè¿‡dbmsåˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨
å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysql oracle db2 sqlserver
SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ structure query language :ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€'><title>MysqlåŸºç¡€</title>

<link rel='canonical' href='https://linjianshu.github.io/p/mysql%E5%9F%BA%E7%A1%80/'>

<link rel="stylesheet" href="/scss/style.min.css">
<style>
     
    body{
        background-repeat: repeat;
        background-attachment: fixed;
        background-size:cover;
         cursor: url(https://files.cnblogs.com/files/monster-jian/cursor.ico),auto;
    }
     
    #div_digg {
      position: fixed;
      bottom: 10px;
      right: 15px;
      border: 2px solid #ECD7B1;
      padding: 10px;
      width: 140px;
      background-color: #fff;
      border-radius: 5px 5px 5px 5px !important;
      box-shadow: 0 0 0 1px #5F5A4B, 1px 1px 6px 1px rgba(10, 10, 0, 0.5);
    }
    </style><script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2"></script>
<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2">
</script>
<script type="text/javascript" color="255,0,0" pointcolor="255,0,0" opacity="0.7" zindex="-2" count="100" src="/dist/canvas-nest.js"></script>
<script type="text/javascript" src="/dist/canvas-nest.umd.js"></script>
<script type="text/javascript">
    var cn = new CanvasNest(document.getElementById('area-render'), {
        color: '255,0,255',
        count: 50,
      });
      
      function asyncLoad() {
        
        var i = document.createElement("iframe");
        i.src = "https://ghbtns.com/github-btn.html?user=hustcc&repo=canvas-nest.js&type=star&count=true";
        i.scrolling = "no";
        i.frameborder = "0";
        i.border = "0";
        i.setAttribute("frameborder", "0", 0);
        i.width = "100px";
        i.height = "20px";
        document.getElementById("github-iframe").appendChild(i);
      }
      function loadGitHubBtn() {
        if (window.addEventListener) {window.addEventListener("load", asyncLoad, false);}
        else if (window.attachEvent) {window.attachEvent("onload", asyncLoad);}
        else {window.onload = asyncLoad;}
      }
      loadGitHubBtn();
</script>
<script src="/canvas-nest.js?version=10"></script><canvas width="1536" height="454" style="display: block; position: absolute; top: 0px; left: 0px; height: 100%; width: 100%; overflow: hidden; pointer-events: none;"></canvas>
<script src="https://files.cnblogs.com/files/monster-jian/mouse-click.js"></script>
<script type="text/javascript">
    
     
    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("â¤ä¸åšå’¸é±¼ï¼â¤","â¤æ‹’ç»æ‡’æƒ°ï¼â¤","â¤æƒ³åšåƒè´§â¤","â¤å‘å¤§ä½¬å­¦ä¹ â¤","â¤æ‰¶æˆ‘èµ·æ¥~â¤","â¤come onâ¤","â¤ä¸€ç›´åœ¨è·¯ä¸Š~â¤","â¤ç´¯äº†~â¤","â¤å†è¶´ä¸€ä¼šâ¤","â¤66666â¤","â¤é«˜å…´çš„é£èµ·*****â¤");
            var $i = $("<span></span>").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
            y = e.pageY;
            $i.css({
                "z-index": 999999999999999999999999999999999999999999999999999999999999999999999,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
            });
            $("body").append($i);
            $i.animate({
                "top": y - 180,
                "opacity": 0
            },
            1500,
            function() {
                $i.remove();
            });
        });
    });
    </script>

    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>  

 
   
      
      
          
         <script>         
            L2Dwidget.init({ "model": { jsonPath:          "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",  
                  "scale": 1 }, "display": { "position": "right", "width": 66, "height": 88,        "hOffset": 0, "vOffset": -20 },
                   "mobile": { "show": true, "scale": 0.5 },      "react": { "opacityDefault": 0.8, "opacityOnHover": 0.1 } }); 
                    </script><meta property='og:title' content='MysqlåŸºç¡€'>
<meta property='og:description' content='mysqlå­¦ä¹ æ–‡æ¡£ ä¸€ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“ äºŒ æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ DBMS DB SQL
ä¸‰ æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ å›› åˆå§‹mysql mysqläº§å“çš„ä»‹ç»
mysqläº§å“çš„å®‰è£…
mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢
mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º
mysqlçš„å¸¸è§å‘½ä»¤å’Œè¯­æ³•è§„èŒƒ
äº”DQLè¯­è¨€çš„å­¦ä¹  åŸºç¡€æŸ¥è¯¢
æ¡ä»¶æŸ¥è¯¢
æ’åºæŸ¥è¯¢
å¸¸è§å‡½æ•°
åˆ†ç»„æŸ¥è¯¢
è¿æ¥æŸ¥è¯¢
å­æŸ¥è¯¢
åˆ†é¡µæŸ¥è¯¢
unionè”åˆæŸ¥è¯¢
å…­ DMLè¯­è¨€çš„å­¦ä¹  æ’å…¥è¯­å¥
ä¿®æ”¹è¯­å¥
åˆ é™¤è¯­å¥
ä¸ƒ DDLè¯­è¨€çš„å­¦ä¹  åº“å’Œè¡¨çš„ç®¡ç†
å¸¸è§æ•°æ®ç±»å‹ä»‹ç»
å¸¸è§çº¦æŸ
ä¿å­˜æ•°æ®çš„å®¹å™¨:
æ•°ç»„ é›†åˆ å†…å­˜æ•°æ® æ–­ç”µå°±æ²¡äº†
æ–‡ä»¶ ä½†æ˜¯æ–‡ä»¶ä¸å¥½æŸ¥æ‰¾
å› æ­¤æŠŠæ–‡ä»¶åšæˆæ–¹ä¾¿å¢åˆ æ”¹æŸ¥çš„è½¯ä»¶ å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ è¿™æ ·çš„è½¯ä»¶å°±å«åšæ•°æ®åº“
æ•°æ®åº“çš„å¥½å¤„  å®ç°æ•°æ®æŒä¹…åŒ– ä½¿ç”¨å®Œæ•´çš„ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†,æ˜“äºæŸ¥è¯¢  æ•°æ®åº“çš„æ¦‚å¿µ DB æ•°æ®åº“ database:å­˜å‚¨æ•°æ®çš„ä»“åº“,ä¿å­˜äº†ä¸€ç³»åˆ—æœ‰ç»„ç»‡çš„æ•°æ®.
DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ database management system æ•°æ®åº“æ˜¯é€šè¿‡dbmsåˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨
å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysql oracle db2 sqlserver
SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ structure query language :ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€'>
<meta property='og:url' content='https://linjianshu.github.io/p/mysql%E5%9F%BA%E7%A1%80/'>
<meta property='og:site_name' content='think hy how to learn'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='MYSQL' /><meta property='article:published_time' content='2021-10-10T23:44:44&#43;08:00'/><meta property='article:modified_time' content='2021-10-10T23:44:44&#43;08:00'/><meta property='og:image' content='https://linjianshu.github.io/img/avatar.png' />
<meta name="twitter:site" content="@ljsljs56495989">
    <meta name="twitter:creator" content="@ljsljs56495989"><meta name="twitter:title" content="MysqlåŸºç¡€">
<meta name="twitter:description" content="mysqlå­¦ä¹ æ–‡æ¡£ ä¸€ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“ äºŒ æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ DBMS DB SQL
ä¸‰ æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ å›› åˆå§‹mysql mysqläº§å“çš„ä»‹ç»
mysqläº§å“çš„å®‰è£…
mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢
mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º
mysqlçš„å¸¸è§å‘½ä»¤å’Œè¯­æ³•è§„èŒƒ
äº”DQLè¯­è¨€çš„å­¦ä¹  åŸºç¡€æŸ¥è¯¢
æ¡ä»¶æŸ¥è¯¢
æ’åºæŸ¥è¯¢
å¸¸è§å‡½æ•°
åˆ†ç»„æŸ¥è¯¢
è¿æ¥æŸ¥è¯¢
å­æŸ¥è¯¢
åˆ†é¡µæŸ¥è¯¢
unionè”åˆæŸ¥è¯¢
å…­ DMLè¯­è¨€çš„å­¦ä¹  æ’å…¥è¯­å¥
ä¿®æ”¹è¯­å¥
åˆ é™¤è¯­å¥
ä¸ƒ DDLè¯­è¨€çš„å­¦ä¹  åº“å’Œè¡¨çš„ç®¡ç†
å¸¸è§æ•°æ®ç±»å‹ä»‹ç»
å¸¸è§çº¦æŸ
ä¿å­˜æ•°æ®çš„å®¹å™¨:
æ•°ç»„ é›†åˆ å†…å­˜æ•°æ® æ–­ç”µå°±æ²¡äº†
æ–‡ä»¶ ä½†æ˜¯æ–‡ä»¶ä¸å¥½æŸ¥æ‰¾
å› æ­¤æŠŠæ–‡ä»¶åšæˆæ–¹ä¾¿å¢åˆ æ”¹æŸ¥çš„è½¯ä»¶ å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ è¿™æ ·çš„è½¯ä»¶å°±å«åšæ•°æ®åº“
æ•°æ®åº“çš„å¥½å¤„  å®ç°æ•°æ®æŒä¹…åŒ– ä½¿ç”¨å®Œæ•´çš„ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†,æ˜“äºæŸ¥è¯¢  æ•°æ®åº“çš„æ¦‚å¿µ DB æ•°æ®åº“ database:å­˜å‚¨æ•°æ®çš„ä»“åº“,ä¿å­˜äº†ä¸€ç³»åˆ—æœ‰ç»„ç»‡çš„æ•°æ®.
DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ database management system æ•°æ®åº“æ˜¯é€šè¿‡dbmsåˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨
å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysql oracle db2 sqlserver
SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ structure query language :ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://linjianshu.github.io/img/avatar.png' />
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <style>
            * {
              margin: 0;
              padding: 0;
            }
            html, body {
              height: 100%;
              width: 100%;
            }
            #github-iframe {
              position: fixed;
              left: 32px;
              top: 32px;
            }
             
        </style>
   


<link rel="stylesheet" type="texts" href="https://blog-static.cnblogs.com/files/monster-jian/waifu.css"/>


</head>

<body size-sensor-id="1" style="position: relative;">
    
    <div id="area-render"></div>
   

</body>

<canvas width="1777" height="841" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>

</html>


    </head>
    <body class="
    article-page 
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        on-phone--column extended
    
">
    
        <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/hanbagui_hu1992e2ef3ca17530e3489d97af7cbea6_3164_300x0_resize_box.bmp" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        <h1 class="site-name"><a href="https://linjianshu.github.io/">think hy how to learn</a></h1>
        <h2 class="site-description">å¥½è¿æš´å¯Œ,å°±åœ¨ä»Šæ—¥.</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/about' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>æš—è‰²æ¨¡å¼</span>
            </li>
        
    </ol>
</aside>

    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="/p/mysql%E5%9F%BA%E7%A1%80/">MysqlåŸºç¡€</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 10, 2021</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 23 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h3 id="mysqlå­¦ä¹ æ–‡æ¡£">mysqlå­¦ä¹ æ–‡æ¡£</h3>
<h5 id="ä¸€-ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“">ä¸€ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®åº“</h5>
<h5 id="äºŒ-æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ">äºŒ æ•°æ®åº“çš„ç›¸å…³æ¦‚å¿µ</h5>
<p>DBMS DB SQL</p>
<h5 id="ä¸‰-æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹">ä¸‰ æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹</h5>
<h5 id="å››-åˆå§‹mysql">å›› åˆå§‹mysql</h5>
<p>mysqläº§å“çš„ä»‹ç»</p>
<p>mysqläº§å“çš„å®‰è£…</p>
<p>mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</p>
<p>mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º</p>
<p>mysqlçš„å¸¸è§å‘½ä»¤å’Œè¯­æ³•è§„èŒƒ</p>
<h5 id="äº”dqlè¯­è¨€çš„å­¦ä¹ ">äº”DQLè¯­è¨€çš„å­¦ä¹ </h5>
<p>åŸºç¡€æŸ¥è¯¢</p>
<p>æ¡ä»¶æŸ¥è¯¢</p>
<p>æ’åºæŸ¥è¯¢</p>
<p>å¸¸è§å‡½æ•°</p>
<p>åˆ†ç»„æŸ¥è¯¢</p>
<p>è¿æ¥æŸ¥è¯¢</p>
<p>å­æŸ¥è¯¢</p>
<p>åˆ†é¡µæŸ¥è¯¢</p>
<p>unionè”åˆæŸ¥è¯¢</p>
<h5 id="å…­-dmlè¯­è¨€çš„å­¦ä¹ ">å…­ DMLè¯­è¨€çš„å­¦ä¹ </h5>
<p>æ’å…¥è¯­å¥</p>
<p>ä¿®æ”¹è¯­å¥</p>
<p>åˆ é™¤è¯­å¥</p>
<h5 id="ä¸ƒ-ddlè¯­è¨€çš„å­¦ä¹ ">ä¸ƒ DDLè¯­è¨€çš„å­¦ä¹ </h5>
<p>åº“å’Œè¡¨çš„ç®¡ç†</p>
<p>å¸¸è§æ•°æ®ç±»å‹ä»‹ç»</p>
<p>å¸¸è§çº¦æŸ</p>
<p>ä¿å­˜æ•°æ®çš„å®¹å™¨:</p>
<p>æ•°ç»„ é›†åˆ å†…å­˜æ•°æ® æ–­ç”µå°±æ²¡äº†</p>
<p>æ–‡ä»¶ ä½†æ˜¯æ–‡ä»¶ä¸å¥½æŸ¥æ‰¾</p>
<p>å› æ­¤æŠŠæ–‡ä»¶åšæˆæ–¹ä¾¿å¢åˆ æ”¹æŸ¥çš„è½¯ä»¶ å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ è¿™æ ·çš„è½¯ä»¶å°±å«åšæ•°æ®åº“</p>
<h5 id="æ•°æ®åº“çš„å¥½å¤„">æ•°æ®åº“çš„å¥½å¤„</h5>
<ul>
<li>å®ç°æ•°æ®æŒä¹…åŒ–</li>
<li>ä½¿ç”¨å®Œæ•´çš„ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†,æ˜“äºæŸ¥è¯¢</li>
</ul>
<h5 id="æ•°æ®åº“çš„æ¦‚å¿µ">æ•°æ®åº“çš„æ¦‚å¿µ</h5>
<p>DB æ•°æ®åº“ database:å­˜å‚¨æ•°æ®çš„ä»“åº“,ä¿å­˜äº†ä¸€ç³»åˆ—æœ‰ç»„ç»‡çš„æ•°æ®.</p>
<p>DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ database management system æ•°æ®åº“æ˜¯é€šè¿‡dbmsåˆ›å»ºå’Œæ“ä½œçš„å®¹å™¨</p>
<p>å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ mysql oracle db2 sqlserver</p>
<p>SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ structure query language :ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“é€šä¿¡çš„è¯­è¨€</p>
<p>sqlçš„ä¼˜ç‚¹:</p>
<ol>
<li>ä¸æ˜¯æŸä¸ªç‰¹å®šæ•°æ®åº“ä¾›åº”å•†ä¸“æœ‰çš„è¯­è¨€,å‡ ä¹æ‰€æœ‰DBMSéƒ½æ”¯æŒsql</li>
<li>ç®€å•æ˜“å­¦</li>
<li>è™½ç„¶ç®€å•,ä½†å®é™…ä¸Šæ˜¯ä¸€ç§å¼ºæœ‰åŠ›çš„è¯­è¨€,çµæ´»ä½¿ç”¨å…¶è¯­è¨€å…ƒç´ ,å¯ä»¥è¿›è¡Œéå¸¸å¤æ‚å’Œé«˜çº§çš„æ•°æ®åº“æ“ä½œ</li>
</ol>
<p>ç±»ä¼¼äºç®¡å®¶ ç®¡ç† æ–‡ä»¶æŸœ  DBMS ç®¡ç† DB</p>
<h5 id="æ•°æ®åº“çš„ç‰¹ç‚¹">æ•°æ®åº“çš„ç‰¹ç‚¹</h5>
<ol>
<li>å°†æ•°æ®æ”¾åˆ°è¡¨ä¸­,è¡¨å†æ”¾åˆ°åº“ä¸­</li>
<li>ä¸€ä¸ªæ•°æ®åº“ä¸­å¤Ÿå¯ä»¥æœ‰å¤šä¸ªè¡¨,æ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„åå­—,ç”¨æ¥æ ‡è¯†è‡ªå·±,è¡¨åå…·æœ‰å”¯ä¸€æ€§</li>
<li>è¡¨å…·æœ‰ä¸€äº›ç‰¹æ€§,è¿™äº›ç‰¹æ€§å®šä¹‰äº†æ•°æ®åœ¨è¡¨ä¸­å¦‚ä½•å­˜å‚¨,ç±»ä¼¼javaä¸­ç±»çš„è®¾è®¡</li>
<li>è¡¨ç”±åˆ—ç»„æˆ,æˆ‘ä»¬ä¹Ÿç§°ä¸ºå­—æ®µ.æ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„,æ¯ä¸ªåˆ—ç±»ä¼¼javaä¸­çš„å±æ€§</li>
<li>è¡¨ä¸­çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„,æ¯ä¸€è¡Œç±»ä¼¼äºjavaä¸­çš„å¯¹è±¡</li>
</ol>
<h5 id="mysqläº§å“çš„ç‰¹ç‚¹">Mysqläº§å“çš„ç‰¹ç‚¹</h5>
<ul>
<li>mysqlæ•°æ®åº“éš¶å±äºmysqlabå…¬å¸,æ€»éƒ¨ä½äºç‘å…¸,åè¢«oracleæ”¶è´­</li>
<li>ä¼˜ç‚¹
<ul>
<li>æˆæœ¬ä½:å¼€æ”¾æºä»£ç ,ä¸€èˆ¬å¯ä»¥å…è´¹ä½¿ç”¨</li>
<li>æ€§èƒ½é«˜:æ‰§è¡Œå¾ˆå¿«</li>
<li>ç®€å•:å¾ˆå®¹æ˜“å®‰è£…å’Œä½¿ç”¨</li>
</ul>
</li>
</ul>
<h5 id="dbmsåˆ†ä¸ºä¸¤ç±»">DBMSåˆ†ä¸ºä¸¤ç±»</h5>
<ul>
<li>åŸºäºå…±äº«æ–‡ä»¶ç³»ç»Ÿçš„DBMS ä¾‹å¦‚ access</li>
<li>åŸºäºå®¢æˆ·æœº&mdash;æœåŠ¡å™¨çš„DBMS ä¾‹å¦‚ mysql oracle sqlserver</li>
</ul>
<h5 id="mysqlç‰ˆæœ¬">mysqlç‰ˆæœ¬</h5>
<ul>
<li>ç¤¾åŒºç‰ˆ å…è´¹</li>
<li>ä¼ä¸šç‰ˆ æ”¶è´¹</li>
</ul>
<h5 id="mysqlå¸è½½">mysqlå¸è½½</h5>
<p>å…ˆæ§åˆ¶é¢æ¿å¸è½½</p>
<p>ç„¶ååœ¨å®‰è£…ç›®å½•ä¸‹åˆ é™¤æ–‡ä»¶å¤¹</p>
<p>ç„¶ååœ¨programdataä¸­åˆ é™¤æ®‹ä½™æ–‡ä»¶</p>
<p>æ¸…ç†æ³¨å†Œè¡¨</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919154523464.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919154523464.png"
			
			
			
			loading="lazy"
			alt="image-20210919154523464">
	</a>
	
	<figcaption>image-20210919154523464</figcaption>
	
</figure></p>
<h5 id="myini-é…ç½®æ–‡ä»¶">my.ini é…ç½®æ–‡ä»¶</h5>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919160841225.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919160841225.png"
			
			
			
			loading="lazy"
			alt="image-20210919160841225">
	</a>
	
	<figcaption>image-20210919160841225</figcaption>
	
</figure></p>
<p>ç«¯å£å· å®‰è£…ä½ç½® æ•°æ®å­˜æ”¾ä½ç½® å­—ç¬¦é›† é»˜è®¤å­˜å‚¨å¼•æ“ è¯­æ³•æ¨¡å¼ æœ€å¤§è¿æ¥æ•°</p>
<p>æ”¹å®ŒæœåŠ¡éœ€è¦é‡å¯</p>
<h5 id="mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢">mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</h5>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161439996.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161439996.png"
			
			
			
			loading="lazy"
			alt="image-20210919161439996">
	</a>
	
	<figcaption>image-20210919161439996</figcaption>
	
</figure></p>
<h5 id="mysqlæœåŠ¡ç«¯çš„ç™»é™†å’Œé€€å‡º">mysqlæœåŠ¡ç«¯çš„ç™»é™†å’Œé€€å‡º</h5>
<ol>
<li>ä½¿ç”¨mysql command line client ä¸å»ºè®® åªé€‚ç”¨äºrootç”¨æˆ·</li>
</ol>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161620401.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161620401.png"
			
			
			
			loading="lazy"
			alt="image-20210919161620401">
	</a>
	
	<figcaption>image-20210919161620401</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161637466.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161637466.png"
			
			
			
			loading="lazy"
			alt="image-20210919161637466">
	</a>
	
	<figcaption>image-20210919161637466</figcaption>
	
</figure></p>
<p>2.å‘½ä»¤è¡Œ pè¾“å…¥å¯†ç ä¸èƒ½æœ‰ç©ºæ ¼ -h ä¸»æœºå -P ç«¯å£å· -u ç”¨æˆ·å -på¯†ç </p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161848290.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161848290.png"
			
			
			
			loading="lazy"
			alt="image-20210919161848290">
	</a>
	
	<figcaption>image-20210919161848290</figcaption>
	
</figure></p>
<p>ç®€åŒ–å‘½ä»¤ é€€å‡ºexit æˆ–è€… ctrl+C</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161938321.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919161938321.png"
			
			
			
			loading="lazy"
			alt="image-20210919161938321">
	</a>
	
	<figcaption>image-20210919161938321</figcaption>
	
</figure></p>
<p>åŸºæœ¬å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">show</span><span class="w"> </span><span class="n">databases</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w"></span><span class="n">use</span><span class="w"> </span><span class="n">tset</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">è¿›å…¥æ•°æ®åº“</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163057930.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163057930.png"
			
			
			
			loading="lazy"
			alt="image-20210919163057930">
	</a>
	
	<figcaption>image-20210919163057930</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">æŸ¥çœ‹æ•°æ®åº“é‡Œçš„è¡¨</span><span class="w"> </span><span class="err">åœ¨å½“å‰ç”¨æˆ·è¿›å…¥çš„æ•°æ®åº“ä¸­æŸ¥çœ‹</span><span class="w">
</span><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sys</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">æŸ¥çœ‹æ•°æ®åº“é‡Œçš„è¡¨</span><span class="w"> </span><span class="err">å¯ä»¥åœ¨å½“å‰æ•°æ®åº“ä¸­æŸ¥çœ‹åˆ«çš„æ•°æ®åº“ä¸­çš„è¡¨</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">æŸ¥çœ‹å½“å‰å¤„äºä»€ä¹ˆä½ç½®</span><span class="w">  </span><span class="err">ç±»ä¼¼äº</span><span class="n">linuxä¸­çš„</span><span class="w"> </span><span class="n">pwd</span><span class="w">
</span><span class="w"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">//</span><span class="err">åˆ›å»ºè¡¨</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163334648.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163334648.png"
			
			
			
			loading="lazy"
			alt="image-20210919163334648">
	</a>
	
	<figcaption>image-20210919163334648</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">desc</span><span class="w"> </span><span class="n">stuInfo</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">æŸ¥çœ‹è¡¨</span><span class="n">stuInfoä¸­çš„å­—æ®µ</span><span class="w">
</span><span class="w"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">stuInfo</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;ljs&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuInfo</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">update</span><span class="w"> </span><span class="n">stuInfo</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;jwt&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuInfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¢åˆ æ”¹æŸ¥</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163430191.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919163430191.png"
			
			
			
			loading="lazy"
			alt="image-20210919163430191">
	</a>
	
	<figcaption>image-20210919163430191</figcaption>
	
</figure></p>
<p>ç»ƒä¹ </p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919164509494.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919164509494.png"
			
			
			
			loading="lazy"
			alt="image-20210919164509494">
	</a>
	
	<figcaption>image-20210919164509494</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">sql</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">version</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="err">æŸ¥çœ‹ç‰ˆæœ¬å·</span><span class="w"> </span><span class="n">sqlä¸­</span><span class="w">
</span><span class="w"></span><span class="n">cmd</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="w"> </span><span class="c1">--version 
</span><span class="c1"></span><span class="n">mysql</span><span class="w"> </span><span class="o">-</span><span class="n">V</span><span class="w"> 
</span></code></pre></div><h5 id="mysqlçš„è¯­æ³•è§„èŒƒ">mysqlçš„è¯­æ³•è§„èŒƒ</h5>
<ol>
<li>ä¸åŒºåˆ†å¤§å°å†™,ä½†å»ºè®®å…³é”®å­—å¤§å†™,è¡¨å åˆ—åå°å†™</li>
<li>æ¯æ¡å‘½ä»¤ç”¨åˆ†å·ç»“å°¾</li>
<li>æ¯æ¡å‘½ä»¤æ ¹æ®éœ€è¦,å¯ä»¥è¿›è¡Œç¼©è¿›æˆ–è€…æ¢è¡Œ</li>
<li>æ³¨é‡Š
<ol>
<li>å•è¡Œæ³¨é‡Š #æ³¨é‡Šæ–‡å­— &ndash; æ³¨é‡Šæ–‡å­— (å¿…é¡»è¦æœ‰ç©ºæ ¼)</li>
<li>å¤šè¡Œæ³¨é‡Š /*     lkdfjasldfj     */</li>
</ol>
</li>
</ol>
<h5 id="åŸºç¡€æŸ¥è¯¢">åŸºç¡€æŸ¥è¯¢</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å</p>
<ul>
<li>æŸ¥è¯¢åˆ—è¡¨å¯ä»¥æ˜¯:è¡¨ä¸­çš„å­—æ®µ / å¸¸é‡å€¼ / è¡¨è¾¾å¼ / å‡½æ•°</li>
<li>æŸ¥è¯¢çš„ç»“æœå¯ä»¥æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨æ ¼</li>
</ul>
<p>æŸ¥è¯¢å•ä¸ªå­—æ®µ</p>
<p>æŸ¥è¯¢å¤šä¸ªå­—æ®µ</p>
<p>æŸ¥è¯¢æ‰€æœ‰å­—æ®µ</p>
<p>select * ä¸èƒ½æ§åˆ¶å­—æ®µçš„æ˜¾ç¤ºé¡ºåº</p>
<p>ä¹‹æ‰€ä»¥ç”¨`` ç€é‡å· ç¬¬ä¸€ä¸ºäº†ç›´ç™½,ç¬¬äºŒä¸ºäº†åŒºåˆ†å…³é”®å­— é˜²æ­¢ä¸å…³é”®å­—é‡å</p>
<p>æŸ¥è¯¢å¸¸é‡</p>
<p>æŸ¥è¯¢è¡¨è¾¾å¼</p>
<p>æŸ¥è¯¢å‡½æ•°</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919202609756.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919202609756.png"
			
			
			
			loading="lazy"
			alt="image-20210919202609756">
	</a>
	
	<figcaption>image-20210919202609756</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;join&#39;</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="mi">100</span><span class="o">*</span><span class="mi">98</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">version</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p>èµ·åˆ«å æ–¹ä¾¿ç†è§£ å¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µæœ‰é‡åçš„æƒ…å†µ,ä½¿ç”¨åˆ«åå¯ä»¥åŒºåˆ†å¼€æ¥</p>
<p>æ–¹å¼ä¸€: ä½¿ç”¨as</p>
<p>æ–¹å¼äºŒ: ç›´æ¥ä¸ç”¨as</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å§“</span><span class="w"> </span><span class="p">,</span><span class="n">first_name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="err">å§“</span><span class="w"> </span><span class="p">,</span><span class="n">first_name</span><span class="w">  </span><span class="err">å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">é˜²æ­¢æ­§ä¹‰</span><span class="w"> </span><span class="err">åŒå¼•å·ä¹Ÿè¡Œ</span><span class="w"> </span><span class="err">å•å¼•å·ä¹Ÿå¯ä»¥</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">`</span><span class="k">out</span><span class="w"> </span><span class="n">put</span><span class="o">`</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p>å»é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">desc</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919203515527.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919203515527.png"
			
			
			
			loading="lazy"
			alt="image-20210919203515527">
	</a>
	
	<figcaption>image-20210919203515527</figcaption>
	
</figure></p>
<p>+å·çš„ä½œç”¨</p>
<p>å§“åè¿æ¥æˆä¸€ä¸ªå­—æ®µ , æ˜¾ç¤ºä¸ºå§“å</p>
<p>ä»¥ä¸‹é”™è¯¯</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919203805417.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919203805417.png"
			
			
			
			loading="lazy"
			alt="image-20210919203805417">
	</a>
	
	<figcaption>image-20210919203805417</figcaption>
	
</figure></p>
<p>javaä¸­çš„+å·:</p>
<ul>
<li>è¿ç®—ç¬¦ , æ“ä½œæ•°ä¸ºæ•°å€¼å‹</li>
<li>è¿æ¥ç¬¦, åªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå­—ç¬¦ä¸²</li>
</ul>
<p>mysqlä¸­çš„+å·:</p>
<ul>
<li>ä»…ä»…åªæœ‰ä¸€ä¸ªåŠŸèƒ½:è¿ç®—ç¬¦</li>
</ul>
<p>select 100+90 ;</p>
<p>select &lsquo;123&rsquo; +90 ; å…¶ä¸­ä¸€æ–¹ä¸ºå­—ç¬¦å‹,è§†å›¾å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢ä¸ºæ•°å€¼å‹, å¦‚æœè½¬æ¢æˆåŠŸ,åˆ™ç»§ç»­åšåŠ æ³•è¿ç®—</p>
<p>select &lsquo;james&rsquo; + 90 ; å¦‚æœè½¬æ¢å¤±è´¥,åˆ™å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢æˆ0</p>
<p>select null +10 ; åªè¦å…¶ä¸­ä¸€æ–¹ä¸ºnull , åˆ™ç»“æœè‚¯å®šä¸ºnull <figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919204251938.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210919204251938.png"
			
			
			
			loading="lazy"
			alt="image-20210919204251938">
	</a>
	
	<figcaption>image-20210919204251938</figcaption>
	
</figure></p>
<p>æ‰€ä»¥éœ€è¦ä½¿ç”¨å‡½æ•° concat() ;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è¿™æ˜¯é”™è¯¯çš„ç”¨æ³•</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">åŠ ä¸Šäº†å•å¼•å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">æ— æ³•è§£æ</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;last_name&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;first_name&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">å§“å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ˜¯æ­£ç¡®çš„</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">first_name</span><span class="p">)</span><span class="w"> </span><span class="err">å§“å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="æ˜¾ç¤ºå‡ºè¡¨employeesä¸­çš„å…¨éƒ¨åˆ—å„ä¸ªåˆ—ä¹‹é—´ç”¨é€—å·è¿æ¥åˆ—å¤´æ˜¾ç¤ºæˆout_put">æ˜¾ç¤ºå‡ºè¡¨employeesä¸­çš„å…¨éƒ¨åˆ—,å„ä¸ªåˆ—ä¹‹é—´ç”¨é€—å·è¿æ¥,åˆ—å¤´æ˜¾ç¤ºæˆout_put</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥çœ‹æŸè¡¨åˆ—å</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="n">fuck_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">information_schema</span><span class="p">.</span><span class="n">columns</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">table_schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;myemployees&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;employees&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡é—®é¢˜</span><span class="w"> </span><span class="err">å› ä¸ºä¸å­˜åœ¨</span><span class="k">null</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">first_name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æœ‰é—®é¢˜</span><span class="w"> </span><span class="err">å› ä¸ºå­˜åœ¨</span><span class="k">null</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="err">å¯¼è‡´é‚£è¡Œéƒ½å˜æˆ</span><span class="k">null</span><span class="w"> </span><span class="err">äº†</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">first_name</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">commission_pct</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">first_name</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">commission_pct</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="å¼•å…¥å‡½æ•°-ifnull">å¼•å…¥å‡½æ•° IFNULL</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">IFNULL</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å¥–é‡‘ç‡</span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å¥–é‡‘ç‡</span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¥–é‡‘ç‡</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="p">.</span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="p">.</span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è¿™æ˜¯æ­£ç¡®çš„</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">first_name</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">first_name</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="n">Curtis</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w">                                                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">143</span><span class="p">,</span><span class="n">Randall</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">144</span><span class="p">,</span><span class="n">Peter</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">161</span><span class="p">,</span><span class="n">Sarath</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="w">                                                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">169</span><span class="p">,</span><span class="n">Harrison</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">20</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">170</span><span class="p">,</span><span class="n">Tayler</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">20</span><span class="w">                                                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">171</span><span class="p">,</span><span class="n">William</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">15</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="æ¡ä»¶æŸ¥è¯¢-select-æŸ¥è¯¢åˆ—è¡¨-from-è¡¨å-where-ç­›é€‰æ¡ä»¶-">æ¡ä»¶æŸ¥è¯¢ select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å where ç­›é€‰æ¡ä»¶ ;</h5>
<p>å…ˆæŸ¥è¡¨åæœ‰æ²¡æœ‰åœ¨,å†ç­›é€‰,å†æŸ¥è¯¢</p>
<p>åˆ†ç±»</p>
<ul>
<li>æŒ‰æ¡ä»¶è¡¨è¾¾å¼ç­›é€‰
<ul>
<li>æ¡ä»¶è¿ç®—ç¬¦ &gt; &lt; = &lt;&gt;(ä¸ç­‰äº)</li>
</ul>
</li>
<li>æŒ‰é€»è¾‘è¡¨è¾¾å¼ç­›é€‰ ä½œç”¨ç”¨äºè¿æ¥æ¡ä»¶è¡¨è¾¾å¼
<ul>
<li>&amp;&amp; || ! and or not</li>
</ul>
</li>
<li>æ¨¡ç³ŠæŸ¥è¯¢
<ul>
<li>like</li>
<li>between and</li>
<li>in</li>
<li>is null</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ¡ä»¶è¿ç®—ç¬¦</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">12000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é€»è¾‘è¿ç®—ç¬¦</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é€»è¾‘è¡¨è¾¾å¼ç­›é€‰</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">10000</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">20000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¥½åƒä¸‰ä¸ªä¸å¤ªä¸€æ ·</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">not</span><span class="p">(</span><span class="n">department_id</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">120</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">15000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">15000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="n">department_id</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">120</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">15000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p>æ¨¡ç³ŠæŸ¥è¯¢</p>
<ul>
<li>like</li>
<li>ä¸€èˆ¬å’Œé€šé…ç¬¦ä½¿ç”¨
<ul>
<li>% 0åˆ°ä»»æ„ä¸ªå­—ç¬¦</li>
<li>_ ä»»æ„ä¸€ä¸ªå­—ç¬¦</li>
</ul>
</li>
<li>between and</li>
<li>in</li>
<li>is null | is not null</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ¨¡ç³ŠæŸ¥è¯¢</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%a%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;__e_a%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœä¸æƒ³ä½¿ç”¨è½¬ä¹‰å­—ç¬¦</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">ç¬¬äºŒä¸ªå­—ç¬¦å°±æ˜¯</span><span class="n">_</span><span class="w"> </span><span class="err">è€Œä¸æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦çš„è¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;_\_%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æˆ–è€…ä½¿ç”¨ä»¥ä¸‹è¿™ç§</span><span class="w"> </span><span class="err">ä½¿ç”¨</span><span class="k">ESCAPE</span><span class="w"> </span><span class="err">æ¥å–æ¶ˆè½¬ä¹‰</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;_$_%&#39;</span><span class="w"> </span><span class="k">escape</span><span class="w"> </span><span class="s1">&#39;$&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;_h_%&#39;</span><span class="w"> </span><span class="k">escape</span><span class="w"> </span><span class="s1">&#39;h&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="between-and">between and</h5>
<ul>
<li>æé«˜è¯­å¥ç®€æ´åº¦</li>
<li>å·¦å³éƒ½åŒ…å«ä¸´ç•Œå€¼</li>
<li>ä¸èƒ½é¢ å€’é¡ºåº</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å·¦é—­å³é—­</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">120</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="in-åˆ¤æ–­æŸå­—æ®µçš„å€¼æ˜¯å¦å±äºinåˆ—è¡¨ä¸­çš„æŸä¸€é¡¹">in åˆ¤æ–­æŸå­—æ®µçš„å€¼æ˜¯å¦å±äºinåˆ—è¡¨ä¸­çš„æŸä¸€é¡¹</h5>
<ul>
<li>
<p>ä½¿ç”¨ in æé«˜è¯­å¥çš„ç®€æ´åº¦</p>
</li>
<li>
<p>in åˆ—è¡¨çš„å€¼ç±»å‹å¿…é¡»ä¸€è‡´æˆ–å…¼å®¹</p>
</li>
<li>
<p>in ä¸æ”¯æŒé€šé…ç¬¦  æ¯•ç«Ÿä¸æ˜¯likeå…³é”®å­—</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s1">&#39;IT_PROG&#39;</span><span class="p">,</span><span class="s1">&#39;AD_VP&#39;</span><span class="p">,</span><span class="s1">&#39;AD_PRES&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="is-null">is null</h5>
<ul>
<li>= æˆ– &lt;&gt; ä¸èƒ½ç”¨äºåˆ¤æ–­nullå€¼</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="is-not-null">is not null</h5>
<h5 id="å®‰å…¨ç­‰äº---">å®‰å…¨ç­‰äº   &lt;=&gt;</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å®‰å…¨ç­‰äºå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸ºç©º</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å®‰å…¨ç­‰äºä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯æŸä¸ªæ•°å€¼</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Greenberg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Errazuriz</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Higgins</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å®‰å…¨ç­‰äºå’Œis-null-çš„åŒºåˆ«">å®‰å…¨ç­‰äºå’Œis null çš„åŒºåˆ«</h5>
<p>is null ä»…ä»…å¯ä»¥åˆ¤æ–­nullå€¼ , å¯è¯»æ€§è¾ƒé«˜ , å»ºè®®ä½¿ç”¨</p>
<p>&lt;=&gt; æ—¢å¯ä»¥åˆ¤æ–­nullå€¼,åˆå¯ä»¥åˆ¤æ–­æ™®é€šçš„æ•°å€¼</p>
<h5 id="å¤ä¹ ä¸€ä¸‹">å¤ä¹ ä¸€ä¸‹</h5>
<h5 id="mysql">mysql</h5>
<h5 id="ä¸mysqlçš„ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦">ä¸mysqlçš„ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦</h5>
<h5 id="æ•°æ®åº“çš„å¥½å¤„-1">æ•°æ®åº“çš„å¥½å¤„</h5>
<ol>
<li>æŒä¹…åŒ–æ•°æ®åˆ°æœ¬åœ°</li>
<li>ç»“æ„åŒ–æŸ¥è¯¢</li>
</ol>
<h5 id="æ•°æ®åº“çš„å¸¸è§æ¦‚å¿µ">æ•°æ®åº“çš„å¸¸è§æ¦‚å¿µ</h5>
<ol>
<li>DB æ•°æ®åº“,å­˜å‚¨æ•°æ®çš„å®¹å™¨</li>
<li>DBMS æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ, åˆç§°ä¸ºæ•°æ®åº“è½¯ä»¶æˆ–æ•°æ®åº“äº§å“,ç”¨äºåˆ›å»ºæˆ–ç®¡ç†DB</li>
<li>SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ ,ç”¨äºå’Œæ•°æ®åº“é€šä¿¡çš„è¯­è¨€,ä¸æ˜¯æŸä¸ªæ•°æ®åº“è½¯ä»¶ç‰¹æœ‰çš„,è€Œæ˜¯å‡ ä¹æ‰€æœ‰çš„ä¸»æµæ•°æ®åº“è½¯ä»¶é€šç”¨çš„è¯­è¨€</li>
</ol>
<h5 id="æ•°æ®åº“å­˜å‚¨çš„ç‰¹ç‚¹">æ•°æ®åº“å­˜å‚¨çš„ç‰¹ç‚¹</h5>
<ol>
<li>æ•°æ®å­˜æ”¾åˆ°è¡¨ä¸­,ç„¶åè¡¨å†å­˜æ”¾åˆ°åº“ä¸­</li>
<li>ä¸€ä¸ªåº“ä¸­å¯ä»¥æœ‰å¤šå¼ è¡¨,æ¯å¼ è¡¨å…·æœ‰å”¯ä¸€çš„è¡¨åç”¨ä»¥æ ‡è¯†è‡ªå·±</li>
<li>è¡¨æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—,åˆ—åˆç§°ä¸ºå­—æ®µ,ç›¸å½“äºjavaä¸­çš„å±æ€§</li>
<li>è¡¨ä¸­çš„æ¯ä¸€è¡Œæ•°æ®,ç›¸å½“äºjavaä¸­çš„å¯¹è±¡</li>
</ol>
<h5 id="å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ">å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h5>
<p>mysq oracle db2 sqlserver</p>
<h5 id="mysqlçš„ä»‹ç»">mysqlçš„ä»‹ç»</h5>
<h5 id="mysqlçš„èƒŒæ™¯">mysqlçš„èƒŒæ™¯</h5>
<p>å‰èº«å±äºç‘å…¸çš„ä¸€å®¶å…¬å¸ mysql ab , 08è¢«sunæ”¶è´­ , 09å¹´è¢«oracleæ”¶è´­</p>
<h5 id="mysqlçš„ä¼˜ç‚¹">mysqlçš„ä¼˜ç‚¹</h5>
<ol>
<li>å¼€æºå…è´¹æˆæœ¬ä½</li>
<li>æ€§èƒ½é«˜ , ç§»æ¤æ€§å¥½</li>
<li>ä½“ç§¯å°,ä¾¿äºå®‰è£…</li>
</ol>
<h5 id="mysqlçš„å®‰è£…">mysqlçš„å®‰è£…</h5>
<p>å±äºc/sæ¶æ„çš„è½¯ä»¶,ä¸€èˆ¬æ¥è®²æ˜¯å®‰è£…æœåŠ¡ç«¯</p>
<p>ä¼ä¸šç‰ˆ/ç¤¾åŒºç‰ˆ</p>
<p>ç¯å¢ƒå˜é‡é…ç½®</p>
<h5 id="mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢-1">mysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</h5>
<p>net start mysql</p>
<p>å›¾å½¢åŒ–ç•Œé¢é‡Œå¼€æœåŠ¡</p>
<h5 id="mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º">mysqlæœåŠ¡çš„ç™»é™†å’Œé€€å‡º</h5>
<p>mysql -h localhost -P 3306 -u root -p123456</p>
<p>exitæˆ–è€…ctrl+C</p>
<h5 id="dqlè¯­è¨€">DQLè¯­è¨€</h5>
<h5 id="åŸºç¡€æŸ¥è¯¢-1">åŸºç¡€æŸ¥è¯¢</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å</p>
<p>ç‰¹ç‚¹</p>
<ol>
<li>æŸ¥è¯¢åˆ—è¡¨å¯ä»¥æ˜¯å­—æ®µ/å¸¸é‡ / è¡¨è¾¾å¼/ å‡½æ•°/ ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª</li>
<li>æŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨</li>
</ol>
<p>ç¤ºä¾‹</p>
<h5 id="æŸ¥è¯¢å•ä¸ªå­—æ®µ">æŸ¥è¯¢å•ä¸ªå­—æ®µ</h5>
<p>select å­—æ®µå from è¡¨å  ;</p>
<h5 id="æŸ¥è¯¢å¤šä¸ªå­—æ®µ">æŸ¥è¯¢å¤šä¸ªå­—æ®µ</h5>
<p>select å­—æ®µå , å­—æ®µå from è¡¨å ;</p>
<h5 id="æŸ¥è¯¢æ‰€æœ‰å­—æ®µ">æŸ¥è¯¢æ‰€æœ‰å­—æ®µ</h5>
<p>select * from è¡¨å ;</p>
<h5 id="æŸ¥è¯¢å¸¸é‡">æŸ¥è¯¢å¸¸é‡</h5>
<p>select å¸¸é‡ as &hellip; ;</p>
<p><strong>æ³¨æ„:å­—ç¬¦å‹å’Œæ—¥æœŸå‹çš„å¸¸é‡å€¼å¿…é¡»ç”¨å•å¼•å·å¼•èµ·æ¥,æ•°å€¼å‹ä¸éœ€è¦</strong></p>
<h5 id="æŸ¥è¯¢å‡½æ•°">æŸ¥è¯¢å‡½æ•°</h5>
<p>select å‡½æ•°å(å®å‚åˆ—è¡¨) ;</p>
<h5 id="æŸ¥è¯¢è¡¨è¾¾å¼">æŸ¥è¯¢è¡¨è¾¾å¼</h5>
<p>select 100%98 ;</p>
<h5 id="èµ·åˆ«å">èµ·åˆ«å</h5>
<ol>
<li>as</li>
<li>ç©ºæ ¼</li>
</ol>
<h5 id="å»é‡">å»é‡</h5>
<p>distinct åªèƒ½ç»™ä¸€ä¸ªå‚æ•°ç”¨</p>
<h5 id="å·çš„ä½œç”¨">+å·çš„ä½œç”¨</h5>
<p>åªèƒ½åšåŠ æ³•è¿ç®—</p>
<p>select æ•°å€¼+æ•°å€¼ ; ç›´æ¥è¿ç®—</p>
<p>select å­—ç¬¦ +æ•°å€¼ ; å°è¯•éšå¼è½¬æ¢ç„¶åè¿ç®— , æˆåŠŸå°±æˆåŠŸ,ä¸æˆåŠŸå°±æ˜¯0+æ•°å€¼</p>
<p>select null + æ•°å€¼; è¿”å›null</p>
<h5 id="concatå‡½æ•°">concatå‡½æ•°</h5>
<p>æ‹¼æ¥å­—ç¬¦</p>
<p>select concat (å­—ç¬¦1 , å­—ç¬¦2 , å­—ç¬¦3 &hellip;) ;</p>
<h5 id="ifnullå‡½æ•°">ifnullå‡½æ•°</h5>
<p>åˆ¤æ–­æŸè‡ªå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnull , å¦‚æœä¸ºnull è¿”å›æŒ‡å®šçš„å€¼, å¦åˆ™è¿”å›åŸæœ¬çš„å€¼</p>
<p>select ifnull(commission_pct,0) from employees ; å¦‚æœæ˜¯nullåˆ™è¿”å›0 , å¦‚æœä¸æ˜¯null , åˆ™è¿”å›åŸå€¼</p>
<h5 id="isnullå‡½æ•°">isnullå‡½æ•°</h5>
<p>åˆ¤æ–­æ˜¯ä¸æ˜¯null , æ˜¯çš„è¯è¿”å›1 , å¦çš„è¯å°±è¿”å›0</p>
<h5 id="æ¡ä»¶æŸ¥è¯¢">æ¡ä»¶æŸ¥è¯¢</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å where ç­›é€‰æ¡ä»¶</p>
<p>ç­›é€‰æ¡ä»¶çš„åˆ†ç±»</p>
<ol>
<li>ç®€å•æ¡ä»¶è¿ç®—ç¬¦ &gt; &lt; = &lt;&gt; &lt;=&gt; &gt;= &lt;=</li>
<li>é€»è¾‘è¿ç®—ç¬¦  || &amp;&amp; ! and or not</li>
<li>æ¨¡ç³ŠæŸ¥è¯¢</li>
</ol>
<p>like in is null is not null between and</p>
<p>like :ä¸€èˆ¬æ­é…é€šé…ç¬¦ä½¿ç”¨, ç”¨äºåˆ¤æ–­å­—ç¬¦å‹æ•°å€¼, <strong>åœ¨5.5ç‰ˆæœ¬ä¹‹å , ä¹Ÿå¯ä»¥åˆ¤æ–­intç±»å‹çš„</strong> , % å’Œ _ åŒºåˆ«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;1__&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Nancy</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Greenberg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NGREENBE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4569</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1998</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">109</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Daniel</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Faviet</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">DFAVIET</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4169</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1998</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">John</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Chen</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">JCHEN</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4269</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8200</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">111</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ismael</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Sciarra</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">ISCIARRA</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4369</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7700</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">112</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Jose</span><span class="w"> </span><span class="n">Manuel</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Urman</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">JMURMAN</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4469</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7800</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">113</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Luis</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Popp</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">LPOPP</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">124</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FI_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6900</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">205</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Shelley</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Higgins</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">SHIGGINS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">8080</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">206</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">William</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Gietz</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">WGIETZ</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">8181</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">205</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+-----------+----------+--------------+------------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="is-null-å’Œ-çš„åŒºåˆ«">is null å’Œ&lt;=&gt; çš„åŒºåˆ«</h5>
<p>is null åªä¼šåˆ¤æ–­null</p>
<p>&lt;=&gt; ä¸ä»…åˆ¤æ–­null è¿˜å¯ä»¥æ™®é€šç±»å‹çš„æ•°å€¼</p>
<h5 id="æ’åºæŸ¥è¯¢">æ’åºæŸ¥è¯¢</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ where ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨ asc|desc</p>
<p><strong>é»˜è®¤æ˜¯asc å‡åº</strong></p>
<p>æ”¯æŒå•ä¸ªå­—æ®µ/å¤šä¸ªå­—æ®µ/è¡¨è¾¾å¼/å‡½æ•°/åˆ«å</p>
<p>order by ä¸€èˆ¬æ˜¯æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€åé¢ limitå­å¥é™¤å¤–</p>
<ul>
<li>æŒ‰è¡¨è¾¾å¼æ’åº</li>
<li>æŒ‰å­—æ®µæ’åº</li>
<li>æŒ‰åˆ«åæ’åº</li>
<li>æŒ‰å‡½æ•°æ’åº</li>
<li>æŒ‰å¤šå­—æ®µæ’åº</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="err">é»˜è®¤å‡åº</span><span class="w"> </span><span class="k">asc</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">90</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">hiredate</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="o">*</span><span class="err">å¿…é¡»æ”¾åœ¨å‰é¢</span><span class="w"> </span><span class="err">å¯ä»¥æŒ‰ç…§è¡¨è¾¾å¼æ’åº</span><span class="w"> </span><span class="err">ä¹Ÿå¯ä»¥æŒ‰ç…§åˆ«åæ’åº</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="mi">12</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="k">as</span><span class="w"> </span><span class="err">å¹´è–ª</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹´è–ª</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">æŒ‰ç…§å‡½æ•°æ’åº</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åŒé‡æ’åº</span><span class="w"> </span><span class="err">å…ˆæŒ‰ç…§å·¥èµ„å‡åºæ’</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å†æŒ‰ç…§å‘˜å·¥ç¼–å·é™åºæ’</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p>ç»ƒä¹ </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">ifnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å¹´è–ª</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹´è–ª</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä»¥ä¸‹ç”¨æ³•</span><span class="w"> </span><span class="err">é”™è¯¯</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="err">ä¸èƒ½</span><span class="w"> </span><span class="err">æŒ‰ç…§</span><span class="w"> </span><span class="err">åˆ«åæ¥</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">not</span><span class="p">(</span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">8000</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">17000</span><span class="p">)</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä»¥ä¸‹ç”¨æ³•</span><span class="w"> </span><span class="err">æ­£ç¡®</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">not</span><span class="p">(</span><span class="n">salary</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">8000</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">17000</span><span class="p">)</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥è¿™æ ·</span><span class="w"> </span><span class="err">ç›´æ¥</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="k">and</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">8000</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">17000</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥èµ„</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%e%&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="å¸¸è§å‡½æ•°">å¸¸è§å‡½æ•°</h5>
<p>åŠŸèƒ½:ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•,å°†ä¸€ç»„é€»è¾‘è¯­å¥å°è£…åœ¨æ–¹æ³•ä½“ä¸­,å¯¹å¤–æš´éœ²æ–¹æ³•å</p>
<p>å¥½å¤„:1.éšè—äº†å®ç°ç»†èŠ‚ 2.æé«˜ä»£ç çš„é‡ç”¨æ€§</p>
<p>è°ƒç”¨: select å‡½æ•°å(å®å‚åˆ—è¡¨)  [from è¡¨] ;</p>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>å«ä»€ä¹ˆ å‡½æ•°å</li>
<li>å¹²ä»€ä¹ˆ å‡½æ•°åŠŸèƒ½</li>
</ul>
<p>åˆ†ç±»ï¼š</p>
<ul>
<li>å•è¡Œå‡½æ•°
<ul>
<li>å­—ç¬¦å‡½æ•° length concat substr substring replace lpad rpad upper lower instr trim</li>
<li>æ•°å­¦å‡½æ•° mod floor round ceil  truncate</li>
<li>æ—¥æœŸå‡½æ•° now curdate curtime year month monthname day hour minute second date_format str_to_date</li>
<li>å…¶ä»–å‡½æ•°</li>
<li>æµç¨‹æ§åˆ¶å‡½æ•°</li>
<li>concat / length / ifnull ç­‰</li>
</ul>
</li>
<li>åˆ†ç»„å‡½æ•°
<ul>
<li>åšç»Ÿè®¡ä½¿ç”¨ åˆç§°ä¸ºç»Ÿè®¡å‡½æ•°ã€èšåˆå‡½æ•°ã€ç»„å‡½æ•°</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥çœ‹å­—èŠ‚é•¿åº¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;lalala&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;lalala&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹å­—èŠ‚é•¿åº¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">length</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;æ—å¥æ ‘&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;æ—å¥æ ‘&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                 </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å±•ç¤ºå­—ç¬¦é›†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%char%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_database</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_filesystem</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">binary</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_results</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_server</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_system</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb3</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_sets_dir</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Program</span><span class="w"> </span><span class="n">Files</span><span class="err">\</span><span class="n">MySQL</span><span class="err">\</span><span class="n">MySQL</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="err">\</span><span class="k">share</span><span class="err">\</span><span class="n">charsets</span><span class="err">\</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‹¼æ¥å­—ç¬¦</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="k">upper</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">lower</span><span class="w"> 
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">upper</span><span class="p">(</span><span class="s1">&#39;aaabbbccc&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">lower</span><span class="p">(</span><span class="s1">&#39;aBc&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å‡½æ•°åµŒå¥—</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="k">lower</span><span class="p">(</span><span class="n">last_name</span><span class="p">),</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="k">upper</span><span class="p">(</span><span class="n">first_name</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">substr</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">substring</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">sqlä¸­ç´¢å¼•ä»1å¼€å§‹</span><span class="w">
</span><span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ&#39;</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">é™†å±•å…ƒ</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å‡½æ•°çš„é‡è½½</span><span class="w"> </span><span class="err">ä»æŒ‡å®šç´¢å¼•å‡ºæŒ‡å®šå­—ç¬¦é•¿åº¦çš„å­—ç¬¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">&#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">&#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æè«æ„</span><span class="w">                              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="k">upper</span><span class="p">(</span><span class="k">substring</span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span><span class="n">substr</span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">instr</span><span class="w"> </span><span class="err">åˆ¤æ–­æ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="err">è¿”å›çš„æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</span><span class="w"> </span><span class="err">ç´¢å¼•ä»ç„¶ä»</span><span class="mi">1</span><span class="err">å¼€å§‹</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¦‚æœæ‰¾ä¸åˆ°è¿”å›</span><span class="mi">0</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">instr</span><span class="p">(</span><span class="s1">&#39;æ¨ä¸æ‚”çˆ±ä¸Šäº†å°¹æŸ³éœ&#39;</span><span class="p">,</span><span class="s1">&#39;å°¹æŸ³éœ&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">instr</span><span class="p">(</span><span class="s1">&#39;æ¨ä¸æ‚”çˆ±ä¸Šäº†å°¹æŸ³éœ&#39;</span><span class="p">,</span><span class="s1">&#39;å°¹æŸ³éœ&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                                    </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">instr</span><span class="p">(</span><span class="s1">&#39;æ¨ä¸æ‚”å°¹æŸ³éœçˆ±ä¸Šäº†å°¹æŸ³éœ&#39;</span><span class="p">,</span><span class="s1">&#39;å°¹æŸ³éœ&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">trim</span><span class="w"> </span><span class="err">å»ç©ºæ ¼</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;   å¼ ç¿ å±±   &#39;</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">length</span><span class="w"> </span><span class="p">(</span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;    å¼ ç¿ å±±   &#39;</span><span class="p">))</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+--------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;   å¼ ç¿ å±±   &#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="w"> </span><span class="p">(</span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;    å¼ ç¿ å±±   &#39;</span><span class="p">))</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+--------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                     </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">                              </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+--------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">trim</span><span class="w"> </span><span class="err">å¯ä»¥å»æ‰æŒ‡å®šçš„å­—ç¬¦æˆ–è€…å­—ç¬¦ä¸²</span><span class="w"> </span><span class="err">ä¸­é—´ä¸ä¼šå»æ‰çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s1">&#39;aabbaaccaa&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">bbaacc</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">trim</span><span class="w"> </span><span class="err">åªæ˜¯æŒ‰ç…§å•ä½å»å»çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s1">&#39;aaabbaaccaaa&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">abbaacca</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">lpad</span><span class="w"> </span><span class="err">ç”¨æŒ‡å®šçš„å­—ç¬¦æ¥å®ç°å·¦å¡«å……æŒ‡å®šé•¿åº¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;æ®·ç´ ç´ &#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;æ®·ç´ ç´ &#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">*******</span><span class="err">æ®·ç´ ç´ </span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;97&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;97&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">097</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">lpad</span><span class="w"> </span><span class="err">å¦‚æœé•¿åº¦è¶…è¿‡äº†</span><span class="w"> </span><span class="err">åè€Œä¼šå‘ç”Ÿæˆªæ–­</span><span class="w"> </span><span class="err">ä»å·¦è¾¹å¼€å§‹å‘å³è¾¹æˆªæ–­</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;101&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;101&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="w">                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">RpadåŒç†</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">replaceæ›¿æ¢</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">replace</span><span class="p">(</span><span class="s1">&#39;å¼ æ— å¿Œçˆ±ä¸Šäº†å‘¨èŠ·è‹¥&#39;</span><span class="p">,</span><span class="s1">&#39;å‘¨èŠ·è‹¥&#39;</span><span class="p">,</span><span class="s1">&#39;èµµæ•&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œçˆ±ä¸Šäº†èµµæ•</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">replace</span><span class="w"> </span><span class="err">å‡¡æ˜¯æœ‰çš„å…¨éƒ¨æ›¿æ¢å–”</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">replace</span><span class="p">(</span><span class="s1">&#39;å‘¨èŠ·è‹¥å¼ æ— å¿Œçˆ±ä¸Šäº†å‘¨èŠ·è‹¥&#39;</span><span class="p">,</span><span class="s1">&#39;å‘¨èŠ·è‹¥&#39;</span><span class="p">,</span><span class="s1">&#39;èµµæ•&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•å¼ æ— å¿Œçˆ±ä¸Šäº†èµµæ•</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ•°å­¦å‡½æ•°">æ•°å­¦å‡½æ•°</h5>
<p>round å››èˆäº”å…¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">round</span><span class="w"> </span><span class="err">å››èˆäº”å…¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">round</span><span class="w"> </span><span class="err">ä¸¤ä¸ªå‚æ•°æ—¶</span><span class="p">,</span><span class="err">åé¢çš„å‚æ•°æ˜¯å€¼æŒ‰å°æ•°ç‚¹åå‡ ä½æ¥å››èˆäº”å…¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="mi">4</span><span class="p">.</span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">65</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">             </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">ceil</span><span class="w"> </span><span class="err">å‘ä¸Šå–æ•´</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">ceil</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">001</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">ceil</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">001</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">floor</span><span class="w"> </span><span class="err">å‘ä¸‹å–æ•´</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">01</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">01</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="o">-</span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="k">truncate</span><span class="w"> </span><span class="err">æˆªæ–­</span><span class="w"> </span><span class="err">ä¿ç•™å°æ•°ç‚¹åå‡ ä½</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">truncate</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">6999</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">truncate</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">6999</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">               </span><span class="mi">1</span><span class="p">.</span><span class="mi">69</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">mod</span><span class="w"> </span><span class="err">å–ä½™è¿ç®—</span><span class="w"> </span><span class="n">a</span><span class="o">-</span><span class="n">a</span><span class="o">/</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">bä¼šå‘ç”Ÿæˆªæ–­çš„å¯èƒ½</span><span class="w"> </span><span class="err">æ‰€ä»¥è¿™ä¸ªç­‰å¼æ²¡æ¯›ç—…</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="k">mod</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">  </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="k">mod</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">mod</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">åªè¦è¢«é™¤æ•°æ˜¯</span><span class="o">-</span><span class="w"> </span><span class="err">å°±æ˜¯</span><span class="o">-</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">mod</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">mod</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ—¥æœŸå‡½æ•°">æ—¥æœŸå‡½æ•°</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="err">è¿”å›å½“å‰ç³»ç»Ÿæ—¥æœŸ</span><span class="w"> </span><span class="err">åŒ…å«æ—¶é—´</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">now</span><span class="p">()</span><span class="w">               </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="n">curdate</span><span class="w"> </span><span class="err">è¿”å›å½“å‰æ—¥æœŸ</span><span class="w"> </span><span class="err">ä¸åŒ…å«æ—¶é—´</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">curdate</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">curdate</span><span class="p">()</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="n">curtime</span><span class="w"> </span><span class="err">è¿”å›å½“å‰æ—¶é—´</span><span class="w"> </span><span class="err">ä¸åŒ…å«æ—¥æœŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">curtime</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">curtime</span><span class="p">()</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">21</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è·å–æŒ‡å®šçš„éƒ¨åˆ†</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¹´</span><span class="w"> </span><span class="err">æœˆ</span><span class="w"> </span><span class="err">æ—¥</span><span class="w"> </span><span class="err">æ—¶</span><span class="w"> </span><span class="err">åˆ†</span><span class="w"> </span><span class="err">ç§’</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">year</span><span class="p">(</span><span class="n">now</span><span class="p">())</span><span class="w"> </span><span class="err">å¹´</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">month</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1998-1-1&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">æœˆ</span><span class="p">,</span><span class="w"> </span><span class="k">day</span><span class="p">(</span><span class="n">curdate</span><span class="p">())</span><span class="err">æ—¥</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¹´</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">æœˆ</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">æ—¥</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">è·å–æœˆä»½çš„è‹±æ–‡</span><span class="w"> 
</span><span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">monthname</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w"> </span><span class="err">æœˆä»½è‹±æ–‡</span><span class="p">,</span><span class="w"> </span><span class="k">year</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœˆä»½è‹±æ–‡</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">year</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">April</span><span class="w">     </span><span class="o">|</span><span class="w">           </span><span class="mi">1992</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">April</span><span class="w">     </span><span class="o">|</span><span class="w">           </span><span class="mi">1992</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">æ—¥æœŸè½¬æ¢å‡½æ•°</span><span class="w"> </span><span class="n">str_to_date</span><span class="p">()</span><span class="w"> </span><span class="n">date_format</span><span class="p">()</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">str_to_date</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;9--10--2021&#39;</span><span class="p">,</span><span class="s1">&#39;%m--%d--%Y&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">date_format</span><span class="p">(</span><span class="s1">&#39;2021-09-20&#39;</span><span class="p">,</span><span class="s1">&#39;%yå¹´%mæœˆ%dæ—¥&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">out_put</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">out_put</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">21</span><span class="err">å¹´</span><span class="mi">09</span><span class="err">æœˆ</span><span class="mi">20</span><span class="err">æ—¥</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">å‰ç«¯ä¼ è¿›æ¥çš„æ˜¯å­—ç¬¦ä¸²</span><span class="w"> </span><span class="err">è€Œä¸”æ ¼å¼ä¸ä¸€</span><span class="w"> </span><span class="err">æˆ‘ä»¬è¦ä½¿ç”¨å‡½æ•°æ¥å°†å­—ç¬¦ä¸²åšå¤„ç†</span><span class="w"> </span><span class="err">è§£ææˆæƒ³è¦çš„æ ¼å¼</span><span class="w"> </span><span class="err">ç„¶åå†åˆ°æ•°æ®åº“ä¸­æŸ¥æ‰¾</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">hiredate</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">hiredate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_to_date</span><span class="p">(</span><span class="s1">&#39;4-3 1992&#39;</span><span class="p">,</span><span class="s1">&#39;%c-%d %Y&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ•°æ®åº“è¿™è¾¹ä¹Ÿéœ€è¦åšå¥½ç›¸åº”çš„å¤„ç†</span><span class="w"> </span><span class="err">å°†æ—¥æœŸå¤„ç†æˆå¯¹åº”æ ¼å¼å­—ç¬¦ä¸²ç„¶åè¿”å›å›å»</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="n">date_format</span><span class="p">(</span><span class="n">hiredate</span><span class="p">,</span><span class="s1">&#39;%mæœˆ/%dæ—¥ %yå¹´&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å…¥èŒæ—¥æœŸ</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å…¥èŒæ—¥æœŸ</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">04</span><span class="err">æœˆ</span><span class="o">/</span><span class="mi">03</span><span class="err">æ—¥</span><span class="w"> </span><span class="mi">92</span><span class="err">å¹´</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">04</span><span class="err">æœˆ</span><span class="o">/</span><span class="mi">03</span><span class="err">æ—¥</span><span class="w"> </span><span class="mi">92</span><span class="err">å¹´</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210920161042293.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210920161042293.png"
			
			
			
			loading="lazy"
			alt="image-20210920161042293">
	</a>
	
	<figcaption>image-20210920161042293</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210920161613677.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210920161613677.png"
			
			
			
			loading="lazy"
			alt="image-20210920161613677">
	</a>
	
	<figcaption>image-20210920161613677</figcaption>
	
</figure></p>
<h5 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">version</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">version</span><span class="p">()</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">24</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">myemployees</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">user</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">user</span><span class="p">()</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="o">@</span><span class="n">localhost</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æµç¨‹æ§åˆ¶å‡½æ•°">æµç¨‹æ§åˆ¶å‡½æ•°</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="w"> </span><span class="n">IFå‡½æ•°</span><span class="w"> </span><span class="n">trueå°±æ˜¯ç¬¬äºŒä¸ªå‚æ•°</span><span class="w"> </span><span class="n">falseå°±æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;æ²¡å¥–é‡‘ å‘µå‘µ&#39;</span><span class="p">,</span><span class="s1">&#39;æœ‰å¥–é‡‘ å˜»å˜»&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æœ‰å¥–é‡‘</span><span class="w"> </span><span class="err">å˜»å˜»</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æœ‰å¥–é‡‘</span><span class="w"> </span><span class="err">å˜»å˜»</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="n">mysqlä¸­é»˜è®¤</span><span class="w"> </span><span class="mi">0</span><span class="err">å°±æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°</span><span class="w"> </span><span class="mi">1</span><span class="err">å°±æ˜¯ç¬¬äºŒä¸ªå‚æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">),</span><span class="s1">&#39;æ²¡å¥–é‡‘ å‘µå‘µ&#39;</span><span class="p">,</span><span class="s1">&#39;æœ‰å¥–é‡‘ å˜»å˜»&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ²¡å¥–é‡‘</span><span class="w"> </span><span class="err">å‘µå‘µ</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ²¡å¥–é‡‘</span><span class="w"> </span><span class="err">å‘µå‘µ</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">),</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;æ²¡å¥–é‡‘ å‘µå‘µ &#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;æœ‰å¥–é‡‘ å˜»å˜» &#39;</span><span class="p">,</span><span class="n">commission_pct</span><span class="p">))</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¤‡æ³¨</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ²¡å¥–é‡‘</span><span class="w"> </span><span class="err">å‘µå‘µ</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ²¡å¥–é‡‘</span><span class="w"> </span><span class="err">å‘µå‘µ</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">case</span><span class="w"> </span><span class="err">å‡½æ•°</span><span class="w"> </span><span class="err">ç›¸å½“äº</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="n">caseçš„æ•ˆæœ</span><span class="w">
</span><span class="w"></span><span class="cm">/*
</span><span class="cm">	case è¦åˆ¤æ–­çš„å­—æ®µæˆ–è€…è¡¨è¾¾å¼
</span><span class="cm">	when å¸¸é‡1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1
</span><span class="cm">	when å¸¸é‡2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2
</span><span class="cm">	...
</span><span class="cm">	else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n
</span><span class="cm">	end
</span><span class="cm">*/</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="err">åŸå§‹å·¥èµ„</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="p">,</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="mi">1</span><span class="p">.</span><span class="mi">3</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">end</span><span class="w">  </span><span class="k">as</span><span class="w"> </span><span class="err">æ–°å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">åŸå§‹å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ–°å·¥èµ„</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">case</span><span class="w"> </span><span class="err">å¤šé‡</span><span class="n">ifç±»ä¼¼äº</span><span class="w">
</span><span class="w"></span><span class="cm">/*
</span><span class="cm">	case 
</span><span class="cm">	when æ¡ä»¶1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1
</span><span class="cm">	when æ¡ä»¶2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2
</span><span class="cm">	...
</span><span class="cm">	else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n
</span><span class="cm">	end
</span><span class="cm">*/</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">20000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">15000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">10000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">å·¥èµ„çº§åˆ«</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å·¥èµ„çº§åˆ«</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">        </span><span class="o">|</span><span class="w">
</span></code></pre></div><p>ç»ƒä¹ </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="o">`</span><span class="k">new</span><span class="w"> </span><span class="n">salary</span><span class="o">`</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">szm</span><span class="w"> </span><span class="p">,</span><span class="k">length</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">`</span><span class="k">length</span><span class="o">`</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">szm</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">szm</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Austin</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">    </span><span class="o">|</span><span class="w">      </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Atkinson</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">    </span><span class="o">|</span><span class="w">      </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">last_name</span><span class="p">,</span><span class="s1">&#39; earns &#39;</span><span class="w"> </span><span class="p">,</span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39; monthly but wants &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="mi">3</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">`</span><span class="n">Dream</span><span class="w"> </span><span class="n">Salary</span><span class="o">`</span><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Dream</span><span class="w"> </span><span class="n">Salary</span><span class="w">                                        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w"> </span><span class="n">earns</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">monthly</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">wants</span><span class="w"> </span><span class="mi">72000</span><span class="p">.</span><span class="mi">00</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w"> </span><span class="n">earns</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">monthly</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">wants</span><span class="w"> </span><span class="mi">51000</span><span class="p">.</span><span class="mi">00</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;AD_PRES&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;ST_MAN&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="s1">&#39;IT_PROG&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="k">end</span><span class="w">  </span><span class="n">grade</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">job</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w">
</span></code></pre></div><h5 id="åˆ†ç»„å‡½æ•°">åˆ†ç»„å‡½æ•°</h5>
<p>åŠŸèƒ½:ç”¨ä½œç»Ÿè®¡ä½¿ç”¨,åˆç§°ä¸ºèšåˆå‡½æ•°æˆ–ç»Ÿè®¡å‡½æ•°æˆ–ç»„å‡½æ•°</p>
<p>åˆ†ç±»:</p>
<p>sum æ±‚å’Œ avgå¹³å‡å€¼ maxæœ€å¤§å€¼ minæœ€å°å€¼ countè®¡ç®—ä¸ªæ•°</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">691400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">6461</span><span class="p">.</span><span class="mi">682243</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">     </span><span class="mi">2100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€é«˜</span><span class="p">,</span><span class="k">count</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+---------+----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å’Œ</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+---------+----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">691400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">6461</span><span class="p">.</span><span class="mi">68</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+---------+----------+------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å‚æ•°æ”¯æŒå“ªäº›ç±»å‹</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">sum</span><span class="w"> </span><span class="k">avg</span><span class="w"> </span><span class="err">ä¸æ”¯æŒå­—ç¬¦å‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">              </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="k">min</span><span class="w"> </span><span class="err">æ”¯æŒå­—ç¬¦å‹</span><span class="o">/</span><span class="err">æ—¥æœŸå‹</span><span class="w"> </span><span class="err">åªè¦èƒ½å¤Ÿæ’åº</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="n">minå°±èƒ½æ”¯æŒ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Zlotkey</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Abel</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------+----------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w">  </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">hiredate</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">countæ”¯æŒè®¡æ•°</span><span class="w"> </span><span class="err">è®¡çš„æ˜¯é</span><span class="n">nullçš„æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">              </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                    </span><span class="mi">35</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ¤æ–­æ˜¯å¦å¿½ç•¥</span><span class="n">nullæ¥è®¡ç®—</span><span class="w"> </span><span class="err">è¿™é‡Œè¯´æ˜</span><span class="n">sumè‚¯å®šæ˜¯æ²¡å‚ä¸</span><span class="w"> </span><span class="err">å› ä¸ºå¦‚æœæœ‰</span><span class="k">null</span><span class="w"> </span><span class="k">null</span><span class="o">+</span><span class="err">ä»»ä½•éƒ½æ˜¯</span><span class="k">null</span><span class="w"> </span><span class="err">ä¸å¯èƒ½æœ‰å€¼</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">avgä¹Ÿæ²¡æœ‰å‚ä¸</span><span class="w"> </span><span class="err">æ‰€ä»¥</span><span class="n">avgä¸å°†nullçš„é¡¹åŠ å…¥è¿ç®—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="err">æ€»è®¡</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å€¼</span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="o">/</span><span class="mi">35</span><span class="w"> </span><span class="err">æ²¡å‚ä¸</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="o">/</span><span class="mi">107</span><span class="w"> </span><span class="err">å‚ä¸äº†</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æ€»è®¡</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å€¼</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">æ²¡å‚ä¸</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å‚ä¸äº†</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">222857</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">222857</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">072897</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+----------+----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">min</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="err">ä¹Ÿå¿½ç•¥äº†</span><span class="k">null</span><span class="w"> </span><span class="err">å¦åˆ™è‚¯å®šä¼šåœ¨ä¸€å¤´å‡ºç°çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">commission_pct</span><span class="p">)</span><span class="w"> </span><span class="k">min</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥å’Œ</span><span class="k">distinct</span><span class="w"> </span><span class="err">åŒ¹é…ä½¿ç”¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="k">distinct</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å»é‡</span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">ä¸å»é‡</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å»é‡</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸å»é‡</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">397900</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">691400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="k">distinct</span><span class="p">(</span><span class="n">salary</span><span class="p">))</span><span class="w"> </span><span class="err">å‡ ç§å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å‡ ç§å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">57</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">æ„æ€æ˜¯åŠ äº†ä¸€åˆ—</span><span class="w"> </span><span class="err">é‚£ä¹ˆå½“ç„¶å°±ç­‰åŒäºç»Ÿè®¡è¡Œæ•°è¾£</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æ‰€æœ‰çš„åˆ†ç»„å‡½æ•° éƒ½å¿½ç•¥nullå€¼</strong></p>
<p><strong>å¯ä»¥å’Œdistinctæ­é…</strong></p>
<p><strong>countå‡½æ•°çš„è¯¦ç»†ä»‹ç»</strong></p>
<p>æ•ˆç‡:</p>
<p>MYISAM å­˜å‚¨å¼•æ“ä¸‹, count(*) çš„æ•ˆç‡é«˜</p>
<p>INNODBå­˜å‚¨å¼•æ“ä¸‹, count(*) å’Œ count(1) çš„æ•ˆç‡å·®ä¸å¤š,æ¯”count(å­—æ®µ) è¦é«˜ä¸€ç‚¹å„¿</p>
<p>å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µæœ‰é™åˆ¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å·²ç»ä¸å­˜åœ¨é€»è¾‘æ„ä¹‰äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">6461</span><span class="p">.</span><span class="mi">682243</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µè¦æ±‚æ˜¯group by åçš„å­—æ®µ</p>
<p>ç»ƒä¹ ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="k">max</span><span class="p">(</span><span class="n">hiredate</span><span class="p">),</span><span class="k">min</span><span class="p">(</span><span class="n">hiredate</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="k">max</span><span class="p">(</span><span class="n">hiredate</span><span class="p">),</span><span class="k">min</span><span class="p">(</span><span class="n">hiredate</span><span class="p">))</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                                  </span><span class="mi">8735</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="n">now</span><span class="p">(),</span><span class="s1">&#39;1997-11-21&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">æ´»äº†å¤šä¹…äº†</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æ´»äº†å¤šä¹…äº†</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">8705</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ†ç»„æŸ¥è¯¢">åˆ†ç»„æŸ¥è¯¢</h5>
<p>select åˆ†ç»„å‡½æ•°, åˆ—(è¦æ±‚å‡ºç°åœ¨group byçš„åé¢) from è¡¨ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„çš„åˆ—è¡¨ order by å­å¥</p>
<p>**æ³¨æ„:	**æŸ¥è¯¢åˆ—è¡¨å¿…é¡»ç‰¹æ®Š,è¦æ±‚æ˜¯åˆ†ç»„å‡½æ•°å’Œgroup by åå‡ºç°çš„å­—æ®µ</p>
<p><strong>group byå¯ä»¥ä½¿ç”¨åˆ«å</strong>  <strong>oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ</strong></p>
<p><strong>having å¯ä»¥ä½¿ç”¨åˆ«å</strong> <strong>oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ</strong></p>
<p><strong>order by å¯ä»¥ä½¿ç”¨åˆ«å oracleæ˜¯ä¸æ”¯æŒçš„ mysqlæ”¯æŒ</strong></p>
<p><strong>where ä¸å¯ä»¥ä½¿ç”¨åˆ«å</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_ASST</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="err">ä½ç½®</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">ä½ç½®</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">ä½ç½®</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1400</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="p">,</span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%a%&#39;</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+
</span><span class="c1"></span><span class="mi">11</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æœ‰å¥–é‡‘çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹å‘˜å·¥çš„æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="err">å¾ˆå¥‡æ€ª</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="err">æœ€é«˜å·¥èµ„</span><span class="p">,</span><span class="n">manager_id</span><span class="w"> </span><span class="err">é¢†å¯¼</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é¢†å¯¼</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">114</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3200</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">120</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4200</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">121</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3800</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">122</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">123</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">124</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">201</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">205</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="mi">14</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="err">æœ€é«˜å·¥èµ„</span><span class="p">,</span><span class="n">manager_id</span><span class="w"> </span><span class="err">é¢†å¯¼</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é¢†å¯¼</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">14000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">145</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">146</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">147</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">11500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">148</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">11000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">149</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="err">å…¶å®å°±æ˜¯</span><span class="k">having</span><span class="w"> </span><span class="err">åœ¨æ¯ä¸ª</span><span class="n">groupä¹‹ä¸‹çš„ç­›é€‰</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">34</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªå·¥ç§æœ‰å¥–é‡‘çš„å‘˜å·¥çš„æœ€é«˜å·¥èµ„</span><span class="o">&gt;</span><span class="mi">12000</span><span class="err">çš„å·¥ç§ç¼–å·å’Œæœ€é«˜å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="o">&gt;</span><span class="mi">12000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">14000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SA_MAN</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢é¢†å¯¼ç¼–å·</span><span class="o">&gt;</span><span class="mi">102</span><span class="err">çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹çš„æœ€ä½å·¥èµ„</span><span class="o">&gt;</span><span class="mi">5000</span><span class="err">çš„é¢†å¯¼ç¼–å·æ˜¯é‚£ä¸ª</span><span class="p">,</span><span class="err">ä»¥åŠå…¶æœ€ä½å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">manager_id</span><span class="o">&gt;</span><span class="mi">102</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="o">&gt;</span><span class="mi">5000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">6900</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">145</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h5>
<ol>
<li>åˆ†ç»„æŸ¥è¯¢ä¸­çš„ç­›é€‰æ¡ä»¶åˆ†ä¸ºä¸¤ç±»
<ol>
<li>åˆ†ç»„å‰ç­›é€‰  æ¥æºäºåŸå§‹è¡¨  æ”¾åœ¨group by å­å¥çš„å‰é¢ ä½¿ç”¨whereå…³é”®å­—</li>
<li>åˆ†ç»„åç­›é€‰  æ¥æºäºåˆ†ç»„åçš„ç»“æœé›† æ”¾åœ¨group byå­å¥çš„åé¢ ä½¿ç”¨havingå…³é”®å­—</li>
<li>åˆ†ç»„å‡½æ•° min max count avg ä½œä¸ºæ¡ä»¶è‚¯å®šæ˜¯æ”¾åœ¨havingå­å¥ä¸­</li>
<li>èƒ½ç”¨åˆ†ç»„å‰ç­›é€‰çš„,å°±ä¼˜å…ˆè€ƒè™‘æ”¾åœ¨åˆ†ç»„å‰é¢,è€ƒè™‘åˆ°æ€§èƒ½</li>
</ol>
</li>
<li>group by å­å¥æ”¯æŒå•ä¸ªå­—æ®µåˆ†ç»„,å¤šä¸ªå­—æ®µåˆ†ç»„(å¤šä¸ªå­—æ®µä¹‹é—´ç”¨é€—å·éš”å¼€,æ²¡æœ‰é¡ºåºä¹‹åˆ†),ä¹Ÿæ”¯æŒè¡¨è¾¾å¼æˆ–å‡½æ•°(è¾ƒå°‘)</li>
<li>ä¹Ÿå¯ä»¥æ·»åŠ æ’åº(æ’åºæ”¾åœ¨æ•´ä¸ªåˆ†ç»„æŸ¥è¯¢çš„æœ€å)</li>
</ol>
<h5 id="æŒ‰è¡¨è¾¾å¼æˆ–å‡½æ•°åˆ†ç»„">æŒ‰è¡¨è¾¾å¼æˆ–å‡½æ•°åˆ†ç»„</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŒ‰å‘˜å·¥å§“åçš„é•¿åº¦åˆ†ç»„</span><span class="p">,</span><span class="err">æŸ¥è¯¢æ¯ä¸€ç»„çš„å‘˜å·¥ä¸ªæ•°</span><span class="p">,</span><span class="err">ç­›é€‰åŒå­¦ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">5</span><span class="err">çš„æœ‰å“ªäº›</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="err">å§“åé•¿åº¦</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">last_name</span><span class="p">)</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å§“åé•¿åº¦</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">29</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">15</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„">æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨æ¯ä¸ªå·¥ç§çš„å‘˜å·¥çš„å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="err">äº¤æ¢</span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">çš„é¡ºåºä¸å½±å“</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5760</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w">    </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="åˆ†ç»„åæ·»åŠ æ’åº">åˆ†ç»„åæ·»åŠ æ’åº</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§ç¼–å·</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+----------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">2780</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PU_CLERK</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2785</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w">   </span><span class="o">|</span><span class="w">
</span></code></pre></div><p>ç»ƒä¹ ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="p">,</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€å¤§</span><span class="w"> </span><span class="p">,</span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€å°</span><span class="w"> </span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡</span><span class="w"> </span><span class="p">,</span><span class="k">sum</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æ€»å’Œ</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+----------+--------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€å¤§</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€å°</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="err">æ€»å’Œ</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+----------+--------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8300</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="o">-</span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="n">DIFFERENCE</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">DIFFERENCE</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">21900</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="p">,</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="err">å‘˜å·¥ç¼–å·</span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">6000</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">é¢†å¯¼ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">      </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">å‘˜å·¥æ•°é‡</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ç¼–å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥æ•°é‡</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+----------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">19333</span><span class="p">.</span><span class="mi">333333</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">      </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10150</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="err">äººæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å·¥ç§</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">äººæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="è¿æ¥æŸ¥è¯¢">è¿æ¥æŸ¥è¯¢</h5>
<p>å«ä¹‰:åˆç§°ä¸ºå¤šè¡¨æŸ¥è¯¢,å½“æŸ¥è¯¢çš„å­—æ®µæ¥è‡ªäºå¤šä¸ªè¡¨æ—¶,å°±ä¼šç”¨åˆ°è¿æ¥æŸ¥è¯¢</p>
<p>ç¬›å¡å°”ç§¯ç°è±¡: è¡¨1 æœ‰mè¡Œ è¡¨2 æœ‰nè¡Œ ç»“æœæœ‰m*nè¡Œ</p>
<p>å‘ç”ŸåŸå› :æ²¡æœ‰æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶</p>
<p>å¦‚ä½•é¿å…:æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210921141653473.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210921141653473.png"
			
			
			
			loading="lazy"
			alt="image-20210921141653473">
	</a>
	
	<figcaption>image-20210921141653473</figcaption>
	
</figure></p>
<p>æ¯ä¸ªéƒ½åŒ¹é…äº†ä¸€é , è¿™ä¸å¥½ ,éƒ½æ˜¯æˆ‘çš„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">beauty</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="n">boys</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Angelababy</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é»„æ™“æ˜</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">çƒ­å·´</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">é¹¿æ™—</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨èŠ·è‹¥</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å°æ˜­</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">ç‹è¯­å«£</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">æ®µèª‰</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+---------+
</span></code></pre></div><p>åˆ†ç±»:</p>
<ul>
<li>æŒ‰ç…§å¹´ä»£åˆ†ç±»
<ul>
<li>sql92æ ‡å‡† ä»…ä»…æ”¯æŒå†…è¿æ¥</li>
<li>sql99æ ‡å‡† [æ¨è] æ”¯æŒå†…è¿æ¥+å¤–è¿æ¥(å·¦å¤–+å³å¤–)+äº¤å‰è¿æ¥</li>
</ul>
</li>
<li>æŒ‰åŠŸèƒ½åˆ†ç±»
<ul>
<li>å†…è¿æ¥
<ul>
<li>ç­‰å€¼è¿æ¥</li>
<li>éç­‰å€¼è¿æ¥</li>
<li>è‡ªè¿æ¥</li>
</ul>
</li>
<li>å¤–è¿æ¥
<ul>
<li>å·¦å¤–è¿æ¥</li>
<li>å³å¤–è¿æ¥</li>
<li>å…¨å¤–è¿æ¥</li>
</ul>
</li>
<li>äº¤å‰è¿æ¥</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä»¥ä¸‹æ˜¯</span><span class="n">sql92æ ‡å‡†çš„ç­‰å€¼è¿æ¥ç”¨æ³•</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employees</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="n">departments</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸ºè¡¨èµ·åˆ«å</span><span class="w"> </span><span class="err">æé«˜è¯­å¥çš„ç®€æ´åº¦</span><span class="w"> </span><span class="err">åŒºåˆ†å¤šä¸ªé‡åçš„å­—æ®µ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jobs</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Gietz</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Public</span><span class="w"> </span><span class="n">Accountant</span><span class="w">               </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Higgins</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Accounting</span><span class="w"> </span><span class="n">Manager</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">äº¤æ¢è¡¨çš„å‡ºç°é¡ºåºæ˜¯å¯ä»¥çš„</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åŠ ä¸Šç­›é€‰æ¡ä»¶</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Russell</span><span class="w">    </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Partners</span><span class="w">   </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="p">.</span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">,</span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;_o%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">city</span><span class="w">                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">IT</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">Southlake</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">South</span><span class="w"> </span><span class="n">San</span><span class="w"> </span><span class="n">Francisco</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªåŸå¸‚çš„éƒ¨é—¨ä¸ªæ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">city</span><span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Southlake</span><span class="w">           </span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">South</span><span class="w"> </span><span class="n">San</span><span class="w"> </span><span class="n">Francisco</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Seattle</span><span class="w">             </span><span class="o">|</span><span class="w">       </span><span class="mi">21</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">manager_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">145</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+----------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Sales</span><span class="w"> </span><span class="n">Representative</span><span class="w">            </span><span class="o">|</span><span class="w">       </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Shipping</span><span class="w"> </span><span class="n">Clerk</span><span class="w">                  </span><span class="o">|</span><span class="w">       </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸‰è¡¨è¿æ¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">city</span><span class="w">                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Whalen</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Seattle</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Hartstein</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Toronto</span><span class="w">             </span><span class="o">|</span><span class="w">
</span></code></pre></div><p><strong>æ³¨æ„:å¦‚æœä¸ºè¡¨èµ·äº†åˆ«å,åˆ™æŸ¥è¯¢çš„å­—æ®µå°±ä¸èƒ½ä½¿ç”¨åŸæ¥çš„è¡¨åå»é™å®šäº†</strong></p>
<h5 id="sql92æ ‡å‡†">sql92æ ‡å‡†</h5>
<ol>
<li>ç­‰å€¼è¿æ¥
<ol>
<li>å¤šè¡¨ç­‰å€¼è¿æ¥çš„ç»“æœä¸ºå¤šè¡¨çš„äº¤é›†éƒ¨åˆ†</li>
<li>nè¡¨è¿æ¥,è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶</li>
<li>å¤šè¡¨çš„é¡ºåºæ²¡æœ‰è¦æ±‚</li>
<li>ä¸€èˆ¬éœ€è¦ä¸ºè¡¨å…¶åˆ«å</li>
<li>å¯ä»¥æ­é…å‰é¢ä»‹ç»çš„æ‰€æœ‰å­å¥ä½¿ç”¨,æ¯”å¦‚æ’åº/ç­›é€‰/åˆ†ç»„</li>
</ol>
</li>
<li>éç­‰å€¼è¿æ¥</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">éç­‰å€¼è¿æ¥</span><span class="w"> </span><span class="err">ä¹Ÿå¯ä»¥åŠ ä¸Šæ’åº</span><span class="o">/</span><span class="err">ç­›é€‰</span><span class="o">/</span><span class="err">åˆ†ç»„</span><span class="w">  
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_grades</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">E</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">E</span><span class="w">           </span><span class="o">|</span><span class="w">
</span></code></pre></div><p>â€‹	3.è‡ªè¿æ¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="err">å‘˜å·¥å</span><span class="w"> </span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="err">é¢†å¯¼åç§°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">manager_id</span><span class="w"> </span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥å</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="err">é¢†å¯¼åç§°</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="ç»ƒä¹ ä¸€ä¸‹">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">2100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">206</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_ACCOUNT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Gietz</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">205</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AC_MGR</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Higgins</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%a%e%&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">SA_REP</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;aabbcc&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;aabbcc&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">bbcc</span><span class="w">               </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;aa&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s1">&#39;aaabbbcccaaa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;aa&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s1">&#39;aaabbbcccaaa&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">abbbccca</span><span class="w">                        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å¤ä¹ ä¸€ä¸‹-1">å¤ä¹ ä¸€ä¸‹</h5>
<p>è¯­æ³•</p>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ where ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨ asc|desc</p>
<p>ç‰¹ç‚¹</p>
<p>asc å‡åº é»˜è®¤ desc é™åº</p>
<p>æ’åºåˆ—è¡¨ æ”¯æŒ å•ä¸ªå­—æ®µ å¤šä¸ªå­—æ®µ å‡½æ•° è¡¨è¾¾å¼ åˆ«å</p>
<p>order by ä½ç½®ä¸€èˆ¬æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å(é™¤äº†limitè¯­å¥ä¹‹å¤–)</p>
<p>å¸¸è§å‡½æ•°</p>
<p>åŠŸèƒ½:ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•</p>
<p>å¥½å¤„:æé«˜é‡ç”¨æ€§å’Œéšè—å®ç°ç»†èŠ‚</p>
<p>è°ƒç”¨:select å‡½æ•°å(å®å‚åˆ—è¡¨) ;</p>
<p>å•è¡Œå‡½æ•°</p>
<ul>
<li>å­—ç¬¦å‡½æ•° length concat substr substring upper lower instr  replace trim lpad rpad</li>
<li>æ•°å­¦å‡½æ•° truncate round ceil mod floor rand(è·å–éšæœºæ•° 0-1)</li>
<li>æ—¥æœŸå‡½æ•° curdate curtime now year month monthname day hour minute second date_format str_to_date <strong>timediff datediff</strong></li>
<li>å…¶ä»–å‡½æ•° version user database ifnull isnull <strong>md5</strong>(è‡ªåŠ¨å°†å­—ç¬¦åŠ å¯†æˆmdæ ¼å¼å¯†æ–‡)</li>
<li>æµç¨‹æ§åˆ¶å‡½æ•° if case when then else end</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="s1">&#39;lalala123&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="s1">&#39;lalala123&#39;</span><span class="p">)</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24500</span><span class="n">fa6ecaeb8300905727802af3081</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>æµç¨‹æ§åˆ¶å‡½æ•°</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">if</span><span class="p">(</span><span class="err">æ¡ä»¶è¡¨è¾¾å¼</span><span class="p">,</span><span class="w"> </span><span class="err">è¡¨è¾¾å¼</span><span class="mi">1</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">è¡¨è¾¾å¼</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="err">å¦‚æœæ¡ä»¶è¡¨è¾¾å¼æˆç«‹</span><span class="p">,</span><span class="w"> </span><span class="err">è¿”å›è¡¨è¾¾å¼</span><span class="mi">1</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¦åˆ™è¿”å›è¡¨è¾¾å¼</span><span class="mi">2</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">case</span><span class="w"> </span><span class="err">æƒ…å†µ</span><span class="mi">1</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="k">case</span><span class="w"> </span><span class="err">å˜é‡æˆ–è¡¨è¾¾å¼æˆ–å­—æ®µ</span><span class="w">
</span><span class="w">
</span><span class="w">	</span><span class="k">when</span><span class="w"> </span><span class="err">å¸¸é‡</span><span class="mi">1</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="err">å€¼</span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w">	</span><span class="k">when</span><span class="w"> </span><span class="err">å¸¸é‡</span><span class="mi">2</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="err">å€¼</span><span class="mi">2</span><span class="w">
</span><span class="w">
</span><span class="w">	</span><span class="k">else</span><span class="w"> </span><span class="err">å€¼</span><span class="n">n</span><span class="w">
</span><span class="w">
</span><span class="w"> </span><span class="k">end</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">case</span><span class="w"> </span><span class="err">æƒ…å†µ</span><span class="mi">2</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">case</span><span class="w"> 
</span><span class="w">
</span><span class="w">	</span><span class="k">when</span><span class="w"> </span><span class="err">æ¡ä»¶</span><span class="mi">1</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="err">å€¼</span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w">	</span><span class="k">when</span><span class="w"> </span><span class="err">æ¡ä»¶</span><span class="mi">2</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="err">å€¼</span><span class="mi">2</span><span class="w">
</span><span class="w">
</span><span class="w">	</span><span class="k">else</span><span class="w"> </span><span class="err">å€¼</span><span class="n">n</span><span class="w">
</span><span class="w">
</span><span class="w"> </span><span class="k">end</span><span class="w">
</span></code></pre></div><h5 id="åˆ†ç»„å‡½æ•°-1">åˆ†ç»„å‡½æ•°</h5>
<p>åˆ†ç±»</p>
<p>max min avg sum count</p>
<p>ç‰¹ç‚¹</p>
<p>select max(å­—æ®µ) from è¡¨å</p>
<p>æ”¯æŒçš„ç±»å‹</p>
<p><strong>sum å’Œ avg ä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹</strong></p>
<p><strong>max min count å¯ä»¥å¤„ç†ä»»ä½•æ•°æ®ç±»å‹</strong></p>
<p><strong>ä»¥ä¸Šåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥null</strong></p>
<p><strong>éƒ½å¯ä»¥æ­é…distinctä½¿ç”¨,å®ç°å»é‡çš„ç»Ÿè®¡</strong></p>
<p>select sum(distinct å­—æ®µ) from è¡¨ ;</p>
<p>countå‡½æ•°</p>
<p>count(å­—æ®µ) ç»Ÿè®¡è¯¥å­—æ®µéç©ºå€¼çš„ä¸ªæ•°</p>
<p>count(*) ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•°</p>
<p>count(1) ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•°</p>
<p>æ•ˆç‡ä¸Š:</p>
<p>myisam å­˜å‚¨å¼•æ“ count(*) æœ€é«˜</p>
<p>innodb å­˜å‚¨å¼•æ“ count(*)å’Œcount(1) æ•ˆç‡&gt;count(å­—æ®µ)</p>
<p>å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µ,è¦æ±‚æ˜¯group byåé¢å‡ºç°çš„å­—æ®µ</p>
<h5 id="åˆ†ç»„æŸ¥è¯¢-1">åˆ†ç»„æŸ¥è¯¢</h5>
<p>select åˆ†ç»„å‡½æ•°, åˆ†ç»„åçš„å­—æ®µ from è¡¨ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„çš„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨</p>
<p>åˆ†ç»„å‰ç­›é€‰ where åŸå§‹è¡¨ group byçš„å‰é¢</p>
<p>åˆ†ç»„åç­›é€‰ having åˆ†ç»„åçš„ç»“æœ group byçš„åé¢</p>
<h5 id="è¿æ¥æŸ¥è¯¢-1">è¿æ¥æŸ¥è¯¢</h5>
<h5 id="å«ä¹‰">å«ä¹‰</h5>
<p>å½“æŸ¥è¯¢ä¸­æ¶‰åŠåˆ°äº†å¤šä¸ªè¡¨çš„å­—æ®µ,éœ€è¦ä½¿ç”¨å¤šè¡¨è¿æ¥</p>
<p>select å­—æ®µ1 , å­—æ®µ2 from è¡¨1 , è¡¨2</p>
<p>ç¬›å¡å„¿ä¹˜ç§¯:å½“æŸ¥è¯¢å¤šä¸ªè¡¨æ—¶,æ²¡æœ‰æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶,å¯¼è‡´å¤šä¸ªè¡¨æ‰€æœ‰è¡Œå®ç°å®Œå…¨è¿æ¥</p>
<p>å¦‚ä½•è§£å†³:æ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶</p>
<h5 id="åˆ†ç±»">åˆ†ç±»</h5>
<ul>
<li>æŒ‰å¹´ä»£åˆ†ç±»
<ul>
<li>sql92
<ul>
<li>ç­‰å€¼</li>
<li>éç­‰å€¼</li>
<li>è‡ªè¿æ¥</li>
<li>ä¹Ÿæ”¯æŒä¸€éƒ¨åˆ†å¤–è¿æ¥ ç”¨äºoracle sqlserver , mysqlä¸æ”¯æŒ</li>
</ul>
</li>
<li>sql99 [æ¨èä½¿ç”¨]
<ul>
<li>å†…è¿æ¥
<ul>
<li>ç­‰å€¼</li>
<li>éç­‰å€¼</li>
<li>è‡ªè¿æ¥</li>
</ul>
</li>
<li>å¤–è¿æ¥
<ul>
<li>å·¦å¤–</li>
<li>å³å¤–</li>
<li>å…¨å¤–(mysql ä¸æ”¯æŒ)</li>
</ul>
</li>
<li>äº¤å‰è¿æ¥</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="ç­‰å€¼è¿æ¥">ç­‰å€¼è¿æ¥:</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å, è¡¨2 åˆ«å where è¡¨1.key = è¡¨2.key and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ</p>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>ä¸€èˆ¬ä¸ºè¡¨èµ·åˆ«å</li>
<li>å¤šè¡¨é¡ºåºå¯ä»¥è°ƒæ¢</li>
<li>nè¡¨è¿æ¥è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶</li>
<li>ç­‰å€¼è¿æ¥çš„ç»“æœæ˜¯å¤šè¡¨çš„äº¤é›†éƒ¨åˆ†</li>
</ul>
<h5 id="éç­‰å€¼è¿æ¥">éç­‰å€¼è¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å, è¡¨2 åˆ«å where éç­‰å€¼è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ</p>
<h5 id="è‡ªè¿æ¥">è‡ªè¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ åˆ«å1, è¡¨ åˆ«å2 where ç­‰å€¼è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºå­—æ®µ</p>
<p>ç»ƒä¹ ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Whalen</span><span class="w">      </span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Hartstein</span><span class="w">   </span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">   </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">,</span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-----------------+-------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">city</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-----------------+-------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Russell</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">2500</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Oxford</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Partners</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">2500</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Oxford</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;Toronto&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+--------+---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+--------+---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Hartstein</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK_MAN</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Fay</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">MK_REP</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+--------+---------------+-----------------+\
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªå·¥ç§</span><span class="w"> </span><span class="err">æ¯ä¸ªéƒ¨é—¨çš„éƒ¨é—¨å</span><span class="w"> </span><span class="err">å·¥ç§å</span><span class="w"> </span><span class="err">å’Œæœ€ä½å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="p">,</span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_title</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_name</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+---------------------------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+---------------------------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Acc</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">Public</span><span class="w"> </span><span class="n">Accountant</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">8300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Acc</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Accounting</span><span class="w"> </span><span class="n">Manager</span><span class="w">              </span><span class="o">|</span><span class="w">    </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªå›½å®¶ä¸‹çš„éƒ¨é—¨ä¸ªæ•°å¤§äº</span><span class="mi">2</span><span class="err">çš„å›½å®¶ç¼–å·</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">country_id</span><span class="p">,</span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">country_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">2</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">country_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">US</span><span class="w">         </span><span class="o">|</span><span class="w">       </span><span class="mi">23</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é€‰æ‹©æŒ‡å®šå‘˜å·¥çš„å§“å</span><span class="w"> </span><span class="err">å‘˜å·¥å·</span><span class="w"> </span><span class="err">ä»¥åŠä»–çš„ç®¡ç†è€…çš„å§“åå’Œå‘˜å·¥å·</span><span class="w"> </span><span class="err">ç»“æœç±»ä¼¼äºä¸‹é¢çš„æ ¼å¼</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="n">Emp</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="n">manager</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="n">Mgr</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">manager_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----+-----------+-----+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employees</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Emp</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Mgr</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----+-----------+-----+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="sql99è¯­æ³•">sql99è¯­æ³•</h5>
<p>è¯­æ³•:</p>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å è¿æ¥ç±»å‹ join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„æ¡ä»¶ having ç­›é€‰æ¡ä»¶ order by æ’åºåˆ—è¡¨</p>
<p>åˆ†ç±»:</p>
<p>å†…è¿æ¥: inner</p>
<p>å¤–è¿æ¥:</p>
<p>â€‹	å·¦å¤–:left outer</p>
<p>â€‹	å³å¤–:right outer</p>
<p>â€‹	å…¨å¤–:full outer</p>
<p>äº¤å‰è¿æ¥ :cross</p>
<h5 id="å†…è¿æ¥">å†…è¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ &hellip;</p>
<p>åˆ†ç±»:</p>
<ul>
<li>ç­‰å€¼è¿æ¥</li>
<li>éç­‰å€¼è¿æ¥</li>
<li>è‡ªè¿æ¥</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è°ƒæ¢é¡ºåºæ˜¯å¯ä»¥çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Whalen</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%e%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Administration</span><span class="w"> </span><span class="n">Vice</span><span class="w"> </span><span class="n">President</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Programmer</span><span class="w">                      </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%e%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Administration</span><span class="w"> </span><span class="n">Vice</span><span class="w"> </span><span class="n">President</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Programmer</span><span class="w">                      </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢éƒ¨é—¨ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">3</span><span class="err">çš„åŸå¸‚åå’Œéƒ¨é—¨ä¸ªæ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">city</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Seattle</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">21</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+----------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å“ªä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">3</span><span class="err">çš„éƒ¨é—¨åå’Œå‘˜å·¥ä¸ªæ•°</span><span class="p">,</span><span class="err">å¹¶æŒ‰ä¸ªæ•°é™åº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">3</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘˜å·¥ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w">       </span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">       </span><span class="mi">34</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Pur</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¤šè¡¨è¿æ¥</span><span class="w"> </span><span class="err">æ˜¯æœ‰é¡ºåºçš„</span><span class="w"> </span><span class="err">ç¬¬ä¸€ä¸ªè¡¨å’Œç¬¬äºŒä¸ªè¡¨åœ¨è¿æ¥çš„æ—¶å€™å½¢æˆäº†æ–°çš„è¡¨</span><span class="w"> </span><span class="err">ç„¶åæ–°çš„è¡¨é‡Œçš„å­—æ®µå’Œç¬¬ä¸‰ä¸ªè¡¨é‡Œçš„å­—æ®µå†è¿æ¥</span><span class="w"> </span><span class="err">æ‰€ä»¥æ˜¯æœ‰é¡ºåºä¹‹åˆ†çš„</span><span class="w"> </span><span class="err">è¿™ä¸ªå’Œä¸¤è¡¨è¿æ¥æœ‰å·®åˆ«</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Taylor</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Shipping</span><span class="w"> </span><span class="n">Clerk</span><span class="w">                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Fleaur</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Shipping</span><span class="w"> </span><span class="n">Clerk</span><span class="w">                  </span><span class="o">|</span><span class="w">
</span></code></pre></div><p>ç‰¹ç‚¹:</p>
<ul>
<li>æ·»åŠ æ’åº/åˆ†ç»„/ç­›é€‰</li>
<li>innerå¯ä»¥çœç•¥</li>
<li>ç­›é€‰æ¡ä»¶æ”¾åœ¨whereåé¢ , è¿æ¥æ¡ä»¶æ”¾åœ¨onåé¢, æé«˜åˆ†ç¦»æ€§, ä¾¿äºé˜…è¯»</li>
<li>inner joinç­‰å€¼è¿æ¥å’Œsql92ä¸­çš„ç­‰å€¼è¿æ¥æ•ˆæœæ˜¯ä¸€æ ·çš„,éƒ½æ˜¯æŸ¥è¯¢å¤šè¡¨çš„äº¤é›†</li>
</ul>
<h5 id="éç­‰å€¼è¿æ¥-1">éç­‰å€¼è¿æ¥</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">éç­‰å€¼è¿æ¥</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">job_grades</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">E</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">E</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å·¥èµ„çº§åˆ«çš„ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">2</span><span class="err">å¹¶ä¸”æŒ‰å·¥èµ„çº§åˆ«é™åº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">çº§åˆ«ä¸ªæ•°</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">job_grades</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">highest_sal</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">grade_level</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">çº§åˆ«ä¸ªæ•°</span><span class="o">&gt;</span><span class="mi">2</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w">  </span><span class="k">g</span><span class="p">.</span><span class="n">grade_level</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">çº§åˆ«ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">24</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">26</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">38</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="è‡ªè¿æ¥-1">è‡ªè¿æ¥</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è‡ªè¿æ¥</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å‘˜å·¥å§“åå’Œä»–çš„é¢†å¯¼çš„å§“å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">manager_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="å¤–è¿æ¥">å¤–è¿æ¥</h5>
<h5 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h5>
<p>ç”¨äºæŸ¥è¯¢ä¸€ä¸ªè¡¨ä¸­æœ‰,å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰çš„è®°å½•</p>
<p>ç‰¹ç‚¹</p>
<ol>
<li>å¤–è¿æ¥çš„æŸ¥è¯¢ç»“æœä¸ºä¸»è¡¨ä¸­çš„æ‰€æœ‰è®°å½•
<ol>
<li>å¦‚æœä»è¡¨ä¸­æœ‰å’Œä»–åŒ¹é…çš„,åˆ™æ˜¾ç¤ºåŒ¹é…çš„å€¼</li>
<li>å¦‚æœä»è¡¨ä¸­æ²¡æœ‰å’Œä»–åŒ¹é…çš„,åˆ™æ˜¾ç¤ºnull</li>
<li>å¤–è¿æ¥æŸ¥è¯¢ç»“æœ=å†…è¿æ¥ç»“æœ+ä¸»è¡¨ä¸­æœ‰è€Œä»è¡¨ä¸­æ²¡æœ‰çš„è®°å½•</li>
</ol>
</li>
<li>å·¦å¤–è¿æ¥,left joinå·¦è¾¹çš„æ˜¯ä¸»è¡¨</li>
<li>å³å¤–è¿æ¥,right joinå³è¾¹çš„æ˜¯ä¸»è¡¨</li>
<li>äº¤æ¢ä¸¤è¡¨çš„é¡ºåºå’Œå…³é”®å­—,å¯ä»¥å®ç°åŒæ ·çš„ç»“æœ</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥å</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ ·çš„è¯å°±æ˜¯å†…è¿æ¥</span><span class="w"> </span><span class="err">å†…è¿æ¥æ˜¯å–çš„äº¤é›†</span><span class="w"> </span><span class="err">æ²¡æœ‰ç”¨æŸ¥ä¸åˆ°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Angelababy</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">çƒ­å·´</span><span class="w">       </span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ ·çš„è¯å°±æ˜¯å¤–è¿æ¥</span><span class="w"> </span><span class="err">å¤–è¿æ¥å…¨å–äº†</span><span class="w"> </span><span class="err">è¦åŠ ç­›é€‰æ¡ä»¶</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">è‹è€å¸ˆ</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Angelababy</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ ·æ²¡é”™</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">è‹è€å¸ˆ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢é‚£ä¸ªéƒ¨é—¨æ²¡æœ‰å‘˜å·¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">           </span><span class="mi">120</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Tre</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">           </span><span class="mi">130</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Cor</span><span class="w">             </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="å…¨å¤–è¿æ¥-å¥½åƒä¸æ”¯æŒ-å…¨å¤–è¿æ¥å†…è¿æ¥çš„ç»“æœè¡¨1ä¸­æœ‰ä½†è¡¨2æ²¡æœ‰çš„è¡¨2ä¸­æœ‰ä½†è¡¨1æ²¡æœ‰çš„">å…¨å¤–è¿æ¥ å¥½åƒä¸æ”¯æŒ å…¨å¤–è¿æ¥=å†…è¿æ¥çš„ç»“æœ+è¡¨1ä¸­æœ‰ä½†è¡¨2æ²¡æœ‰çš„+è¡¨2ä¸­æœ‰ä½†è¡¨1æ²¡æœ‰çš„</h5>
<h5 id="äº¤å‰è¿æ¥">äº¤å‰è¿æ¥</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">äº¤å‰åš</span><span class="w"> </span><span class="err">ç¬›å¡å°”ä¹˜ç§¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">beauty</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">cross</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------------+------+---------------------+-------------+--------------+--------------+----+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">sex</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">borndate</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">photo</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">userCP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------------+------+---------------------+-------------+--------------+--------------+----+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1988</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ®µèª‰</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1988</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="sql92å’Œsql99çš„åŒºåˆ«">sql92å’Œsql99çš„åŒºåˆ«</h5>
<p>åŠŸèƒ½:sql99 æ”¯æŒçš„è¾ƒå¤š</p>
<p>å¯è¯»æ€§:sql99å®ç°è¿æ¥æ¡ä»¶å’Œç­›é€‰æ¡ä»¶çš„åˆ†ç¦»,å¯è¯»æ€§è¾ƒé«˜</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923202009215.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923202009215.png"
			
			
			
			loading="lazy"
			alt="image-20210923202009215">
	</a>
	
	<figcaption>image-20210923202009215</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923202111351.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923202111351.png"
			
			
			
			loading="lazy"
			alt="image-20210923202111351">
	</a>
	
	<figcaption>image-20210923202111351</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢ç¼–å·</span><span class="o">&gt;</span><span class="mi">3</span><span class="err">çš„å¥³ç”Ÿçš„ç”·æœ‹å‹ä¿¡æ¯</span><span class="p">,</span><span class="err">å¦‚æœæœ‰åˆ™åˆ—å‡º</span><span class="p">,</span><span class="err">å¦‚æœæ²¡æœ‰å°±</span><span class="n">nullå¡«å……</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="err">å¥³ç”Ÿ</span><span class="n">id</span><span class="p">,</span><span class="k">g</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">id</span><span class="o">&gt;</span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+------+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¥³ç”Ÿ</span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">userCP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+------+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">çƒ­å·´</span><span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é¹¿æ™—</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">800</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">      </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨å†¬é›¨</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">      </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨èŠ·è‹¥</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å“ªä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">city</span><span class="w"> </span><span class="err">è¿™ä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">location_id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">è¿™ä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Roma</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Venice</span><span class="w">           </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h5>
<p>å«ä¹‰:å‡ºç°åœ¨å…¶ä»–è¯­å¥ä¸­çš„eslectè¯­å¥,ç§°ä¸ºå­æŸ¥è¯¢æˆ–å†…æŸ¥è¯¢</p>
<p>å¤–éƒ¨çš„æŸ¥è¯¢è¯­å¥,ç§°ä¸ºä¸»æŸ¥è¯¢æˆ–å¤–æŸ¥è¯¢</p>
<p>åˆ†ç±»:</p>
<ul>
<li>æŒ‰å­æŸ¥è¯¢å‡ºç°çš„ä½ç½®
<ul>
<li>selectåé¢
<ul>
<li>ä¸€èˆ¬åªæ”¯æŒæ ‡é‡å­æŸ¥è¯¢</li>
</ul>
</li>
<li>fromåé¢
<ul>
<li>æ”¯æŒè¡¨å­æŸ¥è¯¢</li>
</ul>
</li>
<li>where æˆ–è€… having åé¢**(é‡è¦)**
<ul>
<li>æ”¯æŒæ ‡é‡å­æŸ¥è¯¢/åˆ—å­æŸ¥è¯¢/è¡Œå­æŸ¥è¯¢</li>
</ul>
</li>
<li>exists åé¢ (ç›¸å…³å­æŸ¥è¯¢)
<ul>
<li>è¡¨å­æŸ¥è¯¢</li>
</ul>
</li>
</ul>
</li>
<li>æŒ‰åŠŸèƒ½(ç»“æœé›†çš„è¡Œåˆ—ä¹¦ä¸åŒ)
<ul>
<li>æ ‡é‡å­æŸ¥è¯¢(ç»“æœé›†åªæœ‰ä¸€è¡Œä¸€åˆ—)</li>
<li>åˆ—å­æŸ¥è¯¢(ç»“æœé›†ä¸­åªæœ‰ä¸€åˆ—å¤šè¡Œ)</li>
<li>è¡Œå­æŸ¥è¯¢(ç»“æœé›†æœ‰ä¸€è¡Œå¤šåˆ—)</li>
<li>è¡¨å­æŸ¥è¯¢(ç»“æœç»“ä¸€èˆ¬ä¸ºå¤šè¡Œå¤šåˆ—)</li>
</ul>
</li>
</ul>
<h5 id="whereæˆ–havingåé¢çš„å­æŸ¥è¯¢">whereæˆ–havingåé¢çš„å­æŸ¥è¯¢</h5>
<p>æ”¯æŒæ ‡é‡å­æŸ¥è¯¢ / åˆ—å­æŸ¥è¯¢ / è¡Œå­æŸ¥è¯¢(å¤šåˆ—å¤šè¡Œ)</p>
<p>ç‰¹ç‚¹:</p>
<ol>
<li>å­æŸ¥è¯¢æ”¾åœ¨å°æ‹¬å·å†…</li>
<li>ä¸€èˆ¬æ”¾åœ¨æ¡ä»¶çš„å³ä¾§</li>
<li>æ ‡é‡å­æŸ¥è¯¢,ä¸€èˆ¬æ­é…ç€å•è¡Œæ“ä½œç¬¦ä½¿ç”¨ &gt; &lt; &gt;= &lt;= &lt;&gt;</li>
<li>åˆ—å­æŸ¥è¯¢,ä¸€èˆ¬æ­é…ç€å¤šè¡Œæ“ä½œç¬¦ä½¿ç”¨ in any/some all</li>
<li>å­æŸ¥è¯¢çš„æ‰§è¡Œé¡ºåºä¼˜å…ˆäºä¸»æŸ¥è¯¢æ‰§è¡Œ,ä¸»æŸ¥è¯¢çš„æ¡ä»¶ç”¨åˆ°äº†å­æŸ¥è¯¢çš„ç»“æœ</li>
</ol>
<h5 id="æ ‡é‡å­æŸ¥è¯¢">æ ‡é‡å­æŸ¥è¯¢</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è°çš„å·¥èµ„æ¯”</span><span class="n">Abelé«˜</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="o">&gt;</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Abel&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="o">=</span><span class="mi">141</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="mi">143</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Rajs</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="mi">141</span><span class="err">å·å‘˜å·¥çš„</span><span class="n">job_idç›¸åŒçš„</span><span class="p">,</span><span class="n">salaryæ¯”143å·å‘˜å·¥å¤šçš„å‘˜å·¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job_id</span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="mi">141</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="mi">143</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Nayer</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3200</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Mikkilineni</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2700</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Bissot</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3300</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å…¬å¸å·¥èµ„æœ€å°‘çš„å‘˜å·¥çš„</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="p">,</span><span class="w"> </span><span class="err">å’Œ</span><span class="n">salary</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Olson</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">ST_CLERK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æœ€ä½å·¥èµ„å¤§äº</span><span class="mi">50</span><span class="err">å·éƒ¨é—¨çš„æœ€ä½å·¥èµ„çš„éƒ¨é—¨</span><span class="n">idå’Œå…¶æœ€ä½å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="æ ‡é‡å­æŸ¥è¯¢å¯èƒ½å‡ºç°çš„é—®é¢˜">æ ‡é‡å­æŸ¥è¯¢å¯èƒ½å‡ºç°çš„é—®é¢˜</h5>
<ul>
<li>å­æŸ¥è¯¢é‡ŒæŸ¥åˆ°çš„å…ƒç´ ä¸ªæ•°ä¸æ­¢ä¸€ä¸ª</li>
<li>å­æŸ¥è¯¢é‡Œå‹æ ¹æ²¡æŸ¥åˆ°ä»»ä½•å…ƒç´ </li>
</ul>
<h5 id="åˆ—å­æŸ¥è¯¢">åˆ—å­æŸ¥è¯¢</h5>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923211703043.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210923211703043.png"
			
			
			
			loading="lazy"
			alt="image-20210923211703043">
	</a>
	
	<figcaption>image-20210923211703043</figcaption>
	
</figure></p>
<p><strong>anyå°±æ˜¯å¤§äºæœ€å°å€¼å°äºæœ€å¤§å€¼ allå°±æ˜¯å¤§äºæœ€å¤§å€¼å°äºæœ€å°å€¼</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢</span><span class="n">location_idæ˜¯1400æˆ–1700çš„éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥å§“å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1400</span><span class="p">,</span><span class="mi">1700</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Austin</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿”å›æ¯”</span><span class="n">job_idä¸ºIT_PROGéƒ¨é—¨ä»»æ„å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·</span><span class="o">/</span><span class="err">å§“å</span><span class="o">/</span><span class="n">job_idä»¥åŠsalary</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">any</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job_id</span><span class="o">=</span><span class="s1">&#39;IT_PROG&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">105</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Austin</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4800</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="n">maxæˆ–è€…minæ¥ä»£æ›¿any</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">any</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">job_id</span><span class="o">=</span><span class="s1">&#39;IT_PROG&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">employee_id</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">105</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Austin</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4800</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">allä¹Ÿæ˜¯åŒæ ·çš„</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">in</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="o">=</span><span class="n">Anyä¹Ÿæ˜¯ä¸€æ ·çš„</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="n">Allä¹Ÿæ˜¯ä¸€æ ·çš„</span><span class="w">
</span></code></pre></div><h5 id="è¡Œå­æŸ¥è¯¢">è¡Œå­æŸ¥è¯¢</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢å‘˜å·¥ç¼–å·æœ€å°å¹¶ä¸”å·¥èµ„æœ€é«˜çš„å‘˜å·¥ä¿¡æ¯</span><span class="w"> </span><span class="p">(</span><span class="err">ä¸ä¸€å®šå­˜åœ¨</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç®€å•ç²—æš´çš„åšæ³•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">employee_id</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Steven</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¡Œå­æŸ¥è¯¢</span><span class="w"> </span><span class="err">æœ‰å±€é™æ€§</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="p">,</span><span class="n">salary</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">employee_id</span><span class="p">),</span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Steven</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+-------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ”¾åœ¨selectåé¢çš„å­æŸ¥è¯¢">æ”¾åœ¨selectåé¢çš„å­æŸ¥è¯¢</h5>
<p><strong>ä»…ä»…æ”¯æŒæ ‡é‡å­æŸ¥è¯¢</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°</span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="err">é€šè¿‡å­æŸ¥è¯¢æ¥åš</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="o">=</span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+----------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="o">=</span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+----------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">                                                                    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">201</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1800</span><span class="w"> </span><span class="o">|</span><span class="w">                                                                    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¹Ÿå¯ä»¥é€šè¿‡å·¦å³è¿æ¥æ¥åš</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">201</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1800</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Pur</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">114</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å‘˜å·¥å·</span><span class="o">=</span><span class="mi">102</span><span class="err">çš„éƒ¨é—¨å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="mi">102</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+--------------------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+--------------------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">                                                                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+--------------------------------------------------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="fromåé¢">fromåé¢</h5>
<p>ç‰¹ç‚¹ï¼šå°†å­æŸ¥è¯¢å……å½“ä¸€å¼ è¡¨ <strong>è¦æ±‚å¿…é¡»èµ·åˆ«å</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„çš„å·¥èµ„ç­‰çº§</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">sql92è¯­æ³•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="n">grade_level</span><span class="p">,</span><span class="n">av</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="n">av</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="n">job_grades</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">av</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">av</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">           </span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">sql99è¯­æ³•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">av</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="n">avs</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="p">)</span><span class="w"> </span><span class="n">av</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">job_grades</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">av</span><span class="p">.</span><span class="n">avs</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">
</span></code></pre></div><h5 id="existsåé¢å­æŸ¥è¯¢">existsåé¢ï¼ˆå­æŸ¥è¯¢ï¼‰</h5>
<p>select exists(select employee_id from employees)</p>
<p>è¯­æ³•:</p>
<p>exists(å®Œæ•´çš„æŸ¥è¯¢è¯­å¥) ç»“æœæ˜¯1/0</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å›é¡¾</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">)</span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">éƒ¨é—¨</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æœ‰å‘˜å·¥çš„éƒ¨é—¨å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">exists</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥ç”¨</span><span class="n">inæ¥ä»£æ›¿</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Adm</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ²¡æœ‰å¥³æœ‹å‹çš„ç”·ç”Ÿä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">userCP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ®µèª‰</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+---------+--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>ç»ƒä¹ ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Zlotkey&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Russell</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">14000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Partners</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">13500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å„éƒ¨é—¨ä¸­å·¥èµ„æ¯”æœ¬éƒ¨é—¨å¹³å‡å·¥èµ„ä¸­æçš„å‘˜å·¥å’Œå‘˜å·¥å·</span><span class="p">,</span><span class="err">å§“åå’Œå·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%u%&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢éƒ¨é—¨çš„</span><span class="n">location_idæ˜¯1700çš„éƒ¨é—¨å·¥ä½œçš„å‘˜å·¥çš„å‘˜å·¥å·</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">=</span><span class="mi">1700</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">114</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;K_ing&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æœ€é«˜å·¥èµ„çš„å‘˜å·¥çš„å§“å</span><span class="p">,</span><span class="err">è¦æ±‚</span><span class="n">first_nameå’Œlast_nameæ˜¾ç¤ºä¸ºä¸€åˆ—</span><span class="p">,</span><span class="err">åˆ—åä¸ºå§“å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="err">å§“</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="err">å</span><span class="p">)</span><span class="err">å§“å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="err">å§“</span><span class="p">,</span><span class="n">last_name</span><span class="w"> </span><span class="err">å</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">))</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å§“å</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">StevenK_ing</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ†é¡µæŸ¥è¯¢">åˆ†é¡µæŸ¥è¯¢</h5>
<p>åº”ç”¨åœºæ™¯:å½“è¦æ˜¾ç¤ºçš„æ•°æ®,ä¸€é¡µæ˜¾ç¤ºä¸å…¨,éœ€è¦åˆ†é¡µæäº¤sqlè¯·æ±‚çš„æ—¶å€™</p>
<p><strong>è¯­æ³•</strong>:select  æŸ¥è¯¢åˆ—è¡¨ from è¡¨ inner join è¡¨2 on è¿æ¥æ¡ä»¶ group by åˆ†ç»„å­—æ®µ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåçš„å­—æ®µ limit offset,size ;</p>
<p>offsetè¦æ˜¾ç¤ºæ¡ç›®çš„èµ·å§‹ç´¢å¼•(èµ·å§‹ç´¢å¼•ä»0å¼€å§‹)</p>
<p>sizeè¦æ˜¾ç¤ºçš„æ¡ç›®ä¸ªæ•°</p>
<p><strong>ç‰¹ç‚¹</strong>:</p>
<ul>
<li>limitè¯­å¥æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å</li>
<li>å…¬å¼  è¦æ˜¾ç¤ºçš„é¡µæ•° page æ¯é¡µçš„æ¡ç›®æ•°size , é‚£ä¹ˆå°±æ˜¯limit (page-1)*size,size</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Steven</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Neena</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">NKOCHHAR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Lex</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">LDEHAAN</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4569</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Alexander</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">AHUNOLD</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">590</span><span class="p">.</span><span class="mi">423</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Bruce</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">BERNST</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">590</span><span class="p">.</span><span class="mi">423</span><span class="p">.</span><span class="mi">4568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœä»ç¬¬ä¸€æ¡å¼€å§‹çš„è¯</span><span class="p">,</span><span class="err">é‚£ä¹ˆè¿™æ ·å¯ä»¥çœç•¥å‰ä¸€ä¸ªæ•°å­—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Steven</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Neena</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">NKOCHHAR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Lex</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">LDEHAAN</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4569</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Alexander</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">AHUNOLD</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">590</span><span class="p">.</span><span class="mi">423</span><span class="p">.</span><span class="mi">4567</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Bruce</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Ernst</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">BERNST</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">590</span><span class="p">.</span><span class="mi">423</span><span class="p">.</span><span class="mi">4568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IT_PROG</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç¬¬</span><span class="mi">11</span><span class="err">åˆ°ç¬¬</span><span class="mi">25</span><span class="err">æ¡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">salary</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">commission_pct</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="ç»ƒä¹ ä¸€ä¸‹-1">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="n">email</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">instr</span><span class="p">(</span><span class="n">email</span><span class="p">,</span><span class="s1">&#39;@&#39;</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">gradeName</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">.</span><span class="n">gradeid</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">gradeId</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">gradeName</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">gradeId</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">age</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="æŸ¥è¯¢è¯­å¥ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰å…³é”®å­—ä»¥åŠæ‰§è¡Œå…ˆåé¡ºåº">æŸ¥è¯¢è¯­å¥ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰å…³é”®å­—,ä»¥åŠæ‰§è¡Œå…ˆåé¡ºåº.</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨  â‘¦</p>
<p>from è¡¨   â‘  é”å®šæ•°æ®æº</p>
<p>è¿æ¥ç±»å‹ join è¡¨2   â‘¡æ‹¼æ¥æ•°æ®æº ç¬›å¡å°”å„¿ä¹˜ç§¯</p>
<p>on è¿æ¥æ¡ä»¶  â‘¢ç¼©å°æ•°æ®æº éç¬›å¡å°”ä¹˜ç§¯</p>
<p>where ç­›é€‰æ¡ä»¶   â‘£ç¼©å°æ•°æ®èŒƒå›´</p>
<p>group by åˆ†ç»„åˆ—è¡¨    â‘¤</p>
<p>having åˆ†ç»„åçš„ç­›é€‰   â‘¥åˆ†ç»„åç­›é€‰</p>
<p>order by æ’åºåˆ—è¡¨    â‘§</p>
<p>limit åç§»,æ¡ç›®æ•°;    â‘¨</p>
<h5 id="sql99è¯­æ³•-1">sql99è¯­æ³•</h5>
<h5 id="å†…è¿æ¥-1">å†…è¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„åˆ—è¡¨ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨ limitå­å¥</p>
<p><strong>ç‰¹ç‚¹:</strong></p>
<p>è¡¨çš„é¡ºåºå¯ä»¥è°ƒæ¢</p>
<p>å†…è¿æ¥çš„ç»“æœ=å¤šè¡¨çš„äº¤é›†</p>
<p>nè¡¨è¿æ¥è‡³å°‘éœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶</p>
<p>åˆ†ç±»: ç­‰å€¼è¿æ¥ éç­‰å€¼è¿æ¥ è‡ªè¿æ¥</p>
<h5 id="å¤–è¿æ¥-1">å¤–è¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å left|right|full outer join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶</p>
<p>where ç­›é€‰æ¡ä»¶ group by åˆ†ç»„åˆ—è¡¨ having åˆ†ç»„åçš„ç­›é€‰ order by æ’åºåˆ—è¡¨ limit å­å¥;</p>
<p><strong>ç‰¹ç‚¹:</strong></p>
<p>æŸ¥è¯¢çš„ç»“æœ=ä¸»è¡¨ä¸­æ‰€æœ‰çš„è¡Œ,å…¶ä¸­ä»è¡¨å’Œä»–åŒ¹é…çš„å°†æ˜¾ç¤ºåŒ¹é…è¡Œ,å¦‚æœä»è¡¨æ²¡æœ‰åŒ¹é…çš„åˆ™æ˜¾ç¤ºnull</p>
<p>left join å·¦è¾¹çš„å°±æ˜¯ä¸»è¡¨,right joinå³è¾¹çš„å°±æ˜¯ä¸»è¡¨</p>
<p>full join ä¸¤è¾¹éƒ½æ˜¯ä¸»è¡¨</p>
<p>ä¸€èˆ¬ç”¨äºæŸ¥è¯¢é™¤äº†äº¤é›†éƒ¨åˆ†çš„å‰©ä½™çš„ä¸åŒ¹é…çš„è¡Œ</p>
<h5 id="äº¤å‰è¿æ¥-1">äº¤å‰è¿æ¥</h5>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨1 åˆ«å cross join è¡¨2 åˆ«å ;</p>
<p>**ç‰¹ç‚¹:	**</p>
<p>ç±»ä¼¼äºç¬›å¡å°”ä¹˜ç§¯</p>
<h5 id="å­æŸ¥è¯¢-1">å­æŸ¥è¯¢</h5>
<p>åµŒå¥—åœ¨å…¶ä»–è¯­å¥å†…éƒ¨çš„selectè¯­å¥ç§°ä¸ºå­æŸ¥è¯¢æˆ–å†…æŸ¥è¯¢</p>
<p>å¤–é¢çš„è¯­å¥å¯ä»¥æ˜¯insert update select delete ç­‰ç­‰,ä¸€èˆ¬select ä½œä¸ºå¤–é¢è¯­å¥è¾ƒå¤š</p>
<p>å¤–é¢å¦‚æœä¸ºselectè¯­å¥,åˆ™æ­¤è¯­å¥æˆä¸ºå¤–æŸ¥è¯¢æˆ–ä¸»æŸ¥è¯¢</p>
<p>**åˆ†ç±»:	**</p>
<ol>
<li>
<p>æŒ‰å‡ºç°çš„ä½ç½®</p>
<ul>
<li>select åé¢ ä»…ä»…æ”¯æŒæ ‡é‡å­æŸ¥è¯¢</li>
<li>from åé¢ è¡¨å­æŸ¥è¯¢</li>
<li><strong>whereæˆ–havingåé¢ æ ‡é‡å­æŸ¥è¯¢ / åˆ—å­æŸ¥è¯¢</strong> / è¡Œå­æŸ¥è¯¢</li>
<li>existsåé¢ æ ‡é‡å­æŸ¥è¯¢ åˆ—å­æŸ¥è¯¢ è¡Œå­æŸ¥è¯¢ è¡¨å­æŸ¥è¯¢</li>
</ul>
</li>
<li>
<p>æŒ‰ç»“æœé›†çš„è¡Œåˆ—</p>
<ul>
<li><strong>æ ‡é‡å­æŸ¥è¯¢(å•è¡Œå­æŸ¥è¯¢):ç»“æœé›†ä¸ºä¸€è¡Œä¸€åˆ—</strong></li>
<li><strong>åˆ—å­æŸ¥è¯¢(å¤šè¡Œå­æŸ¥è¯¢):ç»“æœé›†ä¸ºå¤šè¡Œä¸€åˆ—</strong></li>
<li>è¡Œå­æŸ¥è¯¢(ç»“æœé›†ä¸ºå¤šè¡Œå¤šåˆ—)</li>
<li>è¡¨å­æŸ¥è¯¢(ç»“æœé›†ä¸ºå¤šè¡Œå¤šåˆ—)</li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹</p>
<p>æ ‡é‡å­æŸ¥è¯¢</p>
<p>æŸ¥è¯¢æœ€ä½å·¥èµ„çš„å‘˜å·¥å§“åå’Œå·¥èµ„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Olson</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>åˆ—å­æŸ¥è¯¢</p>
<p>æŸ¥è¯¢æ‰€æœ‰æ˜¯é¢†å¯¼çš„å‘˜å·¥å§“å</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w">
</span></code></pre></div></li>
</ol>
<h5 id="åˆ†é¡µæŸ¥è¯¢-1">åˆ†é¡µæŸ¥è¯¢</h5>
<p>å½“è¦æŸ¥è¯¢çš„æ¡ç›®æ•°å¤ªå¤š,ä¸€é¡µæ˜¾ç¤ºä¸å…¨</p>
<p>è¯­æ³•</p>
<p>select æŸ¥è¯¢åˆ—è¡¨ from è¡¨ limit offset,size</p>
<p>**æ³¨æ„	** offsetä»£è¡¨çš„æ˜¯èµ·å§‹çš„æ¡ç›®ç´¢å¼•,é»˜è®¤æ˜¯ä»0å¼€å§‹  sizeä»£è¡¨çš„æ˜¯è¦æ˜¾ç¤ºçš„æ¡ç›®æ•°</p>
<p>å…¬å¼ limit (page-1)*size , size</p>
<h5 id="ç»ƒä¹ ä¸€ä¸‹-2">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯</span><span class="w"> </span><span class="err">ç›´æ¥ä½¿ç”¨</span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="err">å†</span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">121</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯å’Œå®ƒçš„å¹³å‡å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="n">a</span><span class="p">.</span><span class="n">avgsalary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="p">,</span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="n">avgsalary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">department_id</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">avgsalary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">121</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3475</span><span class="p">.</span><span class="mi">555556</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€é«˜çš„</span><span class="n">jobä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">job_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-----------+------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">min_salary</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">max_salary</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-----------+------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">President</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">20000</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">40000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-----------+------------+------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9500</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6500</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">70</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8955</span><span class="p">.</span><span class="mi">882353</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">19333</span><span class="p">.</span><span class="mi">333333</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8600</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10150</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+---------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">phone_number</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">commission_pct</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+------------+-----------+----------+--------------------+---------+----------+----------------+------------+---------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Steven</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">515</span><span class="p">.</span><span class="mi">123</span><span class="p">.</span><span class="mi">4567</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">AD_PRES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Lex</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">LDEH</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å„ä¸ªéƒ¨é—¨ä¸­æœ€é«˜å·¥èµ„ä¸­æœ€ä½çš„é‚£ä¸ªéƒ¨é—¨çš„æœ€ä½å·¥èµ„æ˜¯å¤šå°‘</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">     </span><span class="mi">4400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€é«˜çš„éƒ¨é—¨çš„</span><span class="n">managerçš„è¯¦ç»†ä¿¡æ¯</span><span class="p">:</span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------+-------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------+-------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------+-------+----------+
</span></code></pre></div><p>ç»ƒä¹ ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="p">)</span><span class="err">ä¸“ä¸šå·</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸“ä¸šå·</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">score</span><span class="p">),</span><span class="k">max</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">                 </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å§“å¼ çš„æ¯ä¸ªå­¦ç”Ÿçš„æœ€ä½åˆ†å¤§äº</span><span class="mi">60</span><span class="err">çš„å­¦å·å§“å</span><span class="w">  </span><span class="err">å…¶å®å¯ä»¥ç”¨</span><span class="k">join</span><span class="w"> </span><span class="err">å°±ä¸ç”¨é‚£ä¹ˆéº»çƒ¦äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€ä½åˆ†</span><span class="p">,</span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="o">=</span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="k">like</span><span class="s1">&#39;å¼ %&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="err">æœ€ä½åˆ†</span><span class="o">&gt;</span><span class="mi">60</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+-----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€ä½åˆ†</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+-----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s001</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ä¸‰å°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="mi">70</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s004</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ç¿ å±±</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+-----------+--------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥ä½¿ç”¨</span><span class="n">diffå‡½æ•°</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="k">join</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="n">majorname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="err">ä¸“ä¸šåç§°</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">borndate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">&#39;1998-1-1&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸“ä¸šåç§°</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">html5</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">borndate</span><span class="p">,</span><span class="s1">&#39;1998-1-1&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ¯ä¸ªä¸“ä¸šçš„ç”·ç”Ÿäººæ•°å’Œå¥³ç”Ÿäººæ•°åˆ†åˆ«æ˜¯å¤šå°‘</span><span class="w"> </span><span class="err">åœ¨è¿™é‡Œ</span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="o">=</span><span class="n">s1</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="n">s1ä¸€å®šä¸èƒ½çœç•¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="n">majorid</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="o">=</span><span class="n">s1</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">sex</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;ç”·&#39;</span><span class="p">)</span><span class="err">ç”·ç”Ÿ</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="o">=</span><span class="n">s1</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">sex</span><span class="o">=</span><span class="s1">&#39;å¥³&#39;</span><span class="p">)</span><span class="w"> </span><span class="err">å¥³ç”Ÿ</span><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">ç”·ç”Ÿ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³ç”Ÿ</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------+------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢ä¸“ä¸šå’Œå¼ ç¿ å±±ä¸€æ ·çš„å­¦ç”Ÿçš„æœ€ä½åˆ†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;å¼ ç¿ å±±&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="s1">&#39;å¼ ç¿ å±±&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">studentno</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">min</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">         </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¤§äº</span><span class="mi">60</span><span class="err">åˆ†çš„å­¦ç”Ÿçš„å§“å</span><span class="w"> </span><span class="err">å¯†ç </span><span class="w"> </span><span class="err">ä¸“ä¸šå</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">loginpwd</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">majorname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">loginpwd</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">majorname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ä¸‰å°</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">æ®·å¤©æ­£</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨ä¼¯é€š</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">html5</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ç¿ å±±</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å°å°å¼ </span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">android</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">html5</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+---------------------------------------------------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŒ‰é‚®ç®±çš„ä½æ•°åˆ†ç»„</span><span class="p">,</span><span class="err">å¹¶æŸ¥è¯¢ä¸ªæ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="err">ä¸ªæ•°</span><span class="p">,</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ä¸ªæ•°</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">19</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">15</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+-----------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å­¦ç”Ÿå</span><span class="w"> </span><span class="err">ä¸“ä¸šå</span><span class="w"> </span><span class="err">åˆ†æ•°</span><span class="w"> </span><span class="err">è¿™æ˜¯é”™è¯¯çš„</span><span class="w"> </span><span class="err">å¦‚æœä½¿ç”¨</span><span class="n">joinæ˜¯å–å®Œå…¨äº¤é›†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="p">,</span><span class="n">m</span><span class="p">.</span><span class="n">majorname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">score</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">majorname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ç¿ å±±</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">70</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">æ®·å¤©æ­£</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å­¦ç”Ÿå</span><span class="w"> </span><span class="err">ä¸“ä¸šå</span><span class="w"> </span><span class="err">åˆ†æ•°</span><span class="w"> </span><span class="err">è¿™æ˜¯é”™è¯¯çš„</span><span class="w"> </span><span class="err">åº”è¯¥ä½¿ç”¨</span><span class="k">left</span><span class="w"> </span><span class="n">joiné˜²æ­¢å‡ºç°scoreä¸ºnullçš„æƒ…å†µ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="p">,</span><span class="n">m</span><span class="p">.</span><span class="n">majorname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">score</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">studentname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">majorname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ä¸‰å°</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">æ®·å¤©æ­£</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">javaee</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨ä¼¯é€š</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">html5</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentname</span><span class="w"> </span><span class="p">,</span><span class="n">m</span><span class="p">.</span><span class="n">majorname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">score</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">majorid</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢æ²¡æœ‰æˆç»©çš„å­¦ç”Ÿäººæ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="err">å­¦å·</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="n">a</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å­¦å·</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">S007</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">S008</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">S009</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="err">å­¦å·</span><span class="p">,(</span><span class="k">select</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="n">a</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span></code></pre></div><h5 id="è”åˆæŸ¥è¯¢">è”åˆæŸ¥è¯¢</h5>
<p>union è”åˆ åˆå¹¶:å°†å¤šæ¡æŸ¥è¯¢è¯­å¥çš„ç»“æœåˆå¹¶æˆä¸€ä¸ªç»“æœ</p>
<p>æŸ¥è¯¢è¯­å¥1 union æŸ¥è¯¢è¯­å¥2 union æŸ¥è¯¢è¯­å¥3 &hellip;</p>
<p>æŸ¥è¯¢éƒ¨é—¨ç¼–å·&gt;90 æˆ– é‚®ç®±åŒ…å«açš„å‘˜å·¥ä¿¡æ¯</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<p>ä¿è¯ä¸¤ä¸ªè¡¨çš„åˆ—æ•°ä¸€è‡´ , å¹¶ä¸è¦æ±‚ä¸¤ä¸ªè¡¨çš„åˆ—åä¸€è‡´ ,å°±å¯ä»¥ä½¿ç”¨è”åˆæŸ¥è¯¢</p>
<p>è¦æŸ¥è¯¢çš„ç»“æœæ¥æºäºå¤šä¸ªè¡¨,ä¸”å¤šä¸ªè¡¨æ²¡æœ‰ç›´æ¥çš„è¿æ¥å…³ç³»,ä½†æŸ¥è¯¢çš„ä¿¡æ¯ä¸€è‡´æ—¶</p>
<p>ä¾‹å¦‚å…¨ç«™æœç´¢ ,è‚¯å®šä¸å¯èƒ½æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªè¡¨é‡Œ , æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦union</p>
<p><strong>æ³¨æ„</strong></p>
<p><strong>union ä¼šé»˜è®¤å»é‡</strong></p>
<p><strong>union all å¯ä»¥åŒ…å«é‡å¤é¡¹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">90</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">like</span><span class="s1">&#39;%a%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">90</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w">  </span><span class="n">email</span><span class="w"> </span><span class="k">like</span><span class="s1">&#39;%a%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="dmlè¯­è¨€-æ•°æ®æ“ä½œè¯­è¨€">DMLè¯­è¨€ æ•°æ®æ“ä½œè¯­è¨€</h5>
<p>æ’å…¥ insert</p>
<p>æ›´æ–° update</p>
<p>åˆ é™¤ delete</p>
<h5 id="æ’å…¥è¯­å¥">æ’å…¥è¯­å¥</h5>
<p><strong>æ–¹å¼ä¸€</strong></p>
<p>è¯­æ³•:</p>
<p>insert into è¡¨å(åˆ—å, &hellip;) values(å€¼, &hellip;) ;</p>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>æ’å…¥çš„å€¼çš„ç±»å‹è¦ä¸åˆ—çš„ç±»å‹ä¸€ç›´æˆ–å…¼å®¹</li>
<li>ä¸å¯ä»¥ä¸ºnullçš„åˆ—å¿…é¡»æ’å…¥å€¼,å¯ä»¥ä¸ºnullçš„åˆ—å¦‚ä½•æ’å…¥å€¼
<ul>
<li>æ’å…¥null</li>
<li>æˆ–è€…åœ¨ into beauty(å°‘ä¸€ç‚¹å­—æ®µ)</li>
</ul>
</li>
<li>åˆ—çš„é¡ºåºå¯ä»¥è°ƒæ¢</li>
<li>åˆ—å’Œå€¼çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´</li>
<li>å¯ä»¥çœç•¥åˆ—å,é»˜è®¤æ‰€æœ‰åˆ—å,è€Œä¸”åˆ—çš„é¡ºåºå’Œè¡¨ä¸­åˆ—çš„é¡ºåºä¸€ç›´</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ç»å…¸å‹</span><span class="w"> </span><span class="k">insert</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">sex</span><span class="p">,</span><span class="n">borndate</span><span class="p">,</span><span class="n">phone</span><span class="p">,</span><span class="n">photo</span><span class="p">,</span><span class="n">boyfriend_id</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="s1">&#39;å”è‰ºæ˜•&#39;</span><span class="p">,</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span><span class="s1">&#39;1990-4-23&#39;</span><span class="p">,</span><span class="s1">&#39;18988888&#39;</span><span class="p">,</span><span class="k">null</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">sex</span><span class="p">,</span><span class="n">phone</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="s1">&#39;é‡‘æ˜Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span><span class="s1">&#39;13888888&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;å¼ é£&#39;</span><span class="p">,</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span><span class="s1">&#39;1990-4-23&#39;</span><span class="p">,</span><span class="s1">&#39;119&#39;</span><span class="p">,</span><span class="k">null</span><span class="p">,</span><span class="k">null</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>**æ–¹å¼äºŒ	**</p>
<p>è¯­æ³•</p>
<p>insert into è¡¨å set åˆ—å = å€¼ , åˆ—å = å€¼ &hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;æ–‡æ¶›&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;999&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>**ä¸¤ç§æ–¹å¼çš„åŒºåˆ«	**</p>
<ul>
<li>æ–¹å¼ä¸€æ”¯æŒå¤šè¡Œæ’å…¥,æ–¹å¼äºŒä¸æ”¯æŒ</li>
<li>æ–¹å¼ä¸€æ”¯æŒå­æŸ¥è¯¢,æ–¹å¼äºŒä¸æ”¯æŒ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ–¹å¼ä¸€</span><span class="w"> </span><span class="err">æ”¯æŒå­æŸ¥è¯¢</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">phone</span><span class="p">)</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="s1">&#39;å®‹è¥¿&#39;</span><span class="p">,</span><span class="s1">&#39;11809866&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ–¹å¼ä¸€</span><span class="w"> </span><span class="err">æ”¯æŒå¤šè¡Œæ’å…¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">phone</span><span class="p">)</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">boyname</span><span class="p">,</span><span class="s1">&#39;120&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1062</span><span class="w"> </span><span class="p">(</span><span class="mi">23000</span><span class="p">):</span><span class="w"> </span><span class="n">Duplicate</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="s1">&#39;beauty.PRIMARY&#39;</span><span class="w">
</span></code></pre></div><h5 id="ä¿®æ”¹è¯­å¥">ä¿®æ”¹è¯­å¥</h5>
<p>ä¿®æ”¹å•è¡¨çš„è®°å½•(é‡è¦)</p>
<p>update è¡¨å set åˆ—=æ–°å€¼ , åˆ—=æ–°å€¼ where ç­›é€‰æ¡ä»¶ ;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">update</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;11010011&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;å”%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="k">update</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ é£&#39;</span><span class="w"> </span><span class="p">,</span><span class="n">userCp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">;</span><span class="w">  
</span></code></pre></div><p>ä¿®æ”¹å¤šè¡¨çš„è®°å½•(è¡¥å……)</p>
<p><strong>sql92è¯­æ³•</strong></p>
<p>update è¡¨1 åˆ«å , è¡¨2 åˆ«å</p>
<p>set åˆ—=å€¼ , &hellip; where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ;</p>
<p><strong>sql99è¯­æ³•</strong></p>
<p>update è¡¨1 åˆ«å inner join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ set åˆ—=å€¼, &hellip; where ç­›é€‰æ¡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¿®æ”¹å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„æ‰‹æœºå·ä¸º</span><span class="mi">114</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="n">id</span><span class="w">  </span><span class="k">set</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;114&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="n">boyname</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¹Ÿå¯ä»¥ä½¿ç”¨ä¿®æ”¹å•è¡¨</span><span class="w"> </span><span class="err">ä½¿ç”¨å­æŸ¥è¯¢</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;115&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¿®æ”¹æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥çš„ç”·æœ‹å‹ç¼–å·éƒ½ä¸º</span><span class="mi">2</span><span class="err">å·</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å…ˆ</span><span class="k">select</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="p">,</span><span class="n">boyname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">   </span><span class="o">|</span><span class="w">            </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">è‹è€å¸ˆ</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨å†¬é›¨</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å²³çµçŠ</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">åŒå„¿</span><span class="w">   </span><span class="o">|</span><span class="w">            </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="err">å¤é›ª</span><span class="w">   </span><span class="o">|</span><span class="w">            </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------------+---------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å†</span><span class="k">update</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å†æŸ¥ä¸€ä¸‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="p">,</span><span class="n">boyname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boys</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ é™¤è¯­å¥">åˆ é™¤è¯­å¥</h5>
<p>æ–¹å¼ä¸€  delete</p>
<p>æ–¹å¼äºŒ truncate</p>
<p>è¯­æ³•:truncate table è¡¨å (åˆ é™¤çš„æ˜¯æ‰€æœ‰çš„ ä¸èƒ½åŠ ç­›é€‰æ¡ä»¶)</p>
<p><strong>å•è¡¨çš„åˆ é™¤</strong></p>
<p>è¯­æ³•:delete from è¡¨å where ç­›é€‰æ¡ä»¶</p>
<p><strong>å¤šè¡¨çš„åˆ é™¤</strong></p>
<p>è¯­æ³•:</p>
<p><strong>sql92è¯­æ³•</strong></p>
<p>delete è¡¨1çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ;  //åˆ é™¤çš„æ˜¯è¡¨1çš„æ•°æ®å†…å®¹</p>
<p>delete è¡¨2çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ;  //åˆ é™¤çš„æ˜¯è¡¨2çš„æ•°æ®å†…å®¹</p>
<p>delete è¡¨1çš„åˆ«å, è¡¨2çš„åˆ«å from è¡¨1 åˆ«å , è¡¨2 åˆ«å where è¿æ¥æ¡ä»¶ and ç­›é€‰æ¡ä»¶ ; //åˆ é™¤çš„æ˜¯è¡¨1å’Œè¡¨2çš„æ•°æ®å†…å®¹</p>
<p><strong>sql99è¯­æ³•</strong></p>
<p>delete è¡¨1çš„åˆ«å,è¡¨2çš„åˆ«å from è¡¨1 åˆ«å join è¡¨2 åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å•è¡¨çš„åˆ é™¤</span><span class="w">
</span><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%9&#39;</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„ä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¤šè¡¨åˆ é™¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">boy</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boy</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">boy</span><span class="p">.</span><span class="n">boyname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤é»„æ™“æ˜å’Œä»–å¥³æœ‹å‹çš„ä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">g</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;é»„æ™“æ˜&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æ–¹å¼äºŒ truncateè¯­å¥</strong></p>
<p>ç›´æ¥æ¸…ç©º truncate table boys ;</p>
<h5 id="deleteå’Œtruncateçš„åŒºåˆ«">deleteå’Œtruncateçš„åŒºåˆ«</h5>
<ul>
<li>deleteå¯ä»¥åŠ whereæ¡ä»¶ , truncateä¸èƒ½åŠ </li>
<li>truncate åˆ é™¤, æ•ˆç‡é«˜ä¸€ä¸¢ä¸¢</li>
<li>å‡å¦‚è¦åˆ é™¤çš„è¡¨ä¸­æœ‰è‡ªå¢é•¿åˆ—,å¦‚æœç”¨deleteåˆ é™¤å,å†æ’å…¥æ•°æ®,è‡ªå¢é•¿åˆ—çš„å€¼ä¾æ—§æ˜¯ä»æ–­ç‚¹å¼€å§‹,è€Œå¦‚æœtruncateåˆ é™¤å,å†æ’å…¥æ•°æ®,è‡ªå¢é•¿åˆ—çš„å€¼ä»1å¼€å§‹</li>
<li>truncateåˆ é™¤æ²¡æœ‰è¿”å›å€¼,deleteåˆ é™¤æœ‰è¿”å›å€¼</li>
<li>truncateåˆ é™¤å›æ»š,deleteåˆ é™¤å¯ä»¥å›æ»š</li>
</ul>
<h5 id="ç»ƒä¹ ä¸€ä¸‹-3">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">userid</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">my_employees</span><span class="p">(</span><span class="n">First_name</span><span class="p">,</span><span class="n">Last_name</span><span class="p">,</span><span class="n">Userid</span><span class="p">,</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;patel&#39;</span><span class="p">,</span><span class="s1">&#39;Ralph&#39;</span><span class="p">,</span><span class="s1">&#39;Rpatel&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">895</span><span class="p">),(</span><span class="s1">&#39;Dance&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Betty&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Bdancs&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">860</span><span class="p">),(</span><span class="s1">&#39;Biri&#39;</span><span class="p">,</span><span class="s1">&#39;Ben&#39;</span><span class="p">,</span><span class="s1">&#39;Bbiri&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1100</span><span class="p">),(</span><span class="s1">&#39;Newman&#39;</span><span class="p">,</span><span class="s1">&#39;Chad&#39;</span><span class="p">,</span><span class="s1">&#39;Cnewman&#39;</span><span class="p">,</span><span class="mi">750</span><span class="p">),(</span><span class="s1">&#39;Ropeburn&#39;</span><span class="p">,</span><span class="s1">&#39;Audrey&#39;</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;Aropebur&#39;</span><span class="p">,</span><span class="mi">1150</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¹Ÿå¯ä»¥è¿™æ ·</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">my_employees</span><span class="p">(</span><span class="n">First_name</span><span class="p">,</span><span class="n">Last_name</span><span class="p">,</span><span class="n">Userid</span><span class="p">,</span><span class="n">salary</span><span class="p">)</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;patel&#39;</span><span class="p">,</span><span class="s1">&#39;Ralph&#39;</span><span class="p">,</span><span class="s1">&#39;Rpatel&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">895</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;Dance&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Betty&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Bdancs&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">860</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;Biri&#39;</span><span class="p">,</span><span class="s1">&#39;Ben&#39;</span><span class="p">,</span><span class="s1">&#39;Bbiri&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1100</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;Newman&#39;</span><span class="p">,</span><span class="s1">&#39;Chad&#39;</span><span class="p">,</span><span class="s1">&#39;Cnewman&#39;</span><span class="p">,</span><span class="mi">750</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;Ropeburn&#39;</span><span class="p">,</span><span class="s1">&#39;Audrey&#39;</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;Aropebur&#39;</span><span class="p">,</span><span class="mi">1150</span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">userid</span><span class="p">,</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;Rpatel&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="s1">&#39;Bdancs&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="s1">&#39;Bbiri&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">&#39;Chewman&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">&#39;Aropebur&#39;</span><span class="p">,</span><span class="mi">40</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">my_employees</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;drelxer&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">my_employees</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">900</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">me</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">my_employees</span><span class="w"> </span><span class="n">me</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">me</span><span class="p">.</span><span class="n">userid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">userid</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">userid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Bbiri&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">truncate</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><h5 id="ddl">DDL</h5>
<p>æ•°æ®å®šä¹‰è¯­è¨€</p>
<p>åº“å’Œè¡¨çš„ç®¡ç†</p>
<h5 id="åº“çš„ç®¡ç†">åº“çš„ç®¡ç†</h5>
<p>åˆ›å»º/ä¿®æ”¹/åˆ é™¤</p>
<h5 id="è¡¨çš„ç®¡ç†">è¡¨çš„ç®¡ç†</h5>
<p>åˆ›å»º/ä¿®æ”¹/åˆ é™¤</p>
<p>åˆ›å»º:create</p>
<p>ä¿®æ”¹:alter</p>
<p>åˆ é™¤:drop</p>
<h5 id="åº“çš„ç®¡ç†-1">åº“çš„ç®¡ç†</h5>
<h5 id="åº“çš„åˆ›å»º">åº“çš„åˆ›å»º</h5>
<p>è¯­æ³• create database [if not exists] åº“å ;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å¦‚æœå·²å­˜åœ¨</span><span class="w"> </span><span class="err">è¿™æ ·æ‰§è¡Œä¼šæŠ¥é”™</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼šå…ˆåˆ¤æ–­ä¸€ä¸‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åº“çš„ä¿®æ”¹">åº“çš„ä¿®æ”¹</h5>
<p>æ›´æ”¹åº“çš„å­—ç¬¦é›†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="nb">character</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">gbk</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span></code></pre></div><h5 id="åº“çš„åˆ é™¤">åº“çš„åˆ é™¤</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">drop</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="k">drop</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span></code></pre></div><h5 id="è¡¨çš„ç®¡ç†-1">è¡¨çš„ç®¡ç†</h5>
<h5 id="è¡¨çš„åˆ›å»º">è¡¨çš„åˆ›å»º</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="err">è¡¨å</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="err">åˆ—å</span><span class="w"> </span><span class="err">åˆ—çš„ç±»å‹</span><span class="p">[(</span><span class="err">é•¿åº¦</span><span class="p">)</span><span class="w"> </span><span class="err">çº¦æŸ</span><span class="p">],</span><span class="w"> 
</span><span class="w">	</span><span class="err">åˆ—å</span><span class="w"> </span><span class="err">åˆ—çš„ç±»å‹</span><span class="p">[(</span><span class="err">é•¿åº¦</span><span class="p">)</span><span class="w"> </span><span class="err">çº¦æŸ</span><span class="p">],</span><span class="w"> 
</span><span class="w">	</span><span class="err">åˆ—å</span><span class="w"> </span><span class="err">åˆ—çš„ç±»å‹</span><span class="p">[(</span><span class="err">é•¿åº¦</span><span class="p">)</span><span class="w"> </span><span class="err">çº¦æŸ</span><span class="p">],</span><span class="w"> 
</span><span class="w">	</span><span class="err">åˆ—å</span><span class="w"> </span><span class="err">åˆ—çš„ç±»å‹</span><span class="p">[(</span><span class="err">é•¿åº¦</span><span class="p">)</span><span class="w"> </span><span class="err">çº¦æŸ</span><span class="p">],</span><span class="w"> 
</span><span class="w">	</span><span class="err">åˆ—å</span><span class="w"> </span><span class="err">åˆ—çš„ç±»å‹</span><span class="p">[(</span><span class="err">é•¿åº¦</span><span class="p">)</span><span class="w"> </span><span class="err">çº¦æŸ</span><span class="p">],</span><span class="w"> 
</span><span class="w">	</span><span class="p">...</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">database</span><span class="p">()</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">myemployees</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">book</span><span class="p">(</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">bName</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">authorId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="n">publishDate</span><span class="w"> </span><span class="n">datetime</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">bName</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">price</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">double</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">authorId</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">publishDate</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">datetime</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span><span class="n">au_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">nation</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="è¡¨çš„ä¿®æ”¹">è¡¨çš„ä¿®æ”¹</h5>
<p>alter table è¡¨å add column / drop column / change column /modify column /raname to åˆ—å/åˆ—ç±»å‹/è¡¨å</p>
<ul>
<li>ä¿®æ”¹åˆ—å</li>
<li>ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–çº¦æŸ</li>
<li>æ·»åŠ æ–°åˆ—</li>
<li>åˆ é™¤åˆ—</li>
<li>ä¿®æ”¹è¡¨å</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¿®æ”¹åˆ—å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">publishDate</span><span class="w"> </span><span class="n">pbDate</span><span class="w"> </span><span class="n">datetime</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">pbdate</span><span class="w"> </span><span class="k">timestamp</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ æ–°åˆ—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">annual</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤åˆ—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">annual</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¿®æ”¹è¡¨å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="k">rename</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">book_author</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="è¡¨çš„åˆ é™¤">è¡¨çš„åˆ é™¤</h5>
<p>drop table è¡¨</p>
<p>drop table if exist è¡¨</p>
<p>é€šç”¨çš„å†™æ³•:</p>
<p>drop database if exists æ—§åº“å ;</p>
<p>create database åº“å ;</p>
<p>drop table if exists æ—§è¡¨å;</p>
<p>create table è¡¨å (&hellip;) ;</p>
<h5 id="è¡¨çš„å¤åˆ¶">è¡¨çš„å¤åˆ¶</h5>
<ul>
<li>ä»…ä»…å¤åˆ¶è¡¨çš„ç»“æ„</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">copy</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">copy</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>å¤åˆ¶è¡¨çš„ç»“æ„å’Œæ•°æ®</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å­æŸ¥è¯¢</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">copy2</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">au_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">nation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ‘ä¸Šæ˜¥æ ‘</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æ—¥æœ¬</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">è«è¨€</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸­å›½</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å†¯å”</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸­å›½</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é‡‘åº¸</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="err">ä¸­å›½</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+----------+--------+
</span><span class="c1"></span><span class="mi">4</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>åªå¤åˆ¶éƒ¨åˆ†æ•°æ®</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ ¹æ®ä¸€å¼ è¡¨çš„éƒ¨åˆ†æ•°æ®</span><span class="w"> </span><span class="err">å»ºç«‹å¦ä¸€å¼ è¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">copy3</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">au_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">nation</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;ä¸­å›½&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">au_name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">è«è¨€</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å†¯å”</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">é‡‘åº¸</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>ä»…ä»…å¤åˆ¶æŸäº›å­—æ®µ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è¿™æ ·å°±åªä¼šå¤åˆ¶å­—æ®µ</span><span class="p">,</span><span class="err">å¹¶ä¸”ä¸æ»¡è¶³æ¡ä»¶ä¸æºå¸¦ä»»ä½•ä¸€æ¡æ•°æ®è¿‡æ¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">copy4</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="ç»ƒä¹ ä¸€ä¸‹-4">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">dept1</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å°†</span><span class="n">departmentsä¸­çš„æ•°æ®æ’å…¥æ–°è¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">dept2</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myemployees</span><span class="p">.</span><span class="n">departments</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">first_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span><span class="n">last_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span><span class="n">dept_id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ ·æ˜¯ä¿®æ”¹åˆ—åå’Œç±»å‹çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™æ ·åªæ˜¯ä¿®æ”¹ç±»å‹çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¤åˆ¶ç»“æ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">employees2</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="n">myemployees</span><span class="p">.</span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¿®æ”¹è¡¨çš„åå­—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">employees2</span><span class="w"> </span><span class="k">rename</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¢åŠ åˆ—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">dept1</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">test_column</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">test_column</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤åˆ—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp5</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><h5 id="å¸¸è§çš„æ•°æ®ç±»å‹">å¸¸è§çš„æ•°æ®ç±»å‹</h5>
<p>æ•°å€¼å‹</p>
<ul>
<li>æ•´å½¢</li>
<li>å°æ•°
<ul>
<li>å®šç‚¹æ•°</li>
<li>æµ®ç‚¹æ•°</li>
</ul>
</li>
</ul>
<p>å­—ç¬¦å‹</p>
<ul>
<li>è¾ƒçŸ­çš„æ–‡æœ¬ char varchar</li>
<li>è¾ƒé•¿çš„æ–‡æœ¬ text blob(è¾ƒé•¿çš„äºŒè¿›åˆ¶æ•°æ®)</li>
</ul>
<p>æ—¥æœŸå‹:</p>
<p><strong>æ•´å½¢</strong></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210926214209015.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210926214209015.png"
			
			
			
			loading="lazy"
			alt="image-20210926214209015">
	</a>
	
	<figcaption>image-20210926214209015</figcaption>
	
</figure></p>
<p>åˆ†ç±»</p>
<p>tinyint smallint mediumin int/interger bigint</p>
<p>1              2                3                  4            8</p>
<p>ç‰¹ç‚¹</p>
<ul>
<li>å¦‚æœä¸è®¾ç½®æ— ç¬¦å·è¿˜æ˜¯æœ‰ç¬¦å·ï¼Œé»˜è®¤æ˜¯æœ‰ç¬¦å·ï¼Œå¦‚æœæƒ³è®¾ç½®æ— ç¬¦å·ï¼Œéœ€è¦æ·»åŠ unsignedå…³é”®å­—</li>
<li>å¦‚æœæ’å…¥çš„æ•°å€¼è¶…å‡ºäº†ç±»å‹çš„èŒƒå›´,ä¼šæŠ¥out of rangeå¼‚å¸¸ ,ä½†æ˜¯ä¸mysql5.0ä¸åŒçš„æ˜¯,ç°åœ¨ä¸ä¼šæ’å…¥æ•°æ®äº†,mysql5.0ä¼šæ’å…¥ä¸´ç•Œå€¼</li>
<li>å¦‚æœä¸è®¾ç½®é•¿åº¦,ä¼šæœ‰é»˜è®¤çš„é•¿åº¦</li>
</ul>
<p>å¦‚ä½•è®¾ç½®æ— ç¬¦å·å’Œæœ‰ç¬¦å·</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¯´æ˜èƒ½å¤Ÿæ’å…¥è´Ÿæ•°</span><span class="w"> </span><span class="err">è¯´æ˜é»˜è®¤çš„</span><span class="n">intæ˜¯æœ‰ç¬¦å·çš„int</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="o">-</span><span class="mi">123456</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ’å…¥æ— ç¬¦å·</span><span class="n">intç±»å‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æƒ³ç»™æ— ç¬¦å·æ•´æ•°æ’å…¥è´Ÿæ•°çš„è¯ä¼šæŠ¥é”™</span><span class="w"> </span><span class="mi">0</span><span class="err">è¡Œä¸€å…±</span><span class="w"> </span><span class="err">ä½†æ˜¯åœ¨</span><span class="n">mysql5</span><span class="p">.</span><span class="mi">5</span><span class="err">ä¼šæ’å…¥</span><span class="w"> </span><span class="err">ç„¶åé»˜è®¤å¡«å……</span><span class="mi">0</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="o">-</span><span class="mi">123456</span><span class="p">,</span><span class="o">-</span><span class="mi">123456</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1264</span><span class="w"> </span><span class="p">(</span><span class="mi">22003</span><span class="p">):</span><span class="w"> </span><span class="k">Out</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="s1">&#39;t2&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">zerofill</span><span class="w"> </span><span class="err">é»˜è®¤é•¿åº¦ä¸å¤Ÿä»¥</span><span class="mi">0</span><span class="err">å¡«å……</span><span class="w"> </span><span class="err">é»˜è®¤æ˜¯æ— ç¬¦å·æ•°</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="err">ä¸æ˜¯</span><span class="mi">2</span><span class="err">çš„</span><span class="mi">7</span><span class="err">ä½</span><span class="p">,</span><span class="err">ä»£è¡¨çš„æ˜¯æ˜¾ç¤ºçš„æœ€å¤§å®½åº¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">int_zeroFill</span><span class="w"> </span><span class="p">(</span><span class="n">t1</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="n">zerofill</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="n">zerofill</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">int_zeroFill</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">zerofill</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t2</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">zerofill</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">int_zerofill</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">123</span><span class="p">,</span><span class="mi">123</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">int_zerofill</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">t2</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">0000123</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0000123</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å°æ•°">å°æ•°</h5>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929224058024.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929224058024.png"
			
			
			
			loading="lazy"
			alt="image-20210929224058024">
	</a>
	
	<figcaption>image-20210929224058024</figcaption>
	
</figure></p>
<p>æµ®ç‚¹å‹</p>
<p>float(M,D)</p>
<p>double(M,D)</p>
<p>å®šç‚¹å‹</p>
<p>dec(M,D)</p>
<p>decimal(M,D)</p>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>Må’ŒDä»€ä¹ˆæ„æ€
<ul>
<li>mæ˜¯å°æ•°éƒ¨ä½+æ•´æ•°éƒ¨ä½ dæ˜¯å°æ•°éƒ¨ä½ å¦‚æœè¶…è¿‡èŒƒå›´, åˆ™æ’å…¥ä¸´ç•Œå€¼</li>
</ul>
</li>
<li>må’Œdéƒ½å¯ä»¥çœç•¥
<ul>
<li>å¦‚æœæ˜¯decimal , åˆ™mé»˜è®¤ä¸º10,dé»˜è®¤ä¸º0</li>
<li>å¦‚æœæ˜¯floatå’Œdouble,åˆ™ä¼šæ ¹æ®æ’å…¥çš„æ•°å€¼çš„ç²¾åº¦æ¥å†³å®šç²¾åº¦</li>
</ul>
</li>
<li>å®šç‚¹å‹å’Œæµ®ç‚¹å‹çš„åŒºåˆ«
<ul>
<li>å®šç‚¹å‹çš„ç²¾ç¡®åº¦è¾ƒé«˜,å¦‚æœè¦æ±‚æ’å…¥æ•°å€¼çš„ç²¾åº¦è¾ƒé«˜å¦‚è´§å¸è¿ç®—ç­‰åˆ™è€ƒè™‘ä½¿ç”¨</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å°æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="p">(</span><span class="n">f1</span><span class="w"> </span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">f2</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">f3</span><span class="w"> </span><span class="nb">decimal</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼šè¢«æˆªå–</span><span class="w"> </span><span class="err">ä½æ•°å¤ªé•¿çš„è¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">çŸ­äº†å°±è‡ªåŠ¨å¡«å……</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">123</span><span class="p">.</span><span class="mi">4</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">4</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="mi">2</span><span class="err">ä»£è¡¨å°æ•°åå‡ ä½</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">f1</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">f2</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">f3</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¶…å‡ºä½æ•°äº†</span><span class="w"> </span><span class="err">è¶…å‡ºçš„è¯</span><span class="n">mysql8</span><span class="p">.</span><span class="mi">0</span><span class="err">å°†ä¸ä¼šæ’å…¥</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="mi">5</span><span class="err">ä»£è¡¨ä¸€å…±å¤šå°‘ä½æ•°</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¦‚æœå°æ•°ä½</span><span class="mi">2</span><span class="err">ä½</span><span class="p">,</span><span class="err">é‚£æ•´æ•°ä½æœ€å¤š</span><span class="mi">3</span><span class="err">ä½</span><span class="p">,</span><span class="err">æ‰€ä»¥æ•´æ•°æœ€å¤š</span><span class="mi">999</span><span class="w"> </span><span class="n">mysql5</span><span class="p">.</span><span class="mi">0</span><span class="err">ä¼šæ’å…¥æœ€å¤§å€¼</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1523</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="mi">1523</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="mi">1523</span><span class="p">.</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1264</span><span class="w"> </span><span class="p">(</span><span class="mi">22003</span><span class="p">):</span><span class="w"> </span><span class="k">Out</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="s1">&#39;f1&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_float</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">f1</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">f2</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">f3</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">45</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">46</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœä¸å¡«å†™</span><span class="w"> </span><span class="n">må’Œd</span><span class="w"> </span><span class="n">decimalé»˜è®¤æ˜¯</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">å°æ•°åé¢æ˜¯</span><span class="mi">0</span><span class="err">ä½</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_float_default</span><span class="w"> </span><span class="p">(</span><span class="n">f1</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">f3</span><span class="w"> </span><span class="nb">decimal</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">tab_float_default</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+---------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+---------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">f1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">float</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">f2</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">double</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">f3</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+---------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœæ’å…¥äº†å¤šäº†</span><span class="p">,</span><span class="err">ä¼šè‡ªåŠ¨æˆªæ–­</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_float_default</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">,</span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_float_default</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">f1</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">f2</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">f3</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">456</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">123</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+---------+------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="é€‰æ‹©ç±»å‹çš„åŸåˆ™">é€‰æ‹©ç±»å‹çš„åŸåˆ™</h5>
<p>æ‰€é€‰æ‹©çš„ç±»å‹è¶Šç®€å•è¶Šå¥½,èƒ½ä¿å­˜æ•°å€¼çš„ç±»å‹è¶Šå°è¶Šå¥½</p>
<h5 id="å­—ç¬¦å‹">å­—ç¬¦å‹</h5>
<p>è¾ƒçŸ­çš„æ–‡æœ¬:</p>
<p>char</p>
<p>varchar</p>
<p>è¾ƒé•¿çš„æ–‡æœ¬:</p>
<p>text</p>
<p>blob(è¾ƒå¤§çš„äºŒè¿›åˆ¶)</p>
<p>å…¶ä»–:</p>
<p>binaryå’Œvarbinaryç”¨äºä¿å­˜è¾ƒçŸ­çš„äºŒè¿›åˆ¶æ•°æ®</p>
<p>enumç”¨äºä¿å­˜æšä¸¾</p>
<p>setç”¨äºä¿å­˜é›†åˆ</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230011199.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230011199.png"
			
			
			
			loading="lazy"
			alt="image-20210929230011199">
	</a>
	
	<figcaption>image-20210929230011199</figcaption>
	
</figure></p>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>char char(m) mä»£è¡¨æœ€å¤§çš„å­—ç¬¦æ•°,å¯ä»¥çœç•¥,é»˜è®¤ä¸º1  ä»£è¡¨å›ºå®šé•¿åº¦çš„å­—ç¬¦  æ•ˆç‡é«˜ä¸€ç‚¹</li>
<li>varchar varchar(m) mä»£è¡¨æœ€å¤§çš„å­—ç¬¦æ•°,ä¸å¯ä»¥çœç•¥ å¯å˜é•¿åº¦çš„å­—ç¬¦ æ¯”è¾ƒèŠ‚çœ æ•ˆç‡ä½ä¸€ç‚¹</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230312590-16329277930351.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230312590-16329277930351.png"
			
			
			
			loading="lazy"
			alt="image-20210929230312590">
	</a>
	
	<figcaption>image-20210929230312590</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ç±»å‹ä¸º</span><span class="n">enumçš„å­—æ®µ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_char</span><span class="p">(</span><span class="n">c1</span><span class="w"> </span><span class="n">enum</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">tab_char</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+-------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+-------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">c1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">enum</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+-------------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_char</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸åŒºåˆ†å¤§å°å†™</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_char</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰å®šä¹‰çš„æ’å…¥ä¸è¿›å»</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_char</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1265</span><span class="w"> </span><span class="p">(</span><span class="mi">01000</span><span class="p">):</span><span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="s1">&#39;c1&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_char</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">c1</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230732259.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929230732259.png"
			
			
			
			loading="lazy"
			alt="image-20210929230732259">
	</a>
	
	<figcaption>image-20210929230732259</figcaption>
	
</figure></p>
<p>å¯ä»¥ä»åœ¨ä¸€ä¸ªå­—æ®µé‡Œæ’å…¥å¤šä¸ªå…ƒç´ è¾£</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">åˆ›å»ºç±»å‹ä¸º</span><span class="n">setçš„å­—æ®µ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_set</span><span class="p">(</span><span class="n">s1</span><span class="w"> </span><span class="k">set</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_set</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_set</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;a,B&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸ç¬¦åˆçš„ä¸ä¼šæ’å…¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_set</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;a,m&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1265</span><span class="w"> </span><span class="p">(</span><span class="mi">01000</span><span class="p">):</span><span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="s1">&#39;s1&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_set</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">s1</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ—¥æœŸå‹">æ—¥æœŸå‹</h5>
<p>åˆ†ç±»:</p>
<p>dateåªä¿å­˜æ—¥æœŸ</p>
<p>timeåªä¿å­˜æ—¶é—´</p>
<p>yearåªä¿å­˜å¹´</p>
<p>datetime ä¿å­˜æ—¥æœŸ+æ—¶é—´</p>
<p>timestamp ä¿å­˜æ—¥æœŸ+æ—¶é—´</p>
<p>ç‰¹ç‚¹:</p>
<p>datetime å­—èŠ‚ 8 èŒƒå›´ 1000-9999 ä¸å—æ—¶åŒºå½±å“</p>
<p>timastamp å­—èŠ‚ 4 èŒƒå›´ 1970-2038 å—æ—¶åŒºå½±å“</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929233916597.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929233916597.png"
			
			
			
			loading="lazy"
			alt="image-20210929233916597">
	</a>
	
	<figcaption>image-20210929233916597</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929234007359.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20210929234007359.png"
			
			
			
			loading="lazy"
			alt="image-20210929234007359">
	</a>
	
	<figcaption>image-20210929234007359</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_date</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="n">t2</span><span class="w">                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">53</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">53</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ—¶åŒº</span><span class="w"> </span><span class="err">å¦‚æœå°†æ—¶åŒºæ”¹æˆå…¶ä»–æ—¶åŒº</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">timestampå¯ä»¥æ›´åŠ çœŸå®åœ°åæ˜ å½“å‰æ—¶åŒºçš„çœŸå®æ—¶é—´</span><span class="w"> </span><span class="err">è€Œä¸æ˜¯ä¸å˜</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;time_zone&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">time_zone</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å¤ä¹ ä¸€ä¸‹-2">å¤ä¹ ä¸€ä¸‹</h5>
<p><strong>è”åˆæŸ¥è¯¢</strong></p>
<p>union è”åˆ , å°†å¤šæ¬¡æŸ¥è¯¢ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªç»“æœ</p>
<p>æŸ¥è¯¢è¯­å¥1 union [all] æŸ¥è¯¢è¯­å¥2 &hellip;</p>
<p>**æ„ä¹‰	**</p>
<ol>
<li>å°†ä¸€æ¡æ¯”è¾ƒå¤æ‚çš„æŸ¥è¯¢è¯­å¥æ‹†åˆ†ä¸ºå¤šæ¡è¯­å¥</li>
<li>é€‚ç”¨äºæŸ¥è¯¢å¤šä¸ªè¡¨çš„æ—¶å€™,æŸ¥è¯¢çš„åˆ—åŸºæœ¬æ˜¯ä¸€è‡´çš„</li>
</ol>
<p><strong>ç‰¹ç‚¹</strong></p>
<ol>
<li>è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢åˆ—æ•°å¿…é¡»ä¸€è‡´</li>
<li>è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„å„åˆ—ç±»å‹/é¡ºåºæœ€å¥½ä¸€è‡´ ä¸ä¸€è‡´ä¼šè§†å›¾éšå¼è½¬æ¢</li>
<li>unionä¼šé»˜è®¤å»é‡ å’Œ union all å¯ä»¥åŒ…å«é‡å¤é¡¹</li>
</ol>
<p>æŸ¥è¯¢çš„è¯­æ³•:</p>
<p>select *   â‘¦</p>
<p>from è¡¨1 åˆ«å   â‘ </p>
<p>join è¡¨2 åˆ«å     â‘¡</p>
<p>on è¿æ¥æ¡ä»¶    	â‘¢</p>
<p>where ç­›é€‰æ¡ä»¶   â‘£</p>
<p>group by åˆ†ç»„æ¡ä»¶  â‘¤</p>
<p>having åˆ†ç»„åç­›é€‰æ¡ä»¶   â‘¥</p>
<p>order by æ’åºæ¡ä»¶  â‘§</p>
<p>limit(èµ·å§‹ç´¢å¼•,æ¡ç›®æ•°)é€‰å¤šå°‘ä¸ª  â‘¨</p>
<p>union &hellip;</p>
<h5 id="dmlè¯­è¨€">DMLè¯­è¨€</h5>
<p><strong>æ’å…¥</strong></p>
<p>insert into è¡¨å (å­—æ®µå , &hellip;) values (&hellip;)  //ä¸€ä¸€å¯¹åº”</p>
<p><strong>ç‰¹ç‚¹</strong></p>
<ol>
<li>è¦æ±‚å€¼çš„ç±»å‹å’Œå­—æ®µçš„ç±»å‹è¦ä¸€è‡´æˆ–å…¼å®¹</li>
<li>å­—æ®µçš„ä¸ªæ•°å’Œé¡ºåºä¸ä¸€å®šä¸åŸå§‹è¡¨ä¸­çš„å­—æ®µçš„ä¸ªæ•°å’Œé¡ºåºä¸€è‡´,ä½†å¿…é¡»ä¿è¯å€¼å’Œå­—æ®µä¸€ä¸€å¯¹åº”</li>
<li>å‡å¦‚å¯ä»¥ä¸ºnullçš„å­—æ®µ,æ³¨æ„å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ’å…¥nullå€¼
<ul>
<li>å­—æ®µå’Œå€¼éƒ½çœç•¥</li>
<li>å­—æ®µå†™ä¸Š,ç„¶åå€¼ä¹Ÿä½¿ç”¨nullæ’å…¥</li>
</ul>
</li>
<li>å­—æ®µå’Œå€¼çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´</li>
<li>å­—æ®µåå¯ä»¥çœç•¥,ä½†æ˜¯é»˜è®¤ä¸ºæ‰€æœ‰åˆ—</li>
</ol>
<p><strong>æ’å…¥2</strong></p>
<p>insert into è¡¨å set å­—æ®µå = å€¼ , å­—æ®µå = å€¼ &hellip;</p>
<p><strong>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</strong></p>
<ul>
<li>
<p>æ–¹å¼ä¸€æ”¯æŒ<strong>å­æŸ¥è¯¢</strong></p>
<ul>
<li>insert into è¡¨å (select * from è¡¨å where &hellip;)</li>
</ul>
</li>
<li>
<p>æ–¹å¼ä¸€æ”¯æŒä¸€æ¬¡æ’å…¥å¤šè¡Œ,æ–¹å¼äºŒä¸æ”¯æŒ</p>
<ul>
<li>insert into è¡¨å values (&hellip;),(&hellip;) &hellip;</li>
</ul>
</li>
</ul>
<h5 id="ä¿®æ”¹å•è¡¨çš„è®°å½•">ä¿®æ”¹å•è¡¨çš„è®°å½•</h5>
<p>update è¡¨å set å­—æ®µ=å€¼ , å­—æ®µ= å€¼ where ç­›é€‰æ¡ä»¶</p>
<h5 id="ä¿®æ”¹å¤šè¡¨çš„è®°å½•">ä¿®æ”¹å¤šè¡¨çš„è®°å½•</h5>
<p>update è¡¨å åˆ«å join  è¡¨å åˆ«å on è¿æ¥æ¡ä»¶ set å­—æ®µ=å€¼ , å­—æ®µ = å€¼ where ç­›é€‰è¯­å¥</p>
<h5 id="åˆ é™¤">åˆ é™¤</h5>
<h5 id="æ–¹å¼ä¸€ä½¿ç”¨delete">æ–¹å¼ä¸€ä½¿ç”¨delete</h5>
<p>åˆ é™¤å•è¡¨çš„è®°å½•</p>
<p>delete from è¡¨å where ç­›é€‰æ¡ä»¶ [limit æ¡ç›®æ•°]</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy_girls</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sex</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">borndate</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">photo</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1988</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">è‹è€å¸ˆ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1987</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18219876577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">çƒ­å·´</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1993</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876579</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨å†¬é›¨</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209179577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy_girls</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">copy_girls</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sex</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">borndate</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">photo</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">è‹è€å¸ˆ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1987</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18219876577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">çƒ­å·´</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1993</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876579</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></code></pre></div><p>åˆ é™¤å¤šè¡¨çš„è®°å½•</p>
<p>delete è¡¨1 åˆ«å1, è¡¨2 åˆ«å2 from è¡¨å åˆ«å  join è¡¨å åˆ«å on è¿æ¥æ¡ä»¶ where ç­›é€‰æ¡ä»¶</p>
<p><strong>æ–¹å¼äºŒä½¿ç”¨truncate</strong></p>
<p><strong>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</strong></p>
<ul>
<li>
<p>deleteä¸ä¼šè®©è‡ªå¢åˆ—å½’é›¶,ä»æ–­ç‚¹å¼€å§‹,truncateä¼šè®©è‡ªå¢åˆ—å½’é›¶</p>
</li>
<li>
<p>deleteå¯ä»¥åŠ ç­›é€‰æ¡ä»¶,truncate ä¸èƒ½åŠ ç­›é€‰æ¡ä»¶</p>
</li>
<li>
<p>truncate æ•ˆç‡è¾ƒé«˜</p>
</li>
<li>
<p>truncate æ²¡æœ‰è¿”å›å€¼,deleteå¯ä»¥è¿”å›å—å½±å“çš„è¡Œæ•°</p>
</li>
<li>
<p>truncateä¸å¯ä»¥å›æ»š,deleteå¯ä»¥å›æ»š</p>
</li>
</ul>
<h5 id="ddlè¯­è¨€">DDLè¯­è¨€</h5>
<h5 id="åº“çš„ç®¡ç†-2"><strong>åº“çš„ç®¡ç†</strong></h5>
<p>åˆ›å»ºåº“</p>
<p>create database  [if not exists] åº“å [character set å­—ç¬¦é›†å] ;</p>
<p>ä¿®æ”¹åº“</p>
<p>alter database åº“å character set å­—ç¬¦é›†å ;</p>
<p>ä¿®æ”¹åº“åå¾ˆå°‘ç”¨,ä¸è¡Œå°±æ¢ä¸ªåº“å‘—ä½•å¿…å‘¢,å¦‚æœå®åœ¨è¦æ”¹,å°±å…ˆnet stop mysql80 ç„¶ååˆ°mysql8.0ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­é‡å‘½åæŸä¸ªæ•°æ®åº“å,ç„¶ånet start mysql80 ,åˆ·æ–°æ•°æ®åº“ç®¡ç†å·¥å…·</p>
<p>åˆ é™¤åº“</p>
<p>drop database [if exists] åº“å ;</p>
<p><strong>è¡¨çš„ç®¡ç†</strong></p>
<p><strong>åˆ›å»ºè¡¨</strong></p>
<p>create table [if not exists] è¡¨å(å­—æ®µå ç±»å‹ [çº¦æŸ], å­—æ®µå ç±»å‹ [çº¦æŸ] &hellip;) ;</p>
<p><strong>ä¿®æ”¹è¡¨</strong></p>
<p><strong>æ·»åŠ åˆ—</strong></p>
<p>alter table è¡¨å add column åˆ—å åˆ—çš„ç±»å‹ [first|after å­—æ®µå];</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">test_add_column</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">t3</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">test_add_column</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t2</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t3</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">test_add_column</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">t11</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">test_add_column</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">t11</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t2</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">t3</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+--------+------+-----+---------+-------+
</span></code></pre></div><p><strong>ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–è€…çº¦æŸ</strong></p>
<p>alter table è¡¨å modify column åˆ—å æ–°ç±»å‹[æ–°çº¦æŸ] ;</p>
<p><strong>ä¿®æ”¹åˆ—å</strong></p>
<p>alter table è¡¨å change column æ—§åˆ—å æ–°åˆ—å ç±»å‹;</p>
<p><strong>åˆ é™¤åˆ—å</strong></p>
<p>alter table è¡¨å drop column åˆ—å ;</p>
<p><strong>ä¿®æ”¹è¡¨å</strong></p>
<p>alter table è¡¨å rename to æ–°è¡¨å</p>
<p><strong>åˆ é™¤è¡¨</strong></p>
<p>drop table [if exists] è¡¨å;</p>
<p><strong>å¤åˆ¶è¡¨</strong> å¯ä»¥è·¨åº“</p>
<p><strong>ä»…ä»…å¤åˆ¶è¡¨çš„ç»“æ„</strong> create table è¡¨å like åŸè¡¨ ;</p>
<p><strong>å¤åˆ¶è¡¨çš„ç»“æ„+æ•°æ®</strong></p>
<p>create table è¡¨å select * from åŸè¡¨ ;</p>
<p>create table è¡¨å select ç‰¹å®šå­—æ®µ from åŸè¡¨ where ç­›é€‰æ¡ä»¶</p>
<h5 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h5>
<p><strong>æ•°å€¼å‹</strong></p>
<ol>
<li>æ•´å‹
<ol>
<li>tinyint smallint mediumint int integer bigint 1 2 3 4 8</li>
<li>ç‰¹ç‚¹
<ol>
<li>éƒ½å¯ä»¥è®¾ç½®æ— ç¬¦å·å’Œæœ‰ç¬¦å· é»˜è®¤æ˜¯æœ‰ç¬¦å· ,é€šè¿‡ unsignedè®¾ç½®æ— ç¬¦å·</li>
<li>å¦‚æœè¶…å‡ºèŒƒå›´,out of range å¼‚å¸¸,mysql5.0 å’Œ 8.0 ä¸åŒ</li>
<li>é•¿åº¦å¯ä»¥ä¸æŒ‡å®š,é»˜è®¤ä¼šæœ‰ä¸€ä¸ªé•¿åº¦</li>
<li>é•¿åº¦ä»£è¡¨çš„æ˜¯æ˜¾ç¤ºçš„æœ€å¤§å®½åº¦,è€Œä¸æ˜¯åªæœ‰2çš„é•¿åº¦ä½é‚£ä¸ªèŒƒå›´,ä½†éœ€è¦æ­é…zerofill,æ­é…ä¹‹åå°†é»˜è®¤å˜ä¸ºæ— ç¬¦å·æ•´å‹</li>
</ol>
</li>
</ol>
</li>
<li>æµ®ç‚¹å‹
<ol>
<li>å®šç‚¹æ•° decimal(m,d) é»˜è®¤ä¸º(10,0)</li>
<li>æµ®ç‚¹æ•° float(m,d) 4ä½å­—èŠ‚  double(m,d) 8ä½å­—èŠ‚  é»˜è®¤ä¸ºå¯å˜çš„</li>
<li>ç‰¹ç‚¹
<ol>
<li>mä»£è¡¨æ•´æ•°+å°æ•°éƒ¨ä½çš„ä¸ªæ•°,dä»£è¡¨å°æ•°éƒ¨ä½</li>
<li>å¦‚æœè¶…å‡ºèŒƒå›´,åˆ™æŠ¥out of rangeå¼‚å¸¸,å¹¶ä¸”æ’å…¥ä¸´ç•Œå€¼</li>
<li>må’Œdéƒ½å¯ä»¥çœç•¥,ä½†å¯¹äºå®šç‚¹æ•°,mé»˜è®¤ä¸º10,dé»˜è®¤ä¸º0</li>
<li>å¦‚æœç²¾åº¦è¦æ±‚è¾ƒé«˜,åˆ™æœ‰é™è€ƒè™‘ä½¿ç”¨å®šç‚¹æ•°</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>å­—ç¬¦å‹</strong></p>
<p>char varchar binary varbinary enum set text blob</p>
<p>char:å›ºå®šé•¿åº¦çš„å­—ç¬¦,å†™æ³•ä¸ºchar(M) ,æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡M ,å…¶ä¸­Må¯ä»¥çœç•¥,é»˜è®¤ä¸º1</p>
<p>varchar:å¯å˜é•¿åº¦çš„å­—ç¬¦ å†™æ³•varchar(M),æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡M,å…¶ä¸­Mä¸å¯ä»¥çœç•¥</p>
<p><strong>æ—¥æœŸå‹</strong></p>
<p>year å¹´</p>
<p>date æ—¥æœŸ</p>
<p>datetime æ—¥æœŸ+æ—¶é—´   8</p>
<p>time æ—¶é—´</p>
<p>timestamp æ—¶é—´æˆ³   4  1970-2038 æ¯”è¾ƒå®¹æ˜“å—åˆ°æ—¶åŒº,è¯­æ³•æ¨¡å¼,ç‰ˆæœ¬çš„å½±å“,æ›´èƒ½åæ˜ å½“å‰æ—¶åŒºçš„çœŸå®æ—¶é—´</p>
<h4 id="æ–°çš„ä¸€æ°å…‹">æ–°çš„ä¸€æ°å…‹</h4>
<h5 id="å¸¸è§çº¦æŸ">å¸¸è§çº¦æŸ</h5>
<p>å«ä¹‰ : ä¸€ç§é™åˆ¶ , ç”¨äºé™åˆ¶è¡¨ä¸­çš„æ•°æ®,ä¸ºäº†ä¿è¯è¡¨ä¸­çš„æ•°æ®çš„å‡†ç¡®å’Œå¯é æ€§</p>
<p><strong>åˆ†ç±»</strong> <strong>å…­å¤§çº¦æŸ</strong></p>
<ul>
<li>
<p>NOT NULL éç©º ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼ä¸èƒ½ä¸ºç©º  æ¯”å¦‚å§“å/å­¦å·ç­‰ç­‰</p>
</li>
<li>
<p>default é»˜è®¤ , ç”¨äºä¿è¯è¯¥å­—æ®µæœ‰é»˜è®¤å€¼</p>
</li>
<li>
<p>PRIMARY KEY ä¸»é”® ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§,å¹¶ä¸”éç©º,å¦‚å­¦å·,å·¥å·</p>
</li>
<li>
<p>UNIQUE å”¯ä¸€,ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§,å¯ä»¥ä¸ºç©º å¦‚åº§ä½å·/è€å©†</p>
</li>
<li>
<p>CHECK æ£€æŸ¥çº¦æŸ [mysql ä¸æ”¯æŒ] æ¯”å¦‚æ€§åˆ« åªèƒ½ç”·å’Œå¥³ æˆ–è€…é’å¹´äººå¹´é¾„</p>
</li>
<li>
<p>FOREIGN KEY å¤–é”®,ç”¨äºé™åˆ¶ä¸¤ä¸ªè¡¨çš„å…³ç³»,ç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å¿…é¡»æ¥è‡ªäºä¸»è¡¨çš„å…³è”åˆ—çš„å€¼ åœ¨ä»è¡¨æ·»åŠ å¤–é”®çº¦æŸ,ç”¨äºå¼•ç”¨ä¸»è¡¨ä¸­çš„æŸåˆ—çš„å€¼ ä¾‹å¦‚å­¦ç”Ÿè¡¨çš„ä¸“ä¸šç¼–å·,å‘˜å·¥è¡¨çš„éƒ¨é—¨ç¼–å·,å‘˜å·¥è¡¨çš„å·¥ç§ç¼–å·</p>
</li>
</ul>
<p>æ·»åŠ çº¦æŸçš„æ—¶æœº:</p>
<ol>
<li>åˆ›å»ºè¡¨æ—¶</li>
<li>ä¿®æ”¹è¡¨æ—¶</li>
</ol>
<p>çº¦æŸçš„æ·»åŠ åˆ†ç±»:</p>
<ul>
<li>åˆ—çº§çº¦æŸ</li>
<li>NOT NULL DEFAULT PRIMARY KEY UNIQUE CHECK FOREIGN KEY å…­å¤§çº¦æŸè¯­æ³•ä¸Šéƒ½æ”¯æŒ,ä½†æ˜¯å¤–é”®çº¦æŸæ²¡æœ‰æ•ˆæœ</li>
<li>è¡¨çº§çº¦æŸ</li>
<li>é™¤äº†éç©º/é»˜è®¤,å…¶ä»–çš„éƒ½æ”¯æŒ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="err">è¡¨</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="err">å­—æ®µå</span><span class="w"> </span><span class="err">å­—æ®µç±»å‹</span><span class="w"> </span><span class="err">åˆ—çº§çº¦æŸ</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="err">å­—æ®µå</span><span class="w">	</span><span class="err">å­—æ®µç±»å‹</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="err">è¡¨çº§çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ</strong></p>
<p><strong>æ·»åŠ åˆ—çº§çº¦æŸ</strong></p>
<p>è¯­æ³•:ç›´æ¥åœ¨å­—æ®µåå’Œç±»å‹åé¢è¿½åŠ çº¦æŸç±»å‹å³å¯</p>
<p>åªæ”¯æŒ:é»˜è®¤/éç©º/ä¸»é”®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">students</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">students</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ›å»ºåˆ—çº§çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">stuName</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">gender</span><span class="o">=</span><span class="s1">&#39;ç”·&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">gender</span><span class="o">=</span><span class="s1">&#39;å¥³&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">seat</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">unique</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="n">majorId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">PRI</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">stuName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">gender</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">seat</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">UNI</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">age</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">18</span><span class="w">      </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">majorId</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹ç´¢å¼•</span><span class="w"> </span><span class="err">å”¯ä¸€</span><span class="o">/</span><span class="err">ä¸»é”®</span><span class="o">/</span><span class="err">å¤–é”®éƒ½å¯ä»¥æŸ¥çœ‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p><strong>æ·»åŠ è¡¨çº§çº¦æŸ</strong></p>
<p>è¯­æ³•:åœ¨å„ä¸ªå­—æ®µçš„æœ€ä¸‹é¢</p>
<p>[constraint çº¦æŸå] çº¦æŸç±»å‹(å­—æ®µå) &hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">gender</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">seat</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="n">majorid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="k">constraint</span><span class="w"> </span><span class="n">pk</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">id</span><span class="p">),</span><span class="k">constraint</span><span class="w"> </span><span class="n">uq</span><span class="w"> </span><span class="k">unique</span><span class="p">(</span><span class="n">seat</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">ck</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">gender</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span><span class="s1">&#39;å¥³&#39;</span><span class="p">)),</span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stuinfo_major</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211001160138048.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211001160138048.png"
			
			
			
			loading="lazy"
			alt="image-20211001160138048">
	</a>
	
	<figcaption>image-20211001160138048</figcaption>
	
</figure></p>
<p><strong>constraint çº¦æŸå å¯ä»¥å»æ‰</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">gender</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">seat</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="n">majorid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">id</span><span class="p">),</span><span class="k">unique</span><span class="p">(</span><span class="n">seat</span><span class="p">),</span><span class="k">check</span><span class="p">(</span><span class="n">gender</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span><span class="s1">&#39;å¥³&#39;</span><span class="p">)),</span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211001160643505.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211001160643505.png"
			
			
			
			loading="lazy"
			alt="image-20211001160643505">
	</a>
	
	<figcaption>image-20211001160643505</figcaption>
	
</figure></p>
<p><strong>é€šç”¨å†™æ³•</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">crete</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> 
</span><span class="w">    </span><span class="n">sex</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="n">seat</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="n">majorid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stuinfo_major</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majroid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="w">
</span></code></pre></div><p>ä¸»é”®å’Œå”¯ä¸€çš„å¤§å¯¹æ¯”</p>
<table>
<thead>
<tr>
<th></th>
<th>ä¿è¯å”¯ä¸€æ€§</th>
<th>æ˜¯å¦å…è®¸ä¸ºç©º</th>
<th>ä¸€ä¸ªè¡¨ä¸­å¯ä»¥æœ‰å‡ ä¸ª</th>
<th>æ˜¯å¦å…è®¸ç»„åˆé”®</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸»é”®</td>
<td>å¯¹</td>
<td>ä¸å¯¹</td>
<td>ä¸€ä¸ªè¡¨ä¸­è‡³å¤šæœ‰ä¸€ä¸ª</td>
<td>æ˜¯,ä½†ä¸æ¨è</td>
</tr>
<tr>
<td>å”¯ä¸€</td>
<td>å¯¹</td>
<td>å¯¹</td>
<td>å¯ä»¥æœ‰å¤šä¸ª</td>
<td>æ˜¯,ä½†ä¸æ¨è</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">primar</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">stuname</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">unique</span><span class="w"> </span><span class="p">(</span><span class="n">seat</span><span class="p">,</span><span class="n">majorid</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>å¤–é”®:</p>
<ol>
<li>è¦æ±‚åœ¨ä»è¡¨è®¾ç½®å¤–é”®å…³ç³»</li>
<li>ä»è¡¨çš„å¤–é”®åˆ—çš„ç±»å‹å’Œä¸»è¡¨çš„å…³è”åˆ—ä¸€è‡´æˆ–å…¼å®¹,åç§°æ— æ‰€è°“</li>
<li>ä¸»è¡¨çš„å…³è”å’§å¿…é¡»æ˜¯ä¸€ä¸ªkeyæˆ–è€…å”¯ä¸€é”®</li>
<li>æ’å…¥æ•°æ®æ—¶,å…ˆæ’å…¥ä¸»è¡¨,å†æ’å…¥ä»è¡¨</li>
<li>åˆ é™¤æ•°æ®æ—¶,å…ˆåˆ é™¤ä»è¡¨,å†åˆ é™¤ä¸»è¡¨</li>
</ol>
<p><strong>ä¿®æ”¹è¡¨æ—¶æ·»åŠ çº¦æŸ</strong></p>
<ul>
<li>æ·»åŠ åˆ—çº§çº¦æŸ alter table è¡¨å mofidy column å­—æ®µå  å­—æ®µç±»å‹ æ–°çº¦æŸ ;</li>
<li>æ·»åŠ è¡¨çº§çº¦æŸ alter table è¡¨å add [constraint çº¦æŸå] çº¦æŸç±»å‹(å­—æ®µå)  [å¤–é”®çš„å¼•ç”¨] ;</li>
</ul>
<p>æ·»åŠ éç©ºçº¦æŸ</p>
<p><strong>æ·»åŠ åˆ—çº§çº¦æŸ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">gender</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">seat</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="n">majorid</span><span class="w"> </span><span class="nb">int</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="n">stuinfo</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Field</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">stuname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">gender</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">seat</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">age</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">majorid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+-------------+------+-----+---------+-------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="n">defeault</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><strong>æ·»åŠ è¡¨çº§çº¦æŸ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">unique</span><span class="p">(</span><span class="n">seat</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><strong>æ·»åŠ å¤–é”®</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_studentinfo_major</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><strong>ä¿®æ”¹è¡¨æ—¶åˆ é™¤çº¦æŸ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å–æ¶ˆéç©ºçº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">stuname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å–æ¶ˆé»˜è®¤çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤ä¸»é”®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w">  </span><span class="k">drop</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤å”¯ä¸€é”®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">seat</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">fk_studentinfo_major</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">majorid</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤å¤–é”®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">fk_studentinfo_major</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><h5 id="ç»ƒä¹ ä¸€ä¸‹-5">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ·»åŠ ä¸»é”®çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="k">constraint</span><span class="w"> </span><span class="n">my_emp_id_pk</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">id</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ ä¸»é”®çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">dept2</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">my_dept_id_pk</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">department_id</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‹·è´æ•°æ®å’Œç»“æ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp2</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">students</span><span class="p">.</span><span class="n">emp2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Tables_in_test</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">dept1</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">dept2</span><span class="w">             </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">emp2</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">emp5</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">int_zerofill</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_char</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_date</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_float</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_float_default</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_int</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tab_set</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">test_add_column</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------+
</span><span class="c1"></span><span class="mi">12</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp2</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">dept_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ å¤–é”®çº¦æŸ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">emp2</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">dept2</span><span class="p">(</span><span class="n">department_id</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><strong>è¡¨çº§çº¦æŸå’Œåˆ—çº§çº¦æŸçš„åŒºåˆ«</strong></p>
<p>â€‹					ä½ç½®							æ”¯æŒçš„çº¦æŸç±»å‹									æ˜¯å¦å¯ä»¥èµ·çº¦æŸå</p>
<p>åˆ—çº§çº¦æŸ     åˆ—çš„åé¢ 					æ”¯æŒæ‰€æœ‰è¯­æ³•,ä½†æ˜¯å¤–é”®æ²¡æœ‰æ•ˆæœ	  ä¸å¯ä»¥èµ·çº¦æŸå</p>
<p>è¡¨çº§çº¦æŸ 	æ‰€æœ‰åˆ—çš„ä¸‹é¢ 			é»˜è®¤å’Œéç©ºä¸æ”¯æŒ,å…¶ä»–æ”¯æŒ			  å¯ä»¥èµ·çº¦æŸå</p>
<h5 id="æ ‡è¯†åˆ—">æ ‡è¯†åˆ—</h5>
<p>åˆç§°ä¸ºè‡ªå¢é•¿åˆ—</p>
<p>å¯ä»¥ä¸ç”¨æ‰‹åŠ¨çš„æ’å…¥å€¼ï¼Œç³»ç»Ÿæä¾›é»˜è®¤çš„åºåˆ—å€¼</p>
<p><strong>åˆ›å»ºè¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—</strong></p>
<p><strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>æ ‡è¯†åˆ—å¿…é¡»å’Œä¸»é”®æ­é…å—ï¼Ÿä¸ä¸€å®šï¼Œä½†è¦æ±‚æ˜¯ä¸€ä¸ªkey</li>
<li>ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šå°‘ä¸ªæ ‡è¯†åˆ—ï¼Ÿè‡³å¤šä¸€ä¸ª</li>
<li>æ ‡è¯†åˆ—çš„ç±»å‹åªèƒ½æ˜¯æ•°å€¼å‹ ä¸€èˆ¬æ˜¯int</li>
<li>æ ‡è¯†åˆ—å¯ä»¥é€šè¿‡ set auto_increment =3 ;è®¾ç½®æ­¥é•¿</li>
<li>æ ‡è¯†åˆ—å¯ä»¥é€šè¿‡æ‰‹åŠ¨çš„æ–¹å¼è®¾ç½®èµ·å§‹å€¼</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_identity</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;john&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸æ˜¯è‡ªå¢çš„è¯ï¼Œæä¸å®š</span><span class="w"> </span><span class="err">ä¼šä¸»é”®é‡å¤çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;john&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1062</span><span class="w"> </span><span class="p">(</span><span class="mi">23000</span><span class="p">):</span><span class="w"> </span><span class="n">Duplicate</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="s1">&#39;tab_identity.PRIMARY&#39;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥ç»™ä»–ä¸è®¾ç½®åˆ—å€¼</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æˆ–è€…å¯ä»¥ç»™ä»–è®¾ç½®ä¸º</span><span class="n">nullå°±å¥½äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">4</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>mysqlä¸æ”¯æŒè®¾ç½®èµ·å§‹çš„æ•°å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å–å·§çš„åŠæ³•æ‰‹åŠ¨è®¾ç½®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥çœ‹è‡ªå¢é•¿å˜é‡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%auto_increment%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">auto_increment_increment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">auto_increment_offset</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è®¾ç½®è‡ªå¢é•¿çš„æ­¥é•¿</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">auto_increment_increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%auto_increment%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">auto_increment_increment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">auto_increment_offset</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+-------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‰‹åŠ¨è®¾ç½®èµ·å§‹å€¼</span><span class="w"> </span><span class="err">è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ•ˆæœäº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jwt&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----+------+
</span><span class="c1"></span><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>ä¿®æ”¹è¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="p">;</span><span class="w">  
</span></code></pre></div><p><strong>ä¿®æ”¹è¡¨æ—¶åˆ é™¤æ ‡è¯†åˆ—</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">tab_identity</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w">  </span><span class="p">;</span><span class="w"> 
</span></code></pre></div><h4 id="tcl">TCL</h4>
<p>Transaction Control Languaue äº‹åŠ¡æ§åˆ¶è¯­è¨€</p>
<h5 id="äº‹åŠ¡">äº‹åŠ¡</h5>
<p>ä¸€ä¸ªæˆ–è€…ä¸€ç»„sqlè¯­å¥ç»„æˆä¸€ä¸ªæ‰§è¡Œå•å…ƒ,è¿™ä¸ªæ‰§è¡Œå•å…ƒè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ</p>
<p><strong>äº‹åŠ¡çš„ç‰¹ç‚¹</strong></p>
<p>ACID</p>
<ul>
<li>åŸå­æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸å¯å†åˆ†å‰²,è¦ä¹ˆæ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ</li>
<li>ä¸€è‡´æ€§ ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¼šä½¿æ•°æ®ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€</li>
<li>æŒä¹…æ€§ ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸å—å…¶ä»–äº‹åŠ¡çš„å¹²æ‰°</li>
<li>éš”ç¦»æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤,åˆ™ä¼šæ°¸ä¹…çš„æ”¹å˜æ•°æ®åº“çš„æ•°æ®</li>
</ul>
<p>æ¡ˆä¾‹ è½¬è´¦</p>
<p>äº‹åŠ¡:äº‹åŠ¡ç”±å•ç‹¬å•å…ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥ç»„æˆ,åœ¨è¿™ä¸ªå•å…ƒä¸­,æ¯ä¸ªmysqlè¯­å¥æ˜¯ç›¸äº’ä»¥æ¥çš„.è€Œæ•´ä¸ªå•ç‹¬å•å…ƒä½œä¸ºä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“,å¦‚æœå•å…ƒä¸­æŸæ¡sqlè¯­å¥ä¸€æ—¦æ‰§è¡Œå¤±è´¥æˆ–äº§ç”Ÿé”™è¯¯,æ•´ä¸ªå•å…ƒå°†ä¼šå›æ»š.æ‰€æœ‰å—åˆ°å½±å“çš„æ•°æ®å°†è¿”å›åˆ°äº‹åŠ¡å¼€å§‹ä»¥å‰çš„çŠ¶æ€;å¦‚æœå•å…ƒä¸­çš„æ‰€æœ‰sqlè¯­å¥å‡æ‰§è¡ŒæˆåŠŸ,åˆ™äº‹åŠ¡è¢«é¡ºåˆ©æ‰§è¡Œ.</p>
<h5 id="å­˜å‚¨å¼•æ“"><strong>å­˜å‚¨å¼•æ“</strong></h5>
<ul>
<li>æ¦‚å¿µ:åœ¨mysqlä¸­çš„æ•°æ®ç”¨å„ç§ä¸åŒçš„æŠ€æœ¯å­˜å‚¨åœ¨æ–‡ä»¶(æˆ–å†…å­˜)ä¸­</li>
<li>é€šè¿‡show engines æ¥æŸ¥çœ‹mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“</li>
<li>åœ¨mysqlä¸­ç”¨çš„æœ€å¤šçš„å­˜å‚¨å¼•æ“æœ‰ innodb myisam memory ç­‰ å…¶ä¸­innodbæ”¯æŒäº‹åŠ¡,è€Œmyisam/memoryç­‰ä¸æ”¯æŒäº‹åŠ¡</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">engines</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Engine</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Support</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w">                                                        </span><span class="o">|</span><span class="w"> </span><span class="n">Transactions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">XA</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Savepoints</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">MEMORY</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Hash</span><span class="w"> </span><span class="n">based</span><span class="p">,</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">memory</span><span class="p">,</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">temporary</span><span class="w"> </span><span class="n">tables</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">MRG_MYISAM</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Collection</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">MyISAM</span><span class="w"> </span><span class="n">tables</span><span class="w">                          </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">CSV</span><span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">CSV</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                             </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">FEDERATED</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Federated</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                 </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">PERFORMANCE_SCHEMA</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Performance</span><span class="w"> </span><span class="k">Schema</span><span class="w">                                             </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">MyISAM</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">MyISAM</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                          </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">InnoDB</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Supports</span><span class="w"> </span><span class="n">transactions</span><span class="p">,</span><span class="w"> </span><span class="k">row</span><span class="o">-</span><span class="k">level</span><span class="w"> </span><span class="n">locking</span><span class="p">,</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="n">keys</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">BLACKHOLE</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="k">null</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="p">(</span><span class="n">anything</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">disappears</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">ARCHIVE</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Archive</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                         </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
</span><span class="c1"></span><span class="mi">9</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>äº‹åŠ¡çš„ACIDå±æ€§</p>
<ul>
<li>åŸå­æ€§A  äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½,äº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿ,è¦ä¹ˆéƒ½ä¸å‘ç”Ÿ</li>
<li>æŒä¹…æ€§D æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤,å®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„,æ¥ä¸‹æ¥çš„å…¶ä»–æ“ä½œå’Œæ•°æ®åº“æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“</li>
<li>éš”ç¦»æ€§I  äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°,å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å¹¶å‘çš„å…¶ä»–äº‹åŠ¡æ˜¯éš”ç¦»çš„,å¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°</li>
<li>ä¸€è‡´æ€§C  äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€</li>
</ul>
<p><strong>äº‹åŠ¡çš„åˆ›å»º</strong></p>
<ul>
<li>éšå¼äº‹åŠ¡:äº‹åŠ¡æ²¡æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸçš„æ ‡è®°</li>
</ul>
<p>æ¯”å¦‚insert / update / delete è¯­å¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;autocommit&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">autocommit</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">ON</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>æ˜¾å¼äº‹åŠ¡:äº‹åŠ¡å…·æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸæ ‡è®° å‰ææ˜¯å¿…é¡»å…ˆè®¾ç½®è‡ªåŠ¨æäº¤åŠŸèƒ½ä¸ºç¦ç”¨</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">åªæ˜¯é’ˆå¯¹å½“å‰äº‹åŠ¡æœ‰æ•ˆ</span><span class="w"> </span><span class="err">æ‰€ä»¥æ¯æ¬¡å¼€å¯æ˜¾å¼äº‹åŠ¡çš„æ—¶å€™éƒ½è¦æ‰‹åŠ¨çš„å…³é—­è‡ªåŠ¨æäº¤åŠŸèƒ½</span><span class="w">
</span><span class="w"></span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w">
</span></code></pre></div><p>æ­¥éª¤1 : å¼€å¯äº‹åŠ¡</p>
<p>set autocommit = 0</p>
<p>start transaction ; å¯é€‰çš„</p>
<p>æ­¥éª¤2 : ç¼–å†™äº‹åŠ¡ä¸­çš„sqlè¯­å¥ select insert update delete &hellip;</p>
<p>è¯­å¥1</p>
<p>è¯­å¥2</p>
<p>&hellip;</p>
<p>æ­¥éª¤3 : ç»“æŸäº‹åŠ¡</p>
<p>commit ; æäº¤äº‹åŠ¡</p>
<p>rollback ; å›æ»šäº‹åŠ¡</p>
<p>savepoint èŠ‚ç‚¹å ; è®¾ç½®ä¿å­˜ç‚¹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">account</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="n">double</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;èµµæ•&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç¦ç”¨è‡ªåŠ¨æäº¤</span><span class="w"> </span><span class="err">å¼€å¯äº‹åŠ¡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¼€å¯äº‹åŠ¡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="mi">500</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åœ¨</span><span class="n">navicaté‡ŒæŸ¥çœ‹å¥½åƒæ˜¯1000</span><span class="w"> </span><span class="mi">1000</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å›æ»šè¯•äº†è¯•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ˜¯å¯ä»¥çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä½“éªŒä¸€ä¸‹äº‹åŠ¡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;èµµæ•&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æäº¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ æ— å¿Œ</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ•°æ®åº“çš„éš”ç¦»çº§åˆ«"><strong>æ•°æ®åº“çš„éš”ç¦»çº§åˆ«</strong></h5>
<ul>
<li>
<p>å¯¹äºåŒæ—¶è¿è¡Œçš„å¤šä¸ªäº‹åŠ¡,å½“è¿™äº›äº‹åŠ¡è®¿é—®æ•°æ®åº“ä¸­ç›¸åŒçš„æ•°æ®æ—¶,å¦‚æœæ²¡æœ‰é‡‡å–å¿…è¦çš„éš”ç¦»æœºåˆ¶,å°±ä¼šå¯¼è‡´å„ç§å¹¶å‘é—®é¢˜</p>
<ul>
<li>è„è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 ,T1è¯»å–äº†å·²ç»è¢«T2æ›´æ–°,ä½†æ˜¯è¿˜æ²¡æœ‰è¢«æäº¤çš„å­—æ®µ,ä¹‹å,è‹¥T2å›æ»š,T1è¯»å–çš„å†…å®¹å°±æ˜¯ä¸´æ—¶ä¸”æ— æ•ˆçš„</li>
<li>ä¸å¯é‡å¤è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 , T1 è¯»å–äº†ä¸€ä¸ªå­—æ®µ,ç„¶åT2 æ›´æ–°äº†è¯¥å­—æ®µ.ä¹‹å,T1å†æ¬¡è¯»å–åŒä¸€ä¸ªå­—æ®µ,å€¼å°±ä¸åŒäº†</li>
<li>å¹»è¯»:å¯¹äºä¸¤ä¸ªäº‹åŠ¡T1 , T2 , T1ä»ä¸€ä¸ªè¡¨ä¸­è¯»å–äº†ä¸€ä¸ªå­—æ®µ,ç„¶åT2åœ¨è¯¥è¡¨ä¸­æ’å…¥äº†ä¸€äº›æ–°çš„è¡Œ.ä¹‹å,å¦‚æœT1å†æ¬¡è¯»å–åŒä¸€ä¸ªæ¡,å°±ä¼šå¤šå‡ºå‡ è¡Œ.</li>
</ul>
</li>
<li>
<p>æ•°æ®åº“äº‹åŠ¡çš„éš”ç¦»æ€§:æ•°æ®åº“ç³»ç»Ÿå¿…é¡»å…·æœ‰éš”ç¦»å¹¶å‘è¿è¡Œå„ä¸ªäº‹åŠ¡çš„èƒ½åŠ›,ä½¿ä»–ä»¬ä¸ä¼šäº’ç›¸å½±å“,é¿å…å„ç§å¹¶å‘é—®é¢˜.</p>
</li>
<li>
<p>ä¸€ä¸ªäº‹åŠ¡ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»çš„ç¨‹åº¦ç§°ä¸ºéš”ç¦»çº§åˆ«.æ•°æ®åº“è§„å®šäº†å¤šç§äº‹åŠ¡éš”ç¦»çº§åˆ«,ä¸åŒéš”ç¦»çº§åˆ«å¯¹åº”ä¸åŒçš„å¹²æ‰°ç¨‹åº¦,éš”ç¦»çº§åˆ«è¶Šé«˜,æ•°æ®ä¸€è‡´æ€§å°±è¶Šå¥½,ä½†å¹¶å‘æ€§å°±è¶Šå¼±</p>
</li>
<li>
<p>æ•°æ®åº“æä¾›çš„4ä¸­éš”ç¦»çº§åˆ«</p>
<ul>
<li>read uncommitted(è¯»æœªæäº¤æ•°æ®) å…è®¸äº‹åŠ¡è¯»å–æœªè¢«å…¶ä»–äº‹åŠ¡æäº¤çš„å˜æ›´.è„è¯»/ä¸å¯é‡å¤è¯»/å¹»è¯»çš„é—®é¢˜éƒ½ä¼šå‡ºç°</li>
<li>read commit(è¯»å·²ç»æäº¤çš„æ•°æ®) åªå…è®¸äº‹åŠ¡è¯»å–å·²ç»è¢«å…¶ä»–äº‹åŠ¡æäº¤çš„å˜æ›´,å¯ä»¥é¿å…è„è¯»,ä½†ä¸å¯é‡å¤åº¦å’Œå¹»è¯»çš„é—®é¢˜ä»ç„¶å¯èƒ½å‡ºç°</li>
<li>repeatable read(å¯é‡å¤è¯») ç¡®ä¿äº‹åŠ¡å¯ä»¥å¤šæ¬¡ä»ä¸€ä¸ªå­—æ®µä¸­è¯»å–ç›¸åŒçš„å€¼,åœ¨è¿™ä¸ªäº‹åŠ¡æŒç»­æœŸé—´,ç¦æ­¢å…¶ä»–äº‹åŠ¡å¯¹è¿™ä¸ªå­—æ®µè¿›è¡Œæ›´æ–°.å¯ä»¥é¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»,ä½†å¹»è¯»çš„é—®é¢˜ä»ç„¶å­˜åœ¨.</li>
<li>serializable(ä¸²è¡ŒåŒ–) ç¡®ä¿äº‹åŠ¡å¯ä»¥ä»ä¸€ä¸ªè¡¨ä¸­è¯»å–ç›¸åŒçš„è¡Œ.åœ¨è¿™ä¸ªäº‹åŠ¡æŒç»­æœŸé—´,ç¦æ­¢å…¶ä»–äº‹åŠ¡å¯¹è¯¥è¡¨æ‰§è¡Œæ’å…¥,æ›´æ–°å’Œåˆ é™¤æ“ä½œ.æ‰€æœ‰å¹¶å‘é—®é¢˜éƒ½å¯ä»¥é¿å…,ä½†æ€§èƒ½ååˆ†ä½ä¸‹</li>
</ul>
</li>
<li>
<p>oracleæ”¯æŒçš„2ç§äº‹åŠ¡éš”ç¦»çº§åˆ«:read commited , serializable . oracleé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º:read commited</p>
</li>
<li>
<p>mysqlæ”¯æŒ4ç§äº‹åŠ¡éš”ç¦»çº§åˆ« mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º repeatable read</p>
</li>
</ul>
<p><strong>æµ‹è¯•ä¸€ä¸‹read uncommitted</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">é‡å¯æœåŠ¡å¯ä»¥ä¿è¯æ¢å¤é»˜è®¤çš„éš”ç¦»çº§åˆ«å§å¥½åƒ</span><span class="w">
</span><span class="w"></span><span class="n">PS</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">Administrator</span><span class="p">.</span><span class="n">YOURTREEDAD</span><span class="o">&gt;</span><span class="w"> </span><span class="n">net</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">mysql</span><span class="w"> </span><span class="mi">80</span><span class="w">
</span><span class="w"></span><span class="err">æ­¤å‘½ä»¤çš„è¯­æ³•æ˜¯</span><span class="p">:</span><span class="w">
</span><span class="w"></span><span class="n">NET</span><span class="w"> </span><span class="n">STOP</span><span class="w">
</span><span class="w"></span><span class="n">service</span><span class="w">
</span><span class="w"></span><span class="n">PS</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">Administrator</span><span class="p">.</span><span class="n">YOURTREEDAD</span><span class="o">&gt;</span><span class="w"> </span><span class="n">net</span><span class="w"> </span><span class="k">start</span><span class="w">  </span><span class="n">mysql80</span><span class="w">
</span><span class="w"></span><span class="err">è¯·æ±‚çš„æœåŠ¡å·²ç»å¯åŠ¨ã€‚</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="err">è¯·é”®å…¥</span><span class="w"> </span><span class="n">NET</span><span class="w"> </span><span class="n">HELPMSG</span><span class="w"> </span><span class="mi">2182</span><span class="w"> </span><span class="err">ä»¥è·å¾—æ›´å¤šçš„å¸®åŠ©ã€‚</span><span class="w">
</span><span class="w"></span><span class="n">PS</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">Administrator</span><span class="p">.</span><span class="n">YOURTREEDAD</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mysql</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w">
</span><span class="w"></span><span class="n">Enter</span><span class="w"> </span><span class="n">password</span><span class="p">:</span><span class="w"> </span><span class="o">******</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹éš”ç¦»çº§åˆ«</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è®¾ç½®éš”ç¦»çº§åˆ«ä¸º</span><span class="w">  </span><span class="k">read</span><span class="w"> </span><span class="k">uncommitted</span><span class="w"> </span><span class="err">è¯»æœªæäº¤æ•°æ®</span><span class="w"> </span><span class="err">è¿™æ ·ä¼šå¯¼è‡´è„è¯»</span><span class="o">/</span><span class="err">ä¸å¯é‡å¤è¯»</span><span class="o">/</span><span class="err">å¹»è¯»</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">uncommitted</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">READ</span><span class="o">-</span><span class="k">UNCOMMITTED</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">çœ‹</span><span class="o">!</span><span class="w"> </span><span class="err">è¿˜æ²¡æäº¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;john&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">
</span></code></pre></div><p>åœ¨å¦ä¸€ä¸ªç•Œé¢æ‰“å¼€è®¾ç½®éš”ç¦»çº§åˆ«ä¸º read uncommitted</p>
<p>å°±å¯ä»¥çœ‹åˆ°è„è¯»çš„æ•°æ®</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002112133588.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002112133588.png"
			
			
			
			loading="lazy"
			alt="image-20211002112133588">
	</a>
	
	<figcaption>image-20211002112133588</figcaption>
	
</figure></p>
<p>å‡è‹¥åŸæ¥çš„å›æ»šäº†,é‚£å°±ç¦»è°±äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002112511055.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002112511055.png"
			
			
			
			loading="lazy"
			alt="image-20211002112511055">
	</a>
	
	<figcaption>image-20211002112511055</figcaption>
	
</figure></p>
<p>æ‰€ä»¥ä¼šå‡ºç°è„è¯»å¹»è¯»ä¸å¯é‡å¤è¯»éƒ½å¯èƒ½å‡ºç°åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹</p>
<p><strong>æµ‹è¯•ä¸€ä¸‹ read committed</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">committed</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿˜æ²¡æäº¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;john&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002113519057.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002113519057.png"
			
			
			
			loading="lazy"
			alt="image-20211002113519057">
	</a>
	
	<figcaption>image-20211002113519057</figcaption>
	
</figure></p>
<p>è¿™è¾¹ä¹Ÿç¡®å®åœ¨ç¬¬äºŒä¸ªäº‹åŠ¡ä¸­æ²¡æœ‰çœ‹åˆ°è¿˜æ²¡æäº¤çš„æ•°æ®</p>
<p>ä½†æ˜¯!!! ä½†æ˜¯ è¯´æ˜è¿™å¯ä»¥é¿å…è„è¯»,ä½†æ˜¯ä¸å¯é‡å¤è¯»å’Œå¹»è¯» å˜¿å˜¿!ä¸è¡Œ!</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002113728187.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002113728187.png"
			
			
			
			loading="lazy"
			alt="image-20211002113728187">
	</a>
	
	<figcaption>image-20211002113728187</figcaption>
	
</figure></p>
<p>**æµ‹è¯•ä¸€ä¸‹ repeatable read **</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;autocommit&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">autocommit</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">ON</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ›´æ–°è¿˜æœªæäº¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;åˆ˜å¤‡&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002151741957.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002151741957.png"
			
			
			
			loading="lazy"
			alt="image-20211002151741957">
	</a>
	
	<figcaption>image-20211002151741957</figcaption>
	
</figure>å®Œå…¨æ²¡é—®é¢˜,é¿å…äº†è„è¯»</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æäº¤ä¹‹ååœ¨çœ‹çœ‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">åˆ˜å¤‡</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002151946236.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002151946236.png"
			
			
			
			loading="lazy"
			alt="image-20211002151946236">
	</a>
	
	<figcaption>image-20211002151946236</figcaption>
	
</figure></p>
<p>ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™ç§éš”ç¦»çº§åˆ«ä¼šå‡ºç°å¹»è¯»</p>
<p>cmdä¸­å¼€å¯äº‹åŠ¡,æ’å…¥ä¸€æ¡æ•°æ®</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002152534283.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002152534283.png"
			
			
			
			loading="lazy"
			alt="image-20211002152534283">
	</a>
	
	<figcaption>image-20211002152534283</figcaption>
	
</figure></p>
<p>powershellä¸­å¼€å¯äº‹åŠ¡,æŸ¥è¯¢æ•°æ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æš‚æ—¶æ²¡æŸ¥åˆ°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">åˆ˜å¤‡</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>cmdä¸­commitäº†</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002152659690.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002152659690.png"
			
			
			
			loading="lazy"
			alt="image-20211002152659690">
	</a>
	
	<figcaption>image-20211002152659690</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">sqlä¸­ä¹Ÿæ²¡æœ‰é—®é¢˜</span><span class="w"> </span><span class="err">ä¿è¯æ•°æ®ä¸€è‡´æ€§</span><span class="w"> </span><span class="err">æ‰€ä»¥ä¹ˆæœ‰å‡ºç°ä¸å¯é‡å¤è¯»</span><span class="w"> </span><span class="err">ä¸ä¼šå¤šå‡ºæ¥åˆšåˆšæ’å…¥çš„é‚£æ¡æ•°æ®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">åˆ˜å¤‡</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">èµµæ•</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä½†æ˜¯</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="err">ä½†æ˜¯</span><span class="o">!</span><span class="w"> </span><span class="err">ä¸‹é¢å‡ºé—®é¢˜äº†</span><span class="w">  </span><span class="err">æœ¬æ¥å¸Œæœ›åœ¨äº‹åŠ¡çš„å¼€å§‹çš„æ—¶å€™</span><span class="p">,</span><span class="err">è¡¨é‡Œæœ‰ä¸¤æ¡æ•°æ®</span><span class="p">,</span><span class="err">æˆ‘å¸Œæœ›æŠŠä¸¤æ¡æ•°æ®çš„</span><span class="n">usernameæ”¹ä¸€ä¸‹</span><span class="p">,</span><span class="err">ä½†æ˜¯è¿™æ—¶å€™å¦ä¸€ä¸ªäº‹åŠ¡ä¸­æ’å…¥äº†ä¸€æ¡</span><span class="w"> </span><span class="err">åœ¨æ›´æ–°çš„æ—¶å€™æŠŠæ’å…¥çš„ä¹Ÿæ›´æ–°äº†</span><span class="n">username</span><span class="w"> </span><span class="err">è¿™æ ·çš„è¯å°±è£‚å¼€äº†</span><span class="w"> </span><span class="err">å‡ºç°å¹»è¯»</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;mmm&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002153254274.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002153254274.png"
			
			
			
			loading="lazy"
			alt="image-20211002153254274">
	</a>
	
	<figcaption>image-20211002153254274</figcaption>
	
</figure></p>
<h5 id="æµ‹è¯•ä¸€ä¸‹-serializable">æµ‹è¯•ä¸€ä¸‹ serializable</h5>
<p>powershellä¸­å°è¯•å¼€å¯äº‹åŠ¡ å¹¶ä¸”æ›´æ–°æ•°æ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="k">serializable</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">SERIALIZABLE</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;www&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p>è¿™æ—¶è¿˜æ²¡æœ‰æ›´æ–°,cmdä¸­å¼€å¯äº†ä¸€ä¸ªäº‹åŠ¡å°è¯•å¾€è¿™å¼ è¡¨ä¸­æ’å…¥æ•°æ®</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002154329103.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002154329103.png"
			
			
			
			loading="lazy"
			alt="image-20211002154329103">
	</a>
	
	<figcaption>image-20211002154329103</figcaption>
	
</figure></p>
<p>è¿™å°±ä¼šå°†è¡¨é”ä½,å› ä¸ºä¸Šä¸€ä¸ªäº‹åŠ¡åœ¨ä½¿ç”¨è¿™å¼ è¡¨,ä¸ºäº†é˜²æ­¢æ•°æ®åº“å‡ºç°å¹»è¯»çš„æ“ä½œ,è¯¥éš”ç¦»çº§åˆ«å°†è¡¨é”ä½äº†,è¿™æ ·å­å®Œå…¨æ’å…¥ä¸äº†,åšæ›´æ–°çš„æ—¶å€™å°±å¯ä»¥ä¿è¯æ›´æ–°çš„æ•°æ®æ¡ç›®å’ŒæŸ¥å‡ºæ¥çš„æ•°æ®æ¡ç›®æ˜¯ä¸€è‡´çš„äº†.</p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002154520024.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211002154520024.png"
			
			
			
			loading="lazy"
			alt="image-20211002154520024">
	</a>
	
	<figcaption>image-20211002154520024</figcaption>
	
</figure></p>
<h5 id="åœ¨mysqlä¸­è®¾ç½®éš”ç¦»çº§åˆ«">åœ¨mysqlä¸­è®¾ç½®éš”ç¦»çº§åˆ«</h5>
<ul>
<li>æ¯å¯åŠ¨ä¸€ä¸ªmysqlç¨‹åº,å°±ä¼šè·å¾—ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åº“è¿æ¥.æ¯ä¸ªæ•°æ®åº“è¿æ¥éƒ½æœ‰ä¸€ä¸ªå…¨å±€å˜é‡@@tx_isolation,è¡¨ç¤ºå½“å‰çš„äº‹åŠ¡éš”ç¦»çº§åˆ«</li>
<li>æŸ¥çœ‹å½“å‰çš„éš”ç¦»çº§åˆ«: select @@tx_isolation ;</li>
<li>è®¾ç½®å½“å‰mysqlè¿æ¥çš„éš”ç¦»çº§åˆ«: set transaction isolation level read committed ;</li>
<li>è®¾ç½®æ•°æ®åº“ç³»ç»Ÿçš„å…¨å±€çš„éš”ç¦»çº§åˆ«: set global transaction isolation level read committed ;</li>
</ul>
<h5 id="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«">äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h5>
<table>
<thead>
<tr>
<th></th>
<th>è„è¯»</th>
<th>ä¸å¯é‡å¤è¯»</th>
<th>å¹»è¯»</th>
</tr>
</thead>
<tbody>
<tr>
<td>read uncommitted</td>
<td>ä¼š</td>
<td>ä¼š</td>
<td>ä¼š</td>
</tr>
<tr>
<td>read committed</td>
<td>ä¸ä¼š</td>
<td>ä¼š</td>
<td>ä¼š</td>
</tr>
<tr>
<td>repeated read</td>
<td>ä¸ä¼š</td>
<td>ä¸ä¼š</td>
<td>ä¼š</td>
</tr>
<tr>
<td>serializable</td>
<td>ä¸ä¼š</td>
<td>ä¸ä¼š</td>
<td>ä¸ä¼š</td>
</tr>
</tbody>
</table>
<p><strong>mysqlä¸­é»˜è®¤çš„æ˜¯repeated read ;</strong></p>
<p><strong>oracleä¸­é»˜è®¤çš„æ˜¯read committed</strong></p>
<p>æŸ¥çœ‹ select @@transaction_isolation ;</p>
<p>è®¾ç½® set session/global transaction isolation level serilizable&hellip;</p>
<h5 id="deleteå’Œtruncateçš„åŒºåˆ«-1">deleteå’Œtruncateçš„åŒºåˆ«</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;autocommit&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">autocommit</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">OFF</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤æ•°æ®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å›æ»š</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ•°æ®è¿˜åœ¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">     </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mmm</span><span class="w">      </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤æ•°æ®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">truncate</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å›æ»š</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ— æ³•æ¢å¤</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>savepointçš„ä½¿ç”¨</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è®¾ç½®ä¿å­˜ç‚¹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">savepoint</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å›åˆ°ä¿å­˜ç‚¹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å…³ç¾½</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">3000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿˜å¯ä»¥å†å›æ»š</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">rollback</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">åˆ˜å¤‡</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ é£</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">2000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å…³ç¾½</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">3000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="è§†å›¾">è§†å›¾</h5>
<p>è™šæ‹Ÿè¡¨,å’Œæ™®é€šè¡¨ä¸€æ ·ä½¿ç”¨,é€šè¿‡æ™®é€šè¡¨åŠ¨æ€ç”Ÿæˆçš„æ•°æ®</p>
<p>mysql5.1å¼€å§‹æä¾›è§†å›¾åŠŸèƒ½.ä¸€ç§è™šæ‹Ÿå­˜åœ¨çš„è¡¨,è¡Œå’Œåˆ—çš„æ•°æ®æ¥è‡ªå®šä¹‰è§†å›¾çš„æŸ¥è¯¢ä¸­ä½¿ç”¨çš„è¡¨,å¹¶ä¸”æ˜¯åœ¨ä½¿ç”¨è§†å›¾æ—¶åŠ¨æ€ç”Ÿæˆçš„,åªä¿å­˜äº†sqlé€»è¾‘,ä¸ä¿å­˜æŸ¥è¯¢ç»“æœ</p>
<ul>
<li>åº”ç”¨åœºæ™¯
<ul>
<li>å¤šä¸ªåœ°æ–¹ç”¨åˆ°äº†åŒæ ·çš„æŸ¥è¯¢ç»“æœ</li>
<li>è¯¥æŸ¥è¯¢ç»“æœä½¿ç”¨çš„sqlè¯­å¥è¾ƒä¸ºå¤æ‚</li>
</ul>
</li>
</ul>
<p><strong>åˆ›å»ºè§†å›¾</strong></p>
<p>è¯­æ³• create view è§†å›¾å as æŸ¥è¯¢è¯­å¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">last_name</span><span class="p">,</span><span class="n">d</span><span class="p">.</span><span class="n">department_name</span><span class="p">,</span><span class="n">j</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">job_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%a%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-----------------+------------+---------------------------------+------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">job_id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">job_title</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="n">min_salary</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">max_salary</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+-----------------+------------+---------------------------------+------------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Administration</span><span class="w"> </span><span class="n">Vice</span><span class="w"> </span><span class="n">President</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">15000</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">30000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">AD_VP</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Administration</span><span class="w"> </span><span class="n">Vice</span><span class="w"> </span><span class="n">President</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">15000</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">30000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å„éƒ¨é—¨çš„å¹³å‡å·¥èµ„çº§åˆ«</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">g</span><span class="p">.</span><span class="n">grade_level</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w">  </span><span class="n">department_id</span><span class="w"> </span><span class="p">)</span><span class="n">a</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">job_grades</span><span class="w">  </span><span class="k">g</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">           </span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">  </span><span class="mi">9500</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœç”¨è§†å›¾æ¥åšç®€åŒ–ä¸€ç‚¹ç‚¹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="n">j</span><span class="p">.</span><span class="n">grade_level</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">job_grades</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">lower_sal</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">highest_sal</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+--------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">grade_level</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+--------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7000</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4400</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">asc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">121</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä½¿ç”¨è§†å›¾</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">å¹³å‡å·¥èµ„</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">50</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Shi</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">121</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥ä½¿ç”¨è§†å›¾å¥—è§†å›¾</span><span class="w">
</span><span class="w">
</span></code></pre></div><p><strong>è§†å›¾çš„ä¼˜ç‚¹</strong></p>
<ul>
<li>é‡ç”¨sqlè¯­å¥</li>
<li>ç®€åŒ–å¤æ‚çš„sqlæ“ä½œ,ä¸çŸ¥é“ä»–çš„æŸ¥è¯¢ç»†èŠ‚</li>
<li>ä¿æŠ¤æ•°æ®,æé«˜å®‰å…¨æ€§</li>
</ul>
<p><strong>è§†å›¾çš„ä¿®æ”¹</strong></p>
<ul>
<li>æ–¹å¼ä¸€</li>
</ul>
<p>create or replace view è§†å›¾å as æŸ¥è¯¢è¯­å¥ ;</p>
<ul>
<li>æ–¹å¼äºŒ</li>
</ul>
<p>alter view è§†å›¾å as æŸ¥è¯¢è¯­å¥;</p>
<p><strong>è§†å›¾çš„åˆ é™¤</strong></p>
<p>drop view è§†å›¾å,è§†å›¾å,&hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">emp_v1</span><span class="p">,</span><span class="n">emp_v2</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">myv2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æŸ¥çœ‹è§†å›¾</strong></p>
<p>desc è§†å›¾å ;</p>
<p>æŸ¥çœ‹å…·ä½“çš„è¿‡ç¨‹ show create view è§†å›¾å  ;</p>
<h5 id="ç»ƒä¹ ä¸€ä¸‹-6">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">emp_v1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">phone_number</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;011%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ›å»ºè§†å›¾è¦æ±‚æŸ¥è¯¢éƒ¨é—¨çš„æœ€é«˜å·¥èµ„é«˜äº</span><span class="mi">12000</span><span class="err">çš„éƒ¨é—¨ä¿¡æ¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">emp_v2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">12000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp_v2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">location_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">            </span><span class="mi">90</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Exe</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1700</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sal</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">145</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">2500</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">            </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Mar</span><span class="w">             </span><span class="o">|</span><span class="w">        </span><span class="mi">201</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1800</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-----------------+------------+-------------+
</span></code></pre></div><p><strong>è§†å›¾çš„æ›´æ–°</strong></p>
<p><strong>è§†å›¾çš„æ’å…¥</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">NKOCHHAR</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åŸå§‹è¡¨ä¹Ÿæ’å…¥äº†å¼ é£è¿™æ¡æ•°æ®äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">myv1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;å¼ é£&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;101@qq.com&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>è§†å›¾çš„æ›´æ–°</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv1</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ é£&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">éƒ½ä¼šä¿®æ”¹åŸå§‹è¡¨</span><span class="w">
</span></code></pre></div><p><strong>è§†å›¾çš„åˆ é™¤</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv1</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ æ— å¿Œ&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">éƒ½ä¼šä¿®æ”¹åŸå§‹è¡¨</span><span class="w">
</span></code></pre></div><p><strong>é€šå¸¸æƒ…å†µä¸‹ä¸ä¼šå¯¹è§†å›¾è¿›è¡Œå¢åˆ æ”¹çš„æ“ä½œçš„</strong></p>
<p><strong>å¤‡æ³¨:</strong> è§†å›¾çš„å¯æ›´æ–°æ€§å’Œè§†å›¾ä¸­æŸ¥è¯¢çš„å®šä¹‰æœ‰å…³ç³»,ä»¥ä¸‹ç±»å‹çš„è§†å›¾æ˜¯ä¸èƒ½æ›´æ–°çš„</p>
<ul>
<li>åŒ…å«ä»¥ä¸‹å…³é”®å­—çš„sqlè¯­å¥:åˆ†ç»„å‡½æ•°/distinct/group by/having/union/union all</li>
<li>å¸¸é‡è§†å›¾</li>
<li>selectä¸­åŒ…å«å­æŸ¥è¯¢</li>
<li>join</li>
<li>fromä¸€ä¸ªä¸èƒ½æ›´æ–°çš„è§†å›¾</li>
<li>whereå­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†fromå­å¥ä¸­çš„è¡¨</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="w"> </span><span class="o">#</span><span class="err">å…³é”®å­—çš„</span><span class="n">sqlè¯­å¥çš„è§†å›¾ä¸å¯ä»¥è¢«æ›´æ–°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="p">,</span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æƒ³æƒ³ä¹Ÿæ˜¯</span><span class="p">,</span><span class="err">æ€ä¹ˆèƒ½ç®€å•çš„æ›´æ–°ä¸€ä¸‹</span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="err">å‘¢</span><span class="p">,</span><span class="err">èšåˆå‡½æ•°çš„å€¼æ˜¯ç®—å‡ºæ¥çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="mi">9000</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1288</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">myv2</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">updatable</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å¸¸é‡è§†å›¾ä¸èƒ½ä¿®æ”¹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv3</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;john&#39;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv3</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;lucy&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1288</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">myv3</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">updatable</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">selectä¸­åŒ…å«å­æŸ¥è¯¢çš„ä¸èƒ½ä¿®æ”¹è§†å›¾</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="p">)</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv4</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1288</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">myv4</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">updatable</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">joinä¸­ä¸èƒ½æ›´æ–°è§†å›¾</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv5</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="n">department_name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥æ›´æ–°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv5</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å¼ é£&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Whalen&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸èƒ½æ’å…¥</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¯èƒ½æ˜¯å› ä¸ºä¸¤ä¸ªè§†å›¾ä¸­æœ‰ä¸€ä¸ªæ˜¯</span><span class="n">department_idæ˜¯ä¸»é”®å­</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">myv5</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;é™ˆçœŸ&#39;</span><span class="p">,</span><span class="s1">&#39;xxxx&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1394</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">Can</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="s1">&#39;myemployees.myv5&#39;</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="n">list</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ç”±ä¸€ä¸ªä¸å¯æ›´æ–°çš„è§†å›¾æ„æˆçš„è§†å›¾ä¸å¯æ›´æ–°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv6</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv6</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv6</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="err">æœ€é«˜å·¥èµ„</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1288</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">myv6</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">updatable</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">whereå­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†fromå­å¥ä¸­çš„è¡¨</span><span class="w"> </span><span class="err">ç›¸å½“äºè‡ªè¿æ¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myv7</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">manager_id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">myv7</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">email</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">salary</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">K_ing</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">SKING</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">24000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">De</span><span class="w"> </span><span class="n">Haan</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">LDEHAAN</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Hunold</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">AHUNOLD</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="mi">9000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kochhar</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">NKOCHHAR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Greenberg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NGREENBE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Raphaely</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">DRAPHEAL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">11000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Weiss</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">MWEISS</span><span class="w">   </span><span class="o">|</span><span class="w">  </span><span class="mi">8000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Fripp</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">AFRIPP</span><span class="w">   </span><span class="o">|</span><span class="w">  </span><span class="mi">8200</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Kaufling</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">PKAUFLIN</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7900</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Vollman</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">SVOLLMAN</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Mourgos</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">KMOURGOS</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5800</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Russell</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">JRUSSEL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">14000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Partners</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">KPARTNER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">13500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Errazuriz</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AERRAZUR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Cambrault</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">GCAMBRAU</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">11000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Zlotkey</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">EZLOTKEY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10500</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Hartstein</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MHARTSTE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">13000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Higgins</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">SHIGGINS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------+----------+
</span><span class="c1"></span><span class="mi">18</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">myv7</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="mi">10000</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;K_ing&#39;</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1288</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">myv7</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">updatable</span><span class="w">
</span></code></pre></div><h5 id="è§†å›¾å’Œè¡¨çš„å¯¹æ¯”">è§†å›¾å’Œè¡¨çš„å¯¹æ¯”</h5>
<table>
<thead>
<tr>
<th></th>
<th>åˆ›å»ºè¯­æ³•çš„å…³é”®å­—</th>
<th>æ˜¯å¦å®é™…å ç”¨ç‰©ç†ç©ºé—´</th>
<th>ä½¿ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è§†å›¾</td>
<td>create view</td>
<td>åªæ˜¯ä¿å­˜äº†sqlé€»è¾‘</td>
<td>å¢åˆ æ”¹æŸ¥,åªæ˜¯ä¸€èˆ¬ä¸èƒ½å¢åˆ æ”¹</td>
</tr>
<tr>
<td>è¡¨</td>
<td>create table</td>
<td>ä¿å­˜äº†æ•°æ®</td>
<td>å¢åˆ æ”¹æŸ¥</td>
</tr>
</tbody>
</table>
<h5 id="deleteå’Œtruncateåœ¨äº‹åŠ¡ä½¿ç”¨æ—¶çš„åŒºåˆ«">deleteå’Œtruncateåœ¨äº‹åŠ¡ä½¿ç”¨æ—¶çš„åŒºåˆ«</h5>
<ul>
<li>deleteå¯ä»¥å›æ»š truncateä¸èƒ½å›æ»š</li>
</ul>
<h5 id="ç»ƒä¹ ä¸€ä¸‹-7">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ·»åŠ çº¦æŸ</span><span class="w"> </span><span class="err">åˆ›å»ºè¡¨</span><span class="w"> </span><span class="err">ä½†æ˜¯è¿™æ ·</span><span class="w"> </span><span class="err">åˆ—çº§çº¦æŸä¸­å¤–é”®æ˜¯ä¸èµ·ä½œç”¨çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">bid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">bname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="k">default</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">btypeId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">booktype</span><span class="p">(</span><span class="n">id</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™é‡Œå‘ç°ç´¢å¼•åªæœ‰</span><span class="w"> </span><span class="err">ä¸»é”®å’Œå”¯ä¸€é”®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">  </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bid</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bname</span><span class="w">    </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bname</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‰€ä»¥è¦æ”¹æˆè¿™æ ·</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">bid</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">bname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="k">default</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">btypeId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">btypeId</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">bookType</span><span class="p">(</span><span class="n">id</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">  </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bid</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bname</span><span class="w">    </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bname</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">btypeId</span><span class="w">  </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">btypeId</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myvbook</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">bname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">booktype</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">btypeid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">100</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myvbook1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">bname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="k">between</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="mi">120</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">myvbook</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">myvbook1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å¤ä¹ å‰ä¸€å¤©å†…å®¹">å¤ä¹ å‰ä¸€å¤©å†…å®¹</h5>
<p>DDLè¯­è¨€</p>
<p><strong>å¸¸è§çš„çº¦æŸ</strong></p>
<p>NOT NULL éç©º,è¯¥å­—æ®µçš„å€¼å¿…å¡«</p>
<p>DEFAULT  é»˜è®¤,è¯¥å­—æ®µçš„å€¼ä¸ç”¨æ‰‹åŠ¨æ’å…¥æœ‰é»˜è®¤å€¼</p>
<p>CHECK  æ£€æŸ¥ mysqlä¸æ”¯æŒ</p>
<p>PRIMARY KEY  ä¸»é”® è¯¥å­—æ®µçš„å€¼ä¸å¯é‡å¤å¹¶ä¸”éç©º unique+not null</p>
<p>FOREIGN KEY å¤–é”® è¯¥å­—æ®µçš„å€¼å¼•ç”¨äº†å¦å¤–çš„è¡¨çš„å­—æ®µ</p>
<p>UNIQUE   å”¯ä¸€ è¯¥å­—æ®µçš„å€¼ä¸å¯é‡å¤</p>
<p><strong>ä¸»é”®å’Œå”¯ä¸€çš„åŒºåˆ«</strong></p>
<ol>
<li>ä¸€ä¸ªè¡¨è‡³å¤šæœ‰ä¸€ä¸ªä¸»é”® , ä½†å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€é”®</li>
<li>ä¸»é”®ä¸å…è®¸ä¸ºç©º , å”¯ä¸€å¯ä»¥ä¸ºç©º</li>
<li>éƒ½å…·æœ‰å”¯ä¸€æ€§,éƒ½æ”¯æŒç»„åˆé”® , ä½†ä¸æ¨è</li>
</ol>
<p><strong>å¤–é”®</strong></p>
<ol>
<li>ç”¨äºé™åˆ¶ä¸¤ä¸ªè¡¨çš„å…³ç³»,ä»è¡¨çš„å­—æ®µå¼•ç”¨äº†ä¸»è¡¨çš„æŸå­—æ®µå€¼</li>
<li>è¦æ±‚å¤–é”®åˆ—å’Œä¸»è¡¨çš„è¢«å¼•ç”¨åˆ—è¦æ±‚ç±»å‹ä¸€è‡´,æ„ä¹‰ä¸€æ ·,åç§°æ— è¦æ±‚</li>
<li>ä¸»è¡¨çš„è¢«å¼•ç”¨åˆ—è¦æ±‚æ˜¯ä¸€ä¸ªkey(ä¸€èˆ¬å°±æ˜¯ä¸»é”®)</li>
<li>æ’å…¥æ•°æ®,å…ˆæ’å…¥ä¸»è¡¨</li>
<li>åˆ é™¤æ•°æ®,å…ˆåˆ é™¤ä»è¡¨</li>
</ol>
<p><strong>çº§è”åˆ é™¤</strong></p>
<p>å®é™…ä¸Šå°±æ˜¯åœ¨åˆ é™¤ä¸»è¡¨é‡Œçš„æ•°æ®çš„æ—¶å€™,æŠŠä»è¡¨é‡Œç›¸å…³çš„å¸¦æœ‰è¯¥æ•°æ®çš„è¡Œä¹Ÿä¸€å¹¶åˆ é™¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">çº§è”åˆ é™¤</span><span class="w">
</span><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_major</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">cascade</span><span class="w"> </span><span class="p">;</span><span class="w"> 
</span></code></pre></div><p><strong>çº§è”ç½®ç©º</strong></p>
<p>å®é™…ä¸Šå°±æ˜¯åœ¨åˆ é™¤ä¸»è¡¨é‡Œçš„æ•°æ®çš„æ—¶å€™,æŠŠä»è¡¨é‡Œç›¸å…³çš„å¸¦æœ‰è¯¥æ•°æ®çš„è¡Œçš„å¯¹åº”å­—æ®µç½®ä¸ºç©º</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">çº§è”ç½®ç©º</span><span class="w">
</span><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stuinfo</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_stu_major</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">majorid</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">major</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div><p><strong>åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="err">è¡¨å</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="err">å­—æ®µå</span><span class="w"> </span><span class="err">å­—æ®µç±»å‹</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="w"> 
</span><span class="w">    </span><span class="err">å­—æ®µå</span><span class="w"> </span><span class="err">å­—æ®µç±»å‹</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">,</span><span class="w"> 
</span><span class="w">    </span><span class="err">å­—æ®µå</span><span class="w"> </span><span class="err">å­—æ®µç±»å‹</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="p">,</span><span class="w"> 
</span><span class="w">    </span><span class="err">å­—æ®µå</span><span class="w"> </span><span class="err">å­—æ®µç±»å‹</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">,</span><span class="w"> 
</span><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="err">çº¦æŸå</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="err">å­—æ®µå</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="err">ä¸»è¡¨</span><span class="p">(</span><span class="err">è¢«å¼•ç”¨åˆ—</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="w">
</span></code></pre></div><p>**æ³¨æ„:	**</p>
<table>
<thead>
<tr>
<th></th>
<th>æ”¯æŒç±»å‹</th>
<th>å¯ä»¥èµ·çº¦æŸåå­—</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ—çº§çº¦æŸ</td>
<td>é™¤äº†å¤–é”®</td>
<td>ä¸å¯ä»¥</td>
</tr>
<tr>
<td>è¡¨çº§çº¦æŸ</td>
<td>é™¤äº†é»˜è®¤,éç©º</td>
<td>å¯ä»¥,ä½†æ˜¯å¯¹ä¸»é”®æ— æ•ˆ</td>
</tr>
</tbody>
</table>
<p>åˆ—çº§çº¦æŸå¯ä»¥åœ¨ä¸€ä¸ªå­—æ®µä¸Šè¿½åŠ å¤šä¸ª,ä¸­é—´ç”¨ç©ºæ ¼éš”å¼€,æ²¡æœ‰é¡ºåºè¦æ±‚</p>
<p><strong>ä¿®æ”¹è¡¨æ—¶æ·»åŠ æˆ–åˆ é™¤çº¦æŸ</strong></p>
<p><strong>éç©º</strong></p>
<p>alter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ not null ;</p>
<p><strong>åˆ é™¤éç©º</strong></p>
<p>alter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ ;</p>
<p><strong>é»˜è®¤</strong></p>
<p>alter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹ default å€¼ ;</p>
<p><strong>åˆ é™¤é»˜è®¤</strong></p>
<p>alter table è¡¨å modify column å­—æ®µå å­—æ®µç±»å‹;</p>
<p><strong>ä¸»é”®</strong></p>
<p>alter table è¡¨å add primary key (å­—æ®µå) ;</p>
<p><strong>åˆ é™¤ä¸»é”®</strong></p>
<p>alter table è¡¨å drop primary key ;</p>
<p><strong>å”¯ä¸€</strong></p>
<p>alter table è¡¨å add unique (å­—æ®µå) ;</p>
<p><strong>åˆ é™¤</strong></p>
<p>alter table è¡¨å drop index ç´¢å¼•å ;</p>
<p><strong>å¤–é”®</strong></p>
<p>alter table è¡¨å add foreign key (å­—æ®µå) references ä¸»è¡¨ (è¢«å¼•ç”¨åˆ—) ;</p>
<p><strong>åˆ é™¤å¤–é”®</strong></p>
<p>alter table è¡¨å drop foreign key çº¦æŸå ;</p>
<p><strong>è‡ªå¢é•¿åˆ—</strong></p>
<p>ç‰¹ç‚¹</p>
<ol>
<li>ä¸ç”¨æ‰‹åŠ¨æ’å…¥å€¼ , å¯ä»¥è‡ªåŠ¨æä¾›åºåˆ—å€¼,é»˜è®¤ä»1å¼€å§‹,æ­¥é•¿ä¸º1  auto_increament_increment</li>
<li>å¦‚æœè¦æ›´æ”¹èµ·å§‹å€¼:æ‰‹åŠ¨æ’å…¥å€¼</li>
<li>å¦‚æœè¦æ›´æ”¹æ­¥é•¿:æ›´æ”¹ç³»ç»Ÿå˜é‡ set auto_increment_increment = å€¼ ;</li>
<li>ä¸€ä¸ªè¡¨è‡³å¤šæœ‰ä¸€ä¸ªè‡ªå¢é•¿åˆ—</li>
<li>è‡ªå¢é•¿åˆ—åªèƒ½æ”¯æŒæ•°å€¼å‹</li>
<li>è‡ªå¢é•¿åˆ—å¿…é¡»ä¸ºä¸€ä¸ªkey</li>
</ol>
<p>åˆ›å»ºè¡¨æ—¶è®¾ç½®è‡ªå¢é•¿åˆ—</p>
<p>create table è¡¨</p>
<p>ä¿®æ”¹è¡¨æ—¶è®¾ç½®è‡ªå¢é•¿åˆ—</p>
<p>create table è¡¨ modify column å­—æ®µå å­—æ®µç±»å‹  çº¦æŸ auto_increment  ;</p>
<p>åˆ é™¤è‡ªå¢é•¿åˆ—</p>
<p>alter table è¡¨ modify column å­—æ®µå å­—æ®µç±»å‹ çº¦æŸ</p>
<p>TCLè¯­è¨€</p>
<p><strong>äº‹åŠ¡</strong>:ä¸€æ¡æˆ–å¤šæ¡sqlè¯­å¥ç»„æˆä¸€ä¸ªæ‰§è¡Œå•ä½,ä¸€ç»„sqlå¥è¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ</p>
<p><strong>ç‰¹ç‚¹(ACID)</strong></p>
<ul>
<li>åŸå­æ€§ ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸å¯å†åˆ†å‰²çš„æ•´ä½“,è¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ</li>
<li>ä¸€è‡´æ€§ ä¸€ä¸ªäº‹åŠ¡å¯ä»¥ä½¿æ•°æ®ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€</li>
<li>éš”ç¦»æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸å—å…¶ä»–äº‹åŠ¡çš„å¹²æ‰°,å¤šä¸ªäº‹åŠ¡äº’ç›¸éš”ç¦»çš„</li>
<li>æŒä¹…æ€§ ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤äº†,åˆ™æ°¸ä¹…çš„æŒä¹…åŒ–åˆ°æœ¬åœ°</li>
</ul>
<p><strong>äº‹åŠ¡çš„ä½¿ç”¨æ­¥éª¤</strong></p>
<p>äº†è§£:</p>
<ul>
<li>éšå¼äº‹åŠ¡(è‡ªåŠ¨äº‹åŠ¡) æ²¡æœ‰æ˜æ˜¾çš„å¼€å§‹å’Œç»“æŸ,æœ¬äº‹å°±æ˜¯ä¸€æ¡äº‹åŠ¡å¯ä»¥è‡ªåŠ¨æäº¤,æ¯”å¦‚insert update delete</li>
<li>æ˜¾å¼äº‹åŠ¡ å…·æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸ</li>
</ul>
<p>ä½¿ç”¨æ˜¾å¼äº‹åŠ¡</p>
<ol>
<li>å¼€å¯äº‹åŠ¡ set autocommit = 0</li>
<li>start transacton ; å¯ä»¥çœç•¥</li>
<li>ç¼–å†™é€»è¾‘sqlè¯­å¥ ä¸€æ¡æˆ–è€…å¤šæ¡ æ³¨æ„ ä¸åŒ…å«create alter drop åªæ”¯æŒinsert update delete select</li>
<li>è®¾ç½®å›æ»šç‚¹  savepoint å›æ»šç‚¹å ;</li>
<li>ç»“æŸäº‹åŠ¡
<ol>
<li>æäº¤ commit</li>
<li>å›æ»š rollback</li>
<li>å›æ»šç‚¹ rollback to å›æ»šç‚¹å;</li>
</ol>
</li>
</ol>
<h5 id="å¹¶å‘äº‹åŠ¡">å¹¶å‘äº‹åŠ¡</h5>
<ul>
<li>äº‹åŠ¡çš„å¹¶å‘é—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„</li>
</ul>
<p>å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®åº“çš„ç›¸åŒæ•°æ®æ—¶</p>
<ul>
<li>å¹¶å‘é—®é¢˜æœ‰å“ªäº›
<ul>
<li>è„è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®  è¯»åˆ°çš„æ˜¯å…¶ä»–äº‹åŠ¡&quot;æ›´æ–°&quot;çš„æ•°æ®</li>
<li>ä¸å¯é‡å¤è¯» ä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–ç»“æœä¸ä¸€æ · é‡å¤è¯»å–å¯èƒ½é€ æˆæ•°æ®ä¸ä¸€è‡´çš„ç°è±¡</li>
<li>å¹»è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ® åªæ˜¯è¯»åˆ°çš„æ˜¯ å…¶ä»–äº‹åŠ¡&quot;æ’å…¥&quot;çš„æ•°æ®</li>
</ul>
</li>
<li>å¦‚ä½•è§£å†³å¹¶å‘é—®é¢˜
<ul>
<li>é€šè¿‡è®¾ç½®éš”ç¦»çº§åˆ«æ¥è§£å†³</li>
</ul>
</li>
<li>éš”ç¦»çº§åˆ«                                                    è„è¯»            ä¸å¯é‡å¤è¯»             å¹»è¯»
<ul>
<li>read uncommitted  è¯»æœªæäº¤         ä¼š                    ä¼š                         ä¼š</li>
<li>read committed  è¯»å·²æäº¤           ä¸ä¼š              ä¼š                        ä¼š           (oracleé»˜è®¤)</li>
<li>repeatted read  å¯é‡å¤è¯»            ä¸ä¼š              ä¸ä¼š                         ä¼š       (msyqlé»˜è®¤)</li>
<li>serializable  ä¸²è¡ŒåŒ–                        ä¸ä¼š                       ä¸ä¼š                  ä¸ä¼š</li>
</ul>
</li>
</ul>
<h5 id="è§†å›¾-1">è§†å›¾</h5>
<p>å«ä¹‰ mysql5.1ç‰ˆæœ¬å‡ºç°çš„æ–°ç‰¹æ€§ , æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨,æ˜¯é€šè¿‡è¡¨æ•°æ®åŠ¨æ€ç”Ÿæˆçš„,æŸ¥çœ‹æ—¶åŠ¨æ€ç”Ÿæˆ</p>
<p><strong>å¥½å¤„</strong></p>
<ul>
<li>ç®€åŒ–sqlè¯­å¥</li>
<li>å°è£…é‡ç”¨</li>
<li>ä¿æŠ¤äº†åŸºè¡¨çš„æ•°æ®,æé«˜äº†å®‰å…¨æ€§</li>
</ul>
<p><strong>åˆ›å»º</strong></p>
<p>create or replace view è§†å›¾å as select &hellip;&hellip;</p>
<p><strong>ä¿®æ”¹</strong></p>
<p>create or replace view è§†å›¾å as select &hellip;..</p>
<p>alter view è§†å›¾å as select &hellip;.</p>
<p><strong>åˆ é™¤</strong></p>
<p>drop view è§†å›¾å,è§†å›¾å&hellip;</p>
<p><strong>æŸ¥çœ‹</strong></p>
<p>desc è§†å›¾å</p>
<p>show create view è§†å›¾å</p>
<p><strong>ä½¿ç”¨</strong></p>
<p>insert delete update select</p>
<p>**æ³¨æ„:	**è§†å›¾ä¸€èˆ¬ç”¨äºæŸ¥è¯¢çš„,è€Œä¸æ˜¯æ›´æ–°çš„,æ‰€ä»¥å…·å¤‡ä»¥ä¸‹çš„è§†å›¾éƒ½ä¸å…è®¸æ›´æ–°</p>
<ul>
<li>å¸¦æœ‰ group by åˆ†ç»„å‡½æ•° union having</li>
<li>whereåçš„å­æŸ¥è¯¢ç”¨åˆ°äº†fromä¸­çš„è¡¨</li>
<li>å¸¸é‡è§†å›¾</li>
<li>ä»ä¸å¯æ›´æ–°çš„è§†å›¾ä¸­ç”Ÿæˆçš„è§†å›¾</li>
<li>join</li>
</ul>
<p><strong>è§†å›¾å’Œè¡¨çš„åŒºåˆ«</strong></p>
<ul>
<li>view å’Œ table</li>
<li>è§†å›¾å ç”¨è¾ƒå°‘ç‰©ç†ç©ºé—´ è¡¨å ç”¨å®é™…æ•°æ®</li>
<li>è§†å›¾ä¸€èˆ¬ç”¨äºæŸ¥è¯¢ è¡¨ç”¨äºå¢åˆ æ”¹æŸ¥</li>
</ul>
<h5 id="å˜é‡">å˜é‡</h5>
<ul>
<li>ç³»ç»Ÿå˜é‡
<ul>
<li>å…¨å±€å˜é‡</li>
<li>ä¼šè¯å˜é‡</li>
</ul>
</li>
<li>è‡ªå®šä¹‰å˜é‡
<ul>
<li>ç”¨æˆ·å˜é‡</li>
<li>å±€éƒ¨å˜é‡</li>
</ul>
</li>
</ul>
<h5 id="ç³»ç»Ÿå˜é‡">ç³»ç»Ÿå˜é‡</h5>
<p>è¯´æ˜:å˜é‡ç”±ç³»ç»Ÿæä¾›,ä¸æ˜¯ç”¨æˆ·å®šä¹‰,å±äºæœåŠ¡å™¨å±‚é¢</p>
<p>ä½¿ç”¨çš„è¯­æ³•:</p>
<ol>
<li>æŸ¥çœ‹æ‰€æœ‰çš„ç³»ç»Ÿå˜é‡ show golbal/session  variables  ;  sessionæ˜¯é»˜è®¤çš„</li>
<li>æŸ¥çœ‹æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†ç³»ç»Ÿå˜é‡ show global/session variables like &lsquo;%char%&rsquo; ;</li>
<li>æŸ¥çœ‹æŒ‡å®šçš„æŸä¸ªç³»ç»Ÿå˜é‡çš„å€¼ select @@global/session.ç³»ç»Ÿå˜é‡åå­— ; sessionæ˜¯é»˜è®¤çš„</li>
<li>ä¸ºæŸä¸ªç³»ç»Ÿå˜é‡èµ‹å€¼
<ol>
<li>æ–¹å¼ä¸€ set global/session ç³»ç»Ÿå˜é‡å = å€¼ ;</li>
<li>æ–¹å¼äºŒ set @@global/session.ç³»ç»Ÿå˜é‡å = å€¼;</li>
</ol>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æ³¨æ„</strong></p>
<p>å¦‚æœæ˜¯å…¨å±€çº§åˆ«,åˆ™éœ€è¦åŠ global , å¦‚æœæ˜¯ä¼šè¯çº§åˆ«,åˆ™éœ€è¦åŠ session , å¦‚æœä¸å†™, åˆ™é»˜è®¤</p>
<p><strong>å…¨å±€å˜é‡</strong></p>
<p><strong>ä½œç”¨åŸŸ:æœåŠ¡å™¨æ¯æ¬¡å¯åŠ¨å°†ä¸ºæ‰€æœ‰çš„å…¨å±€å˜é‡èµ‹åˆå§‹å€¼,é’ˆå¯¹æ‰€æœ‰çš„ä¼šè¯è¿æ¥æœ‰æ•ˆ,ä½†ä¸èƒ½è·¨é‡å¯</strong></p>
<p>show gloabl variables ;</p>
<p><strong>æŸ¥çœ‹éƒ¨åˆ†çš„å…¨å±€å˜é‡</strong></p>
<p>show global variables ; show variables like &lsquo;%char%&rsquo; ;</p>
<p><strong>æŸ¥çœ‹æŒ‡å®šçš„å…¨å±€å˜é‡çš„å€¼</strong></p>
<p>select @@global.autocommit ;</p>
<p><strong>ä¸ºæŸä¸ªæŒ‡å®šçš„å…¨å±€å˜é‡èµ‹å€¼</strong></p>
<p>mysql&gt; set @@global.autocommit = 0 ;
Query OK, 0 rows affected (0.00 sec)</p>
<p><strong>ä¼šè¯å˜é‡</strong></p>
<p><strong>ä½œç”¨åŸŸ:ä»…ä»…é’ˆå¯¹äºå½“å‰ä¼šè¯(è¿æ¥)æœ‰æ•ˆ</strong></p>
<p><strong>æŸ¥çœ‹æ‰€æœ‰çš„ä¼šè¯å˜é‡</strong></p>
<p>show session variables ;</p>
<p>show variables ;</p>
<p><strong>æŸ¥çœ‹éƒ¨åˆ†çš„ä¼šè¯å˜é‡</strong></p>
<p>show variables like &lsquo;%char%&rsquo; ;</p>
<p>show session variables like &lsquo;%char%&rsquo; ;</p>
<p><strong>æŸ¥çœ‹æŒ‡å®šçš„æŸä¸ªä¼šè¯å˜é‡</strong></p>
<p>select @@transaction_isolation ;</p>
<p>select @@session.transaction_isolation ;</p>
<p><strong>ä¸ºæŸä¸ªä¼šè¯å˜é‡èµ‹å€¼</strong></p>
<p>æ–¹å¼ä¸€</p>
<p>mysql&gt; set @@session.transaction_isolation = &lsquo;read-committed&rsquo; ;
Query OK, 0 rows affected (0.00 sec)</p>
<p>æ–¹å¼äºŒ</p>
<p>mysql&gt; set session transaction isolation level read uncommitted ;
Query OK, 0 rows affected (0.00 sec)</p>
<p>æ–¹å¼ä¸‰</p>
<p>set session transaction_isolation = &lsquo;serializable&rsquo; ;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%char%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_database</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_filesystem</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">binary</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_results</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_server</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_system</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb3</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_sets_dir</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Program</span><span class="w"> </span><span class="n">Files</span><span class="err">\</span><span class="n">MySQL</span><span class="err">\</span><span class="n">MySQL</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="err">\</span><span class="k">share</span><span class="err">\</span><span class="n">charsets</span><span class="err">\</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%char%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">                                                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_database</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_filesystem</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">binary</span><span class="w">                                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_results</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                                                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_server</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_system</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb3</span><span class="w">                                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_sets_dir</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">C</span><span class="p">:</span><span class="err">\</span><span class="n">Program</span><span class="w"> </span><span class="n">Files</span><span class="err">\</span><span class="n">MySQL</span><span class="err">\</span><span class="n">MySQL</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="err">\</span><span class="k">share</span><span class="err">\</span><span class="n">charsets</span><span class="err">\</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+---------------------------------------------------------+
</span><span class="c1"></span><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">uncommitted</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;read-committed&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">READ</span><span class="o">-</span><span class="k">COMMITTED</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;serializable&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="è‡ªå®šä¹‰å˜é‡">è‡ªå®šä¹‰å˜é‡</h5>
<p>è¯´æ˜:å˜é‡æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„,ä¸æ˜¯ç”±ç³»ç»Ÿç”Ÿæˆçš„</p>
<p>ä½¿ç”¨æ­¥éª¤:å£°æ˜=&gt;èµ‹å€¼=&gt;ä½¿ç”¨(æŸ¥çœ‹/æ¯”è¾ƒ/è¿ç®—ç­‰)</p>
<p><strong>ç”¨æˆ·å˜é‡</strong></p>
<p><strong>ä½œç”¨åŸŸ</strong>:é’ˆå¯¹å½“å‰ä¼šè¯(è¿æ¥)æœ‰æ•ˆ,åŒäºä¼šè¯å˜é‡çš„ä½œç”¨åŸŸ , åº”ç”¨åœ¨ä»»ä½•åœ°æ–¹,ä¹Ÿå°±æ˜¯begin endé‡Œé¢æˆ–è€…begin end å¤–é¢</p>
<p><strong>èµ‹å€¼æ“ä½œç¬¦</strong> =æˆ–è€… :=</p>
<p><strong>å£°æ˜å¹¶åˆå§‹åŒ–</strong>  set @ç”¨æˆ·å˜é‡å = å€¼ | set@ç”¨æˆ·å˜é‡å :=å€¼ | select @ç”¨æˆ·å˜é‡å:=å€¼</p>
<p><strong>èµ‹å€¼</strong></p>
<ul>
<li>æ–¹å¼ä¸€  set @ç”¨æˆ·å˜é‡å = å€¼ | set@ç”¨æˆ·å˜é‡å :=å€¼ | select @ç”¨æˆ·å˜é‡å:=å€¼</li>
<li>æ–¹å¼äºŒ  é€šè¿‡ select into    select å­—æ®µ into å˜é‡å from è¡¨</li>
</ul>
<p><strong>ä½¿ç”¨</strong></p>
<p>select @ç”¨æˆ·å˜é‡å</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ljs&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¼±ç±»å‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1997</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="k">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">myemployees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ–¹å¼äºŒ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="o">@</span><span class="k">count</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1997</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="k">count</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="k">count</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å±€éƒ¨å˜é‡">å±€éƒ¨å˜é‡</h5>
<p><strong>ä½œç”¨åŸŸ</strong>:ä»…ä»…åœ¨å®šä¹‰å®ƒçš„begin endä¸­æœ‰æ•ˆ</p>
<p>åº”ç”¨åœ¨begin end ä¸­çš„ç¬¬ä¸€å¥è¯!!!</p>
<p><strong>å£°æ˜</strong></p>
<p>declare å˜é‡å  ç±»å‹ ;</p>
<p>declare å˜é‡å ç±»å‹ default å€¼;</p>
<p><strong>èµ‹å€¼</strong></p>
<p>æ–¹å¼ä¸€</p>
<p>set å±€éƒ¨å˜é‡å = å€¼;</p>
<p>æ–¹å¼äºŒ</p>
<p>set å±€éƒ¨å˜é‡å := å€¼ ;</p>
<p>æ–¹å¼ä¸‰</p>
<p>select @å±€éƒ¨å˜é‡å := å€¼ ;</p>
<p>æ–¹å¼å››</p>
<p>select å€¼ into @å±€éƒ¨å˜é‡å from è¡¨ ;</p>
<p><strong>ä½¿ç”¨</strong></p>
<p>select å±€éƒ¨å˜é‡å ;</p>
<p><strong>å¯¹æ¯”ç”¨æˆ·å˜é‡å’Œå±€éƒ¨å˜é‡</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>ä½œç”¨åŸŸ</th>
<th>å®šä¹‰å’Œä½¿ç”¨çš„ä½ç½®</th>
<th>è¯­æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç”¨æˆ·å˜é‡</td>
<td>å½“å‰ä¼šè¯</td>
<td>ä¼šè¯ä¸­çš„ä»»ä½•åœ°æ–¹</td>
<td>éœ€è¦åŠ ä¸Š@ç¬¦å·,ä¸ç”¨é™å®šç±»å‹</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡</td>
<td>begin end ä¸­</td>
<td>åªèƒ½åœ¨begin endä¸­,ä¸”ä¸ºç¬¬ä¸€å¥è¯</td>
<td>ä¸€èˆ¬ä¸ç”¨åŠ ä¸Š@ç¬¦å·,é™¤éselect,éœ€è¦é™å®šç±»å‹</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä½¿ç”¨ç”¨æˆ·å˜é‡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">a</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="o">@</span><span class="n">b</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">b1</span><span class="p">)</span><span class="n">b</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">b</span><span class="o">+@</span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">b</span><span class="o">+@</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">     </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åªèƒ½åœ¨</span><span class="k">begin</span><span class="w"> </span><span class="n">endä¸­æ‰è¡Œ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1064</span><span class="w"> </span><span class="p">(</span><span class="mi">42000</span><span class="p">):</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="k">SQL</span><span class="w"> </span><span class="n">syntax</span><span class="p">;</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">version</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">near</span><span class="w"> </span><span class="s1">&#39;declare m int default 1&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></code></pre></div><h5 id="å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°">å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</h5>
<p>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°:ç±»ä¼¼ä¸javaä¸­çš„æ–¹æ³•</p>
<p>å¥½å¤„:</p>
<ul>
<li>æé«˜ä»£ç çš„é‡ç”¨æ€§</li>
<li>ç®€åŒ–æ“ä½œ</li>
</ul>
<p>å­˜å‚¨è¿‡ç¨‹</p>
<p>å«ä¹‰:ä¸€ç»„é¢„å…ˆç¼–è¯‘è±ªçš„sqlè¯­å¥çš„é›†åˆ,ç†è§£æˆæ‰¹å¤„ç†è¯­å¥</p>
<p>å¥½å¤„:</p>
<ol>
<li>æé«˜äº†ä»£ç çš„é‡ç”¨æ€§</li>
<li>ç®€åŒ–æ“ä½œ</li>
<li>å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°å¹¶å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥æ¬¡æ•°,æé«˜äº†æ•ˆç‡</li>
</ol>
<p><strong>åˆ›å»ºè¯­æ³•</strong></p>
<p>create procedure å­˜å‚¨è¿‡ç¨‹å(å‚æ•°åˆ—è¡¨)</p>
<p>begin</p>
<p>â€‹	å­˜å‚¨è¿‡ç¨‹ä½“(ä¸€ç»„åˆæ³•çš„sqlè¯­å¥)</p>
<p>end</p>
<p><strong>æ³¨æ„</strong>:</p>
<ol>
<li>
<p>å‚æ•°åˆ—è¡¨åŒ…å«ä¸‰éƒ¨åˆ†  å‚æ•°æ¨¡å¼  å‚æ•°å  å‚æ•°ç±»å‹</p>
<ul>
<li>IN stuname varchar(20)</li>
<li>å‚æ•°æ¨¡å¼
<ul>
<li>IN  è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¾“å…¥,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°éœ€è¦è°ƒç”¨æ–¹ä¼ å…¥å€¼</li>
<li>OUT  è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¾“å‡º,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼</li>
<li>INOUT è¯¥å‚æ•°æ—¢å¯ä»¥ä½œä¸ºè¾“å…¥åˆå¯ä»¥ä½œä¸ºè¾“å‡º,ä¹Ÿå°±æ˜¯è¯¥å‚æ•°æ—¢éœ€è¦ä¼ å…¥å€¼,åˆå¯ä»¥è¿”å›å€¼</li>
</ul>
</li>
</ul>
</li>
<li>
<p>å¦‚æœå­˜å‚¨è¿‡ç¨‹ä½“ä»…ä»…åªæœ‰ä¸€å¥è¯ , begin end å¯ä»¥çœç•¥</p>
<p>å­˜å‚¨è¿‡ç¨‹ä½“ä¸­çš„æ¯æ¡sqlè¯­å¥çš„ç»“å°¾è¦æ±‚å¿…é¡»åŠ åˆ†å·;</p>
<p>å­˜å‚¨è¿‡ç¨‹çš„ç»“å°¾å¯ä»¥ä½¿ç”¨ DELIMITERé‡æ–°è®¾ç½®</p>
<p>è¯­æ³•:</p>
<p>DELIMITER ç»“æŸæ ‡è®°</p>
<p>DELIMITER $</p>
</li>
</ol>
<p><strong>è°ƒç”¨è¯­æ³•</strong></p>
<p>CALL å­˜å‚¨è¿‡ç¨‹å (å®å‚åˆ—è¡¨)  ç»“æŸæ ‡è®°;</p>
<h5 id="ç©ºå‚åˆ—è¡¨">ç©ºå‚åˆ—è¡¨</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å®ç°æ‰¹é‡æ’å…¥æ•°æ®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;myp1&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Db</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">Definer</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Modified</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Created</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Security_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">collation_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Database</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">myp1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="o">@</span><span class="n">localhost</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">DEFINER</span><span class="w">       </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="n">gbk_chinese_ci</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">utf8_general_ci</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">girls</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å†™é”™äº†</span><span class="w"> </span><span class="err">å°±æŠŠå­˜å‚¨è¿‡ç¨‹åˆ äº†é‡æ¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;myp1&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Empty</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp1</span><span class="p">()</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">admin</span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="p">,</span><span class="n">password</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ljs&#39;</span><span class="p">,</span><span class="s1">&#39;11&#39;</span><span class="p">),(</span><span class="s1">&#39;jwt&#39;</span><span class="p">,</span><span class="s1">&#39;22&#39;</span><span class="p">),(</span><span class="s1">&#39;lje&#39;</span><span class="p">,</span><span class="s1">&#39;33&#39;</span><span class="p">),(</span><span class="s1">&#39;fyz&#39;</span><span class="p">,</span><span class="s1">&#39;44&#39;</span><span class="p">),(</span><span class="s1">&#39;wzr&#39;</span><span class="p">,</span><span class="s1">&#39;55&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;myp1&#39;</span><span class="w"> </span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Db</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">Definer</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Modified</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Created</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Security_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">collation_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Database</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">myp1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="o">@</span><span class="n">localhost</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">35</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">35</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">DEFINER</span><span class="w">       </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">gbk</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="n">gbk_chinese_ci</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">utf8_general_ci</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------+------+-----------+----------------+---------------------+---------------------+---------------+---------+----------------------+----------------------+--------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp1</span><span class="p">()</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lyt</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">6666</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ljs</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jwt</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">22</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lje</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">33</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">fyz</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">44</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">wzr</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">55</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ›å»ºå¸¦inæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹">åˆ›å»ºå¸¦INæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥çœ‹å¥³ç¥çš„ç”·æœ‹å‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp2</span><span class="w"> </span><span class="p">(</span><span class="k">IN</span><span class="w"> </span><span class="n">girlName</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">bo</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">girlName</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1065</span><span class="w"> </span><span class="p">(</span><span class="mi">42000</span><span class="p">):</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">empty</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp2</span><span class="p">(</span><span class="s1">&#39;æŸ³å²©&#39;</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">boyName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">userCP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ é£</span><span class="w">    </span><span class="o">|</span><span class="w">     </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+---------+--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼ å…¥å¤šä¸ªå‚æ•°</span><span class="p">,</span><span class="err">åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†æˆåŠŸ</span><span class="w">  </span><span class="err">æ–¹å¼ä¸€</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp3</span><span class="p">(</span><span class="k">IN</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="k">IN</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="s1">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;æœªç™»é™†&#39;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">ç™»é™†çŠ¶æ€</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">admin</span><span class="p">.</span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="n">username</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">admin</span><span class="p">.</span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">myp3</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span><span class="s1">&#39;8888&#39;</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ç™»é™†çŠ¶æ€</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ç™»é™†æˆåŠŸ</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">myp3</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span><span class="s1">&#39;8887&#39;</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ç™»é™†çŠ¶æ€</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœªç™»é™†</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ–¹å¼äºŒ</span><span class="w"> </span><span class="err">ä½¿ç”¨å±€éƒ¨å˜é‡</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp4</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">admin</span><span class="p">.</span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">admin</span><span class="p">.</span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;æœªç™»é™†&#39;</span><span class="p">,</span><span class="s1">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp4</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span><span class="s1">&#39;8888&#39;</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;æœªç™»é™†&#39;</span><span class="p">,</span><span class="s1">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">ç™»é™†æˆåŠŸ</span><span class="w">                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp4</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span><span class="s1">&#39;88887&#39;</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;æœªç™»é™†&#39;</span><span class="p">,</span><span class="s1">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æœªç™»é™†</span><span class="w">                              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ›å»ºå¸¦outæ¨¡å¼çš„å­˜å‚¨è¿‡ç¨‹">åˆ›å»ºå¸¦outæ¨¡å¼çš„å­˜å‚¨è¿‡ç¨‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ ¹æ®å¥³ç¥å</span><span class="p">,</span><span class="err">è¿”å›å¯¹åº”ç”·ç¥å</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp5</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">beautyname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="k">out</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">boyname</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">bo</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">beautyname</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸ç”¨åˆå§‹åŒ–ä¹Ÿæ˜¯å¯ä»¥çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">boyname</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">myp5</span><span class="p">(</span><span class="s1">&#39;æŸ³å²©&#39;</span><span class="p">,</span><span class="o">@</span><span class="n">boyname</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">boyname</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">boyname</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ é£</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¤šä¸ª</span><span class="n">outè¿”å›å€¼</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">è¿”å›ç”·æœ‹å‹çš„åå­—å’Œé­…åŠ›å€¼</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp6</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">girlname</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">soulIndex</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">boyname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">usercp</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">boyname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">soulIndex</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">bo</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">girlname</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">myp6</span><span class="p">(</span><span class="s1">&#39;æŸ³å²©&#39;</span><span class="p">,</span><span class="o">@</span><span class="n">boyname</span><span class="p">,</span><span class="o">@</span><span class="n">soulIndex</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">boyname</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">boyname</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">å¼ é£</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">soulIndex</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">soulIndex</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">         </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="åˆ›å»ºå¸¦inoutæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹">åˆ›å»ºå¸¦INOUTæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp7</span><span class="w"> </span><span class="p">(</span><span class="k">inout</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">inout</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="mi">2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="o">*</span><span class="mi">2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">a</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">b</span><span class="p">:</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp7</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">,</span><span class="o">@</span><span class="n">b</span><span class="p">)</span><span class="err">$</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">a</span><span class="p">,</span><span class="o">@</span><span class="n">b</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">a</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">b</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>ç»ƒä¹ ä¸€ä¸‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¼ å…¥ç”¨æˆ·åå¯†ç </span><span class="p">,</span><span class="err">æ’å…¥</span><span class="n">adminè¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp8</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="k">in</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">admin</span><span class="p">(</span><span class="k">admin</span><span class="p">.</span><span class="n">username</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">admin</span><span class="p">.</span><span class="n">password</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp8</span><span class="p">(</span><span class="s1">&#39;wlz&#39;</span><span class="p">,</span><span class="s1">&#39;hellouu&#39;</span><span class="p">)</span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥è¯¢ä¼ å…¥å¥³ç¥ç¼–å·</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">è¿”å›å¥³ç¥åç§°å’Œå¥³ç¥ç”µè¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp9</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">girlname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">phone</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">girlname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp9</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">@</span><span class="n">girlname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">phone</span><span class="p">)</span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">girlname</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">phone</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">girlname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">phone</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876577</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸå¤§å°</span><span class="w"> </span><span class="err">å¹¶è¿”å›å¤§å°å…³ç³»</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myp10</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">birth1</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">birth2</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">datediff</span><span class="p">(</span><span class="n">birth1</span><span class="p">,</span><span class="n">birth2</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">if</span><span class="p">(</span><span class="n">datediff</span><span class="p">(</span><span class="n">birth1</span><span class="p">,</span><span class="n">birth2</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myp10</span><span class="p">(</span><span class="s1">&#39;1997-11-21&#39;</span><span class="p">,</span><span class="s1">&#39;1998-11-21&#39;</span><span class="p">,</span><span class="o">@</span><span class="k">result</span><span class="p">)</span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="k">result</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="k">result</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</strong></p>
<p>drop procedure å­˜å‚¨è¿‡ç¨‹å   <strong>ä¸€æ¬¡åªèƒ½åˆ é™¤ä¸€æ¬¡</strong></p>
<p><strong>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„ä¿¡æ¯</strong></p>
<p>show create proceduce å­˜å‚¨è¿‡ç¨‹å</p>
<p><strong>ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹</strong></p>
<p>æ¯”è¾ƒéº»çƒ¦,é€šå¸¸ä¸è¿™ä¹ˆåš</p>
<p><strong>ç»ƒä¹ ä¸€ä¸‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¼ å…¥æ—¥æœŸ</span><span class="p">,</span><span class="err">è½¬æ¢æˆ</span><span class="n">xxå¹´xxæœˆxxæ—¥å¹¶è¿”å›</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myptest1</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">mydate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">strDate</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">date_format</span><span class="p">(</span><span class="n">mydate</span><span class="p">,</span><span class="s1">&#39;%yå¹´%mæœˆ%dæ—¥&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">strDate</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myptest1</span><span class="p">(</span><span class="s1">&#39;1997-11-21&#39;</span><span class="p">,</span><span class="o">@</span><span class="n">strDate</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">strDate</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">strDate</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">97</span><span class="err">å¹´</span><span class="mi">11</span><span class="err">æœˆ</span><span class="mi">21</span><span class="err">æ—¥</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼ å…¥å¥³ç¥åå­—</span><span class="w"> </span><span class="err">è¾“å‡º</span><span class="w"> </span><span class="err">å¥³ç¥åå­—</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="err">ç”·ç”Ÿåå­—</span><span class="w">  </span><span class="err">æœ€å¥½ä½¿ç”¨å³è¿æ¥</span><span class="w"> </span><span class="err">å¦å¤–</span><span class="n">concatå’Œnullæ‹¼æ¥æ°¸è¿œéƒ½æ˜¯null</span><span class="w"> </span><span class="err">æ‰€ä»¥è¦ç”¨</span><span class="n">ifnullçš„å‡½æ•°é˜²æ­¢å‡ºé—®é¢˜</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myptest2</span><span class="p">(</span><span class="k">inout</span><span class="w"> </span><span class="n">girlName</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39; AND &#39;</span><span class="p">,</span><span class="n">bo</span><span class="p">.</span><span class="n">boyName</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">girlName</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">boys</span><span class="w"> </span><span class="n">bo</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bo</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">girlName</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="s1">&#39;æŸ³å²©&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">MYPTEST2</span><span class="p">(</span><span class="o">@</span><span class="n">name</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="o">@</span><span class="n">name</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="err">æŸ³å²©</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="err">å¼ é£</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼ å…¥æ¡ç›®æ•°å’Œèµ·å§‹ç´¢å¼•</span><span class="p">,</span><span class="err">æŸ¥è¯¢</span><span class="n">beautyè¡¨çš„è®°å½•</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="k">offset</span><span class="p">,</span><span class="k">size</span><span class="w"> </span><span class="err">æ˜¯ä»</span><span class="n">offsetçš„ä¸‹ä¸€æ¡å¼€å§‹çš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">myptest3</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="n">startIndex</span><span class="p">,</span><span class="k">size</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CALL</span><span class="w"> </span><span class="n">myptest3</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sex</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">borndate</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">photo</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">boyfriend_id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å‘¨å†¬é›¨</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1992</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209179577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å²³çµçŠ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1987</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18219876577</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">åŒå„¿</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1993</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876579</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¤é›ª</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1993</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18209876579</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å”è‰ºæ˜•</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¥³</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">1990</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">23</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">18988888</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------+---------------------+-------------+--------------+--------------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å‡½æ•°">å‡½æ•°</h5>
<p>å«ä¹‰:ä¸€ç»„é¢„å…ˆç¼–è¯‘è±ªçš„sqlè¯­å¥çš„é›†åˆ,ç†è§£æˆæ‰¹å¤„ç†è¯­å¥</p>
<p>å¥½å¤„:</p>
<ol>
<li>æé«˜äº†ä»£ç çš„é‡ç”¨æ€§</li>
<li>ç®€åŒ–æ“ä½œ</li>
<li>å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°å¹¶å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥æ¬¡æ•°,æé«˜äº†æ•ˆç‡</li>
</ol>
<p>åŒºåˆ«:</p>
<p>å­˜å‚¨è¿‡ç¨‹:å¯ä»¥æœ‰0ä¸ªè¿”å›,ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªè¿”å›,é€‚åˆåšæ‰¹é‡æ’å…¥/æ‰¹é‡æ›´æ–°</p>
<p>å‡½æ•°:æœ‰ä¸”ä»…æœ‰1ä¸ªè¿”å›,é€‚åˆåšå¤„ç†æ•°æ®åè¿”å›ä¸€ä¸ªç»“æœ</p>
<p><strong>åˆ›å»ºè¯­æ³•</strong></p>
<p>create function å‡½æ•°å (å‚æ•°åˆ—è¡¨) return è¿”å›ç±»å‹</p>
<p>begin</p>
<p>â€‹	å‡½æ•°ä½“</p>
<p>end</p>
<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>
<p>å‚æ•°åˆ—è¡¨ åŒ…å«ä¸¤éƒ¨åˆ†</p>
<p>å‚æ•°å å‚æ•°ç±»å‹</p>
</li>
<li>
<p>å‡½æ•°ä½“:è‚¯å®šä¼šæœ‰returnè¯­å¥,å¦‚æœæ²¡æœ‰ä¼šæŠ¥é”™</p>
<p>å¦‚æœreturnè¯­å¥æ²¡æœ‰æ”¾åœ¨å‡½æ•°ä½“çš„æœ€åä¹Ÿä¸æŠ¥é”™,ä½†ä¸å»ºè®®</p>
<p>return å€¼;</p>
</li>
<li>
<p>å‡½æ•°ä½“ä¸­ä»…æœ‰ä¸€å¥è¯,åˆ™å¯ä»¥çœç•¥begin end</p>
</li>
<li>
<p>ä½¿ç”¨delimeterè¯­å¥ä½œä¸ºè®¾ç½®ç»“æŸæ ‡è®°</p>
</li>
</ul>
<p><strong>è°ƒç”¨è¯­æ³•</strong></p>
<p>select å‡½æ•°å(å‚æ•°åˆ—è¡¨)</p>
<p><strong>æ— å‚æœ‰è¿”å›</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è¿”å›å…¬å¸çš„å‘˜å·¥ä¸ªæ•°</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å’Œå­˜å‚¨è¿‡ç¨‹ä¸ä¸€æ ·</span><span class="w"> </span><span class="err">è¿™é‡Œè¦å£°æ˜å±€éƒ¨å˜é‡</span><span class="w"> </span><span class="err">æœ€åä¸€å¥éœ€è¦</span><span class="n">returnä¸€ä¸‹</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">mysqlä¸­è¦æ”¹ä¸€ä¸‹å…¨å±€å˜é‡</span><span class="w"> </span><span class="err">è¿™æ˜¯æˆ‘ä»¬å¼€å¯äº†</span><span class="n">bin</span><span class="o">-</span><span class="n">log</span><span class="p">,</span><span class="w"> </span><span class="err">æˆ‘ä»¬å°±å¿…é¡»æŒ‡å®šæˆ‘ä»¬çš„å‡½æ•°æ˜¯å¦æ˜¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">log_bin_trust_function_creators</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">myf1</span><span class="p">()</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">int</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä½¿ç”¨çš„æ—¶å€™ç”¨</span><span class="n">selectå…³é”®å­—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">myf1</span><span class="p">()</span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">myf1</span><span class="p">()</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æœ‰å‚æœ‰è¿”å›</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ ¹æ®å‘˜å·¥å</span><span class="p">,</span><span class="err">è¿”å›ä»–çš„å·¥èµ„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">myf3</span><span class="p">(</span><span class="n">departmentname</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">avgsalary</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="o">@</span><span class="n">avgsalary</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">having</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">department_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">department_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">departmentname</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">@</span><span class="n">avgsalary</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">myf3</span><span class="p">(</span><span class="s1">&#39;Adm&#39;</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">myf3</span><span class="p">(</span><span class="s1">&#39;Adm&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">     </span><span class="mi">4400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æŸ¥çœ‹å‡½æ•°">æŸ¥çœ‹å‡½æ•°</h5>
<p>show create function myf3;</p>
<p><strong>åˆ é™¤å‡½æ•°</strong></p>
<p>drop function myf3 ;</p>
<p><strong>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°éƒ½åœ¨information_schemaä¸­çš„routinesè¡¨ä¸­</strong></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010170437148.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010170437148.png"
			
			
			
			loading="lazy"
			alt="image-20211010170437148">
	</a>
	
	<figcaption>image-20211010170437148</figcaption>
	
</figure></p>
<p><strong>ç»ƒä¹ ä¸€ä¸‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¼ å…¥ä¸¤ä¸ª</span><span class="n">floatçš„å€¼</span><span class="w"> </span><span class="err">è¿”å›ä¸€ä¸ªå’Œ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">test_func1</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="nb">float</span><span class="p">)</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">float</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="k">sum</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">sum</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">test_func1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">test_func1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">               </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">test_func1</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">test_func1</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">                    </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æµç¨‹æ§åˆ¶ç»“æ„">æµç¨‹æ§åˆ¶ç»“æ„</h5>
<p>é¡ºåºç»“æ„:ç¨‹åºä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ</p>
<p>åˆ†æ”¯ç»“æ„:ç¨‹åºä»ä¸¤æ¡æˆ–å¤šæ¡è·¯å¾„ä¸­é€‰æ‹©ä¸€æ¡å»æ‰§è¡Œ</p>
<p>å¾ªç¯ç»“æ„:ç¨‹åºåœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶çš„åŸºç¡€ä¸Š,é‡å¤æ‰§è¡Œä¸€æ®µä»£ç </p>
<h5 id="åˆ†æ”¯ç»“æ„">åˆ†æ”¯ç»“æ„</h5>
<ul>
<li>ifå‡½æ•°</li>
</ul>
<p>åŠŸèƒ½:å®ç°ç®€å•çš„åŒåˆ†æ”¯</p>
<p>è¯­æ³•:</p>
<p>if(è¡¨è¾¾å¼1,è¡¨è¾¾å¼2,è¡¨è¾¾å¼3)</p>
<p>å¦‚æœè¡¨è¾¾å¼1æˆç«‹,åˆ™ifå‡½æ•°è¿”å›è¡¨è¾¾å¼2çš„å€¼,å¦åˆ™è¿”å›è¡¨è¾¾å¼3çš„å€¼</p>
<p>åº”ç”¨:ä»»ä½•åœ°æ–¹</p>
<ul>
<li>caseç»“æ„</li>
</ul>
<p>æƒ…å†µ1:ç±»ä¼¼äºjavaä¸­çš„switchè¯­å¥,ä¸€èˆ¬ç”¨äºå®ç°ç­‰å€¼åˆ¤æ–­</p>
<p>case è¡¨è¾¾å¼|å­—æ®µ|å˜é‡</p>
<p>when è¦åˆ¤æ–­çš„å€¼ then &hellip; æˆ–è¯­å¥1 ;</p>
<p>when è¦åˆ¤æ–­çš„å€¼ then &hellip;  æˆ–è¯­å¥2 ;</p>
<p>else &hellip;  æˆ–è¯­å¥n ;</p>
<p>end  case ;</p>
<p>æƒ…å†µ2:ç±»ä¼¼äºjavaä¸­çš„å¤šé‡ifè¯­å¥,ä¸€èˆ¬ç”¨äºå®ç°åŒºé—´åˆ¤æ–­</p>
<p>case</p>
<p>when è¦åˆ¤æ–­çš„æ¡ä»¶1 then &hellip; æˆ–è¯­å¥1 ;</p>
<p>when è¦åˆ¤æ–­çš„è¡¨è¾¾å¼2 then &hellip;  æˆ–è¯­å¥2 ;</p>
<p>else  &hellip; æˆ–è¯­å¥n ;</p>
<p>end case ;</p>
<p><strong>ç‰¹ç‚¹:</strong></p>
<ul>
<li>å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼,åµŒå¥—åœ¨å…¶ä»–è¯­å¥ä¸­ä½¿ç”¨,å¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹,begin end ä¸­æˆ–è€…begin end çš„å¤–é¢</li>
<li>å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„è¯­å¥å»ä½¿ç”¨,åªèƒ½æ”¾åœ¨begin end ä¸­</li>
<li>å¦‚æœwhenä¸­çš„å€¼æˆ–æ¡ä»¶æˆç«‹,åˆ™æ‰§è¡Œå¯¹åº”çš„thenåé¢çš„è¯­å¥,å¹¶ä¸”ç»“æŸcase</li>
<li>å¦‚æœéƒ½ä¸æ»¡è¶³,åˆ™æ‰§è¡Œelseä¸­çš„è¯­å¥æˆ–å€¼</li>
<li>elseå¯ä»¥çœç•¥,å¦‚æœelseçœç•¥äº†,å¹¶ä¸”æ‰€æœ‰whenæ¡ä»¶éƒ½ä¸æ»¡è¶³,åˆ™è¿”å›null</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010203810756.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010203810756.png"
			
			
			
			loading="lazy"
			alt="image-20211010203810756">
	</a>
	
	<figcaption>image-20211010203810756</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010203829794.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010203829794.png"
			
			
			
			loading="lazy"
			alt="image-20211010203829794">
	</a>
	
	<figcaption>image-20211010203829794</figcaption>
	
</figure></p>
<p><strong>æ¡ˆä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="mi">90</span><span class="o">-</span><span class="mi">100</span><span class="w"> </span><span class="err">æ˜¾ç¤º</span><span class="n">A</span><span class="w"> </span><span class="mi">80</span><span class="o">-</span><span class="mi">90</span><span class="w"> </span><span class="err">æ˜¾ç¤º</span><span class="n">B</span><span class="w"> </span><span class="mi">60</span><span class="o">-</span><span class="mi">80</span><span class="err">æ˜¾ç¤º</span><span class="k">C</span><span class="w"> </span><span class="err">å…¶ä½™æ˜¾ç¤º</span><span class="n">D</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_case</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">100</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">80</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">90</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">60</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">80</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">test_case</span><span class="w"> </span><span class="p">(</span><span class="mi">95</span><span class="p">)</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="ifç»“æ„">ifç»“æ„</h5>
<p>åŠŸèƒ½:å®ç°å¤šé‡åˆ†æ”¯</p>
<p>è¯­æ³•:</p>
<p>if æ¡ä»¶1 then è¯­å¥1 <strong>;</strong></p>
<p>else if æ¡ä»¶2 then è¯­å¥2 <strong>;</strong></p>
<p>&hellip;</p>
<p>else è¯­å¥n <strong>;</strong></p>
<p>end if <strong>;</strong></p>
<p>åº”ç”¨åœ¨begin end ä¸­</p>
<p><strong>æ¡ˆä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="mi">90</span><span class="o">-</span><span class="mi">100</span><span class="w"> </span><span class="err">è¿”å›</span><span class="n">A</span><span class="w"> </span><span class="mi">80</span><span class="o">-</span><span class="mi">90</span><span class="w"> </span><span class="err">è¿”å›</span><span class="n">B</span><span class="w"> </span><span class="mi">60</span><span class="o">-</span><span class="mi">80</span><span class="err">è¿”å›</span><span class="k">C</span><span class="w"> </span><span class="err">å…¶ä½™è¿”å›</span><span class="n">D</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ–¹å¼ä¸€</span><span class="w"> </span><span class="err">å¯ä»¥è¿™æ ·ç›´æ¥</span><span class="k">return</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">test_if</span><span class="p">(</span><span class="n">score</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">100</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">elseif</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">80</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">elseif</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">60</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">else</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æˆ–è€…ç”¨åŸå§‹çš„è¿™æ ·</span><span class="w">  </span><span class="err">è¿™é‡Œæ³¨æ„</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="err">ä¸€å®šè¦æœ‰å°å·</span><span class="o">!!!!</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">test_id1</span><span class="p">(</span><span class="n">score</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">90</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">100</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">elseif</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">80</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">elseif</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">60</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">else</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">@</span><span class="n">grade</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å¾ªç¯ç»“æ„">å¾ªç¯ç»“æ„</h5>
<p>åˆ†ç±»:</p>
<ul>
<li>while</li>
<li>loop</li>
<li>repeat</li>
</ul>
<p><strong>å¾ªç¯æ§åˆ¶:</strong></p>
<p>iterateç±»ä¼¼äºcontinue ,ç»“æŸæœ¬æ¬¡å¾ªç¯,ç»§ç»­ä¸‹ä¸€æ¬¡</p>
<p>leave ç±»ä¼¼äº break , è·³å‡º,ç»“æŸå½“å‰æ‰€åœ¨çš„å¾ªç¯</p>
<ul>
<li>while</li>
</ul>
<p>[æ ‡ç­¾:] while å¾ªç¯æ¡ä»¶ do</p>
<p>â€‹			å¾ªç¯ä½“</p>
<p>end while [æ ‡ç­¾]</p>
<ul>
<li>loop</li>
</ul>
<p>[æ ‡ç­¾:] loop</p>
<p>â€‹	å¾ªç¯ä½“</p>
<p>end loop [æ ‡ç­¾]</p>
<p>å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿç®€å•çš„æ­»å¾ªç¯</p>
<ul>
<li>repeat</li>
</ul>
<p>[æ ‡ç­¾:] repeat</p>
<p>â€‹		å¾ªç¯ä½“</p>
<p>until ç»“æŸå¾ªç¯çš„æ¡ä»¶</p>
<p>end repeat [æ ‡ç­¾]</p>
<p><strong>æ¡ˆä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ‰¹é‡æ’å…¥</span><span class="w"> </span><span class="err">æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°</span><span class="n">adminä¸­å¤šæ¡è®°å½•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">pro_while1</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">insertcount</span><span class="w"> </span><span class="k">do</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">admin</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;rose&#39;</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="mi">666</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">pro_while1</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">$</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">john</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">8888</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lyt</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">6666</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">rose0</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">666</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">rose1</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">666</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">rose2</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">666</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+----------+
</span><span class="c1"></span><span class="mi">11</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ </span><span class="n">leaveè¯­å¥</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ‰¹é‡æ’å…¥</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°</span><span class="n">adminè¡¨ä¸­å¤šæ¡è®°å½•</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">å¦‚æœæ¬¡æ•°</span><span class="o">&gt;</span><span class="mi">20</span><span class="w"> </span><span class="err">å°±åœæ­¢</span><span class="w">  </span><span class="err">æ³¨æ„å®‰å…¨</span><span class="w"> </span><span class="n">ifè¯­å¥æ²¡å†™å¥½</span><span class="w"> </span><span class="err">ä¸€ç›´åœ¨å¾ªç¯æ’å…¥äº†</span><span class="mi">300</span><span class="n">wæ¡æ•°æ®</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_whileleave</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="k">do</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">20</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">admin</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;xiaohua&#39;</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39;0000&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">test_whileleave</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ </span><span class="k">iterate</span><span class="w">
</span><span class="w"></span><span class="o">##</span><span class="err">æ‰¹é‡æ’å…¥</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">æ ¹æ®æ¬¡æ•°æ’å…¥åˆ°</span><span class="n">adminè¡¨ä¸­å¤šæ¡è®°å½•</span><span class="w"> </span><span class="p">,</span><span class="w">  </span><span class="err">å¹¶ä¸”æ’å…¥å¥‡æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_iterate</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="k">do</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">mod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="mi">1</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">iterate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">else</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">admin</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;jishu&#39;</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39;1111&#39;</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">test_iterate</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010222825964.png" >
		<img src="/mysql%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3.assets/image-20211010222825964.png"
			
			
			
			loading="lazy"
			alt="image-20211010222825964">
	</a>
	
	<figcaption>image-20211010222825964</figcaption>
	
</figure></p>
<h5 id="ç»ƒä¹ ä¸€ä¸‹-8">ç»ƒä¹ ä¸€ä¸‹</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æ–°å»ºè¡¨</span><span class="w"> </span><span class="err">ç„¶ååƒè¯¥è¡¨æ’å…¥æŒ‡å®šä¸ªæ•°çš„</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">éšæœºå­—ç¬¦ä¸²</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">stringcontent</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_randstr_insert</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">insertcount</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">26</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">insertcount</span><span class="w"> </span><span class="k">do</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mi">26</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="p">(</span><span class="mi">20</span><span class="o">-</span><span class="n">startindex</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">stringcontent</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">substr</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="n">startIndex</span><span class="p">,</span><span class="n">len</span><span class="p">));</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">test_randstr_insert</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stringcontent</span><span class="w"> </span><span class="o">#</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">content</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">klm</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hijklmn</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pqr</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">no</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">rs</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">abcde</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bcdefghijklm</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">f</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lmn</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+
</span><span class="c1"></span><span class="mi">10</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å¤ä¹ ä¸€ä¸‹-3">å¤ä¹ ä¸€ä¸‹</h5>
<p>åˆ†ç±»:</p>
<p><strong>ç³»ç»Ÿå˜é‡</strong></p>
<p>è¯´æ˜:å˜é‡ç”±ç³»ç»Ÿæä¾›çš„,ä¸ç”¨è‡ªå®šä¹‰</p>
<p>è¯­æ³•:</p>
<ol>
<li>æŸ¥çœ‹ç³»ç»Ÿå˜é‡
<ol>
<li>show global|session variables  ;å¦‚æœæ²¡æœ‰æ˜¾å¼å£°æ˜,é‚£é»˜è®¤æ˜¯session</li>
</ol>
</li>
<li>æŸ¥çœ‹æŒ‡å®šçš„ç³»ç»Ÿå˜é‡çš„å€¼
<ol>
<li>select @@global|session.å˜é‡å ;</li>
</ol>
</li>
<li>ä¸ºç³»ç»Ÿå˜é‡èµ‹å€¼
<ol>
<li>set gloabl|session å˜é‡å = å€¼ ;</li>
<li>set @@global.å˜é‡å = å€¼ ;</li>
<li>set @@å˜é‡å = å€¼;</li>
</ol>
</li>
</ol>
<ul>
<li>å…¨å±€å˜é‡</li>
<li>æœåŠ¡å™¨å±‚é¢ä¸Šçš„,å¿…é¡»æ‹¥æœ‰superæƒé™æ‰èƒ½ä¸ºç³»ç»Ÿå˜é‡èµ‹å€¼,ä½œç”¨åŸŸä¸ºæ•´ä¸ªæœåŠ¡å™¨,ä¹Ÿå°±æ˜¯é’ˆå¯¹äºæ‰€æœ‰è¿æ¥(ä¼šè¯)æœ‰æ•ˆ,æœåŠ¡å™¨é‡å¯åå¤±æ•ˆ(é™¤éä¿®æ”¹é…ç½®)</li>
<li>ä¼šè¯å˜é‡
<ul>
<li>æœåŠ¡å™¨ä¸ºæ¯ä¸€ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯éƒ½æä¾›äº†ç³»ç»Ÿå˜é‡,ä½œç”¨åŸŸä¸ºå½“å‰çš„è¿æ¥(ä¼šè¯)</li>
</ul>
</li>
</ul>
<p><strong>è‡ªå®šä¹‰å˜é‡</strong></p>
<p>è¯´æ˜:</p>
<p><strong>ç”¨æˆ·å˜é‡</strong></p>
<ul>
<li>
<p>ä½œç”¨åŸŸï¼šé’ˆå¯¹äºå½“å‰è¿æ¥(ä¼šè¯)ç”Ÿæ•ˆ</p>
</li>
<li>
<p>ä½ç½®:begin end é‡Œé¢, ä¹Ÿå¯ä»¥æ”¾åœ¨å¤–é¢</p>
</li>
<li>
<p>ä½¿ç”¨</p>
</li>
<li>
<p><strong>å£°æ˜å¹¶èµ‹å€¼</strong></p>
<ul>
<li>set @å˜é‡å = å€¼;</li>
<li>set @å˜é‡å:= å€¼;</li>
<li>select @å˜é‡å:=å€¼ ;</li>
</ul>
</li>
<li>
<p><strong>æ›´æ–°å€¼</strong></p>
<ul>
<li>set @å˜é‡å = å€¼;</li>
<li>set @å˜é‡å:= å€¼;</li>
<li>select @å˜é‡å:=å€¼ ;</li>
<li>select xx into @å˜é‡å from è¡¨ ;</li>
</ul>
</li>
<li>
<p><strong>ä½¿ç”¨</strong></p>
<ul>
<li>select @å˜é‡å ;</li>
</ul>
</li>
</ul>
<p><strong>å±€éƒ¨å˜é‡</strong></p>
<ul>
<li>ä½œç”¨åŸŸ:ä»…ä»…åœ¨å®šä¹‰å®ƒçš„begin end ä¸­æœ‰æ•ˆ</li>
<li>ä½ç½®:åªèƒ½æ”¾åœ¨begin end ä¸­ï¼Œ è€Œä¸”åªèƒ½æ”¾åœ¨ç¬¬ä¸€å¥</li>
<li>create procedure pro1()</li>
<li>begin</li>
<li>declare i int default 1 ;</li>
<li>&hellip;</li>
<li>end</li>
<li><strong>å£°æ˜</strong>
<ul>
<li>declare å˜é‡å ç±»å‹ default å€¼;</li>
</ul>
</li>
<li><strong>èµ‹å€¼æˆ–æ›´æ–°</strong>
<ul>
<li>set å˜é‡å=å€¼;</li>
<li>set å˜é‡å:= å€¼;</li>
<li>select @å˜é‡å := å€¼;</li>
<li>select xx into å˜é‡å from è¡¨ ;</li>
</ul>
</li>
<li><strong>ä½¿ç”¨</strong>
<ul>
<li>select å˜é‡å ;</li>
</ul>
</li>
</ul>
<p><strong>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</strong></p>
<p>è¯´æ˜:éƒ½ç±»ä¼¼äºjavaä¸­çš„æ–¹æ³•,å°†ä¸€ç»„å®Œæˆç‰¹å®šåŠŸèƒ½çš„é€»è¾‘è¯­å¥åŒ…è£…èµ·æ¥,å¯¹å¤–æš´éœ²åå­—</p>
<p>å¥½å¤„:</p>
<ul>
<li>æé«˜é‡ç”¨æ€§</li>
<li>sqlè¯­å¥ç®€å•</li>
<li>å‡å°‘äº†å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„æ¬¡æ•°,æé«˜äº†æ•ˆç‡</li>
</ul>
<p><strong>åˆ›å»º</strong></p>
<p>create procedure å­˜å‚¨è¿‡ç¨‹å (å‚æ•°æ¨¡å¼ å‚æ•°å å‚æ•°ç±»å‹)</p>
<p>begin</p>
<p>å­˜å‚¨è¿‡ç¨‹ä½“</p>
<p>end</p>
<ul>
<li>æ³¨æ„:å‚æ•°æ¨¡å¼ in out inout  å…¶ä¸­INå¯ä»¥çœç•¥</li>
<li>å­˜å‚¨è¿‡ç¨‹ä½“ä¸­çš„æ¯ä¸€æ¡sqlè¯­å¥éƒ½éœ€è¦åˆ†å·ç»“å°¾</li>
</ul>
<p><strong>è°ƒç”¨</strong></p>
<p>CALL å­˜å‚¨è¿‡ç¨‹å(å®å‚åˆ—è¡¨)</p>
<p>è°ƒç”¨inæ¨¡å¼çš„å‚æ•° call sp1(&lsquo;å€¼&rsquo;) ;</p>
<p>è°ƒç”¨outæ¨¡å¼çš„å‚æ•° set @name :=&quot;&quot; ; call sp1(@name) ;</p>
<p>è°ƒç”¨inoutæ¨¡å¼çš„å‚æ•° set @name = å€¼ ; call sp1(@name)  ; select @name ;</p>
<p><strong>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹</strong></p>
<p>show create procedure å­˜å‚¨è¿‡ç¨‹å ;</p>
<p><strong>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</strong></p>
<p>drop procedure å­˜å‚¨è¿‡ç¨‹å ;</p>
<p><strong>å‡½æ•°</strong></p>
<p><strong>åˆ›å»º</strong></p>
<p>create function å‡½æ•°å (å‚æ•°å å‚æ•°ç±»å‹) returns è¿”å›å€¼ç±»å‹</p>
<p>begin</p>
<p>declare a int default 0  ;</p>
<p>&hellip;</p>
<p>return a ;</p>
<p>end</p>
<p>**æ³¨æ„:	**å‡½æ•°ä½“ä¸­è‚¯å®šéœ€è¦æœ‰returnè¯­å¥</p>
<p><strong>è°ƒç”¨</strong></p>
<p>select å‡½æ•°å (å®å‚åˆ—è¡¨) ;</p>
<h5 id="æŸ¥çœ‹">æŸ¥çœ‹</h5>
<p>show create function å‡½æ•°å ;</p>
<p><strong>åˆ é™¤</strong></p>
<p>drop functioon å‡½æ•°å ;</p>
<p><strong>æµç¨‹æ§åˆ¶ç»“æ„</strong></p>
<p>é¡ºåºç»“æ„ :ç¨‹åºä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ ;</p>
<p>åˆ†æ”¯ç»“æ„:: ç¨‹åºæŒ‰æ¡ä»¶è¿›è¡Œé€‰æ‹©æ‰§è¡Œ, ä»ä¸¤æ¡æˆ–å¤šæ¡è·¯å¾„ä¸­é€‰æ‹©ä¸€æ¡æ‰§è¡Œ ;</p>
<p>å¾ªç¯ç»“æ„: ç¨‹åºæ»¡è¶³ä¸€å®šæ¡ä»¶ä¸‹,é‡å¤æ‰§è¡Œä¸€ç»„è¯­å¥</p>
<p><strong>åˆ†æ”¯ç»“æ„</strong></p>
<ul>
<li>ifå‡½æ•°
<ul>
<li>åŠŸèƒ½:ç®€å•å®ç°åŒåˆ†æ”¯</li>
<li>if(æ¡ä»¶, å€¼1 , å€¼2 )</li>
<li>ä½ç½®:ä»»ä½•ä½ç½®</li>
</ul>
</li>
<li>case ç»“æ„
<ul>
<li>åŠŸèƒ½:å®ç°å¤šåˆ†æ”¯</li>
<li>case è¡¨è¾¾å¼å­—æ®µ when å€¼1 then &hellip; when å€¼2 then &hellip; else &hellip; end [case];</li>
<li>ä½ç½®:å¯ä»¥æ”¾åœ¨ä»»ä½•ä½ç½®, å¦‚æœæ”¾åœ¨begin end å¤–é¢,ä½œä¸ºè¡¨è¾¾å¼ç»“åˆç€å…¶ä»–è¯­å¥ä½¿ç”¨ , å¦‚æœæ”¾åœ¨begin end é‡Œé¢, ä¸€èˆ¬ä½œä¸ºç‹¬ç«‹çš„è¯­å¥ä½¿ç”¨</li>
</ul>
</li>
<li>ifç»“æ„
<ul>
<li>åŠŸèƒ½:å®ç°å¤šåˆ†æ”¯</li>
<li>if æ¡ä»¶1 then &hellip;; elseif æ¡ä»¶2 then &hellip;; else then &hellip; ;  end if ;</li>
<li>ä½ç½®: åªèƒ½æ”¾åœ¨begin endä¸­</li>
</ul>
</li>
</ul>
<p><strong>å¾ªç¯ç»“æ„</strong></p>
<p><strong>æ³¨æ„:åªèƒ½æ”¾åœ¨begin end ä¸­</strong></p>
<p><strong>ç‰¹ç‚¹:éƒ½èƒ½å®ç°å¾ªç¯ç»“æ„</strong></p>
<p><strong>å¯¹æ¯”:</strong></p>
<ol>
<li>è¿™ä¸‰ç§å¾ªç¯éƒ½å¯ä»¥çœç•¥åç§°,ä½†å¦‚æœå¾ªç¯ä¸­æ·»åŠ äº†å¾ªç¯æ§åˆ¶è¯­å¥(leaveæˆ–iterate)åˆ™å¿…é¡»æ·»åŠ åç§°</li>
<li>loop ä¸€èˆ¬ç”¨äºå®ç°ç®€å•çš„æ­»å¾ªç¯ whileå…ˆåˆ¤æ–­åæ‰§è¡Œ repeat å…ˆæ‰§è¡Œååˆ¤æ–­,æ— æ¡ä»¶è‡³å°‘æ‰§è¡Œä¸€æ¬¡</li>
</ol>
<ul>
<li>
<p>while</p>
<ul>
<li>
<p>[æ ‡ç­¾:] while å¾ªç¯æ¡ä»¶ do</p>
<p>å¾ªç¯ä½“</p>
<p>end while [æ ‡ç­¾] ;</p>
</li>
</ul>
</li>
<li>
<p>loop</p>
<ul>
<li>
<p>[æ ‡ç­¾:] loop</p>
<p>å¾ªç¯ä½“</p>
<p>end loop [æ ‡ç­¾]</p>
</li>
</ul>
</li>
<li>
<p>repeat</p>
<ul>
<li>
<p>[æ ‡ç­¾:] repeat</p>
<p>å¾ªç¯ä½“</p>
<p>until ç»“æŸæ¡ä»¶</p>
<p>end repeat [åç§°]</p>
</li>
</ul>
</li>
</ul>
<p><strong>å¾ªç¯æ§åˆ¶è¯­å¥</strong></p>
<p>leave:ç±»ä¼¼äº break , ç”¨äºè·³å‡ºæ‰€åœ¨çš„å¾ªç¯</p>
<p>iterate:ç±»ä¼¼äºcontinue , ç”¨äºç»“æŸæœ¬æ¬¡å¾ªç¯, ç»§ç»­ä¸‹ä¸€æ¬¡</p>
<p><strong>å®Œç»“æ’’èŠ±</strong>ğŸ˜‹ğŸ˜œğŸ’•ğŸ¤£</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/mysql/">MYSQL</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
</aside>

     
     
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "linjianshu" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2021 think hy how to learn
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<!doctype html>
<html lang="en">
<head>
   
</head>
<script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1280473365&web_id=1280473365"></script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26show%3Dpic2' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D1' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D2' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>

<body>
</body>

</html>


    </body>
</html>
