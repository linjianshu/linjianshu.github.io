<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='dockerå­¦ä¹  dockeræ¦‚è¿°
dockerå®‰è£…
dockerå‘½ä»¤
é•œåƒå‘½ä»¤ å®¹å™¨å‘½ä»¤ æ“ä½œå‘½ä»¤ &amp;hellip; dockeré•œåƒ
å®¹å™¨æ•°æ®å·
dockerfile
dockerç½‘ç»œåŸç†
ideaæ•´åˆdocker
ä»¥ä¸Šå•æœºç‰ˆæœ¬docker
é›†ç¾¤ docker compose docker swarm ç®€åŒ–ç‰ˆk8s ci/cd jenkins dockeræ¦‚è¿°
å¼€å‘&amp;ndash;ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®
å¼€å‘äººå‘˜ è¿ç»´äººå‘˜
å¼€å‘å³è¿ç»´ï¼
ç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤redisã€esã€hadoop&amp;hellip;ï¼‰è´¹äº‹è´¹åŠ›
å‘å¸ƒé¡¹ç›® jarï¼ˆredis mysql jdk esï¼‰ war
jarå¸¦ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…
ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ redis mysql jdk es hadoop ï¼Œé…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°
windowsä¸linux
ä¼ ç»Ÿï¼šå¼€å‘æä¾›jar è¿ç»´éƒ¨ç½²ç¯å¢ƒ
ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œ
dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè§£å†³æ–¹æ¡ˆ
java&amp;mdash;apk&amp;mdash;å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ &amp;mdash;å¼ ä¸‰ä½¿ç”¨apk &amp;mdash;å®‰è£…å³å¯ç”¨
java&amp;mdash;jarï¼ˆç¯å¢ƒï¼‰&amp;mdash;æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ &amp;mdash;-dockerä»“åº“ï¼šå•†åº— &amp;mdash;- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ &amp;ndash;ç›´æ¥è¿è¡Œå³å¯
dockeræ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼
jre&amp;mdash;å¤šä¸ªåº”ç”¨ ï¼ˆç«¯å£å†²çªï¼‰&amp;mdash;åŸæ¥éƒ½æ˜¯äº¤å‰çš„
éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼Œæ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼
dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´
æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ã€‚
dockerå†å²
å®¹å™¨åŒ–æŠ€æœ¯å‘½åå°±æ˜¯docker
åˆšåˆšè¯ç”Ÿçš„æ—¶å€™æ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotcloudï¼Œå¼€æº
å¼€æºï¼Œdockerä¼˜ç‚¹
åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œ
è™šæ‹Ÿæœºï¼šåœ¨windowsä¸­è£…ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶vmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼
è™šæ‹Ÿæœºï¼šä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œdockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯'><title>Docker Learning</title>

<link rel='canonical' href='https://linjianshu.github.io/p/docker-learning/'>

<link rel="stylesheet" href="/scss/style.min.css">
<style>
     
    body{
        background-repeat: repeat;
        background-attachment: fixed;
        background-size:cover;
         cursor: url(https://files.cnblogs.com/files/monster-jian/cursor.ico),auto;
    }
     
    #div_digg {
      position: fixed;
      bottom: 10px;
      right: 15px;
      border: 2px solid #ECD7B1;
      padding: 10px;
      width: 140px;
      background-color: #fff;
      border-radius: 5px 5px 5px 5px !important;
      box-shadow: 0 0 0 1px #5F5A4B, 1px 1px 6px 1px rgba(10, 10, 0, 0.5);
    }
    </style><script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2"></script>
<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2">
</script>
<script type="text/javascript" color="255,0,0" pointcolor="255,0,0" opacity="0.7" zindex="-2" count="100" src="/dist/canvas-nest.js"></script>
<script type="text/javascript" src="/dist/canvas-nest.umd.js"></script>
<script type="text/javascript">
    var cn = new CanvasNest(document.getElementById('area-render'), {
        color: '255,0,255',
        count: 50,
      });
      
      function asyncLoad() {
        
        var i = document.createElement("iframe");
        i.src = "https://ghbtns.com/github-btn.html?user=hustcc&repo=canvas-nest.js&type=star&count=true";
        i.scrolling = "no";
        i.frameborder = "0";
        i.border = "0";
        i.setAttribute("frameborder", "0", 0);
        i.width = "100px";
        i.height = "20px";
        document.getElementById("github-iframe").appendChild(i);
      }
      function loadGitHubBtn() {
        if (window.addEventListener) {window.addEventListener("load", asyncLoad, false);}
        else if (window.attachEvent) {window.attachEvent("onload", asyncLoad);}
        else {window.onload = asyncLoad;}
      }
      loadGitHubBtn();
</script>
<script src="/canvas-nest.js?version=10"></script><canvas width="1536" height="454" style="display: block; position: absolute; top: 0px; left: 0px; height: 100%; width: 100%; overflow: hidden; pointer-events: none;"></canvas>
<script src="https://files.cnblogs.com/files/monster-jian/mouse-click.js"></script>
<script type="text/javascript">
    
     
    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("â¤ä¸åšå’¸é±¼ï¼â¤","â¤æ‹’ç»æ‡’æƒ°ï¼â¤","â¤æƒ³åšåƒè´§â¤","â¤å‘å¤§ä½¬å­¦ä¹ â¤","â¤æ‰¶æˆ‘èµ·æ¥~â¤","â¤come onâ¤","â¤ä¸€ç›´åœ¨è·¯ä¸Š~â¤","â¤ç´¯äº†~â¤","â¤å†è¶´ä¸€ä¼šâ¤","â¤66666â¤","â¤é«˜å…´çš„é£èµ·*****â¤");
            var $i = $("<span></span>").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
            y = e.pageY;
            $i.css({
                "z-index": 999999999999999999999999999999999999999999999999999999999999999999999,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
            });
            $("body").append($i);
            $i.animate({
                "top": y - 180,
                "opacity": 0
            },
            1500,
            function() {
                $i.remove();
            });
        });
    });
    </script>

    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>  

 
   
      
      
          
         <script>         
            L2Dwidget.init({ "model": { jsonPath:          "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",  
                  "scale": 1 }, "display": { "position": "right", "width": 66, "height": 88,        "hOffset": 0, "vOffset": -20 },
                   "mobile": { "show": true, "scale": 0.5 },      "react": { "opacityDefault": 0.8, "opacityOnHover": 0.1 } }); 
                    </script><meta property='og:title' content='Docker Learning'>
<meta property='og:description' content='dockerå­¦ä¹  dockeræ¦‚è¿°
dockerå®‰è£…
dockerå‘½ä»¤
é•œåƒå‘½ä»¤ å®¹å™¨å‘½ä»¤ æ“ä½œå‘½ä»¤ &amp;hellip; dockeré•œåƒ
å®¹å™¨æ•°æ®å·
dockerfile
dockerç½‘ç»œåŸç†
ideaæ•´åˆdocker
ä»¥ä¸Šå•æœºç‰ˆæœ¬docker
é›†ç¾¤ docker compose docker swarm ç®€åŒ–ç‰ˆk8s ci/cd jenkins dockeræ¦‚è¿°
å¼€å‘&amp;ndash;ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®
å¼€å‘äººå‘˜ è¿ç»´äººå‘˜
å¼€å‘å³è¿ç»´ï¼
ç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤redisã€esã€hadoop&amp;hellip;ï¼‰è´¹äº‹è´¹åŠ›
å‘å¸ƒé¡¹ç›® jarï¼ˆredis mysql jdk esï¼‰ war
jarå¸¦ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…
ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ redis mysql jdk es hadoop ï¼Œé…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°
windowsä¸linux
ä¼ ç»Ÿï¼šå¼€å‘æä¾›jar è¿ç»´éƒ¨ç½²ç¯å¢ƒ
ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œ
dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè§£å†³æ–¹æ¡ˆ
java&amp;mdash;apk&amp;mdash;å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ &amp;mdash;å¼ ä¸‰ä½¿ç”¨apk &amp;mdash;å®‰è£…å³å¯ç”¨
java&amp;mdash;jarï¼ˆç¯å¢ƒï¼‰&amp;mdash;æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ &amp;mdash;-dockerä»“åº“ï¼šå•†åº— &amp;mdash;- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ &amp;ndash;ç›´æ¥è¿è¡Œå³å¯
dockeræ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼
jre&amp;mdash;å¤šä¸ªåº”ç”¨ ï¼ˆç«¯å£å†²çªï¼‰&amp;mdash;åŸæ¥éƒ½æ˜¯äº¤å‰çš„
éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼Œæ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼
dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´
æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ã€‚
dockerå†å²
å®¹å™¨åŒ–æŠ€æœ¯å‘½åå°±æ˜¯docker
åˆšåˆšè¯ç”Ÿçš„æ—¶å€™æ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotcloudï¼Œå¼€æº
å¼€æºï¼Œdockerä¼˜ç‚¹
åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œ
è™šæ‹Ÿæœºï¼šåœ¨windowsä¸­è£…ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶vmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼
è™šæ‹Ÿæœºï¼šä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œdockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯'>
<meta property='og:url' content='https://linjianshu.github.io/p/docker-learning/'>
<meta property='og:site_name' content='think hy how to learn'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='å®¹å™¨åŒ–' /><meta property='article:published_time' content='2021-07-26T00:23:34&#43;08:00'/><meta property='article:modified_time' content='2021-07-26T00:23:34&#43;08:00'/><meta property='og:image' content='https://linjianshu.github.io/img/avatar.png' />
<meta name="twitter:site" content="@ljsljs56495989">
    <meta name="twitter:creator" content="@ljsljs56495989"><meta name="twitter:title" content="Docker Learning">
<meta name="twitter:description" content="dockerå­¦ä¹  dockeræ¦‚è¿°
dockerå®‰è£…
dockerå‘½ä»¤
é•œåƒå‘½ä»¤ å®¹å™¨å‘½ä»¤ æ“ä½œå‘½ä»¤ &amp;hellip; dockeré•œåƒ
å®¹å™¨æ•°æ®å·
dockerfile
dockerç½‘ç»œåŸç†
ideaæ•´åˆdocker
ä»¥ä¸Šå•æœºç‰ˆæœ¬docker
é›†ç¾¤ docker compose docker swarm ç®€åŒ–ç‰ˆk8s ci/cd jenkins dockeræ¦‚è¿°
å¼€å‘&amp;ndash;ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®
å¼€å‘äººå‘˜ è¿ç»´äººå‘˜
å¼€å‘å³è¿ç»´ï¼
ç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤redisã€esã€hadoop&amp;hellip;ï¼‰è´¹äº‹è´¹åŠ›
å‘å¸ƒé¡¹ç›® jarï¼ˆredis mysql jdk esï¼‰ war
jarå¸¦ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…
ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ redis mysql jdk es hadoop ï¼Œé…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°
windowsä¸linux
ä¼ ç»Ÿï¼šå¼€å‘æä¾›jar è¿ç»´éƒ¨ç½²ç¯å¢ƒ
ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œ
dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè§£å†³æ–¹æ¡ˆ
java&amp;mdash;apk&amp;mdash;å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ &amp;mdash;å¼ ä¸‰ä½¿ç”¨apk &amp;mdash;å®‰è£…å³å¯ç”¨
java&amp;mdash;jarï¼ˆç¯å¢ƒï¼‰&amp;mdash;æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ &amp;mdash;-dockerä»“åº“ï¼šå•†åº— &amp;mdash;- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ &amp;ndash;ç›´æ¥è¿è¡Œå³å¯
dockeræ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼
jre&amp;mdash;å¤šä¸ªåº”ç”¨ ï¼ˆç«¯å£å†²çªï¼‰&amp;mdash;åŸæ¥éƒ½æ˜¯äº¤å‰çš„
éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼Œæ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼
dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´
æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ã€‚
dockerå†å²
å®¹å™¨åŒ–æŠ€æœ¯å‘½åå°±æ˜¯docker
åˆšåˆšè¯ç”Ÿçš„æ—¶å€™æ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotcloudï¼Œå¼€æº
å¼€æºï¼Œdockerä¼˜ç‚¹
åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œ
è™šæ‹Ÿæœºï¼šåœ¨windowsä¸­è£…ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶vmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼
è™šæ‹Ÿæœºï¼šä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œdockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://linjianshu.github.io/img/avatar.png' />
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <style>
            * {
              margin: 0;
              padding: 0;
            }
            html, body {
              height: 100%;
              width: 100%;
            }
            #github-iframe {
              position: fixed;
              left: 32px;
              top: 32px;
            }
             
        </style>
   


<link rel="stylesheet" type="texts" href="https://blog-static.cnblogs.com/files/monster-jian/waifu.css"/>


</head>







<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>

<body size-sensor-id="1" style="position: relative;">
    
    <div id="area-render"></div>
   

</body>

<canvas width="1777" height="841" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>

</html>


    </head>
    <body class="
    article-page 
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        on-phone--column extended
    
">
    
        <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/hanbagui_hu1992e2ef3ca17530e3489d97af7cbea6_3164_300x0_resize_box.bmp" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        <h1 class="site-name"><a href="https://linjianshu.github.io/">think hy how to learn</a></h1>
        <h2 class="site-description">å¥½è¿æš´å¯Œ,å°±åœ¨ä»Šæ—¥.</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>æš—è‰²æ¨¡å¼</span>
            </li>
        
    </ol>
</aside>

    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/-%E5%AE%B9%E5%99%A8/" >
                -å®¹å™¨
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/docker-learning/">Docker Learning</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 26, 2021</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 18 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h3 id="dockerå­¦ä¹ ">dockerå­¦ä¹ </h3>
<ul>
<li>
<p>dockeræ¦‚è¿°</p>
</li>
<li>
<p>dockerå®‰è£…</p>
</li>
<li>
<p>dockerå‘½ä»¤</p>
<ul>
<li>é•œåƒå‘½ä»¤</li>
<li>å®¹å™¨å‘½ä»¤</li>
<li>æ“ä½œå‘½ä»¤</li>
<li>&hellip;</li>
</ul>
</li>
<li>
<p>dockeré•œåƒ</p>
</li>
<li>
<p>å®¹å™¨æ•°æ®å·</p>
</li>
<li>
<p>dockerfile</p>
</li>
<li>
<p>dockerç½‘ç»œåŸç†</p>
</li>
<li>
<p>ideaæ•´åˆdocker</p>
</li>
</ul>
<p>ä»¥ä¸Šå•æœºç‰ˆæœ¬docker</p>
<ul>
<li>é›†ç¾¤ docker compose</li>
<li>docker swarm  ç®€åŒ–ç‰ˆk8s</li>
<li>ci/cd jenkins</li>
</ul>
<p>dockeræ¦‚è¿°</p>
<p>å¼€å‘&ndash;ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒ åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®</p>
<p>å¼€å‘äººå‘˜   è¿ç»´äººå‘˜</p>
<p>å¼€å‘å³è¿ç»´ï¼</p>
<p>ç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼ˆé›†ç¾¤redisã€esã€hadoop&hellip;ï¼‰è´¹äº‹è´¹åŠ›</p>
<p>å‘å¸ƒé¡¹ç›® jarï¼ˆredis mysql jdk esï¼‰ war</p>
<p>jarå¸¦ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒï¼Œé¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…</p>
<p>ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ redis mysql jdk es hadoop ï¼Œé…ç½®è¶…éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°</p>
<p>windowsä¸linux</p>
<p>ä¼ ç»Ÿï¼šå¼€å‘æä¾›jar è¿ç»´éƒ¨ç½²ç¯å¢ƒ</p>
<p>ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œ</p>
<p>dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè§£å†³æ–¹æ¡ˆ</p>
<p>java&mdash;apk&mdash;å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ &mdash;å¼ ä¸‰ä½¿ç”¨apk &mdash;å®‰è£…å³å¯ç”¨</p>
<p>java&mdash;jarï¼ˆç¯å¢ƒï¼‰&mdash;æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ &mdash;-dockerä»“åº“ï¼šå•†åº— &mdash;- ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒ &ndash;ç›´æ¥è¿è¡Œå³å¯</p>
<p>dockeræ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼</p>
<p>jre&mdash;å¤šä¸ªåº”ç”¨ ï¼ˆç«¯å£å†²çªï¼‰&mdash;åŸæ¥éƒ½æ˜¯äº¤å‰çš„</p>
<p>éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼Œæ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼</p>
<p>dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´</p>
<p>æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ã€‚</p>
<p>dockerå†å²</p>
<p>å®¹å™¨åŒ–æŠ€æœ¯å‘½åå°±æ˜¯docker</p>
<p>åˆšåˆšè¯ç”Ÿçš„æ—¶å€™æ²¡æœ‰å¼•èµ·è¡Œä¸šæ³¨æ„ï¼dotcloudï¼Œå¼€æº</p>
<p>å¼€æºï¼Œdockerä¼˜ç‚¹</p>
<p>åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œ</p>
<p>è™šæ‹Ÿæœºï¼šåœ¨windowsä¸­è£…ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶vmwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼</p>
<p>è™šæ‹Ÿæœºï¼šä¹Ÿæ˜¯å±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œdockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">vmï¼šlinux centos åŸç”Ÿé•œåƒï¼ˆä¸€ä¸ªç”µè„‘ï¼‰ éš”ç¦»ï¼šéœ€è¦å¼€å¯å¤šä¸ªè™šæ‹Ÿæœº  å‡ åˆ†é’Ÿ
</span></span><span class="line"><span class="cl">dockerï¼šéš”ç¦»  é•œåƒæœºåˆ¶ï¼ˆæœ€æ ¸å¿ƒçš„ç¯å¢ƒ 4m +jdk+mysqlï¼‰ååˆ†å°å·§ï¼Œè¿è¡Œé•œåƒå°±å¯ä»¥äº† å‡ M å‡ s
</span></span></code></pre></div><p>dockeræ˜¯åŸºäºgoè¯­è¨€å¼€å‘çš„ï¼å¼€æº</p>
<p>dockerçš„æ–‡æ¡£è¶…çº§è¯¦ç»†</p>
<p>ä»“åº“åœ°å€ï¼špull push</p>
<p>dockerèƒ½å¹²å˜›</p>
<p>ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ï¼</p>
<p>ä»å†…æ ¸åˆ°åº“å‡½æ•°åˆ°app</p>
<p>è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹ï¼š</p>
<p>1.èµ„æºå ç”¨ååˆ†å¤š</p>
<p>2.å†—ä½™æ­¥éª¤å¤š</p>
<p>3.å¯åŠ¨å¾ˆæ…¢</p>
<p>å®¹å™¨åŒ–æŠ€æœ¯</p>
<p>å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ</p>
<p>æ¯”è¾ƒdockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š</p>
<ul>
<li>ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€ä¸ªç¡¬ä»¶ï¼Œè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç„¶åå†è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶</li>
<li>å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è™šæ‹Ÿæˆ‘ä»¬çš„ç¡¬ä»¶ï¼Œæ‰€ä»¥å°±è½»ä¾¿äº†</li>
<li>æ¯ä¸ªå®¹å™¨é—´äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“</li>
</ul>
<p>devops</p>
<p>æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</p>
<p>ä¼ ç»Ÿï¼šä¸€å †å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åº</p>
<p>dockerï¼šä¸€é”®è¿è¡Œï¼Œæ‰“åŒ…é•œåƒï¼Œå‘å¸ƒæµ‹è¯•</p>
<p>æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</p>
<p>ä½¿ç”¨äº†dockerä¹‹åï¼Œæˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±å’Œæ­ç§¯æœ¨ä¸€æ ·</p>
<p>springboot1.5  redis5 tomcat8</p>
<p>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•ï¼ŒæœåŠ¡å™¨Aï¼å¼€æœåŠ¡å™¨Bï¼Œåšæ‰©å±•</p>
<p>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</p>
<p>åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒé«˜åº¦ä¸€è‡´</p>
<p>æ›´é«˜æ•ˆçš„åˆ©ç”¨è®¡ç®—èµ„æºï¼š</p>
<p>1æ ¸ 2gçš„æœåŠ¡å™¨ï¼</p>
<p>dockeræ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼ŒæœåŠ¡å™¨çš„æ€§èƒ½å¯ä»¥è¿è¡Œåˆ°æè‡´</p>
<p>dockerçš„åŸºæœ¬ç»„æˆ</p>
<p>é•œåƒï¼šimage  å°±æ˜¯ä¸€ä¸ªç±»ï¼Œå¥½æ¯”ä¸€ä¸ªæ¨¡ç‰ˆï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡ç‰ˆæ¥åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œtomcaté•œåƒ&ndash;&gt;run&mdash;&ndash;&gt;tomcat01å®¹å™¨ï¼ˆæä¾›æœåŠ¡ï¼‰ é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼ˆæœ€ç»ˆæœåŠ¡æˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­ï¼‰</p>
<p>å®¹å™¨ï¼šcontainer   dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ä¸ªç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºçš„ã€‚å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€åŸºæœ¬å‘½ä»¤ï¼ç›®å‰å°±å¯ä»¥å§å®¹å™¨ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªç®€æ˜“çš„linuxç³»ç»Ÿ</p>
<p>ä»“åº“ï¼šrespository  ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ï¼ dockerhub é˜¿é‡Œäº‘ éƒ½æœ‰å®¹å™¨æœåŠ¡å™¨ï¼ˆé…ç½®é•œåƒåŠ é€Ÿï¼‰ï¼</p>
<p>å®‰è£…docker</p>
<p>1.éœ€è¦linuxåŸºç¡€</p>
<p>2.centos7</p>
<p>3.ä½¿ç”¨xshellè¿æ¥è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ“ä½œ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210607214021379.png" >
		<img src="/DockerLearning.assets/image-20210607214021379.png"
			
			
			
			loading="lazy"
			alt="image-20210607214021379">
	</a>
	
	<figcaption>image-20210607214021379</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210607214316440.png" >
		<img src="/DockerLearning.assets/image-20210607214316440.png"
			
			
			
			loading="lazy"
			alt="image-20210607214316440">
	</a>
	
	<figcaption>image-20210607214316440</figcaption>
	
</figure></p>
<p>æŸ¥çœ‹ä¸€ä¸‹ä¸‹è½½çš„è¿™ä¸ªhello-worldé•œåƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210607214400376.png" >
		<img src="/DockerLearning.assets/image-20210607214400376.png"
			
			
			
			loading="lazy"
			alt="image-20210607214400376">
	</a>
	
	<figcaption>image-20210607214400376</figcaption>
	
</figure></p>
<p>é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ</p>
<p>1.ç™»é™†é˜¿é‡Œäº‘</p>
<p>2.å®¹å™¨é•œåƒæœåŠ¡</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210607215031767.png" >
		<img src="/DockerLearning.assets/image-20210607215031767.png"
			
			
			
			loading="lazy"
			alt="image-20210607215031767">
	</a>
	
	<figcaption>image-20210607215031767</figcaption>
	
</figure></p>
<p>3.é…ç½®ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/docker
</span></span><span class="line"><span class="cl">sudo tee /etc/docker/daemon.json <span class="s">&lt;&lt;-&#39;EOF&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;registry-mirrors&#34;: [&#34;https://lufuant6.mirror.aliyuncs.com&#34;]
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">sudo systemctl daemon-reload
</span></span><span class="line"><span class="cl">sudo systemctl restart docker
</span></span></code></pre></div><p>å›é¡¾helloworldæµç¨‹</p>
<p>å¼€å§‹&ndash;&gt;æœ¬åœ°å¯»æ‰¾é•œåƒ&ndash;&gt;å¦‚æœæœ‰å°±ä½¿ç”¨è¿™ä¸ªé•œåƒè¿è¡Œï¼Œå¦‚æœæ²¡æœ‰å°±å»ä»“åº“ä¸‹è½½pull</p>
<p>åº•å±‚åŸç†</p>
<p>dockeræ€ä¹ˆå·¥ä½œçš„</p>
<p>dockeræ˜¯ä¸€ä¸ªclient&ndash;serverç»“æ„çš„ç³»ç»Ÿï¼Œdockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œé€šè¿‡socketä»å®¢æˆ·ç«¯è®¿é—®</p>
<p>dockerserveræ¥æ”¶åˆ°docker-clientçš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤</p>
<p>dockerä¸ºä»€ä¹ˆæ¯”vmå¿«</p>
<p>1.dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚</p>
<p>2.dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼Œvméœ€è¦guest OS</p>
<p>æ‰€ä»¥æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œ dockerä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œé¿å…å¼•å¯¼ã€‚è™šæ‹Ÿæœºæ˜¯åŠ è½½guestOSï¼Œåˆ†é’Ÿçº§åˆ«çš„ï¼Œè€Œdockeræ˜¯åˆ©ç”¨å®¿ä¸»ï¼›æœºåŠ çš„æ“ä½œç³»ç»Ÿï¼Œçœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œå¦™çº§çš„</p>
<p>dockerçš„å¸¸ç”¨å‘½ä»¤</p>
<p>å¸®åŠ©å‘½ä»¤</p>
<p>docker version</p>
<p>docker info</p>
<p>docker å‘½ä»¤ &ndash;help</p>
<p>é•œåƒå‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker images
</span></span><span class="line"><span class="cl">docker search 
</span></span><span class="line"><span class="cl">docker pull
</span></span><span class="line"><span class="cl">docker rmi 
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210607222535947.png" >
		<img src="/DockerLearning.assets/image-20210607222535947.png"
			
			
			
			loading="lazy"
			alt="image-20210607222535947">
	</a>
	
	<figcaption>image-20210607222535947</figcaption>
	
</figure></p>
<p>å®¹å™¨å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull centos
</span></span></code></pre></div><p>æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker run <span class="o">[]</span> image
</span></span><span class="line"><span class="cl">--name <span class="o">=</span><span class="s2">&#34;&#34;</span> å®¹å™¨åå­—
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">-d åå°æ–¹å¼è¿è¡Œ
</span></span><span class="line"><span class="cl">-i  ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œ è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹ 
</span></span><span class="line"><span class="cl">-t
</span></span><span class="line"><span class="cl">-p æŒ‡å®šå®¹å™¨çš„ç«¯å£-p 8080:8080
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£
</span></span><span class="line"><span class="cl">-p å®¹å™¨ç«¯å£
</span></span><span class="line"><span class="cl">-p ipï¼šä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">exit</span> ä»å®¹å™¨ä¸­é€€å›ä¸»æœº
</span></span><span class="line"><span class="cl">docker ps åˆ—å‡ºæ‰€æœ‰è¿è¡Œå®¹å™¨
</span></span><span class="line"><span class="cl">-a æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+è¿è¡Œè¿‡çš„å®¹å™¨
</span></span><span class="line"><span class="cl">-n<span class="o">=</span>? æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨
</span></span><span class="line"><span class="cl">docker ps -q åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210608200503679.png" >
		<img src="/DockerLearning.assets/image-20210608200503679.png"
			
			
			
			loading="lazy"
			alt="image-20210608200503679">
	</a>
	
	<figcaption>image-20210608200503679</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210608200706097.png" >
		<img src="/DockerLearning.assets/image-20210608200706097.png"
			
			
			
			loading="lazy"
			alt="image-20210608200706097">
	</a>
	
	<figcaption>image-20210608200706097</figcaption>
	
</figure></p>
<p>é€€å‡ºå®¹å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">exit</span> é€€å‡ºå®¹å™¨ï¼Œå¹¶åœæ­¢
</span></span><span class="line"><span class="cl">ctrl+P+Q
</span></span></code></pre></div><p>åˆ é™¤å®¹å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker rm å®¹å™¨id		
</span></span><span class="line"><span class="cl">docker rm -f <span class="k">$(</span>docker ps -aq<span class="k">)</span>
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210608201640486.png" >
		<img src="/DockerLearning.assets/image-20210608201640486.png"
			
			
			
			loading="lazy"
			alt="image-20210608201640486">
	</a>
	
	<figcaption>image-20210608201640486</figcaption>
	
</figure></p>
<p>å¯åŠ¨åœæ­¢å®¹å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker start å®¹å™¨id
</span></span><span class="line"><span class="cl">docker restart å®¹å™¨id
</span></span><span class="line"><span class="cl">docker stop å®¹å™¨id
</span></span><span class="line"><span class="cl">docker <span class="nb">kill</span> å®¹å™¨id
</span></span><span class="line"><span class="cl"> 
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210608203048244.png" >
		<img src="/DockerLearning.assets/image-20210608203048244.png"
			
			
			
			loading="lazy"
			alt="image-20210608203048244">
	</a>
	
	<figcaption>image-20210608203048244</figcaption>
	
</figure></p>
<p>å¸¸ç”¨å…¶ä»–å‘½ä»¤</p>
<p>åå°å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker run -d centos 
</span></span><span class="line"><span class="cl">dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">dockerlogs 
</span></span></code></pre></div><p>æŸ¥çœ‹å®¹å™¨å½“ä¸­çš„è¿›ç¨‹ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker top å‘½ä»¤
</span></span><span class="line"><span class="cl">docker inspect å®¹å™¨id æŸ¥çœ‹å®¹å™¨ä¿¡æ¯
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609223653271.png" >
		<img src="/DockerLearning.assets/image-20210609223653271.png"
			
			
			
			loading="lazy"
			alt="image-20210609223653271">
	</a>
	
	<figcaption>image-20210609223653271</figcaption>
	
</figure></p>
<p>è¿›å…¥å½“å‰æ­£åœ¨è¿›è¡Œçš„å®¹å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ä½¿ç”¨åå°æ–¹å¼è¿è¡Œçš„ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹ä¸€äº›é…ç½®
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it å®¹å™¨id 
</span></span><span class="line"><span class="cl">docker attach å®¹å™¨id
</span></span><span class="line"><span class="cl">æ­£åœ¨æ‰§è¡Œå½“å‰çš„ä»£ç 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">execè¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œï¼ˆå¸¸ç”¨ï¼‰
</span></span><span class="line"><span class="cl">attach è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609224319430.png" >
		<img src="/DockerLearning.assets/image-20210609224319430.png"
			
			
			
			loading="lazy"
			alt="image-20210609224319430">
	</a>
	
	<figcaption>image-20210609224319430</figcaption>
	
</figure></p>
<p>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker cp å®¹å™¨id ï¼šå®¹å™¨å†…è·¯å¾„  ç›®çš„çš„ä¸»æœºè·¯å¾„ 
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609230304773.png" >
		<img src="/DockerLearning.assets/image-20210609230304773.png"
			
			
			
			loading="lazy"
			alt="image-20210609230304773">
	</a>
	
	<figcaption>image-20210609230304773</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">å½“å‰ä¸»æœºç›®å½•
</span></span><span class="line"><span class="cl">root@yourtreedad:~# <span class="nb">cd</span> /home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home#  ls
</span></span><span class="line"><span class="cl">kuanshen.java  test.java
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# touch kuangshen.java
</span></span><span class="line"><span class="cl">root@yourtreedad:/home#  ls
</span></span><span class="line"><span class="cl">kuangshen.java  kuanshen.java  test.java
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">è¿›å…¥å®¹å™¨å†…éƒ¨
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# docker attach 3a26ef468c27
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 /<span class="o">]</span><span class="c1"># cd /home</span>
</span></span><span class="line"><span class="cl">bash: cd: <span class="s1">$&#39;\343/home&#39;</span>: No such file or directory
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 /<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 /<span class="o">]</span><span class="c1"># cd /home</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 home<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">åˆ›å»ºæ–‡ä»¶
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 home<span class="o">]</span><span class="c1"># touch test1.java</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 home<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">test1.java
</span></span><span class="line"><span class="cl">é€€å‡ºå®¹å™¨
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@3a26ef468c27 home<span class="o">]</span><span class="c1"># exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# docker ps
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# docker ps -a
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS               NAMES
</span></span><span class="line"><span class="cl">3a26ef468c27        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">20</span> minutes ago      Exited <span class="o">(</span>0<span class="o">)</span> <span class="m">16</span> seconds ago                            suspicious_wilbur
</span></span><span class="line"><span class="cl">cee72dcd9187        centos              <span class="s2">&#34;-it /bin/bash&#34;</span>     <span class="m">21</span> minutes ago      Created                                              eager_einstein
</span></span><span class="line"><span class="cl">73d060aad5ac        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">27</span> hours ago        Exited <span class="o">(</span>255<span class="o">)</span> About an hour ago                       optimistic_leakey
</span></span><span class="line"><span class="cl">ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶è‡³ä¸»æœº
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# docker cp 3a26ef468c27:/home/test1.java /home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# ls
</span></span><span class="line"><span class="cl">kuangshen.java  kuanshen.java  test.java  test1.java
</span></span><span class="line"><span class="cl">æ‹·è´æ˜¯ä¸€ä¸ªæ‰‹åŠ¨è¿‡ç¨‹ï¼Œæœªæ¥æˆ‘ä»¬ä½¿ç”¨ -v å·çš„æŠ€æœ¯ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åŒæ­¥
</span></span></code></pre></div><p>dockerå‘½ä»¤å¾ˆå¤šï¼Œä»¥ä¸Šæ˜¯æœ€å¸¸ç”¨çš„</p>
<p>dockerå®‰è£…nginx</p>
<p>1.æœç´¢é•œåƒ</p>
<p>2.ä¸‹è½½é•œåƒ</p>
<p>3.å¯åŠ¨é•œåƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609233757534.png" >
		<img src="/DockerLearning.assets/image-20210609233757534.png"
			
			
			
			loading="lazy"
			alt="image-20210609233757534">
	</a>
	
	<figcaption>image-20210609233757534</figcaption>
	
</figure></p>
<p>æµ‹è¯•</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609234211565.png" >
		<img src="/DockerLearning.assets/image-20210609234211565.png"
			
			
			
			loading="lazy"
			alt="image-20210609234211565">
	</a>
	
	<figcaption>image-20210609234211565</figcaption>
	
</figure></p>
<p>ç«¯å£æ˜ å°„</p>
<p>è¿›å…¥å®¹å™¨ï¼ŒæŸ¥çœ‹æ–‡ä»¶</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210609234650627.png" >
		<img src="/DockerLearning.assets/image-20210609234650627.png"
			
			
			
			loading="lazy"
			alt="image-20210609234650627">
	</a>
	
	<figcaption>image-20210609234650627</figcaption>
	
</figure></p>
<p>æ€è€ƒé—®é¢˜ï¼šæ¯æ¬¡æ”¹åŠ¨nignxé…ç½®æ–‡ä»¶ï¼Œéƒ½éœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Ÿéƒ½ååˆ†éº»çƒ¦ï¼Œæˆ‘è¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œè¾¾åˆ°åœ¨å®¹å™¨å¤–éƒ¨ä¿®æ”¹æ–‡ä»¶ï¼Œå®¹å™¨å†…éƒ¨å°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ï¼Ÿ  -v æ•°æ®å·æŠ€æœ¯</p>
<p>dockerè£…ä¸€ä¸ªtomcat</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker run -it --rm tomcat:9.0
</span></span><span class="line"><span class="cl">ä¹‹å‰çš„å¯åŠ¨éƒ½æ˜¯åå°ï¼Œåœæ­¢äº†å®¹å™¨ä¹‹åï¼Œå®¹å™¨è¿˜æ˜¯å¯ä»¥æŸ¥åˆ°
</span></span><span class="line"><span class="cl">docker run -it --rm ä¸€èˆ¬ç”¨æ¥æµ‹è¯•ï¼Œç”¨å®Œå°±åˆ é™¤
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">è¿›å…¥å®¹å™¨
</span></span><span class="line"><span class="cl">PS C:<span class="se">\U</span>sers<span class="se">\S</span>weetie&gt; docker run -d -p 3355:8080 --name tomcat01 tomcat
</span></span><span class="line"><span class="cl">c42f39b1590834eb3720faa3cee74b79a909550fe02bc2ed383676908c3accf2
</span></span><span class="line"><span class="cl">PS C:<span class="se">\U</span>sers<span class="se">\S</span>weetie&gt; docker <span class="nb">exec</span> -it tomcat01 /bin/bash
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat# ls
</span></span><span class="line"><span class="cl">linuxå‘½ä»¤å°‘äº†
</span></span><span class="line"><span class="cl">æ²¡æœ‰webapps
</span></span><span class="line"><span class="cl">é˜¿é‡Œäº‘é•œåƒåŸå› ï¼Œé»˜è®¤æ˜¯æœ€å°çš„é•œåƒï¼Œæ‰€æœ‰çš„ä¸å¿…è¦çš„éƒ½å‰”é™¤äº†ã€‚
</span></span><span class="line"><span class="cl">ä¿è¯æœ€å°å¯è¿è¡Œçš„ç¯å¢ƒ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat/webapps# <span class="nb">cd</span> ..
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat# ls
</span></span><span class="line"><span class="cl">BUILDING.txt     LICENSE  README.md      RUNNING.txt  conf  logs            temp     webapps.dist
</span></span><span class="line"><span class="cl">CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin          lib   native-jni-lib  webapps  work
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat# <span class="nb">cd</span> webapps.dist
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat/webapps.dist# ls
</span></span><span class="line"><span class="cl">ROOT  docs  examples  host-manager  manager
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat/webapps.dist# <span class="nb">cd</span> ..
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat# cp -r webapps.dist/* webapps
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat# <span class="nb">cd</span> webapps
</span></span><span class="line"><span class="cl">root@c42f39b15908:/usr/local/tomcat/webapps# ls
</span></span><span class="line"><span class="cl">ROOT  docs  examples  host-manager  manager
</span></span></code></pre></div><p>ä»¥åè¦éƒ¨ç½²é¡¹ç›®ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦è¿›å…¥å®¹å™¨æ˜¯ä¸æ˜¯ååˆ†éº»çƒ¦ï¼Œè¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œè¾¾åˆ°åœ¨å®¹å™¨ä¿®æ”¹æ–‡ä»¶åï¼Œå®¹å™¨å†…éƒ¨å°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ï¼Ÿ -v æ•°æ®å·æŠ€æœ¯</p>
<p>webappsï¼Œåœ¨å¤–éƒ¨æ”¾ç½®é¡¹ç›®ï¼Œå°±è‡ªåŠ¨åŒæ­¥åˆ°å†…éƒ¨å°±å¥½äº†ï¼ï¼ï¼</p>
<p>dockerå®¹å™¨ tomcat+ç½‘ç«™ docker+mysql</p>
<p>éƒ¨ç½²es+kibana</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">esæš´éœ²çš„ç«¯å£å¾ˆå¤š
</span></span><span class="line"><span class="cl">esååˆ†è€—å†…å­˜
</span></span><span class="line"><span class="cl">esçš„æ•°æ®ä¸€èˆ¬éœ€è¦æ”¾ç½®åœ¨å®‰å…¨ç›®å½•ï¼æŒ‚è½½
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">--net somenetwork ? ç½‘ç»œé…ç½®
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸‹è½½å¯åŠ¨
</span></span><span class="line"><span class="cl">docker run -d --name elasticsearch  -p 9200:9200 -p 9300:9300 -e <span class="s2">&#34;discovery.type=single-node&#34;</span>
</span></span><span class="line"><span class="cl">elasticsearch:7.6.2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸€å¯åŠ¨å°±é¡¶ä¸ä½äº†ï¼Œå¾ˆå¥½å†…å­˜
</span></span><span class="line"><span class="cl">docker statuc æŸ¥çœ‹cpuçš„çŠ¶æ€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">èµ¶ç´§å…³é—­ï¼Œå¢åŠ å†…å­˜çš„é™åˆ¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ -e é…ç½®ä¿®æ”¹
</span></span><span class="line"><span class="cl">docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e <span class="s2">&#34;discovery.type=single-node&#34;</span> -e <span class="nv">ES_JAVA_OPTS</span><span class="o">=</span><span class="s2">&#34;-Xms64m -Xmx512m&#34;</span> elasticsearch:7.6.2
</span></span><span class="line"><span class="cl">ç¯å¢ƒé…ç½®
</span></span></code></pre></div><p>ä½œä¸šï¼šä½¿ç”¨kibana è¿æ¥elasticsearch</p>
<p>å› ä¸ºç›¸äº’éš”ç¦»ï¼Œæ‰€ä»¥ç›´æ¥localhostæ¥è¿ä¸ç°å®ï¼Œå¯ä»¥ä½¿ç”¨linuxå†…ç½‘ipæ¥æï¼Œéœ€è¦äº†è§£dockerç½‘ç»œåŸç†ï¼Œç½‘ç»œçš„åŸºæœ¬çŸ¥è¯†</p>
<p>å¯è§†åŒ–</p>
<ul>
<li>
<p>portainerå…ˆç”¨è¿™ä¸ª</p>
</li>
<li>
<p>rancherï¼ˆCIã€CDå†ç”¨ï¼‰</p>
</li>
</ul>
<p>ä»€ä¹ˆæ˜¯portainer</p>
<p>dockerå›¾å½¢åŒ–ç•Œé¢ç®¡ç†å·¥å…·ï¼æä¾›ä¸€ä¸ªåå°é¢æ¿ï¼Œä¾›æˆ‘ä»¬æ“ä½œï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker run -d -p 8088:9000 --restart<span class="o">=</span>always -v /var/run/docker.sock:/var/run/docker.sock --privileged<span class="o">=</span><span class="nb">true</span> portainer/portainer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">è®¿é—®æµ‹è¯• å¤–ç½‘8088ç«¯å£
</span></span><span class="line"><span class="cl">é€šè¿‡å®ƒæ¥è®¿é—®
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">å¯è§†åŒ–é¢æ¿ï¼Œæˆ‘ä»¬å¹³æ—¶ä¸ä¼šä½¿ç”¨ï¼Œæµ‹è¯•ç©ç©å³å¯
</span></span></code></pre></div><p>dockeré•œåƒè®²è§£</p>
<p>é•œåƒæ˜¯ä»€ä¹ˆ</p>
<p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶</p>
<p>æ‰€æœ‰çš„åº”ç”¨ï¼Œç›´æ¥æ‰“åŒ…dockeré•œåƒï¼Œå°±å¯ä»¥ç›´æ¥è·‘èµ·æ¥</p>
<p>å¦‚ä½•å¾—åˆ°é•œåƒï¼š</p>
<ul>
<li>ä»è¿œç¨‹ä»“åº“ä¸‹è½½</li>
<li>æœ‹å‹æ‹·è´ç»™ä½ </li>
<li>è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒ dockerfile</li>
</ul>
<p>unionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ</p>
<p>æˆ‘ä»¬ä¸‹è½½çš„æ—¶å€™çœ‹åˆ°çš„ä¸€å±‚å±‚çš„å°±æ˜¯è¿™ä¸ª</p>
<p>unionfsè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ï¼Œä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚åœ¨åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹unite several directories into a single virtual filesystem ã€‚unionæ–‡ä»¶ç³»ç»Ÿæ˜¯docker é•œåƒçš„åŸºç¡€ï¼Œé•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼ˆæ²¡æœ‰çˆ¶é•œåƒï¼‰ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒ</p>
<p>ç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•</p>
<p>dockeré•œåƒåŠ è½½åŸç†</p>
<p>dockerçš„é•œåƒå®é™…ä¸Šæ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFS</p>
<p>bootfs ï¼ˆboot file system ï¼‰ ä¸»è¦åŒ…å«bootloader å’Œ kernel ï¼Œbootloader ä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernel ï¼Œ linux åˆšå¯åŠ¨æ—¶ä¼šåŠ è½½ bootfs æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨docker é•œåƒçš„æœ€åº•å±‚æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„linu/unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfs</p>
<p>rootfsï¼ˆroot file systemï¼‰ï¼Œåœ¨bootfsä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹linuxç³»ç»Ÿä¸­çš„ /dev , /proc / bin , /etcç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚ubuntuï¼Œcentosç­‰ç­‰</p>
<p>å¹³æ—¶æˆ‘ä»¬å®‰è£…è¿›è™šæ‹Ÿæœºçš„centoséƒ½æ˜¯å¥½å‡ ä¸ªGï¼Œä¸ºä»€ä¹ˆdockerè¿™é‡Œæ‰200M</p>
<p>å¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ç”¨hostçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså°±å¯ä»¥äº†ï¼Œç”±æ­¤å¯è§å¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆï¼ŒbootfsåŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œrootfsä¼šæœ‰å·®åˆ«ï¼Œå› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆæœ¬å¯ä»¥å…±ç”¨bootfs</p>
<p>åˆ†å±‚ç†è§£</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">PS C:<span class="se">\U</span>sers<span class="se">\S</span>weetie&gt; docker pull redis
</span></span><span class="line"><span class="cl">Using default tag: latest
</span></span><span class="line"><span class="cl">latest: Pulling from library/redis
</span></span><span class="line"><span class="cl">69692152171a: Already exists
</span></span><span class="line"><span class="cl">a4a46f2fd7e0: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">bcdf6fddc3bd: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">2902e41faefa: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">df3e1d63cdb1: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">fa57f005a60d: Pull <span class="nb">complete</span>
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥å»ä¸‹è½½ä¸€ä¸ªé•œåƒï¼Œæ³¨æ„è§‚å¯Ÿä¸‹è½½çš„æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€å±‚ä¸€å±‚åœ¨ä¸‹è½½çš„ï¼</p>
<p>æ€è€ƒï¼šä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢ï¼Ÿ</p>
<p>æœ€å¤§çš„å¥½å¤„ï¼Œæˆ‘è§‰å¾—è«è¿‡äºæ˜¯èµ„æºå…±äº«ï¼æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€è¦åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">     <span class="o">}</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RootFS&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Type&#34;</span>: <span class="s2">&#34;layers&#34;</span>,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Layers&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:02c055ef67f5904019f43a41ea5f099996d8e7633749b6e606c400526b2c4b33&#34;</span>,
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:ec5652c3523d96657d66169c0eb71b572ff065711c705a15ec02f60a21c212c3&#34;</span>,
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:76d3e24d63f60e6a73af70be15959eb4021dd7a5a09da6925037d3b4a1673fca&#34;</span>,
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:f06719b0aa43029f32c821c8f14f9f5941a8be6d3b61dcd9f3f884b39e9a4f23&#34;</span>,
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:b896f490f2edc62cc9d190465bbeab871619590d1e9beeffb92e4ca9cc08116d&#34;</span>,
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sha256:e3f4077f577bf07c0940d6345ddd17014ff824d3f4f7f3effc9a8c4dae3e527b&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="o">]</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Metadata&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LastTagTime&#34;</span>: <span class="s2">&#34;0001-01-01T00:00:00Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span></code></pre></div><p>ç†è§£ï¼š</p>
<p>æ‰€æœ‰çš„dockeré•œåƒéƒ½èµ·å§‹äºä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“è¿›è¡Œä¿®æ”¹æˆ–è€…å¢åŠ æ–°çš„å†…å®¹æ—¶ï¼Œå°±ä¼šåœ¨å½“å‰é•œåƒå±‚ä¹‹ä¸Šï¼Œåˆ›å»ºæ–°çš„é•œåƒå±‚ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚åŸºäºubuntu linux 16.04 åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œè¿™å°±æ˜¯æ–°é•œåƒçš„ç¬¬ä¸€å±‚ï¼›å¦‚æœåœ¨è¯¥é•œåƒä¸­æ·»åŠ pythonåŒ…ï¼Œè¯¥é•œåƒå°±ä¼šåœ¨åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šåˆ›å»ºç¬¬äºŒä¸ªé•œåƒå±‚ï¼Œå¦‚æœç»§ç»­æ·»åŠ ä¸€ä¸ªå®‰å…¨ä¸å®šï¼Œå°±ä¼šåˆ›å»ºç¬¬ä¸‰ä¸ªé•œåƒå±‚ã€‚</p>
<p>åœ¨æ·»åŠ é¢å¤–çš„é•œåƒå±‚çš„åŒæ—¶ï¼Œé•œåƒå§‹ç»ˆä¿æŒæ˜¯å½“å‰æ‰€æœ‰é•œåƒçš„ç»„åˆï¼Œç†è§£è¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šå±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶è¦†ç›–äº†åº•å±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶ã€‚è¿™æ ·å°±ä½¿å¾—æ–‡ä»¶çš„æ›´æ–°ç‰ˆæœ¬ä½œä¸ºä¸€ä¸ªæ–°é•œåƒå±‚æ·»åŠ åˆ°é•œåƒä¸­ã€‚dockeré€šè¿‡å­˜å‚¨å¼•æ“ï¼ˆæ–°ç‰ˆæœ¬é‡‡ç”¨å¿«ç…§æœºåˆ¶ï¼‰çš„æ–¹å¼æ¥å®ç°æƒŠé™©å±‚å †æ ˆï¼Œå¹¶ä¿è¯å¤šé•œåƒå±‚å¯¹å¤–å±•ç¤ºä¸ºç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>linuxä¸Šå¯ç”¨çš„å­˜å‚¨å¼•æ“æœ‰AUFSã€Overlay2ã€Device Mapperã€Btrfsä»¥åŠZFSã€‚é¡¾åæ€ä¹‰ï¼Œæ¯ç§å­˜å‚¨å¼•æ“éƒ½åŸºäºLinuxä¸­å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å—è®¾å¤‡æŠ€æœ¯ï¼Œå¹¶ä¸”æ¯ç§å¼•æ“éƒ½æœ‰å…¶ç‹¬æœ‰çš„æ€§èƒ½ç‰¹ç‚¹ã€‚</p>
<p>Dockeråœ¨windowsä¸Šä»…æ”¯æŒwindowsfilterä¸€ç§å­˜å‚¨å¼•æ“ï¼Œè¯¥å¼•æ“åŸºäºNTFSæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šå®ç°äº†åˆ†å±‚å’Œcow</p>
<p>dockeré•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œä¸€ä¸ªæ–°çš„åˆ»å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ï¼</p>
<p>è¿™ä¸€å±‚å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å®¹å™¨å±‚ï¼Œå®¹å™¨ä¹‹ä¸‹çš„éƒ½å«é•œåƒ</p>
<p>å¦‚ä½•æäº¤ä¸€ä¸ªè‡ªå·±çš„é•œåƒ</p>
<p>commité•œåƒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬
</span></span><span class="line"><span class="cl">docker commit -m<span class="o">=</span><span class="s2">&#34;æäº¤çš„æè¿°ä¿¡æ¯&#34;</span> -a<span class="o">=</span><span class="s2">&#34;ä½œè€…&#34;</span> å®¹å™¨id ç›®æ ‡é•œåƒå:<span class="o">[</span>TAG<span class="o">]</span>  
</span></span></code></pre></div><p>æµ‹è¯•</p>
<ul>
<li>å¯åŠ¨é»˜è®¤tomcat</li>
<li>æ²¡æœ‰æ–‡ä»¶çš„webapps</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@e7c2f9ef26e4:/usr/local/tomcat# cp -r webapps.dist/* webapps
</span></span><span class="line"><span class="cl">root@e7c2f9ef26e4:/usr/local/tomcat# ls
</span></span><span class="line"><span class="cl">BUILDING.txt     LICENSE  README.md      RUNNING.txt  conf  logs            temp     webapps.dist
</span></span><span class="line"><span class="cl">CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin          lib   native-jni-lib  webapps  work
</span></span><span class="line"><span class="cl">root@e7c2f9ef26e4:/usr/local/tomcat# <span class="nb">cd</span> webapps
</span></span><span class="line"><span class="cl">root@e7c2f9ef26e4:/usr/local/tomcat/webapps# ls
</span></span><span class="line"><span class="cl">ROOT  docs  examples  host-manager  manager
</span></span></code></pre></div><ul>
<li>cpå‘½ä»¤æ‹·è´è¿›webapps</li>
</ul>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210612162156751.png" >
		<img src="/DockerLearning.assets/image-20210612162156751.png"
			
			
			
			loading="lazy"
			alt="image-20210612162156751">
	</a>
	
	<figcaption>image-20210612162156751</figcaption>
	
</figure></p>
<ul>
<li>æµè§ˆå™¨å¯ä»¥è®¿é—®</li>
<li>commitæäº¤ä¸ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œæˆ‘ä»¬ä»¥åå°±ä½¿ç”¨æˆ‘ä»¬ä¿®æ”¹è¿‡çš„é•œåƒå³å¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ªä¿®æ”¹è¿‡çš„é•œåƒ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">PS C:<span class="se">\U</span>sers<span class="se">\S</span>weetie&gt; docker commit -m<span class="o">=</span><span class="s2">&#34;add webapps app&#34;</span> -a<span class="o">=</span><span class="s2">&#34;ljs&#34;</span> e7c2f9ef26e4  tomcatupdate1.0
</span></span><span class="line"><span class="cl">sha256:2a308d5b7f5a2b5b471a193c596369ee1ec2168d04221397ced9c9201a94075e
</span></span><span class="line"><span class="cl">PS C:<span class="se">\U</span>sers<span class="se">\S</span>weetie&gt; docker images
</span></span><span class="line"><span class="cl">REPOSITORY            TAG       IMAGE ID       CREATED         SIZE
</span></span><span class="line"><span class="cl">tomcatupdate1.0       latest    2a308d5b7f5a   <span class="m">8</span> seconds ago   672MB
</span></span><span class="line"><span class="cl">redis                 latest    fad0ee7e917a   <span class="m">10</span> days ago     105MB
</span></span><span class="line"><span class="cl">nginx                 latest    d1a364dc548d   <span class="m">2</span> weeks ago     133MB
</span></span><span class="line"><span class="cl">tomcat                latest    c43a65faae57   <span class="m">4</span> weeks ago     667MB
</span></span><span class="line"><span class="cl">portainer/portainer   latest    580c0e4e98b0   <span class="m">2</span> months ago    79.1MB
</span></span><span class="line"><span class="cl">centos                latest    300e315adb2f   <span class="m">6</span> months ago    209MB
</span></span><span class="line"><span class="cl">elasticsearch         7.6.2     f29a1ee41030   <span class="m">14</span> months ago   791MB
</span></span><span class="line"><span class="cl">elasticsearch         latest    5acf0e8da90b   <span class="m">2</span> years ago     486MB
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210612162537739.png" >
		<img src="/DockerLearning.assets/image-20210612162537739.png"
			
			
			
			loading="lazy"
			alt="image-20210612162537739">
	</a>
	
	<figcaption>image-20210612162537739</figcaption>
	
</figure></p>
<p>å¦‚æœä½ æƒ³è¦ä¿å­˜å½“å‰å®¹å™¨çš„çŠ¶æ€ï¼Œå°±å¯ä»¥é€šè¿‡commitæ¥æäº¤ï¼Œè·å¾—ä¸€ä¸ªé•œåƒã€‚</p>
<p>å°±å¥½æ¯”ä»¥å‰æˆ‘ä»¬å­¦ä¹ VMçš„æ—¶å€™ï¼Œå¿«ç…§</p>
<p>åˆ°è¿™é‡Œæ‰ç®—å…¥é—¨</p>
<p>å®¹å™¨æ•°æ®å·ã€dockerfileã€dockerç½‘ç»œï¼šdockerç²¾é«“</p>
<p>ä¼ä¸šå®æˆ˜</p>
<p>docker compose</p>
<p>docker swarm</p>
<p>ci ã€ cd  jenkins æµæ°´çº¿</p>
<p>å®¹å™¨æ•°æ®å·</p>
<p>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</p>
<p>dockerçš„ç†å¿µå›é¡¾ï¼š</p>
<p>å°†åº”ç”¨å’Œç¯å¢ƒæ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼</p>
<p>æ•°æ®ï¼Ÿå¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠå®¹å™¨åˆ é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ï¼</p>
<p>éœ€æ±‚ï¼šæ•°æ®å¯ä»¥æŒä¹…åŒ–</p>
<p>MYsqlï¼Œå®¹å™¨åˆ äº†ï¼Œåˆ åº“è·‘è·¯!</p>
<p>éœ€æ±‚ï¼šMYsqlçš„æ•°æ®å¯ä»¥å­˜å‚¨åœ¨æœ¬åœ°ï¼</p>
<p>å®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªå®¹å™¨å…±äº«çš„æŠ€æœ¯ï¼dockerå®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ°ï¼</p>
<p>è¿™å°±æ˜¯æ•°æ®å·æŠ€æœ¯ï¼ç›®å½•çš„æŒ‚è½½ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½linuxä¸Š</p>
<p>æ€»ç»“ä¸€å¥è¯ï¼šå®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œï¼å®¹å™¨é—´ä¹Ÿæ˜¯å¯ä»¥æ•°æ®å…±äº«çš„ï¼</p>
<p>ä½¿ç”¨æ•°æ®å·</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æŒ‚è½½
</span></span><span class="line"><span class="cl">-v 
</span></span><span class="line"><span class="cl">docker run -it -v ä¸»æœºç›®å½•åœ°å€ï¼šå®¹å™¨å†…ç›®å½•åœ°å€ -p ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:~# <span class="nb">cd</span> /home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# ls
</span></span><span class="line"><span class="cl">kuangshen.java  kuanshen.java  test.java  test1.java
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# <span class="nb">cd</span> ..
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker run -it -v /home/ceshi:/home centos /bin/bash
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210612164241555.png" >
		<img src="/DockerLearning.assets/image-20210612164241555.png"
			
			
			
			loading="lazy"
			alt="image-20210612164241555">
	</a>
	
	<figcaption>image-20210612164241555</figcaption>
	
</figure></p>
<p>ä½¿ç”¨ docker inspect å®¹å™¨id æŸ¥çœ‹å…·ä½“ä¿¡æ¯</p>
<p>åœ¨å¤–é¢å»ºç«‹æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢ä¹Ÿæœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>root@ffb011d1322a /<span class="o">]</span><span class="c1"># cd home</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@ffb011d1322a home<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">outtoint.txt
</span></span></code></pre></div><p>åœ¨é‡Œé¢è§æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢ä¹Ÿæœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>root@ffb011d1322a home<span class="o">]</span><span class="c1"># touch intoout.java</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@ffb011d1322a home<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">intoout.java  outtoint.txt
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@ffb011d1322a home<span class="o">]</span><span class="c1"># exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker ps
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS              PORTS                                       NAMES
</span></span><span class="line"><span class="cl">ffb011d1322a        centos                <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">12</span> minutes ago      Up <span class="m">10</span> minutes                                                   eager_heyrovsky
</span></span><span class="line"><span class="cl">e7c2f9ef26e4        tomcat:latest         <span class="s2">&#34;catalina.sh run&#34;</span>   <span class="m">34</span> minutes ago      Up <span class="m">34</span> minutes       0.0.0.0:5555-&gt;8080/tcp                      sweet_ramanujan
</span></span><span class="line"><span class="cl">b90d3528ae04        portainer/portainer   <span class="s2">&#34;/portainer&#34;</span>        <span class="m">6</span> hours ago         Up <span class="m">37</span> minutes       0.0.0.0:8088-&gt;9000/tcp, :::8088-&gt;9000/tcp   confident_villani
</span></span><span class="line"><span class="cl">root@yourtreedad:/# <span class="nb">cd</span> home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# <span class="nb">cd</span> ceshi
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/ceshi# ls
</span></span><span class="line"><span class="cl">intoout.java  outtoint.txt
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/ceshi#
</span></span></code></pre></div><p>å®¹å™¨åœæ­¢äº†ï¼Œä½†æ˜¯åªè¦å®¹å™¨è¿˜åœ¨ï¼Œå°±èƒ½å®ç°åŒæ­¥æ•°æ®ï¼Œç±»ä¼¼åŒå‘ç»‘å®š</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210612165925505.png" >
		<img src="/DockerLearning.assets/image-20210612165925505.png"
			
			
			
			loading="lazy"
			alt="image-20210612165925505">
	</a>
	
	<figcaption>image-20210612165925505</figcaption>
	
</figure></p>
<p>å¥½å¤„ï¼šæˆ‘ä»¬ä»¥åä¿®æ”¹åªéœ€è¦åœ¨æœ¬åœ°ä¿®æ”¹å³å¯ï¼Œå®¹å™¨å†…ä¼šè‡ªåŠ¨åŒæ­¥ï¼</p>
<p>å®æˆ˜ï¼šå®‰è£…mysql</p>
<p>æ€è€ƒï¼šmysqlçš„æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">è·å–é•œåƒ
</span></span><span class="line"><span class="cl">docker pull mysql
</span></span><span class="line"><span class="cl">è¿è¡Œå®¹å™¨ï¼Œéœ€è¦åšæ•°æ®æŒ‚è½½ï¼Œéœ€è¦é…ç½®å¯†ç ï¼Œè¿™éœ€è¦æ³¨æ„
</span></span><span class="line"><span class="cl">å®˜æ–¹æµ‹è¯•ï¼šdocker run --name some-mysql -e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>my-secret-pw -d mysql:tag
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">-d åå°è¿è¡Œ
</span></span><span class="line"><span class="cl">-p ç«¯å£æ˜ å°„
</span></span><span class="line"><span class="cl">-v æ•°æ®å·æŒ‚åœ¨
</span></span><span class="line"><span class="cl">-e ç¯å¢ƒé…ç½®
</span></span><span class="line"><span class="cl">--name
</span></span><span class="line"><span class="cl">docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span><span class="m">123456</span> --name mysql01 mysql:5.7
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">å¯åŠ¨æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨ sqlyog æ¥æµ‹è¯•ä¸€ä¸‹
</span></span><span class="line"><span class="cl">sqlyog --h -u -p è¿æ¥åˆ°æœåŠ¡å™¨çš„3310 ----3310 å’Œå®¹å™¨å†…çš„3306è¿›è¡Œæ˜ å°„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿æ¥ä¸Šäº† 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">åœ¨æœ¬åœ°æµ‹è¯•åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ˜ å°„çš„è·¯å¾„æ˜¯å¦ok
</span></span><span class="line"><span class="cl">å‡è®¾æˆ‘ä»¬å°†å®¹å™¨åˆ é™¤ï¼Œå‘ç°æˆ‘ä»¬æŒ‚è½½åˆ°æœ¬åœ°çš„æ•°æ®å·ä¾æ—§æ²¡æœ‰ä¸¢å¤±ï¼Œè¿™å°±å®ç°äº†å®¹å™¨æ•°æ®æŒä¹…åŒ–åŠŸèƒ½
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210612172111412.png" >
		<img src="/DockerLearning.assets/image-20210612172111412.png"
			
			
			
			loading="lazy"
			alt="image-20210612172111412">
	</a>
	
	<figcaption>image-20210612172111412</figcaption>
	
</figure></p>
<p>å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">åŒ¿åæŒ‚è½½
</span></span><span class="line"><span class="cl">-v å®¹å™¨å†…è·¯å¾„   ç›¸å½“äºä¸æŒ‡å®šä¸»æœºçš„åœ°å€ï¼Œç›´æ¥æŒ‡å®šå®¹å™¨åœ°å€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker run -d -P --name nginx01 -v /etc/nginx nginx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">æŸ¥çœ‹æ‰€æœ‰å·çš„æƒ…å†µ
</span></span><span class="line"><span class="cl">docker volume ls
</span></span><span class="line"><span class="cl">è¿™é‡Œå‘ç° 
</span></span><span class="line"><span class="cl">DRIVER              VOLUME NAME
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               0faef3ffc2187555023c9a8e5dca5c11e47f0b436657e48f95e972e33c951c49
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">è¿™ç§å°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œæˆ‘ä»¬-vçš„æ—¶å€™åªå†™äº†å®¹å™¨çš„è·¯å¾„ï¼Œæ²¡æœ‰å†™å®¹å™¨å¤–çš„è·¯å¾„ï¼
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">é€šè¿‡-v å·åï¼šå®¹å™¨å†…è·¯å¾„
</span></span><span class="line"><span class="cl">è¿™å°±æ˜¯å…·åæŒ‚è½½
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx nginx
</span></span><span class="line"><span class="cl">11c306e0a80402c0c235042326f5db9da58570e01abac55379414d9d53abc797
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker volume ls
</span></span><span class="line"><span class="cl">DRIVER              VOLUME NAME
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               0faef3ffc2187555023c9a8e5dca5c11e47f0b436657e48f95e972e33c951c49
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               3c63eeef73128b24bbf1830f9cec7d383aae8413e232a857f1216456fb07fedf
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               941b4501fa7cefd9a341366fbe18cfeddd0f2d223c1eb87addf1a77a42c2ace8
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               3826373b692739fc44eac10a00d8ddada7b0200c5833963c459d6db001384a70
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               8440372a24dc57f1bcf100c1ef256abbff5713f1c96c2bd65276aea10f54864d
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               cb64d53be430f816088a1f1bbd1f5aea8885a1be33ddd98a5fb98a9d452fa03c
</span></span><span class="line"><span class="cl"><span class="nb">local</span>               juming-nginx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå·æŒ‚è½½åœ¨ä¸»æœºçš„å“ªä¸ªä½ç½®äº†å‘¢
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker volume inspect juming-nginx
</span></span><span class="line"><span class="cl"><span class="o">[</span>
</span></span><span class="line"><span class="cl">    <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CreatedAt&#34;</span>: <span class="s2">&#34;2021-06-13T02:11:30Z&#34;</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Driver&#34;</span>: <span class="s2">&#34;local&#34;</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Labels&#34;</span>: null,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Mountpoint&#34;</span>: <span class="s2">&#34;/var/lib/docker/volumes/juming-nginx/_data&#34;</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Name&#34;</span>: <span class="s2">&#34;juming-nginx&#34;</span>,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Options&#34;</span>: null,
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Scope&#34;</span>: <span class="s2">&#34;local&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span><span class="line"><span class="cl">æ‰€æœ‰dockerå®¹å™¨å†…çš„å·ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯åœ¨/var/lib/docker/volumes/xxxxä¸‹
</span></span><span class="line"><span class="cl">æˆ‘ä»¬é€šè¿‡å…·åæŒ‚è½½å¯ä»¥æ–¹ä¾¿çš„æ‰¾åˆ°æˆ‘ä»¬çš„ä¸€ä¸ªå·ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯å…·åæŒ‚è½½
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613100849422.png" >
		<img src="/DockerLearning.assets/image-20210613100849422.png"
			
			
			
			loading="lazy"
			alt="image-20210613100849422">
	</a>
	
	<figcaption>image-20210613100849422</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">å¦‚ä½•ç¡®å®šæ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½ ï¼Œè¿˜æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½
</span></span><span class="line"><span class="cl">-v å®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯åŒ¿åæŒ‚è½½
</span></span><span class="line"><span class="cl">-v å·åï¼šå®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯å…·åæŒ‚è½½
</span></span><span class="line"><span class="cl">-v /å®¿ä¸»æœºè·¯å¾„ï¼š/å®¹å™¨å†…è·¯å¾„ è¿™å°±æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½
</span></span><span class="line"><span class="cl">æ‹“å±•ï¼š
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">é€šè¿‡ -v å®¹å™¨å†…è·¯å¾„ï¼Œro ã€ rw æ”¹å˜è¯»å†™æƒé™
</span></span><span class="line"><span class="cl">docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx:ro nginx
</span></span><span class="line"><span class="cl">docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx:rw nginx
</span></span><span class="line"><span class="cl">åªè¯»ro <span class="nb">readonly</span>
</span></span><span class="line"><span class="cl">å¯è¯»å¯å†™rw readwrite
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸€æ—¦è®¾ç½®äº†ro å®¹å™¨å¯¹æˆ‘ä»¬æŒ‚è½½å‡ºæ¥çš„å†…å®¹å°±æœ‰é™å®šäº†ï¼
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">roåªè¦çœ‹åˆ°roï¼Œå°±è¯´æ˜è¿™ä¸ªè·¯å¾„åªèƒ½é€šè¿‡å®¿ä¸»æœºæ¥æ“ä½œï¼Œå®¹å™¨å†…éƒ¨æ˜¯æ— æ³•æ“ä½œçš„
</span></span></code></pre></div><p>åˆè¯†dockerfile</p>
<p>æ–¹å¼äºŒï¼š</p>
<p>dockerfileå°±æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼å‘½ä»¤è„šæœ¬ï¼å…ˆä½“éªŒä¸€ä¸‹ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ctrl+U åˆ é™¤å½“å‰å‘½ä»¤
</span></span><span class="line"><span class="cl">mkdir ç”Ÿæˆæ–‡ä»¶å¤¹
</span></span><span class="line"><span class="cl">rm -rf æ–‡ä»¶å¤¹åå­— å¼ºåˆ¶åˆ é™¤æ–‡ä»¶å¤¹åå­—
</span></span><span class="line"><span class="cl"><span class="nb">pwd</span>  æŸ¥çœ‹å½“å‰åœ¨é‚£ä¸ªç›®å½•ä¸­
</span></span><span class="line"><span class="cl">è¿›å…¥æ–‡ä»¶å esc å†ï¼šwqå°±æ˜¯ä¿å­˜å¹¶é€€å‡º
</span></span><span class="line"><span class="cl">vim ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨è¿›å…¥æ–‡ä»¶
</span></span><span class="line"><span class="cl">aåå°±å¯ä»¥ç¼–è¾‘
</span></span><span class="line"><span class="cl">é€šè¿‡è„šæœ¬å¯ä»¥ç”Ÿæˆé•œåƒï¼Œé•œåƒæ˜¯ä¸€å±‚ä¸€å±‚çš„ 
</span></span><span class="line"><span class="cl">touch åˆ›å»ºä¸€ä¸ªæ–‡ä»¶
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##åˆ›å»ºä¸€ä¸ªdockerfileæ–‡ä»¶ï¼Œåå­—å¯ä»¥éšæœºï¼Œå»ºè®® dockerfile</span>
</span></span><span class="line"><span class="cl"><span class="c1">##æ–‡ä»¶ä¸­çš„å†…å®¹ æŒ‡ä»¤éƒ½æ˜¯å¤§å†™  å‚æ•°</span>
</span></span><span class="line"><span class="cl"><span class="c1">##è¿™é‡Œçš„æ¯ä¸ªå‘½ä»¤ï¼Œéƒ½æ˜¯é•œåƒçš„ä¸€å±‚</span>
</span></span><span class="line"><span class="cl">FROM centos
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">VOLUME<span class="o">[</span><span class="s2">&#34;volume01&#34;</span>,<span class="s2">&#34;volume02&#34;</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">CMD <span class="nb">echo</span> <span class="s2">&#34;-----end-----&#34;</span>
</span></span><span class="line"><span class="cl">CMD /bin/bash
</span></span><span class="line"><span class="cl">å¥½åƒè¦ç©ºè¡Œï¼ï¼ï¼ï¼
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">é€šè¿‡dockerfile å»æ„å»ºé•œåƒ
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/docker-test-volume# docker build -f /home/docker-test-volume/dockerfile1 -t kuangshen/centos:1.0 .
</span></span></code></pre></div><p>å¯åŠ¨ä¸€ä¸‹è‡ªå·±çš„ç”Ÿæˆçš„å®¹å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker images
</span></span><span class="line"><span class="cl">REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="line"><span class="cl">tomcatupdate             1.0                 ee149e8cdc20        <span class="m">5</span> hours ago         672MB
</span></span><span class="line"><span class="cl">portainer/portainer-ce   latest              45be17a5903a        <span class="m">2</span> weeks ago         209MB
</span></span><span class="line"><span class="cl">nginx                    latest              d1a364dc548d        <span class="m">2</span> weeks ago         133MB
</span></span><span class="line"><span class="cl">tomcat                   latest              c43a65faae57        <span class="m">4</span> weeks ago         667MB
</span></span><span class="line"><span class="cl">mysql                    latest              c0cdc95609f1        <span class="m">4</span> weeks ago         556MB
</span></span><span class="line"><span class="cl">portainer/portainer      latest              580c0e4e98b0        <span class="m">2</span> months ago        79.1MB
</span></span><span class="line"><span class="cl">kuangshen/centos         1.0                 f75a47123694        <span class="m">6</span> months ago        209MB
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker run -it f75a47123694 /bin/bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä½†æ˜¯è¿™ä¸ªåœ°æ–¹æŠ¥é”™äº†ï¼Œå¥½è±¡æ˜¯è¯´ç°åœ¨çš„destination ä¸èƒ½ä¸ºç›¸å¯¹è·¯å¾„ 
</span></span><span class="line"><span class="cl">docker: Error response from daemon: OCI runtime create failed: invalid mount <span class="o">{</span>Destination:volume01 Type:bind Source:/var/lib/docker/volumes/67cb8e440bfc475a6b8e0f091779f2c56fed443d1ca4e6edd10ca37f37d09e05/_data Options:<span class="o">[</span>rbind<span class="o">]}</span>: mount destination volume01 not absolute: unknown.
</span></span><span class="line"><span class="cl">ERRO<span class="o">[</span>0000<span class="o">]</span> error waiting <span class="k">for</span> container: context canceled
</span></span></code></pre></div><p>æŸ¥çœ‹ä¸€ä¸‹å·æŒ‚è½½çš„è·¯å¾„</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613192809990.png" >
		<img src="/DockerLearning.assets/image-20210613192809990.png"
			
			
			
			loading="lazy"
			alt="image-20210613192809990">
	</a>
	
	<figcaption>image-20210613192809990</figcaption>
	
</figure></p>
<p>æµ‹è¯•ä¸€ä¸‹åˆšæ‰çš„æ–‡ä»¶æ˜¯å¦åŒæ­¥å‡ºå»äº†ï¼Œå¯ä»¥åœ¨å·é‡Œå†™ä¸ªæ–‡ä»¶ï¼Œåœ¨å®¿ä¸»æœºçš„æŒ‚è½½ä½ç½®å¤„æŸ¥çœ‹æ˜¯å¦æœ‰è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥è¾£</p>
<p>è¿™ç§æ–¹å¼æˆ‘ä»¬æœªæ¥ä½¿ç”¨çš„ååˆ†å¤šï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸ä¼šæ„å»ºè‡ªå·±çš„é•œåƒï¼</p>
<p>å‡è®¾æ„å»ºé•œåƒçš„æ—¶å€™æ²¡æœ‰æŒ‚è½½å·ï¼Œè¦æ‰‹åŠ¨é•œåƒæŒ‚è½½ -vå·åï¼šå®¹å™¨å†…è·¯å¾„</p>
<p>æ•°æ®å·å®¹å™¨ï¼šå¤šä¸ªå®¹å™¨ä¹‹é—´åŒæ­¥æ•°æ®</p>
<p>ä¸¤ä¸ªmysqlåŒæ­¥æ•°æ®ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ä¸»ä»å¤åˆ¶ä¹‹ç±»çš„å°±å¯èƒ½ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯
</span></span><span class="line"><span class="cl">ä½¿ç”¨ --volumes-from
</span></span><span class="line"><span class="cl">docker run -it --name docker02 --volumes-from docker01 centos
</span></span><span class="line"><span class="cl">docker run -it --name docker03 --volumes-from docker01 centos
</span></span><span class="line"><span class="cl">å¾ˆåƒç»§æ‰¿
</span></span><span class="line"><span class="cl">å¯åŠ¨3ä¸ªå®¹å™¨ï¼Œé€šè¿‡æˆ‘ä»¬åˆšæ‰è‡ªå·±å†™çš„é•œåƒå¯åŠ¨
</span></span></code></pre></div><p>å¯åŠ¨å®Œäº†å°±æµ‹è¯•ï¼Œæµ‹è¯•çš„æ—¶å€™åœ¨ä¸»docker01ä¸­åˆ›å»ºæ–‡ä»¶çœ‹çœ‹docker0203ä¸­ä¼šä¸ä¼šæœ‰å°±å¥½äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker ps
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span><span class="line"><span class="cl">dfb328e8f37f        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">3</span> minutes ago       Up <span class="m">2</span> minutes                            docker03
</span></span><span class="line"><span class="cl">5787d6ea92e4        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">5</span> minutes ago       Up <span class="m">3</span> minutes                            docker02
</span></span><span class="line"><span class="cl">c8ba46a34155        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">13</span> minutes ago      Up <span class="m">12</span> minutes                           docker01
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker attach c8ba46a34155
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># cd bin</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 bin<span class="o">]</span><span class="c1"># cd bash</span>
</span></span><span class="line"><span class="cl">bash: cd: bash: Not a directory
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 bin<span class="o">]</span><span class="c1"># cd ..</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># mkdir ceshi</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">bin  ceshi  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># cd ceshi</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1"># touch ceshi.java</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">ceshi.java
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1"># cd ..</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># cd ..</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span></code></pre></div><p>æ²¡é—®é¢˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">oot@yourtreedad:/# docker ps
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span><span class="line"><span class="cl">dfb328e8f37f        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">6</span> minutes ago       Up <span class="m">6</span> minutes                            docker03
</span></span><span class="line"><span class="cl">5787d6ea92e4        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">8</span> minutes ago       Up <span class="m">7</span> minutes                            docker02
</span></span><span class="line"><span class="cl">c8ba46a34155        centos              <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">17</span> minutes ago      Up <span class="m">41</span> seconds                           docker01
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker attach c8ba46a34155
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">bin  ceshi  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 /<span class="o">]</span><span class="c1"># cd ceshi</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">ceshi.java
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@c8ba46a34155 ceshi<span class="o">]</span><span class="c1">#</span>
</span></span></code></pre></div><p>é—®é¢˜ï¼šå¦‚æœdocker01 åˆ é™¤äº†ï¼Œé‚£ä¹ˆæ•°æ®è¿˜æœ‰åœ¨docker02å’Œdocker03ä¸Šæœ‰å—</p>
<p>æœ‰çš„ï¼Œå®ƒæ˜¯ä¸€ç§æ‹·è´çš„æ¦‚å¿µ ï¼Œå¯èƒ½æ˜¯é“¾æ¥å§</p>
<p>ç»“è®ºï¼šå®¹å™¨ä¹‹é—´é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ä¸ºæ­¢</p>
<p>ä½†æ˜¯ä¸€æ—¦ä½ æŒä¹…åŒ–åˆ°äº†æœ¬åœ°ï¼Œé‚£ä¹ˆæ•°æ®å°±å¯ä»¥æŒä¹…åŒ–ä¿å­˜äº†ï¼Œæœ¬åœ°çš„æ•°æ®æ˜¯ä¸ä¼šåˆ é™¤çš„</p>
<p>dockerfile</p>
<p>dockerfileæ ¸å¿ƒæ˜¯ç”¨æ¥æ„å»ºdocker images çš„æ–‡ä»¶ï¼å‘½ä»¤å‚æ•°è„šæœ¬ï¼</p>
<p>æ„å»ºæ­¥éª¤ï¼š</p>
<p>1.ç¼–å†™ä¸€ä¸ªdockerfileæ–‡ä»¶</p>
<p>2.docker build æ„å»ºä¸€ä¸ªé•œåƒ</p>
<p>3.docker run è¿è¡Œé•œåƒ</p>
<p>4.docker push å‘å¸ƒé•œåƒï¼ˆdockerhub ã€ é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼‰</p>
<p>æŸ¥çœ‹ä¸€ä¸‹å®˜æ–¹æ˜¯æ€ä¹ˆåšçš„</p>
<p>å¾ˆå¤šå®˜æ–¹é•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼Œå¾ˆå¤šåŠŸèƒ½æ²¡æœ‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè‡ªå·±æ­å»ºè‡ªå·±çš„é•œåƒï¼</p>
<p>å®˜æ–¹æ—¢ç„¶å¯ä»¥åˆ¶ä½œé•œåƒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ï¼</p>
<p>dockerfileæ„å»ºè¿‡ç¨‹</p>
<p>å¾ˆå¤šæŒ‡ä»¤ï¼š</p>
<p>åŸºç¡€çŸ¥è¯†ï¼š</p>
<p>1.æ¯ä¸ªä¿ç•™å…³é”®å­—ï¼ˆæŒ‡ä»¤ï¼‰ éƒ½å¿…é¡»æ˜¯å¤§å†™å­—æ¯</p>
<p>2.æ‰§è¡Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ</p>
<p>3.#è¡¨ç¤ºæ³¨é‡Š</p>
<p>4.æ¯ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤</p>
<p>dockerfile æ˜¯é¢å‘å¼€å‘çš„ï¼Œæˆ‘ä»¬ä»¥åè¦å‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒï¼Œå°±éœ€è¦ç¼–å†™dockerfileæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•</p>
<p>docker é•œåƒ ä¾‹å¦‚æ„å»ºä¸€ä¸ªspringboot å¾®æœåŠ¡ é•œåƒ</p>
<p>dockeré•œåƒä¸»é”®æˆä¸ºä¼ä¸šäº¤ä»˜çš„æ ‡å‡†ï¼Œå¿…é¡»è¦æŒæ¡</p>
<p>æ­¥éª¤ï¼šå¼€å‘è¿ç»´ä¸Šçº¿éƒ¨ç½²</p>
<p>dockerfileï¼šæ„å»ºæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤ï¼Œæºä»£ç </p>
<p>dockerimagesï¼šé€šè¿‡dockerfileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œè¿™å°±æ˜¯æœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“</p>
<p>dockercontainerï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡çš„</p>
<p>dockerfileçš„æŒ‡ä»¤ï¼š</p>
<p>ä»¥å‰çš„è¯æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨åˆ«äººçš„ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“äº†è¿™äº›æŒ‡ä»¤åï¼Œæˆ‘ä»¬æ¥ç»ƒä¹ è‡ªå·±å†™ä¸€ä¸ªé•œåƒï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">FROM åŸºç¡€é•œåƒ ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»º
</span></span><span class="line"><span class="cl">MAINTAINER é•œåƒæ˜¯è°å†™çš„ï¼Œæœ‰ä½ çš„å§“å+é‚®ç®±
</span></span><span class="line"><span class="cl">RUN dockeré•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤
</span></span><span class="line"><span class="cl">ADD  æ­¥éª¤ï¼štomcaté•œåƒï¼Œè¿™ä¸ªtomcatå‹ç¼©åŒ…å‘å®šè¦è¢«æ·»åŠ è¿›å»å˜›
</span></span><span class="line"><span class="cl">WORKDIR é•œåƒçš„å·¥ä½œç›®å½• 
</span></span><span class="line"><span class="cl">VOLUME å®¹å™¨å·ï¼Œè¦æŒ‚è½½çš„ç›®å½•
</span></span><span class="line"><span class="cl">EXPOSE æŒ‡å®šæš´éœ²ç«¯å£
</span></span><span class="line"><span class="cl">CMD æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£
</span></span><span class="line"><span class="cl">ENTRYPOINT æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ çš„å‘½ä»¤
</span></span><span class="line"><span class="cl">ONBUILD  å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„dockerfileæ—¶å€™ å°±ä¼šè¿è¡ŒonbuildæŒ‡ä»¤ï¼Œè§¦å‘æŒ‡ä»¤
</span></span><span class="line"><span class="cl">COPY ç±»ä¼¼ADD,å°†æˆ‘ä»¬çš„æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­
</span></span><span class="line"><span class="cl">ENV	æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡
</span></span></code></pre></div><p>å®æˆ˜æµ‹è¯•ï¼</p>
<p>docker hub ä¸­ 99% éƒ½æ˜¯ä»è¿™ä¸ªåŸºç¡€é•œåƒè¿‡æ¥çš„ FROM scratch ï¼Œ ç„¶åé…ç½®éœ€è¦çš„è½¯ä»¶å’Œé…ç½®æ¥è¿›è¡Œçš„æ„å»º</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613202655507.png" >
		<img src="/DockerLearning.assets/image-20210613202655507.png"
			
			
			
			loading="lazy"
			alt="image-20210613202655507">
	</a>
	
	<figcaption>image-20210613202655507</figcaption>
	
</figure></p>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„centos</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613203001901.png" >
		<img src="/DockerLearning.assets/image-20210613203001901.png"
			
			
			
			loading="lazy"
			alt="image-20210613203001901">
	</a>
	
	<figcaption>image-20210613203001901</figcaption>
	
</figure></p>
<p>é—®é¢˜ï¼švim clear ç­‰å‘½ä»¤éƒ½ä¸æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤é•œåƒçš„åŸºç¡€ä¸Šåœ¨åŠ ä¸€ç‚¹å®Œå–„ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.ç¼–å†™dockerdileçš„æ–‡ä»¶
</span></span><span class="line"><span class="cl">root@yourtreedad:/# <span class="nb">cd</span> home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# ls
</span></span><span class="line"><span class="cl">docker-test-volume  mysql  nginx  tomcat
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# mkdir dockerfile
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# ls
</span></span><span class="line"><span class="cl">docker-test-volume  dockerfile  mysql  nginx  tomcat
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# <span class="nb">cd</span> dockerfile
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/dockerfile# ls
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/dockerfile# vim mydockerfile
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/dockerfile# cat mydockerfile
</span></span><span class="line"><span class="cl">FROM centos
</span></span><span class="line"><span class="cl">MAINTAINER ljs&lt;1018814650@qq.com&gt;
</span></span><span class="line"><span class="cl">ENV MYPATH /uer/local
</span></span><span class="line"><span class="cl">WORKDIR <span class="nv">$MYPATH</span>
</span></span><span class="line"><span class="cl">RUN yum -y install vim
</span></span><span class="line"><span class="cl">RUN yum -y install clear
</span></span><span class="line"><span class="cl">RUM yum -y install net-tools
</span></span><span class="line"><span class="cl">EXPOSE <span class="m">80</span>
</span></span><span class="line"><span class="cl">CMD <span class="nb">echo</span> <span class="nv">$MYPATH</span>
</span></span><span class="line"><span class="cl">CMD <span class="nb">echo</span> <span class="s2">&#34;-----end-----&#34;</span>
</span></span><span class="line"><span class="cl">CMD /bin/bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/dockerfile#
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ„å»ºé•œåƒ
</span></span><span class="line"><span class="cl">docker build  -f dockerfileæ–‡ä»¶è·¯å¾„ -t é•œåƒåï¼š<span class="o">[</span>tag<span class="o">]</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/dockerfile# docker build -f mydockerfile -t mycentos:0.1 .
</span></span><span class="line"><span class="cl"><span class="o">[</span>+<span class="o">]</span> Building 2.2s <span class="o">(</span>8/8<span class="o">)</span> <span class="nv">FINISHED</span>
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load build definition from mydockerfile                                                                 0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; transferring dockerfile: 245B                                                                                   0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load .dockerignore                                                                                      0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; transferring context: 2B                                                                                        0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load metadata <span class="k">for</span> docker.io/library/centos:latest                                                       0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>1/4<span class="o">]</span> FROM docker.io/library/centos                                                                                0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>2/4<span class="o">]</span> WORKDIR /uer/local                                                                                    0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>3/4<span class="o">]</span> RUN yum -y install vim                                                                                0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>4/4<span class="o">]</span> RUN yum -y install net-tools                                                                                 1.8s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; exporting to image                                                                                                 0.3s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; exporting layers                                                                                                0.3s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; writing image sha256:2734e41a96b14a3e45a820363638a9f62dfd2c7d901757ea5e2a9ba25ababf50                           0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; naming to docker.io/library/mycentos:0.1	
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> 3.æµ‹è¯•
</span></span><span class="line"><span class="cl"> root@yourtreedad:/home/dockerfile# docker run -it --name mycentosdemo mycentos:0.1
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@51e42c44c78d local<span class="o">]</span><span class="c1"># pwd</span>
</span></span><span class="line"><span class="cl">/uer/local
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@51e42c44c78d local<span class="o">]</span><span class="c1"># ifconfig</span>
</span></span><span class="line"><span class="cl">eth0: <span class="nv">flags</span><span class="o">=</span>4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu <span class="m">1500</span>
</span></span><span class="line"><span class="cl">        inet 172.17.0.4  netmask 255.255.0.0  broadcast 172.17.255.255
</span></span><span class="line"><span class="cl">        ether 02:42:ac:11:00:04  txqueuelen <span class="m">0</span>  <span class="o">(</span>Ethernet<span class="o">)</span>
</span></span><span class="line"><span class="cl">        RX packets <span class="m">9</span>  bytes <span class="m">726</span> <span class="o">(</span>726.0 B<span class="o">)</span>
</span></span><span class="line"><span class="cl">        RX errors <span class="m">0</span>  dropped <span class="m">0</span>  overruns <span class="m">0</span>  frame <span class="m">0</span>
</span></span><span class="line"><span class="cl">        TX packets <span class="m">0</span>  bytes <span class="m">0</span> <span class="o">(</span>0.0 B<span class="o">)</span>
</span></span><span class="line"><span class="cl">        TX errors <span class="m">0</span>  dropped <span class="m">0</span> overruns <span class="m">0</span>  carrier <span class="m">0</span>  collisions <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">lo: <span class="nv">flags</span><span class="o">=</span>73&lt;UP,LOOPBACK,RUNNING&gt;  mtu <span class="m">65536</span>
</span></span><span class="line"><span class="cl">        inet 127.0.0.1  netmask 255.0.0.0
</span></span><span class="line"><span class="cl">        loop  txqueuelen <span class="m">1000</span>  <span class="o">(</span>Local Loopback<span class="o">)</span>
</span></span><span class="line"><span class="cl">        RX packets <span class="m">0</span>  bytes <span class="m">0</span> <span class="o">(</span>0.0 B<span class="o">)</span>
</span></span><span class="line"><span class="cl">        RX errors <span class="m">0</span>  dropped <span class="m">0</span>  overruns <span class="m">0</span>  frame <span class="m">0</span>
</span></span><span class="line"><span class="cl">        TX packets <span class="m">0</span>  bytes <span class="m">0</span> <span class="o">(</span>0.0 B<span class="o">)</span>
</span></span><span class="line"><span class="cl">        TX errors <span class="m">0</span>  dropped <span class="m">0</span> overruns <span class="m">0</span>  carrier <span class="m">0</span>  collisions <span class="m">0</span>
</span></span><span class="line"><span class="cl">        
</span></span></code></pre></div><p>å¯¹æ¯”:ä¹‹å‰çš„åŸç”Ÿçš„centosï¼Œå·¥ä½œç›®å½•é»˜è®¤æ ¹ç›®å½•ï¼Œæ²¡æœ‰vim ifconfig å‘½ä»¤</p>
<p>ç°åœ¨ï¼šåŸºäºåŸç”Ÿcentosï¼Œæ·»åŠ äº†è¿™äº›å‘½ä»¤</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ—å‡ºæœ¬åœ°é•œåƒçš„å˜æ›´å†å²</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker <span class="nb">history</span> imageId
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613204852480.png" >
		<img src="/DockerLearning.assets/image-20210613204852480.png"
			
			
			
			loading="lazy"
			alt="image-20210613204852480">
	</a>
	
	<figcaption>image-20210613204852480</figcaption>
	
</figure></p>
<p>æ‰€ä»¥æˆ‘ä»¬å¹³æ—¶æ‹¿åˆ°ä¸€ä¸ªé•œåƒï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹ä»–æ˜¯æ€ä¹ˆåšçš„äº†</p>
<p>CMD å’Œ ENTRYPOINT çš„åŒºåˆ«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">CMD  æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cmdçš„æƒ…å†µä¸‹ -l æ›¿æ¢äº†CMDçš„<span class="o">[</span><span class="s2">&#34;ls&#34;</span>,<span class="s2">&#34;-a&#34;</span><span class="o">]</span>å‘½ä»¤ï¼Œ-l ä¸æ˜¯å‘½ä»¤æ‰€ä»¥æŠ¥é”™
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ENTRYPOINT  æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ä½ ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613235037903.png" >
		<img src="/DockerLearning.assets/image-20210613235037903.png"
			
			
			
			loading="lazy"
			alt="image-20210613235037903">
	</a>
	
	<figcaption>image-20210613235037903</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613235823435.png" >
		<img src="/DockerLearning.assets/image-20210613235823435.png"
			
			
			
			loading="lazy"
			alt="image-20210613235823435">
	</a>
	
	<figcaption>image-20210613235823435</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210613235940096.png" >
		<img src="/DockerLearning.assets/image-20210613235940096.png"
			
			
			
			loading="lazy"
			alt="image-20210613235940096">
	</a>
	
	<figcaption>image-20210613235940096</figcaption>
	
</figure></p>
<p>ä¸ä¼šæ›¿æ¢äººå®¶çš„å‘½ä»¤</p>
<p>æˆ‘ä»¬çš„è¿½åŠ å‘½ä»¤ï¼Œæ˜¯ç›´æ¥å‡­å€Ÿåœ¨æˆ‘ä»¬çš„ENTRYPOINT å‘½ä»¤çš„åé¢ï¼</p>
<p>dockerfileä¸­å¾ˆå¤šå‘½ä»¤éƒ½ååˆ†ç›¸ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å¥¹ä»¬çš„åŒºåˆ«ï¼Œæˆ‘ä»¬æœ€å¥½çš„å­¦ä¹ å°±æ˜¯å¯¹æ¯”å¥¹ä»¬ç„¶åæµ‹è¯•æ•ˆæœ</p>
<p>å®æˆ˜ï¼š</p>
<p>tomcaté•œåƒ</p>
<p>1.å‡†å¤‡é•œåƒæ–‡ä»¶ tomcatå‹ç¼©è¡¨ï¼Œjdkçš„å‹ç¼©åŒ…ï¼</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614104621398.png" >
		<img src="/DockerLearning.assets/image-20210614104621398.png"
			
			
			
			loading="lazy"
			alt="image-20210614104621398">
	</a>
	
	<figcaption>image-20210614104621398</figcaption>
	
</figure></p>
<p>2.ç¼–å†™dockerfileæ–‡ä»¶ ï¼Œ å®˜æ–¹å‘½åDockerfile ï¼Œbuildä¼šè‡ªåŠ¨å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¸éœ€è¦-f æŒ‡å®šäº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen# cat Dockerfile
</span></span><span class="line"><span class="cl">FROM centos
</span></span><span class="line"><span class="cl">MAINTAINER ljs&lt;1018814650@qq.com&gt;
</span></span><span class="line"><span class="cl">COPY readme.txt /usr/local/readme.txt
</span></span><span class="line"><span class="cl">ADD jdk-8u291-linux-aarch64.tar.gz /usr/local/
</span></span><span class="line"><span class="cl">ADD apache-tomcat-9.0.46.tar.gz /usr/local/
</span></span><span class="line"><span class="cl">RUN yum -y install vim
</span></span><span class="line"><span class="cl">ENV MYPATH /usr/local
</span></span><span class="line"><span class="cl">WORKDIR <span class="nv">$MYPATH</span>
</span></span><span class="line"><span class="cl">ENV JAVA_HOME /usr/local/jdk1.8.0_291
</span></span><span class="line"><span class="cl">ENV CLASSPATH <span class="nv">$JAVA_HOME</span>/lib/dt.jar:<span class="nv">$JAVA_HOME</span>/lib/tools.jar
</span></span><span class="line"><span class="cl">ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.46
</span></span><span class="line"><span class="cl">ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.46
</span></span><span class="line"><span class="cl">ENV PATH <span class="nv">$PATH</span>:<span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$CATALINA_HOME</span>/lib:<span class="nv">$CATALINA_HOME</span>/bin
</span></span><span class="line"><span class="cl">EXPOSE <span class="m">8080</span>
</span></span><span class="line"><span class="cl">CMD /usr/local/apache-tomcat-9.0.46/bin/startup.sh <span class="o">&amp;&amp;</span> tail -F /usr/local/apache-tomcat-9.0.46/bin/logs/catalina.out
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen#
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614112215796.png" >
		<img src="/DockerLearning.assets/image-20210614112215796.png"
			
			
			
			loading="lazy"
			alt="image-20210614112215796">
	</a>
	
	<figcaption>image-20210614112215796</figcaption>
	
</figure></p>
<p>3.æ„å»ºé•œåƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614110353773.png" >
		<img src="/DockerLearning.assets/image-20210614110353773.png"
			
			
			
			loading="lazy"
			alt="image-20210614110353773">
	</a>
	
	<figcaption>image-20210614110353773</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen# docker build -f Dockerfile -t diytomcat .
</span></span><span class="line"><span class="cl"><span class="o">[</span>+<span class="o">]</span> Building 0.1s <span class="o">(</span>11/11<span class="o">)</span> <span class="nv">FINISHED</span>
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load build definition from Dockerfile                                                               0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; transferring dockerfile: 670B                                                                               0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load .dockerignore                                                                                  0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; transferring context: 2B                                                                                    0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load metadata <span class="k">for</span> docker.io/library/centos:latest                                                   0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>1/6<span class="o">]</span> FROM docker.io/library/centos                                                                            0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">[</span>internal<span class="o">]</span> load build context                                                                                  0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; transferring context: 130B                                                                                  0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>2/6<span class="o">]</span> COPY readme.txt /usr/local/readme.txt                                                             0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>3/6<span class="o">]</span> ADD jdk-8u291-linux-aarch64.tar.gz /usr/local/                                                    0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>4/6<span class="o">]</span> ADD apache-tomcat-9.0.46.tar.gz /usr/local/                                                       0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>5/6<span class="o">]</span> RUN yum -y install vim                                                                            0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; CACHED <span class="o">[</span>6/6<span class="o">]</span> WORKDIR /usr/local                                                                                0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; exporting to image                                                                                             0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; exporting layers                                                                                            0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; writing image sha256:d65fc7234bf254fb93a262a640dcfb543b6f4780fa36ef881bb9992d9705359f                       0.0s
</span></span><span class="line"><span class="cl"> <span class="o">=</span>&gt; <span class="o">=</span>&gt; naming to docker.io/library/diytomcat
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">å¯åŠ¨å®¹å™¨ åˆ†é…ç«¯å£ ä½¿ç”¨æŒ‚è½½ æŒ‡å®šé•œåƒ
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen# docker run -d -p 9090:8080 --name kuangshendiytomcat -v /home/kuangshen/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/kuangshen/build/tomcat/tomcatlogs:/usr/local/apache-tomcat-9.0.46/logs diytomcat:1.0
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614110934343.png" >
		<img src="/DockerLearning.assets/image-20210614110934343.png"
			
			
			
			loading="lazy"
			alt="image-20210614110934343">
	</a>
	
	<figcaption>image-20210614110934343</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen# docker images
</span></span><span class="line"><span class="cl">REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="line"><span class="cl">diytomcat                latest              d65fc7234bf2        <span class="m">4</span> hours ago         464MB
</span></span><span class="line"><span class="cl">mycentos                 0.1                 2734e41a96b1        <span class="m">20</span> hours ago        284MB
</span></span><span class="line"><span class="cl">tomcatupdate             1.0                 ee149e8cdc20        <span class="m">28</span> hours ago        672MB
</span></span><span class="line"><span class="cl">portainer/portainer-ce   latest              45be17a5903a        <span class="m">2</span> weeks ago         209MB
</span></span><span class="line"><span class="cl">nginx                    latest              d1a364dc548d        <span class="m">2</span> weeks ago         133MB
</span></span><span class="line"><span class="cl">tomcat                   latest              c43a65faae57        <span class="m">4</span> weeks ago         667MB
</span></span><span class="line"><span class="cl">mysql                    latest              c0cdc95609f1        <span class="m">4</span> weeks ago         556MB
</span></span><span class="line"><span class="cl">portainer/portainer      latest              580c0e4e98b0        <span class="m">2</span> months ago        79.1MB
</span></span><span class="line"><span class="cl">mycentosentrypointtest   1.0                 5198b187e833        <span class="m">6</span> months ago        209MB
</span></span><span class="line"><span class="cl">mycentostest             1.0                 be8cf7de8763        <span class="m">6</span> months ago        209MB
</span></span><span class="line"><span class="cl">kuangshen/centos         1.0                 f75a47123694        <span class="m">6</span> months ago        209MB
</span></span><span class="line"><span class="cl">centos                   latest              300e315adb2f        <span class="m">6</span> months ago        209MB
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen# docker run --name diytomcat01 -d -p 9090:8080 -v /home/kuangshen/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/kuangshen/build/tomcat/tomcatlogs:/usr/local/apache-tomcat-9.0.46/logs diytomcat
</span></span><span class="line"><span class="cl">174cd08dab23fce852cae1ac5e721c985b377d1ff85a1e769384cb9dd369bde0
</span></span></code></pre></div><p>è¿›å…¥å®¹å™¨æŸ¥çœ‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/kuangshen/build/tomcat# docker <span class="nb">exec</span> -it c7cff52b8760  /bin/bash
</span></span><span class="line"><span class="cl">è¿™é‡Œçš„bin/bashå°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°æˆ‘ä»¬è®¾å®šå¥½çš„usr/localç›®å½•ä¹‹ä¸‹
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614111326218.png" >
		<img src="/DockerLearning.assets/image-20210614111326218.png"
			
			
			
			loading="lazy"
			alt="image-20210614111326218">
	</a>
	
	<figcaption>image-20210614111326218</figcaption>
	
</figure></p>
<p>4.å¯åŠ¨é•œåƒ</p>
<p>5.è®¿é—®æµ‹è¯•</p>
<p>6.å‘å¸ƒé¡¹ç›®ï¼ˆç”±äºåšäº†å·æŒ‚è½½ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æœ¬åœ°ç¼–å†™é¡¹ç›®å°±å¯ä»¥ç›´æ¥å‘å¸ƒäº†ï¼ï¼‰</p>
<p>å‘ç°é¡¹ç›®éƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼</p>
<p>æˆ‘ä»¬ä»¥åå¼€å‘çš„æ­¥éª¤ï¼šéœ€è¦æŒæ¡dockerfileçš„ç¼–å†™ï¼æˆ‘ä»¬ä¹‹åçš„ä¸€åˆ‡éƒ½æ˜¯ä½¿ç”¨dockeré•œåƒæ¥å‘å¸ƒè¿è¡Œï¼ï¼ï¼</p>
<p>å‘å¸ƒé•œåƒ</p>
<p>dockerhub</p>
<p>1.åœ°å€ æ³¨å†Œè‡ªå·±çš„è´¦å·</p>
<p>2.ç¡®å®šè¿™ä¸ªè´¦å·å¯ä»¥ç™»é™†</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614162522282.png" >
		<img src="/DockerLearning.assets/image-20210614162522282.png"
			
			
			
			loading="lazy"
			alt="image-20210614162522282">
	</a>
	
	<figcaption>image-20210614162522282</figcaption>
	
</figure></p>
<p>3.åœ¨æœåŠ¡å™¨ä¸Šæäº¤è‡ªå·±çš„é•œåƒ</p>
<p>åœ¨æ­¤ä¹‹å‰éœ€è¦æ‰“tag</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker tag --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:  docker tag SOURCE_IMAGE<span class="o">[</span>:TAG<span class="o">]</span> TARGET_IMAGE<span class="o">[</span>:TAG<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker tag tomcatupdate:1.0 yourtreedad/tomcatupdate:2.0
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614165331722.png" >
		<img src="/DockerLearning.assets/image-20210614165331722.png"
			
			
			
			loading="lazy"
			alt="image-20210614165331722">
	</a>
	
	<figcaption>image-20210614165331722</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker push yourtreedad/tomcateupdatehub:1.0
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614165502602.png" >
		<img src="/DockerLearning.assets/image-20210614165502602.png"
			
			
			
			loading="lazy"
			alt="image-20210614165502602">
	</a>
	
	<figcaption>image-20210614165502602</figcaption>
	
</figure></p>
<p>æäº¤çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰ç…§é•œåƒçš„å±‚çº§ä¸€å±‚ä¸€å±‚æäº¤çš„</p>
<p>å¯ä»¥å‘å¸ƒåˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸Šå˜»å˜»</p>
<p>1.ç™»é™†é˜¿é‡Œäº‘</p>
<p>2.æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡</p>
<p>3.åˆ›å»ºå‘½åç©ºé—´  ä¸ºäº†éš”ç¦»</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614170103181.png" >
		<img src="/DockerLearning.assets/image-20210614170103181.png"
			
			
			
			loading="lazy"
			alt="image-20210614170103181">
	</a>
	
	<figcaption>image-20210614170103181</figcaption>
	
</figure></p>
<p>4.åˆ›å»ºå®¹å™¨é•œåƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614170213918.png" >
		<img src="/DockerLearning.assets/image-20210614170213918.png"
			
			
			
			loading="lazy"
			alt="image-20210614170213918">
	</a>
	
	<figcaption>image-20210614170213918</figcaption>
	
</figure></p>
<p>5.æµè§ˆé˜¿é‡Œäº‘</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614170251978.png" >
		<img src="/DockerLearning.assets/image-20210614170251978.png"
			
			
			
			loading="lazy"
			alt="image-20210614170251978">
	</a>
	
	<figcaption>image-20210614170251978</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker login --username<span class="o">=</span>æŠŠä¹¦æå‡ºæ¥ registry.cn-hangzhou.aliyuncs.com
</span></span><span class="line"><span class="cl">Password:
</span></span><span class="line"><span class="cl">Login Succeeded	
</span></span></code></pre></div><p>ç™»é™†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker tag ee149e8cdc20 registry.cn-hangzhou.aliyuncs.com/hfutie/yourtree-test:1.0
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614171742651.png" >
		<img src="/DockerLearning.assets/image-20210614171742651.png"
			
			
			
			loading="lazy"
			alt="image-20210614171742651">
	</a>
	
	<figcaption>image-20210614171742651</figcaption>
	
</figure></p>
<p>ä¸Šä¼ </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker push registry.cn-hangzhou.aliyuncs.com/hfutie/yourtree-test:1.0
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614171949041.png" >
		<img src="/DockerLearning.assets/image-20210614171949041.png"
			
			
			
			loading="lazy"
			alt="image-20210614171949041">
	</a>
	
	<figcaption>image-20210614171949041</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614172425553.png" >
		<img src="/DockerLearning.assets/image-20210614172425553.png"
			
			
			
			loading="lazy"
			alt="image-20210614172425553">
	</a>
	
	<figcaption>image-20210614172425553</figcaption>
	
</figure></p>
<p>dockerå°ç»“</p>
<p>dockerfile build</p>
<p>images tagã€run/push/pull/save/load</p>
<p>containers stop/kill/start/restart/commit</p>
<p>dockerrepository</p>
<p>backup.tar</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614172933295.png" >
		<img src="/DockerLearning.assets/image-20210614172933295.png"
			
			
			
			loading="lazy"
			alt="image-20210614172933295">
	</a>
	
	<figcaption>image-20210614172933295</figcaption>
	
</figure></p>
<p>ç²¾é€šçš„è¯éœ€è¦å­¦ä¼šdockerç½‘ç»œï¼ˆé“ºå«ã€å®¹å™¨ç¼–æ’ã€é›†ç¾¤éƒ¨ç½²ï¼‰</p>
<p>dockerç½‘ç»œ</p>
<p>ç†è§£dockerç½‘ç»œ docker0</p>
<p>æ¸…ç©ºæ‰€æœ‰ç¯å¢ƒ</p>
<p>æµ‹è¯•</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614185814918.png" >
		<img src="/DockerLearning.assets/image-20210614185814918.png"
			
			
			
			loading="lazy"
			alt="image-20210614185814918">
	</a>
	
	<figcaption>image-20210614185814918</figcaption>
	
</figure></p>
<p>å¥½å¤šä¸ªç½‘ç»œï¼Œdockeræ˜¯å¦‚ä½•å¤„ç†å®¹å™¨ç½‘ç»œè®¿é—®çš„ï¼Ÿ</p>
<p>ESä¹‹å‰çš„é—®é¢˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker run -d -P --name tomcat01 tomcat
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">æŸ¥çœ‹å®¹å™¨çš„å†…éƒ¨ç½‘ç»œåœ°å€ ip addr,å‘ç°å®¹å™¨å¯åŠ¨çš„æ—¶å€™ä¼šå¾—åˆ°ä¸€ä¸ªeth0@if22 ipåœ°å€ï¼Œdockeråˆ†é…çš„
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat01 ip addr
</span></span><span class="line"><span class="cl">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="m">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
</span></span><span class="line"><span class="cl">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span></span><span class="line"><span class="cl">    inet 127.0.0.1/8 scope host lo
</span></span><span class="line"><span class="cl">       valid_lft forever preferred_lft forever
</span></span><span class="line"><span class="cl">2: sit0@NONE: &lt;NOARP&gt; mtu <span class="m">1480</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
</span></span><span class="line"><span class="cl">    link/sit 0.0.0.0 brd 0.0.0.0
</span></span><span class="line"><span class="cl">21: eth0@if22: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc noqueue state UP group default
</span></span><span class="line"><span class="cl">    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="m">0</span>
</span></span><span class="line"><span class="cl">    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0
</span></span><span class="line"><span class="cl">       valid_lft forever preferred_lft forever
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">å‘ç°windowså¥½åƒpingä¸é€šå•Š  
</span></span><span class="line"><span class="cl">linuxå¯ä»¥pingé€š dockerå®¹å™¨å†…éƒ¨
</span></span></code></pre></div><p>åŸç†</p>
<p>192.168.0.1è·¯ç”±å™¨</p>
<p>192.168.0.3 åŒä¸€ä¸ªç½‘æ®µæ˜¯èƒ½pingé€šçš„</p>
<p>1.æˆ‘ä»¬æ¯å®‰è£…ä¸€ä¸ªdockerå®¹å™¨ ï¼Œ dockerå°±ä¼šç»™dockerå®¹å™¨åˆ†é…ä¸€ä¸ªipï¼Œæˆ‘ä»¬åªè¦å®‰è£…äº†dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç½‘å¡docker0ï¼Œï¼ˆwindows for dockerå¥½åƒå’©æœ‰ï¼‰ ï¼Œ æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨çš„æŠ€æœ¯æ˜¯evth-pairæŠ€æœ¯ï¼</p>
<p>å†æ¬¡æµ‹è¯• ip addrä¹‹å</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614190941605.png" >
		<img src="/DockerLearning.assets/image-20210614190941605.png"
			
			
			
			loading="lazy"
			alt="image-20210614190941605">
	</a>
	
	<figcaption>image-20210614190941605</figcaption>
	
</figure></p>
<p>ç½‘è¯¾é‡Œè¯´çš„æ˜¯åˆå¤šäº†ä¸€ä¸ªï¼Œä½†windowsä¸­æ²¡æœ‰å‘ç°</p>
<p>2.åœ¨å¯åŠ¨ä¸€ä¸ªå®¹å™¨æµ‹è¯•</p>
<p>ç½‘è¯¾é‡Œè¯´çš„æ˜¯åˆå¤šäº†ä¸€ä¸ªï¼Œä½†windowsä¸­æ²¡æœ‰</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614191119464.png" >
		<img src="/DockerLearning.assets/image-20210614191119464.png"
			
			
			
			loading="lazy"
			alt="image-20210614191119464">
	</a>
	
	<figcaption>image-20210614191119464</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æˆ‘ä»¬å‘ç°è¿™ä¸ªå®¹å™¨å¸¦æ¥çš„ç½‘å¡ï¼Œéƒ½æ˜¯ä¸€å¯¹ä¸€å¯¹çš„
</span></span><span class="line"><span class="cl">veth-pair å°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œå¥¹ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸€ç«¯è¿ç€åè®®ï¼Œä¸€ç«¯å½¼æ­¤ç›¸è¿
</span></span><span class="line"><span class="cl">æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§ æˆ‘ä»¬å°±ä½¿ç”¨veth-pair å……å½“ä¸€ä¸ªæ¡¥æ¢ï¼Œè¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„
</span></span><span class="line"><span class="cl">OpenStacï¼ŒDockerå®¹å™¨ä¹‹é—´çš„é“¾æ¥ï¼ŒOVSçš„è¿æ¥ï¼Œéƒ½æ˜¯ä½¿ç”¨ veth-pairæŠ€æœ¯
</span></span></code></pre></div><p>3.æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹tomca01 å’Œ tomcat02 æ˜¯å¦å¯ä»¥pingé€š</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614194957533.png" >
		<img src="/DockerLearning.assets/image-20210614194957533.png"
			
			
			
			loading="lazy"
			alt="image-20210614194957533">
	</a>
	
	<figcaption>image-20210614194957533</figcaption>
	
</figure></p>
<p>åœ¨linuxä¸­ï¼Œtomcat01å’Œå®¿ä¸»æœºå’Œtomcat02å¯ä»¥ç›¸äº’pingé€š</p>
<p>åœ¨windows for dockerä¸­ï¼Œtomcat01å’Œtomcat02å¯ä»¥é€šï¼Œä½†æ˜¯ä¸èƒ½å’Œå®¿ä¸»æœºpingé€š</p>
<p>ç»“è®ºï¼šå®¹å™¨å’Œå®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥äº’ç›¸pingé€šçš„</p>
<p>åœ¨linuxä¸­ï¼Œtomcat01å’Œtomcat02æ˜¯å…±ç”¨çš„ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå³docker0</p>
<p>æ‰€æœ‰çš„å®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯docker0è·¯ç”±çš„ï¼Œdockerä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨IP</p>
<p>0-255  A   B   C</p>
<p>255.255.0.1/16  åŸŸ</p>
<p>00000000.00000000.00000000.00000000</p>
<blockquote>
<p>å°ç»“</p>
</blockquote>
<p>dockerä½¿ç”¨çš„æ˜¯linuxæ¡¥æ¥ï¼Œå®¿ä¸»æœºä¸­æ˜¯ä¸€ä¸ªdockerå®¹å™¨çš„ç½‘æ¡¥ï¼Œdocker0</p>
<p>dockerä¸­çš„æ‰€æœ‰çš„ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œè™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼å†…ç½‘ä¼ é€’æ–‡ä»¶ï¼</p>
<p>åªè¦å®¹å™¨åˆ é™¤äº†ï¼Œå¯¹åº”çš„ç½‘æ¡¥å°±æ²¡äº†</p>
<p>&ndash;link</p>
<blockquote>
<p>æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œdatabase url = ipï¼š</p>
</blockquote>
<p>é¡¹ç›®ä¸é‡å¯ï¼Œæ•°æ®åº“ipæ¢æ‰äº†ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åå­—æ¥è¿›è¡Œè®¿é—®å®¹å™¨ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ç›´æ¥pingæœåŠ¡åæ˜¯ä¸è¡Œçš„
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat02 ping tomcat01
</span></span><span class="line"><span class="cl">ping: tomcat01: Name or service not known
</span></span><span class="line"><span class="cl">è§£å†³ï¼Ÿ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">é€šè¿‡--link å°±å¯ä»¥è§£å†³äº†ç½‘ç»œè¿é€š
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d --name tomcat03 --link tomcat02 tomcat
</span></span><span class="line"><span class="cl">832afb5618b02262a5f9cbe48072941cc4784c009d0f91962b371c218afa31c0
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat02 ping tomcat03
</span></span><span class="line"><span class="cl">ping: tomcat03: Name or service not known
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat03 ping tomcat02
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614200734188.png" >
		<img src="/DockerLearning.assets/image-20210614200734188.png"
			
			
			
			loading="lazy"
			alt="image-20210614200734188">
	</a>
	
	<figcaption>image-20210614200734188</figcaption>
	
</figure></p>
<p>é»˜è®¤ç½‘å…³docker0 ï¼Œå°±æ˜¯è¿™é‡Œçš„172.17.0.1</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614201015974.png" >
		<img src="/DockerLearning.assets/image-20210614201015974.png"
			
			
			
			loading="lazy"
			alt="image-20210614201015974">
	</a>
	
	<figcaption>image-20210614201015974</figcaption>
	
</figure></p>
<p>æ¢ç©¶ï¼šinspect å®¹å™¨id</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614201318560.png" >
		<img src="/DockerLearning.assets/image-20210614201318560.png"
			
			
			
			loading="lazy"
			alt="image-20210614201318560">
	</a>
	
	<figcaption>image-20210614201318560</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">linkçš„æœ¬è´¨
</span></span><span class="line"><span class="cl">æŸ¥çœ‹hostsé…ç½®ï¼Œåœ¨è¿™é‡ŒåŸç†å‘ç°
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat03 cat /etc/hosts
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614201902916.png" >
		<img src="/DockerLearning.assets/image-20210614201902916.png"
			
			
			
			loading="lazy"
			alt="image-20210614201902916">
	</a>
	
	<figcaption>image-20210614201902916</figcaption>
	
</figure></p>
<p>&ndash;link å°±æ˜¯æˆ‘ä»¬åœ¨hostsé…ç½®ä¸­ï¼Œå¢åŠ äº†ä¸€ä¸ª172.18.0.3 tomcat02 çš„æ˜ å°„</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614202018329.png" >
		<img src="/DockerLearning.assets/image-20210614202018329.png"
			
			
			
			loading="lazy"
			alt="image-20210614202018329">
	</a>
	
	<figcaption>image-20210614202018329</figcaption>
	
</figure></p>
<p>ç”±äº02æ²¡æœ‰ä½¿ç”¨&ndash;linkï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä½¿ç”¨ æœåŠ¡åå­—æ¥è·³è½¬</p>
<p>å®é™…ä¸Šå°±æ˜¯hostæ˜ å°„</p>
<p>æˆ‘ä»¬ç°åœ¨ä½¿ç”¨dockerå·²ç»ä¸å»ºè®®ä½¿ç”¨&ndash;linkäº†ï¼</p>
<p>éœ€è¦è‡ªå®šä¹‰ç½‘ç»œï¼ä¸é€‚ç”¨docker0ï¼</p>
<p>docker0é—®é¢˜ï¼šä»–ä¸æ”¯æŒå®¹å™¨åè¿æ¥è®¿é—®ï¼</p>
<p>è‡ªå®šä¹‰ç½‘ç»œ</p>
<p>å®¹å™¨äº’è”ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œ
</span></span><span class="line"><span class="cl">docker network ls
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614202322526.png" >
		<img src="/DockerLearning.assets/image-20210614202322526.png"
			
			
			
			loading="lazy"
			alt="image-20210614202322526">
	</a>
	
	<figcaption>image-20210614202322526</figcaption>
	
</figure></p>
<p>ç½‘ç»œæ¨¡å¼</p>
<p>bridge ç½‘ç»œæ¡¥æ¥æ¨¡å¼ æ­æ¡¥ï¼šï¼ˆé»˜è®¤ï¼Œè‡ªå·±åˆ›å»ºçš„æ¨èä½¿ç”¨bridgeæ¨¡å¼ï¼‰</p>
<p>none ï¼šä¸é…ç½®ç½‘ç»œ</p>
<p>hostï¼šå’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ</p>
<p>containerï¼šå®¹å™¨å†…ç½‘ç»œè¿é€šï¼ï¼ˆç”¨å¾—å°‘ï¼Œå±€é™å¾ˆå¤§ï¼‰</p>
<p>æµ‹è¯•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æˆ‘ä»¬ç›´æ¥å¯åŠ¨çš„å‘½ä»¤ é»˜è®¤ï¼Œè¿™ä¸ªæˆ‘ä»¬çœ‹äº†å°±æ˜¯æˆ‘ä»¬çš„docker0
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d -P --name tomcat01 --net bridge tomcat
</span></span><span class="line"><span class="cl">å®é™…ä¸Šä¸å†™--netä¹Ÿæ˜¯é»˜è®¤çš„
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker0 ç‰¹ç‚¹ï¼Œé»˜è®¤ï¼ŒåŸŸåä¸èƒ½è®¿é—® --link å¯ä»¥æ‰“é€šè¿æ¥ï¼
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç½‘ç»œï¼
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614202926510.png" >
		<img src="/DockerLearning.assets/image-20210614202926510.png"
			
			
			
			loading="lazy"
			alt="image-20210614202926510">
	</a>
	
	<figcaption>image-20210614202926510</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614203159484.png" >
		<img src="/DockerLearning.assets/image-20210614203159484.png"
			
			
			
			loading="lazy"
			alt="image-20210614203159484">
	</a>
	
	<figcaption>image-20210614203159484</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œ
</span></span><span class="line"><span class="cl">docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet 
</span></span><span class="line"><span class="cl">æ¡¥æ¥ã€å­ç½‘ã€ç½‘å…³è®¾ç½®
</span></span><span class="line"><span class="cl">æˆ‘ä»¬è‡ªå·±çš„ç½‘ç»œå°±åˆ›å»ºå¥½äº†ï¼
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614203427052.png" >
		<img src="/DockerLearning.assets/image-20210614203427052.png"
			
			
			
			loading="lazy"
			alt="image-20210614203427052">
	</a>
	
	<figcaption>image-20210614203427052</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ä½¿ç”¨è‡ªå·±æ„å»ºçš„ç½‘ç»œæ¥åˆ›å»ºå®¹å™¨ï¼Œå¡è¿›å»
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d -P --name tomcat-net-01 --net mynet tomcat
</span></span><span class="line"><span class="cl">8d24df7fb899de77db6b600aedbfacc32fdd161836dd638b56666ca2014ff5bf
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d -P --name tomcat-net-02 --net mynet tomcat
</span></span><span class="line"><span class="cl">eee0d29dbed8e780487fcc4bf93f1b3a9ab5ad8ffac194861a3c2ee948d8ea9e
</span></span><span class="line"><span class="cl">æŸ¥çœ‹ç½‘ç»œæƒ…å†µ
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker inspect mynet
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614203821209.png" >
		<img src="/DockerLearning.assets/image-20210614203821209.png"
			
			
			
			loading="lazy"
			alt="image-20210614203821209">
	</a>
	
	<figcaption>image-20210614203821209</figcaption>
	
</figure></p>
<p>çœ‹çœ‹èƒ½ä¸èƒ½pingé€š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ç°åœ¨ä¸ä½¿ç”¨ --linkä¹Ÿå¯ä»¥pingåå­—äº†ï¼
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat-net-01 ping 192.168.0.3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat-net-01 ping tomcat-net-02
</span></span></code></pre></div><p>æˆ‘ä»¬è‡ªå®šä¹‰çš„ç½‘ç»œdockeréƒ½å·²ç»å¸®æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”çš„å…³ç³»ï¼Œæ¨èæˆ‘ä»¬å¹³æ—¶è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614204033670.png" >
		<img src="/DockerLearning.assets/image-20210614204033670.png"
			
			
			
			loading="lazy"
			alt="image-20210614204033670">
	</a>
	
	<figcaption>image-20210614204033670</figcaption>
	
</figure></p>
<p>å¥½å¤„ï¼š</p>
<p>redis - ä¿è¯ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„ç½‘ç»œï¼Œä¿è¯é›†ç¾¤æ˜¯å®‰å…¨å’Œå¥åº·çš„</p>
<p>mysql</p>
<p>ç½‘ç»œè¿é€š</p>
<p>æ²¡æœ‰ç¡®ä¿ä¸¤ä¸ªé›†ç¾¤ç½‘ç»œè¿é€šçš„æƒ…å†µä¸‹ ï¼Œ ä¸¤ä¸ªå­ç½‘æ˜¯æ— æ³•ç›¸è¿çš„</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614204746483.png" >
		<img src="/DockerLearning.assets/image-20210614204746483.png"
			
			
			
			loading="lazy"
			alt="image-20210614204746483">
	</a>
	
	<figcaption>image-20210614204746483</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">æ„å»ºä¸¤ä¸ªtomcat ä½†æ˜¯é»˜è®¤æ˜¯docker0ç½‘ç»œä¸‹çš„
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d -P --name tomcat01 tomcat
</span></span><span class="line"><span class="cl">86e292de23f4c821375058608f49f6a5bbdcd0220a5c3e36999cafa86eb25f79
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker run -d -P --name tomcat02 tomcat
</span></span><span class="line"><span class="cl">e45223474886d4f490ed66446c2eb1b7809b273c5b104fde27301d9746f4ebf6
</span></span><span class="line"><span class="cl">è€Œtomcat-net-01æ˜¯åœ¨mynetä¸‹çš„ï¼Œæ‰€ä»¥è¿ä¸é€š
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat02 ping 192.168.0.3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸èƒ½è®©docker0å’Œmynetè¿é€šï¼Œè¿™æ ·ä¸å®‰å…¨ï¼Œè¦å•ç‹¬è®©tomcat01 å’Œmynetè¿é€š
</span></span><span class="line"><span class="cl">å¦‚ä½•æ“ä½œ
</span></span><span class="line"><span class="cl">docker network connect
</span></span><span class="line"><span class="cl">æµ‹è¯•æ‰“é€š tomcat01 åˆ° mynet
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614205014081.png" >
		<img src="/DockerLearning.assets/image-20210614205014081.png"
			
			
			
			loading="lazy"
			alt="image-20210614205014081">
	</a>
	
	<figcaption>image-20210614205014081</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:~# docker network connect mynet tomcat01
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker network inspect mynet
</span></span><span class="line"><span class="cl">è¿é€šä¹‹åå°±æ˜¯å°†tomcat01 æ”¾ç½®åˆ°äº† mynet ç½‘ç»œä¸‹ï¼Ÿ
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªipåœ°å€ï¼ é˜¿é‡Œäº‘æœåŠ¡ï¼Œå…¬ç½‘ip å’Œ ç§ç½‘ip
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614205144180.png" >
		<img src="/DockerLearning.assets/image-20210614205144180.png"
			
			
			
			loading="lazy"
			alt="image-20210614205144180">
	</a>
	
	<figcaption>image-20210614205144180</figcaption>
	
</figure></p>
<p>å†è¯•è¯•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:~# docker <span class="nb">exec</span> -it tomcat01 ping tomcat-net-01
</span></span></code></pre></div><p>0102å¥½åƒéƒ½å¯ä»¥æ‰“é€š</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210614205634156.png" >
		<img src="/DockerLearning.assets/image-20210614205634156.png"
			
			
			
			loading="lazy"
			alt="image-20210614205634156">
	</a>
	
	<figcaption>image-20210614205634156</figcaption>
	
</figure></p>
<p>ç»“è®ºï¼šå‡è®¾è¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨docker network connect è¿é€šï¼</p>
<p>å®æˆ˜ï¼šéƒ¨ç½²redisé›†ç¾¤</p>
<p>åˆ†ç‰‡+é«˜å¯ç”¨+è´Ÿè½½å‡è¡¡</p>
<p>shellè„šæœ¬å»ºç«‹ï¼</p>
<p>3ä¸»3ä»</p>
<p>1.å»ºç«‹ç½‘ç»œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker network create redisnet --subnet 172.38.0.0/16
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker network ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker network inspect redisnet
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617192710761.png" >
		<img src="/DockerLearning.assets/image-20210617192710761.png"
			
			
			
			loading="lazy"
			alt="image-20210617192710761">
	</a>
	
	<figcaption>image-20210617192710761</figcaption>
	
</figure></p>
<p>2.é€šè¿‡è„šæœ¬åˆ›å»ºå…­ä¸ªredisé…ç½®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# 
</span></span><span class="line"><span class="cl"><span class="k">for</span> port in <span class="k">$(</span>seq <span class="m">1</span> 6<span class="k">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl">mkdir -p /mydata/redis/node-<span class="si">${</span><span class="nv">port</span><span class="si">}</span>/conf
</span></span><span class="line"><span class="cl">touch /mydata/redis/node-<span class="si">${</span><span class="nv">port</span><span class="si">}</span>/conf/redis.conf
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF &gt;&gt;/mydata/redis/node-${port}/conf/redis.conf
</span></span></span><span class="line"><span class="cl"><span class="s">port 6379
</span></span></span><span class="line"><span class="cl"><span class="s">bind 0.0.0.0
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-enabled yes
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-config-file nodes.conf
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-node-timeout 5000
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-announce-ip 172.38.0.1${port}
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-announce-port 6379
</span></span></span><span class="line"><span class="cl"><span class="s">cluster-announce-bus-port 16379
</span></span></span><span class="line"><span class="cl"><span class="s">appendonly yes 
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617194321734.png" >
		<img src="/DockerLearning.assets/image-20210617194321734.png"
			
			
			
			loading="lazy"
			alt="image-20210617194321734">
	</a>
	
	<figcaption>image-20210617194321734</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617194434797.png" >
		<img src="/DockerLearning.assets/image-20210617194434797.png"
			
			
			
			loading="lazy"
			alt="image-20210617194434797">
	</a>
	
	<figcaption>image-20210617194434797</figcaption>
	
</figure></p>
<p>3.æ‹‰å–é•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼Œåˆ†é…ç«¯å£ï¼Œæ•°æ®å·æ˜ å°„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker run -p 6371:6379 -p 16371:16379 --name redis-1 -v /mydata/redis/node-1/data:/data -v /mydata/redis/node-1/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.11 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -p 6372:6379 -p 16372:16379 --name redis-2 -v /mydata/redis/node-2/data:/data -v /mydata/redis/node-2/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.12 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -p 6373:6379 -p 16373:16379 --name redis-3 -v /mydata/redis/node-3/data:/data -v /mydata/redis/node-3/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.13 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -p 6374:6379 -p 16374:16379 --name redis-4 -v /mydata/redis/node-4/data:/data -v /mydata/redis/node-4/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.14 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -p 6375:6379 -p 16375:16379 --name redis-5 -v /mydata/redis/node-5/data:/data -v /mydata/redis/node-5/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.15 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -p 6376:6379 -p 16376:16379 --name redis-6 -v /mydata/redis/node-6/data:/data -v /mydata/redis/node-6/conf/redis.conf:/etc/redis/redis.conf -d --net redisnet --ip 172.38.0.16 redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617200000188.png" >
		<img src="/DockerLearning.assets/image-20210617200000188.png"
			
			
			
			loading="lazy"
			alt="image-20210617200000188">
	</a>
	
	<figcaption>image-20210617200000188</figcaption>
	
</figure></p>
<p>è¿›å…¥å®¹å™¨å†…éƒ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker <span class="nb">exec</span> -it redis-1 /bin/sh
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617200316068.png" >
		<img src="/DockerLearning.assets/image-20210617200316068.png"
			
			
			
			loading="lazy"
			alt="image-20210617200316068">
	</a>
	
	<figcaption>image-20210617200316068</figcaption>
	
</figure></p>
<p>å»ºç«‹é›†ç¾¤ åˆ‡ç‰‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">/data <span class="c1"># redis-cli --cluster create 172.38.0.11:6379 172.38.0.12:6379 172.38.0.13:6379 172.38.0.14:6379 172.38.0.15:6379 172.38.0.16:6379 --clust</span>
</span></span><span class="line"><span class="cl">er-replicas <span class="m">1</span>
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617200738182.png" >
		<img src="/DockerLearning.assets/image-20210617200738182.png"
			
			
			
			loading="lazy"
			alt="image-20210617200738182">
	</a>
	
	<figcaption>image-20210617200738182</figcaption>
	
</figure></p>
<p>æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">/data <span class="c1"># redis-cli -c</span>
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; cluster info
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; cluster nodes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; <span class="nb">set</span> a b
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617201019736.png" >
		<img src="/DockerLearning.assets/image-20210617201019736.png"
			
			
			
			loading="lazy"
			alt="image-20210617201019736">
	</a>
	
	<figcaption>image-20210617201019736</figcaption>
	
</figure></p>
<p>æµ‹è¯•ï¼Œåœæ‰ä¸€ä¸ªmasterä¸»æœºredisä¼šä¸ä¼šä½¿ç”¨å¤‡æœºæ¥é¡¶æ›¿ä¸»æœº</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/# docker stop redis-3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/# docker <span class="nb">exec</span> -it redis-1 /bin/sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/data <span class="c1"># redis-cli -c</span>
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; cluster info
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; get a
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617201403193.png" >
		<img src="/DockerLearning.assets/image-20210617201403193.png"
			
			
			
			loading="lazy"
			alt="image-20210617201403193">
	</a>
	
	<figcaption>image-20210617201403193</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617201528497.png" >
		<img src="/DockerLearning.assets/image-20210617201528497.png"
			
			
			
			loading="lazy"
			alt="image-20210617201528497">
	</a>
	
	<figcaption>image-20210617201528497</figcaption>
	
</figure></p>
<p>docker æ­å»º redisé›†ç¾¤å®Œæˆï¼</p>
<p>æˆ‘ä»¬ä½¿ç”¨äº†dockerä¹‹åï¼Œæ‰€æœ‰çš„æŠ€æœ¯éƒ½ä¼šæ…¢æ…¢å˜å¾—ç®€å•èµ·æ¥</p>
<p>springboot å¾®æœåŠ¡æ‰“åŒ…dockeré•œåƒ</p>
<p>1.æ¶æ„springbooté¡¹ç›®</p>
<p>2.æ‰“åŒ…åº”ç”¨</p>
<p>3.ç¼–å†™dockerfile</p>
<p>4.æ„å»ºé•œåƒ</p>
<p>5.å‘å¸ƒè¿è¡Œï¼</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617204707930.png" >
		<img src="/DockerLearning.assets/image-20210617204707930.png"
			
			
			
			loading="lazy"
			alt="image-20210617204707930">
	</a>
	
	<figcaption>image-20210617204707930</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617204834101.png" >
		<img src="/DockerLearning.assets/image-20210617204834101.png"
			
			
			
			loading="lazy"
			alt="image-20210617204834101">
	</a>
	
	<figcaption>image-20210617204834101</figcaption>
	
</figure></p>
<p>cmdæµ‹è¯•</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617204915044.png" >
		<img src="/DockerLearning.assets/image-20210617204915044.png"
			
			
			
			loading="lazy"
			alt="image-20210617204915044">
	</a>
	
	<figcaption>image-20210617204915044</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617213140315.png" >
		<img src="/DockerLearning.assets/image-20210617213140315.png"
			
			
			
			loading="lazy"
			alt="image-20210617213140315">
	</a>
	
	<figcaption>image-20210617213140315</figcaption>
	
</figure></p>
<p>å›åˆ°ideaä¸­ç¼–å†™dockerfile</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617224102830.png" >
		<img src="/DockerLearning.assets/image-20210617224102830.png"
			
			
			
			loading="lazy"
			alt="image-20210617224102830">
	</a>
	
	<figcaption>image-20210617224102830</figcaption>
	
</figure></p>
<p>å¼„å¥½ä¹‹åè¿æ¥linux ï¼Œ å§windowsä¸Šçš„dockerfileå’ŒjaråŒ…ä¼ åˆ°linuxæœåŠ¡å™¨ä¸Šï¼Œéœ€è¦ä½¿ç”¨filezillaè½¯ä»¶ä¼ è¾“</p>
<p>linuxæœåŠ¡å™¨ipåœ°å€æŒ‡ä»¤   ifconfig</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617213836333.png" >
		<img src="/DockerLearning.assets/image-20210617213836333.png"
			
			
			
			loading="lazy"
			alt="image-20210617213836333">
	</a>
	
	<figcaption>image-20210617213836333</figcaption>
	
</figure></p>
<p>åˆ‡æ¢ç”¨æˆ·</p>
<p>æŠŠæ–‡ä»¶ä¼ åˆ°linuxä¸Š</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617221920977.png" >
		<img src="/DockerLearning.assets/image-20210617221920977.png"
			
			
			
			loading="lazy"
			alt="image-20210617221920977">
	</a>
	
	<figcaption>image-20210617221920977</figcaption>
	
</figure></p>
<p>å‘æ­»äº† ENTRYPOINT ä¸[]ä¹‹é—´æœ‰ä¸ªæ‰“ç©ºæ ¼</p>
<p>é€šè¿‡build æ„å»ºé•œåƒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/idea# docker build -f Dockerfile -t kuangshen666 .
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617224515040.png" >
		<img src="/DockerLearning.assets/image-20210617224515040.png"
			
			
			
			loading="lazy"
			alt="image-20210617224515040">
	</a>
	
	<figcaption>image-20210617224515040</figcaption>
	
</figure></p>
<p>æµ‹è¯•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:/home/idea# docker run -d --name kuangshen-springboot-web -P kuangshen666
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/idea# curl localhost:49158/hello
</span></span></code></pre></div><p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617225833450.png" >
		<img src="/DockerLearning.assets/image-20210617225833450.png"
			
			
			
			loading="lazy"
			alt="image-20210617225833450">
	</a>
	
	<figcaption>image-20210617225833450</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210617230044609.png" >
		<img src="/DockerLearning.assets/image-20210617230044609.png"
			
			
			
			loading="lazy"
			alt="image-20210617230044609">
	</a>
	
	<figcaption>image-20210617230044609</figcaption>
	
</figure></p>
<p>ä»¥åæˆ‘ä»¬ä½¿ç”¨äº†Dockerä¹‹åï¼Œç»™åˆ«äººäº¤ä»˜çš„å°±æ˜¯ä¸€ä¸ªé•œåƒå³å¯</p>
<p>é¢„å‘Šï¼šå¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šé•œåƒï¼Ÿ100ä¸ª</p>
<p>è¿˜è¦å­¦</p>
<p>Docker Compost</p>
<p>Docker Swarm</p>
<p>K8s</p>
<p>CI/CD ä¹‹ Jenkins</p>
<p>å°è¯•åŸºäºECSå¿«é€Ÿæ­å»ºdockerç¯å¢ƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210618223452399.png" >
		<img src="/DockerLearning.assets/image-20210618223452399.png"
			
			
			
			loading="lazy"
			alt="image-20210618223452399">
	</a>
	
	<figcaption>image-20210618223452399</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210618223539027.png" >
		<img src="/DockerLearning.assets/image-20210618223539027.png"
			
			
			
			loading="lazy"
			alt="image-20210618223539027">
	</a>
	
	<figcaption>image-20210618223539027</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210618223624125.png" >
		<img src="/DockerLearning.assets/image-20210618223624125.png"
			
			
			
			loading="lazy"
			alt="image-20210618223624125">
	</a>
	
	<figcaption>image-20210618223624125</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210618223650264.png" >
		<img src="/DockerLearning.assets/image-20210618223650264.png"
			
			
			
			loading="lazy"
			alt="image-20210618223650264">
	</a>
	
	<figcaption>image-20210618223650264</figcaption>
	
</figure></p>
<p>ECSäº‘æœåŠ¡å™¨æ–°æ‰‹ä¸Šè·¯</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210619103343896.png" >
		<img src="/DockerLearning.assets/image-20210619103343896.png"
			
			
			
			loading="lazy"
			alt="image-20210619103343896">
	</a>
	
	<figcaption>image-20210619103343896</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210619103400085.png" >
		<img src="/DockerLearning.assets/image-20210619103400085.png"
			
			
			
			loading="lazy"
			alt="image-20210619103400085">
	</a>
	
	<figcaption>image-20210619103400085</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210619103431630.png" >
		<img src="/DockerLearning.assets/image-20210619103431630.png"
			
			
			
			loading="lazy"
			alt="image-20210619103431630">
	</a>
	
	<figcaption>image-20210619103431630</figcaption>
	
</figure></p>
<p>ä¸‹é¢å°è¯•éƒ¨ç½²äº†ä¸€ä¸‹ç»§æ©çš„vueå’Œnginx</p>
<p>nginxä½¿ç”¨æŒ‚è½½çš„æ–¹å¼-v æ¥å®ç°å¯¹å®¹å™¨å†…éƒ¨nginxé…ç½®æ–‡ä»¶çš„æ›¿æ¢ï¼Œ</p>
<p>åˆ©ç”¨docker cp æ¥æŠŠdistæ–‡ä»¶æ‹·è´è¿›å»</p>
<p>ä½¿ç”¨-p çš„æ–¹å¼æ›¿æ¢ç«¯å£</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@yourtreedad:~# docker pull nginx
</span></span><span class="line"><span class="cl">Using default tag: latest
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">latest: Pulling from library/nginx
</span></span><span class="line"><span class="cl">b4d181a07f80: Already exists
</span></span><span class="line"><span class="cl">66b1c490df3f: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">d0f91ae9b44c: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">baf987068537: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">6bbc76cbebeb: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">32b766478bc2: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">Digest: sha256:353c20f74d9b6aee359f30e8e4f69c3d7eaea2f610681c4a95849a2fd7c497f9
</span></span><span class="line"><span class="cl">Status: Downloaded newer image <span class="k">for</span> nginx:latest
</span></span><span class="line"><span class="cl">docker.io/library/nginx:latest
</span></span><span class="line"><span class="cl">root@yourtreedad:~#
</span></span><span class="line"><span class="cl">root@yourtreedad:~# docker images
</span></span><span class="line"><span class="cl">REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="line"><span class="cl">nginx                    latest              4cdc5dd7eaad        <span class="m">10</span> days ago         133MB
</span></span><span class="line"><span class="cl">yourtreedad/blazordemo   latest              aa1397c0af05        <span class="m">2</span> weeks ago         207MB
</span></span><span class="line"><span class="cl">mysql                    latest              5c62e459e087        <span class="m">3</span> weeks ago         556MB
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:~# <span class="nb">cd</span> ..
</span></span><span class="line"><span class="cl">root@yourtreedad:/# <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">/
</span></span><span class="line"><span class="cl">root@yourtreedad:/# <span class="nb">cd</span> home
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# ls
</span></span><span class="line"><span class="cl">blazortest    haierDemo  ljs      mvcwindowstest  nginx      tomcat
</span></span><span class="line"><span class="cl">consoletest1  kuangshen  mvctest  mysql           nginxdemo  webapitest
</span></span><span class="line"><span class="cl">root@yourtreedad:/home# <span class="nb">cd</span> nginxdemo
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo# ls
</span></span><span class="line"><span class="cl">nginx-1.14.2  nginx-1.14.2.zip
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo# <span class="nb">cd</span> nginx-1.14.2
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2# ls
</span></span><span class="line"><span class="cl">conf  contrib  dist  docs  html  logs  nginx.exe  temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker run --name nginxdemo2 -p 8889:8765 -v /home/nginxdemo/nginx-1
</span></span><span class="line"><span class="cl">.14.2/conf/myconf1.conf:/etc/nginx/nginx.conf:ro -d nginx
</span></span><span class="line"><span class="cl">6bed1ace8c9942f62e61ea18f7f632973fa1d7536ac3a6d1ada11e3d2c093b6e
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker cp /home/nginxdemo/nginx-1.14.2/dist 6bed1ace8c9942f62e:/etc/nginx
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker <span class="nb">exec</span> -it 6bed1ace8c9942f62e61ea18f7f632973fa1d7536ac3a6d1ada11e3d2c093b6e /bin/bash
</span></span><span class="line"><span class="cl">ls
</span></span><span class="line"><span class="cl">ls
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/# ls
</span></span><span class="line"><span class="cl">bin   docker-entrypoint.d   home   media  proc  sbin  tmp
</span></span><span class="line"><span class="cl">boot  docker-entrypoint.sh  lib    mnt    root  srv   usr
</span></span><span class="line"><span class="cl">dev   etc                   lib64  opt    run   sys   var
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/# <span class="nb">cd</span> /etc
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/etc# <span class="nb">cd</span> nginx
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/etc/nginx# ls
</span></span><span class="line"><span class="cl">conf.d  dist  fastcgi_params  mime.types  modules  nginx.conf  scgi_params  uwsgi_params
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/etc/nginx# cat nginx.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#user  nobody;</span>
</span></span><span class="line"><span class="cl">c553c6ba5f13: Pushed
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#error_log  logs/error.log;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#error_log  logs/error.log  notice;</span>
</span></span><span class="line"><span class="cl">Head https://registry-1.docker.io/v2/yourtreedad/nginxcontaindist/blobs/sha256:4d7903a7ce4bdf92461e0dd87d1fb712facb6881df3cbce68f55f4ec54791546: dial tcp: lookup registry-1.docker.io on 192.168.65.5:53: no such host
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf#
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">events <span class="o">{</span>
</span></span><span class="line"><span class="cl">    worker_connections  1024<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">http <span class="o">{</span>
</span></span><span class="line"><span class="cl">    include       mime.types<span class="p">;</span>
</span></span><span class="line"><span class="cl">    default_type  application/octet-stream<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#log_format  main  &#39;$remote_addr - $remote_user [$time_local] &#34;$request&#34; &#39;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#                  &#39;$status $body_bytes_sent &#34;$http_referer&#34; &#39;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#                  &#39;&#34;$http_user_agent&#34; &#34;$http_x_forwarded_for&#34;&#39;;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#access_log  logs/access.log  main;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># server {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#     listen 8765;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#     listen localhost;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#     location / {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#         root dist;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#         index index.html index.htm;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#     }</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># }</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    sendfile        on<span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#tcp_nopush     on;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#keepalive_timeout  0;</span>
</span></span><span class="line"><span class="cl">    keepalive_timeout  65<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#gzip  on;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    server <span class="o">{</span>
</span></span><span class="line"><span class="cl">        listen       8765<span class="p">;</span>
</span></span><span class="line"><span class="cl">        server_name  localhost<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">#charset koi8-r;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">#access_log  logs/host.access.log  main;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        location / <span class="o">{</span>
</span></span><span class="line"><span class="cl">            root   dist<span class="p">;</span>
</span></span><span class="line"><span class="cl">            index  index.html index.htm<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">#error_page  404              /404.html;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># redirect server error pages to the static page /50x.html</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#</span>
</span></span><span class="line"><span class="cl">        error_page   <span class="m">500</span> <span class="m">502</span> <span class="m">503</span> <span class="m">504</span>  /50x.html<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">location</span> <span class="o">=</span> /50x.html <span class="o">{</span>
</span></span><span class="line"><span class="cl">            root   html<span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#location ~ \.php$ {</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    proxy_pass   http://127.0.0.1;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#location ~ \.php$ {</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    root           html;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    fastcgi_pass   127.0.0.1:9000;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    fastcgi_index  index.php;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    include        fastcgi_params;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">67f2e8eb8c87: Pushing <span class="o">[</span>&gt;                                                  <span class="o">]</span>  77.82kB/4.758MB
</span></span><span class="line"><span class="cl">        <span class="c1"># concurs with nginx&#39;s one</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#location ~ /\.ht {</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#    deny  all;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># another virtual host using mix of IP-, name-, and port-based configuration</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#server {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    listen       8000;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    listen       somename:8080;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    server_name  somename  alias  another.alias;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#    location / {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#        root   html;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#        index  index.html index.htm;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    }</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># HTTPS server</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#server {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    listen       443 ssl;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    server_name  localhost;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_certificate      cert.pem;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_certificate_key  cert.key;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_session_cache    shared:SSL:1m;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_session_timeout  5m;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    ssl_prefer_server_ciphers  on;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#    location / {</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#        root   html;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#        index  index.html index.htm;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#    }</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@6bed1ace8c99:/etc/nginx# <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker commit -a<span class="o">=</span><span class="s2">&#34;yourtreedad&#34;</span> -m<span class="o">=</span><span class="s2">&#34;jien&#39;s ui add ljs&#39;s deploy new nginx that contains dist&#34;</span> 6bed1ace8c nginx:1.0
</span></span><span class="line"><span class="cl">sha256:4d7903a7ce4bdf92461e0dd87d1fb712facb6881df3cbce68f55f4ec54791546
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker push yourtreedad/nginx:1.0
</span></span><span class="line"><span class="cl">The push refers to repository <span class="o">[</span>docker.io/yourtreedad/nginx<span class="o">]</span>
</span></span><span class="line"><span class="cl">An image does not exist locally with the tag: yourtreedad/nginx
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker tag nginx:1.0 yourtreedad/nginxcontaindist:1.0
</span></span><span class="line"><span class="cl">root@yourtreedad:/home/nginxdemo/nginx-1.14.2/conf# docker push yourtreedad/nginxcontaindist:1.0
</span></span><span class="line"><span class="cl">The push refers to repository <span class="o">[</span>docker.io/yourtreedad/nginxcontaindist<span class="o">]</span>
</span></span><span class="line"><span class="cl">67f2e8eb8c87: Preparing
</span></span><span class="line"><span class="cl">9d1af766c818: Preparing
</span></span><span class="line"><span class="cl">d97733c0a3b6: Preparing
</span></span><span class="line"><span class="cl">c553c6ba5f13: Preparing
</span></span><span class="line"><span class="cl">48b4a40de359: Preparing
</span></span><span class="line"><span class="cl">ace9ed9bcfaf: Waiting
</span></span><span class="line"><span class="cl">764055ebc9a7: Waiting
</span></span></code></pre></div><p>è¿™æ˜¯éƒ¨ç½²åœ¨æœ¬åœ° ï¼Œ ç°åœ¨å¼€å§‹æ¼”ç¤ºéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210718003213326.png" >
		<img src="/DockerLearning.assets/image-20210718003213326.png"
			
			
			
			loading="lazy"
			alt="image-20210718003213326">
	</a>
	
	<figcaption>image-20210718003213326</figcaption>
	
</figure></p>
<p>é€šè¿‡sshæŠŠé…ç½®æ–‡ä»¶ä¼ è¿›å»</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210718003244110.png" >
		<img src="/DockerLearning.assets/image-20210718003244110.png"
			
			
			
			loading="lazy"
			alt="image-20210718003244110">
	</a>
	
	<figcaption>image-20210718003244110</figcaption>
	
</figure></p>
<p>ä»dockerhubä¸Šæ‹‰å–é•œåƒ</p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210718003546820.png" >
		<img src="/DockerLearning.assets/image-20210718003546820.png"
			
			
			
			loading="lazy"
			alt="image-20210718003546820">
	</a>
	
	<figcaption>image-20210718003546820</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/DockerLearning.assets/image-20210718003653954.png" >
		<img src="/DockerLearning.assets/image-20210718003653954.png"
			
			
			
			loading="lazy"
			alt="image-20210718003653954">
	</a>
	
	<figcaption>image-20210718003653954</figcaption>
	
</figure></p>
<p>http://47.106.218.61:8888/</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E5%AE%B9%E5%99%A8%E5%8C%96/">å®¹å™¨åŒ–</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
</aside>

     
     
        
    <script src="https://utteranc.es/client.js" 
        repo="linjianshu/hugoblogtalks"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 think hy how to learn
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<!doctype html>
<html lang="en">
<head>
   
</head>









<body>
</body>

</html>


    </body>
</html>
