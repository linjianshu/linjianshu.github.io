<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£ mysqlçš„æ¶æ„ä»‹ç» mysqlç®€ä»‹ mysqllinuxç‰ˆå®‰è£… mysqlé…ç½®æ–‡ä»¶ mysqlé€»è¾‘æ¶æ„ä»‹ç» mysqlå­˜å‚¨å¼•æ“ ç´¢å¼•ä¼˜åŒ–åˆ†æ æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿ å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢ ç´¢å¼•ç®€ä»‹ æ€§èƒ½åˆ†æ ç´¢å¼•ä¼˜åŒ– æŸ¥è¯¢æˆªå–åˆ†æ æŸ¥è¯¢ä¼˜åŒ– æ…¢æŸ¥è¯¢æ—¥å¿— æ‰¹é‡æ•°æ®è„šæœ¬ show profile å…¨å±€æŸ¥è¯¢æ—¥å¿— mysqlé”æœºåˆ¶ é”çš„åˆ†ç±» ä¸»ä»å¤åˆ¶ ä¸»ä»é…ç½® mysqlç®€ä»‹ é«˜çº§mysql å®Œæ•´çš„mysqlä¼˜åŒ–
 mysqlå†…æ ¸ sqlä¼˜åŒ–æ”»åŸç‹® mysqlæœåŠ¡å™¨çš„ä¼˜åŒ– å„ç§å‚æ•°å¸¸é‡è®¾å®š æŸ¥è¯¢è¯­å¥ä¼˜åŒ– ä¸»ä»å¤åˆ¶ è½¯ç¡¬ä»¶å‡çº§ å®¹ç¾å¤‡ä»½ sqlç¼–ç¨‹  mysqllinuxç‰ˆçš„å®‰è£… image-20211012195826053
#æŸ¥çœ‹å½“å‰ubuntuç‰ˆæœ¬ yourtreedad@yourtreedad:~$ lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 20.04.3 LTS Release: 20.04 Codename: focal yourtreedad@yourtreedad:~$ å‡†å¤‡å·¥ä½œ
#åˆ‡æ¢åˆ°rootè´¦æˆ· yourtreedad@yourtreedad:~$ sudo passwd root New password: Retype new password: passwd: password updated successfully yourtreedad@yourtreedad:~$ su root Password: root@yourtreedad:/home/yourtreedad# #æŸ¥çœ‹ç”µè„‘é‡Œæœ‰æ²¡æœ‰mysql root@yourtreedad:/home/yourtreedad# service mysql status * MySQL is stopped.'><title>Mysqlé«˜çº§</title>

<link rel='canonical' href='https://linjianshu.github.io/p/test-chinese/'>

<link rel="stylesheet" href="/scss/style.min.css">
<style>
     
    body{
        background-repeat: repeat;
        background-attachment: fixed;
        background-size:cover;
         cursor: url(https://files.cnblogs.com/files/monster-jian/cursor.ico),auto;
    }
     
    #div_digg {
      position: fixed;
      bottom: 10px;
      right: 15px;
      border: 2px solid #ECD7B1;
      padding: 10px;
      width: 140px;
      background-color: #fff;
      border-radius: 5px 5px 5px 5px !important;
      box-shadow: 0 0 0 1px #5F5A4B, 1px 1px 6px 1px rgba(10, 10, 0, 0.5);
    }
    </style><script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2"></script>
<script src="https://files.cnblogs.com/files/liyhbk/js.js" color="0,0,255" opacity="1" count="119" zindex="-2">
</script>
<script type="text/javascript" color="255,0,0" pointcolor="255,0,0" opacity="0.7" zindex="-2" count="100" src="/dist/canvas-nest.js"></script>
<script type="text/javascript" src="/dist/canvas-nest.umd.js"></script>
<script type="text/javascript">
    var cn = new CanvasNest(document.getElementById('area-render'), {
        color: '255,0,255',
        count: 50,
      });
      
      function asyncLoad() {
        
        var i = document.createElement("iframe");
        i.src = "https://ghbtns.com/github-btn.html?user=hustcc&repo=canvas-nest.js&type=star&count=true";
        i.scrolling = "no";
        i.frameborder = "0";
        i.border = "0";
        i.setAttribute("frameborder", "0", 0);
        i.width = "100px";
        i.height = "20px";
        document.getElementById("github-iframe").appendChild(i);
      }
      function loadGitHubBtn() {
        if (window.addEventListener) {window.addEventListener("load", asyncLoad, false);}
        else if (window.attachEvent) {window.attachEvent("onload", asyncLoad);}
        else {window.onload = asyncLoad;}
      }
      loadGitHubBtn();
</script>
<script src="/canvas-nest.js?version=10"></script><canvas width="1536" height="454" style="display: block; position: absolute; top: 0px; left: 0px; height: 100%; width: 100%; overflow: hidden; pointer-events: none;"></canvas>
<script src="https://files.cnblogs.com/files/monster-jian/mouse-click.js"></script>
<script type="text/javascript">
    
     
    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("â¤ä¸åšå’¸é±¼ï¼â¤","â¤æ‹’ç»æ‡’æƒ°ï¼â¤","â¤æƒ³åšåƒè´§â¤","â¤å‘å¤§ä½¬å­¦ä¹ â¤","â¤æ‰¶æˆ‘èµ·æ¥~â¤","â¤come onâ¤","â¤ä¸€ç›´åœ¨è·¯ä¸Š~â¤","â¤ç´¯äº†~â¤","â¤å†è¶´ä¸€ä¼šâ¤","â¤66666â¤","â¤é«˜å…´çš„é£èµ·*****â¤");
            var $i = $("<span></span>").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
            y = e.pageY;
            $i.css({
                "z-index": 999999999999999999999999999999999999999999999999999999999999999999999,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
            });
            $("body").append($i);
            $i.animate({
                "top": y - 180,
                "opacity": 0
            },
            1500,
            function() {
                $i.remove();
            });
        });
    });
    </script>

    <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>  

 
   
      
      
          
         <script>         
            L2Dwidget.init({ "model": { jsonPath:          "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",  
                  "scale": 1 }, "display": { "position": "right", "width": 66, "height": 88,        "hOffset": 0, "vOffset": -20 },
                   "mobile": { "show": true, "scale": 0.5 },      "react": { "opacityDefault": 0.8, "opacityOnHover": 0.1 } }); 
                    </script><meta property='og:title' content='Mysqlé«˜çº§'>
<meta property='og:description' content='Mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£ mysqlçš„æ¶æ„ä»‹ç» mysqlç®€ä»‹ mysqllinuxç‰ˆå®‰è£… mysqlé…ç½®æ–‡ä»¶ mysqlé€»è¾‘æ¶æ„ä»‹ç» mysqlå­˜å‚¨å¼•æ“ ç´¢å¼•ä¼˜åŒ–åˆ†æ æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿ å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢ ç´¢å¼•ç®€ä»‹ æ€§èƒ½åˆ†æ ç´¢å¼•ä¼˜åŒ– æŸ¥è¯¢æˆªå–åˆ†æ æŸ¥è¯¢ä¼˜åŒ– æ…¢æŸ¥è¯¢æ—¥å¿— æ‰¹é‡æ•°æ®è„šæœ¬ show profile å…¨å±€æŸ¥è¯¢æ—¥å¿— mysqlé”æœºåˆ¶ é”çš„åˆ†ç±» ä¸»ä»å¤åˆ¶ ä¸»ä»é…ç½® mysqlç®€ä»‹ é«˜çº§mysql å®Œæ•´çš„mysqlä¼˜åŒ–
 mysqlå†…æ ¸ sqlä¼˜åŒ–æ”»åŸç‹® mysqlæœåŠ¡å™¨çš„ä¼˜åŒ– å„ç§å‚æ•°å¸¸é‡è®¾å®š æŸ¥è¯¢è¯­å¥ä¼˜åŒ– ä¸»ä»å¤åˆ¶ è½¯ç¡¬ä»¶å‡çº§ å®¹ç¾å¤‡ä»½ sqlç¼–ç¨‹  mysqllinuxç‰ˆçš„å®‰è£… image-20211012195826053
#æŸ¥çœ‹å½“å‰ubuntuç‰ˆæœ¬ yourtreedad@yourtreedad:~$ lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 20.04.3 LTS Release: 20.04 Codename: focal yourtreedad@yourtreedad:~$ å‡†å¤‡å·¥ä½œ
#åˆ‡æ¢åˆ°rootè´¦æˆ· yourtreedad@yourtreedad:~$ sudo passwd root New password: Retype new password: passwd: password updated successfully yourtreedad@yourtreedad:~$ su root Password: root@yourtreedad:/home/yourtreedad# #æŸ¥çœ‹ç”µè„‘é‡Œæœ‰æ²¡æœ‰mysql root@yourtreedad:/home/yourtreedad# service mysql status * MySQL is stopped.'>
<meta property='og:url' content='https://linjianshu.github.io/p/test-chinese/'>
<meta property='og:site_name' content='think hy how to learn'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='MYSQL' /><meta property='article:published_time' content='2021-10-12T19:35:55&#43;08:00'/><meta property='article:modified_time' content='2021-10-12T19:35:55&#43;08:00'/><meta property='og:image' content='https://linjianshu.github.io/hutomo-abrianto-l2jk-uxb1BY-unsplash.jpg' />
<meta name="twitter:site" content="@ljsljs56495989">
    <meta name="twitter:creator" content="@ljsljs56495989"><meta name="twitter:title" content="Mysqlé«˜çº§">
<meta name="twitter:description" content="Mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£ mysqlçš„æ¶æ„ä»‹ç» mysqlç®€ä»‹ mysqllinuxç‰ˆå®‰è£… mysqlé…ç½®æ–‡ä»¶ mysqlé€»è¾‘æ¶æ„ä»‹ç» mysqlå­˜å‚¨å¼•æ“ ç´¢å¼•ä¼˜åŒ–åˆ†æ æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿ å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢ ç´¢å¼•ç®€ä»‹ æ€§èƒ½åˆ†æ ç´¢å¼•ä¼˜åŒ– æŸ¥è¯¢æˆªå–åˆ†æ æŸ¥è¯¢ä¼˜åŒ– æ…¢æŸ¥è¯¢æ—¥å¿— æ‰¹é‡æ•°æ®è„šæœ¬ show profile å…¨å±€æŸ¥è¯¢æ—¥å¿— mysqlé”æœºåˆ¶ é”çš„åˆ†ç±» ä¸»ä»å¤åˆ¶ ä¸»ä»é…ç½® mysqlç®€ä»‹ é«˜çº§mysql å®Œæ•´çš„mysqlä¼˜åŒ–
 mysqlå†…æ ¸ sqlä¼˜åŒ–æ”»åŸç‹® mysqlæœåŠ¡å™¨çš„ä¼˜åŒ– å„ç§å‚æ•°å¸¸é‡è®¾å®š æŸ¥è¯¢è¯­å¥ä¼˜åŒ– ä¸»ä»å¤åˆ¶ è½¯ç¡¬ä»¶å‡çº§ å®¹ç¾å¤‡ä»½ sqlç¼–ç¨‹  mysqllinuxç‰ˆçš„å®‰è£… image-20211012195826053
#æŸ¥çœ‹å½“å‰ubuntuç‰ˆæœ¬ yourtreedad@yourtreedad:~$ lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 20.04.3 LTS Release: 20.04 Codename: focal yourtreedad@yourtreedad:~$ å‡†å¤‡å·¥ä½œ
#åˆ‡æ¢åˆ°rootè´¦æˆ· yourtreedad@yourtreedad:~$ sudo passwd root New password: Retype new password: passwd: password updated successfully yourtreedad@yourtreedad:~$ su root Password: root@yourtreedad:/home/yourtreedad# #æŸ¥çœ‹ç”µè„‘é‡Œæœ‰æ²¡æœ‰mysql root@yourtreedad:/home/yourtreedad# service mysql status * MySQL is stopped."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://linjianshu.github.io/hutomo-abrianto-l2jk-uxb1BY-unsplash.jpg' />
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <style>
            * {
              margin: 0;
              padding: 0;
            }
            html, body {
              height: 100%;
              width: 100%;
            }
            #github-iframe {
              position: fixed;
              left: 32px;
              top: 32px;
            }
             
        </style>
   


<link rel="stylesheet" type="texts" href="https://blog-static.cnblogs.com/files/monster-jian/waifu.css"/>


</head>







<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280473365'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1280473365%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>

<body size-sensor-id="1" style="position: relative;">
    
    <div id="area-render"></div>
   

</body>

<canvas width="1777" height="841" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>

</html>


    </head>
    <body class="
    article-page 
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        on-phone--column extended
    
">
    
        <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/hanbagui_hu1992e2ef3ca17530e3489d97af7cbea6_3164_300x0_resize_box.bmp" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        <h1 class="site-name"><a href="https://linjianshu.github.io/">think hy how to learn</a></h1>
        <h2 class="site-description">å¥½è¿æš´å¯Œ,å°±åœ¨ä»Šæ—¥.</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>æš—è‰²æ¨¡å¼</span>
            </li>
        
    </ol>
</aside>

    
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/test-chinese/">
                
                    <img src="/hutomo-abrianto-l2jk-uxb1BY-unsplash.jpg" loading="lazy" alt="Featured image of post Mysqlé«˜çº§" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/test/" style="background-color: #2a9d8f; color: #fff;">
                Test
            </a>
        
            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="background-color: #2a9d8f; color: #fff;">
                æ•°æ®åº“
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/test-chinese/">Mysqlé«˜çº§</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 12, 2021</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 10 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h3 id="mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£">Mysqlé«˜çº§å­¦ä¹ æ–‡æ¡£</h3>
<h4 id="mysqlçš„æ¶æ„ä»‹ç»">mysqlçš„æ¶æ„ä»‹ç»</h4>
<h5 id="mysqlç®€ä»‹">mysqlç®€ä»‹</h5>
<h5 id="mysqllinuxç‰ˆå®‰è£…">mysqllinuxç‰ˆå®‰è£…</h5>
<h5 id="mysqlé…ç½®æ–‡ä»¶">mysqlé…ç½®æ–‡ä»¶</h5>
<h5 id="mysqlé€»è¾‘æ¶æ„ä»‹ç»">mysqlé€»è¾‘æ¶æ„ä»‹ç»</h5>
<h5 id="mysqlå­˜å‚¨å¼•æ“">mysqlå­˜å‚¨å¼•æ“</h5>
<h4 id="ç´¢å¼•ä¼˜åŒ–åˆ†æ">ç´¢å¼•ä¼˜åŒ–åˆ†æ</h4>
<h5 id="æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿">æ€§èƒ½ä¸‹é™sqlæ…¢æ˜¯æ‰§è¡Œæ—¶é—´é•¿è¿˜æ˜¯ç­‰å¾…æ—¶é—´é•¿</h5>
<h5 id="å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢">å¸¸è§é€šç”¨çš„joinæŸ¥è¯¢</h5>
<h5 id="ç´¢å¼•ç®€ä»‹">ç´¢å¼•ç®€ä»‹</h5>
<h5 id="æ€§èƒ½åˆ†æ">æ€§èƒ½åˆ†æ</h5>
<h5 id="ç´¢å¼•ä¼˜åŒ–">ç´¢å¼•ä¼˜åŒ–</h5>
<h4 id="æŸ¥è¯¢æˆªå–åˆ†æ">æŸ¥è¯¢æˆªå–åˆ†æ</h4>
<h5 id="æŸ¥è¯¢ä¼˜åŒ–">æŸ¥è¯¢ä¼˜åŒ–</h5>
<h5 id="æ…¢æŸ¥è¯¢æ—¥å¿—">æ…¢æŸ¥è¯¢æ—¥å¿—</h5>
<h5 id="æ‰¹é‡æ•°æ®è„šæœ¬">æ‰¹é‡æ•°æ®è„šæœ¬</h5>
<h5 id="show-profile">show profile</h5>
<h5 id="å…¨å±€æŸ¥è¯¢æ—¥å¿—">å…¨å±€æŸ¥è¯¢æ—¥å¿—</h5>
<h4 id="mysqlé”æœºåˆ¶">mysqlé”æœºåˆ¶</h4>
<h5 id="é”çš„åˆ†ç±»">é”çš„åˆ†ç±»</h5>
<h4 id="ä¸»ä»å¤åˆ¶">ä¸»ä»å¤åˆ¶</h4>
<h5 id="ä¸»ä»é…ç½®">ä¸»ä»é…ç½®</h5>
<h5 id="mysqlç®€ä»‹-1">mysqlç®€ä»‹</h5>
<p>é«˜çº§mysql å®Œæ•´çš„mysqlä¼˜åŒ–</p>
<ul>
<li>mysqlå†…æ ¸</li>
<li>sqlä¼˜åŒ–æ”»åŸç‹®</li>
<li>mysqlæœåŠ¡å™¨çš„ä¼˜åŒ–</li>
<li>å„ç§å‚æ•°å¸¸é‡è®¾å®š</li>
<li>æŸ¥è¯¢è¯­å¥ä¼˜åŒ–</li>
<li>ä¸»ä»å¤åˆ¶</li>
<li>è½¯ç¡¬ä»¶å‡çº§</li>
<li>å®¹ç¾å¤‡ä»½</li>
<li>sqlç¼–ç¨‹</li>
</ul>
<h5 id="mysqllinuxç‰ˆçš„å®‰è£…">mysqllinuxç‰ˆçš„å®‰è£…</h5>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012195826053.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012195826053.png"
			
			
			
			loading="lazy"
			alt="image-20211012195826053">
	</a>
	
	<figcaption>image-20211012195826053</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">#æŸ¥çœ‹å½“å‰ubuntuç‰ˆæœ¬</span>
yourtreedad@yourtreedad:~$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 20.04.3 LTS
Release:        20.04
Codename:       focal
yourtreedad@yourtreedad:~$
</code></pre></div><p><strong>å‡†å¤‡å·¥ä½œ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#åˆ‡æ¢åˆ°rootè´¦æˆ·</span>
yourtreedad@yourtreedad:~$ sudo passwd root
New password:
Retype new password:
passwd: password updated successfully
yourtreedad@yourtreedad:~$ su root
Password:
root@yourtreedad:/home/yourtreedad#

<span class="c1">#æŸ¥çœ‹ç”µè„‘é‡Œæœ‰æ²¡æœ‰mysql</span>
root@yourtreedad:/home/yourtreedad# service mysql status
 * MySQL is stopped.
root@yourtreedad:/home/yourtreedad# mysql --version
mysql  Ver 8.0.26-0ubuntu0.20.04.2 <span class="k">for</span> Linux on x86_64 <span class="o">((</span>Ubuntu<span class="o">))</span>
root@yourtreedad:/home/yourtreedad# service mysql start
 * Starting MySQL database server mysqld                                                 su: warning: cannot change directory to /nonexistent: No such file or directory

<span class="c1">#é‚£å°±å½»åº•å¸è½½äº†</span>
root@yourtreedad:/home/yourtreedad# sudo apt-get remove mysql-*
root@yourtreedad:/home/yourtreedad# sudo rm -rf /etc/mysql/
root@yourtreedad:/home/yourtreedad# dpkg -l <span class="p">|</span>grep ^rc<span class="p">|</span>awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span>sudo xargs dpkg -P
dpkg: error: --purge needs at least one package name argument
<span class="c1">#å¦‚æœå‡ºç°è¿™ä¸ªé”™è¯¯ dpkg: error: --purge needs at least one package name argumentï¼Œè¯´æ˜å·²ç»æ¸…ç©ºå®Œæ¯•äº†</span>

<span class="c1">#å…¨éƒ¨åˆ é™¤äº†</span>
root@yourtreedad:/home/yourtreedad# service mysql status
mysql: unrecognized service
root@yourtreedad:/home/yourtreedad# mysql --version
bash: /usr/bin/mysql: No such file or directory
root@yourtreedad:/home/yourtreedad#

<span class="c1">#æ›´æ–°åˆ°æœ€æ–° å®‰è£…rpm</span>
root@yourtreedad:/opt# apt-get update
root@yourtreedad:/home/yourtreedad# apt-get upgrade
root@yourtreedad:/home/yourtreedad# apt-get install rpm

<span class="c1">#ä½¿ç”¨rpmåˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¦å®‰è£…è¿‡mysql</span>
root@yourtreedad:/home/yourtreedad# rpm -qa<span class="p">|</span>grep -i mysql

<span class="c1">#å®‰è£…mysql</span>
root@yourtreedad:/opt# sudo apt-get install mysql-server mysql-client

<span class="c1">#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span>
root@yourtreedad:/# id yourtreedad
<span class="nv">uid</span><span class="o">=</span>1000<span class="o">(</span>yourtreedad<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>yourtreedad<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>1000<span class="o">(</span>yourtreedad<span class="o">)</span>,4<span class="o">(</span>adm<span class="o">)</span>,20<span class="o">(</span>dialout<span class="o">)</span>,24<span class="o">(</span>cdrom<span class="o">)</span>,25<span class="o">(</span>floppy<span class="o">)</span>,27<span class="o">(</span>sudo<span class="o">)</span>,29<span class="o">(</span>audio<span class="o">)</span>,30<span class="o">(</span>dip<span class="o">)</span>,44<span class="o">(</span>video<span class="o">)</span>,46<span class="o">(</span>plugdev<span class="o">)</span>,117<span class="o">(</span>netdev<span class="o">)</span>
root@yourtreedad:/# cat /etc/passwd<span class="p">|</span>grep mysql
mysql:x:112:119:MySQL Server,,,:/var/lib/mysql/:/bin/false
root@yourtreedad:/# cat /etc/group<span class="p">|</span>grep mysql
mysql:x:119:
root@yourtreedad:/# mysqladmin --version
mysqladmin  Ver 8.0.26-0ubuntu0.20.04.3 <span class="k">for</span> Linux on x86_64 <span class="o">((</span>Ubuntu<span class="o">))</span>
root@yourtreedad:/#

root@yourtreedad:/# service mysql start

root@yourtreedad:/# ps -ef<span class="p">|</span>grep mysql
mysql    <span class="m">18675</span>     <span class="m">1</span>  <span class="m">0</span> 21:03 ?        00:00:00 /bin/sh /usr/bin/mysqld_safe
mysql    <span class="m">18822</span> <span class="m">18675</span>  <span class="m">0</span> 21:03 ?        00:00:00 /usr/sbin/mysqld --basedir<span class="o">=</span>/usr --datadir<span class="o">=</span>/var/lib/mysql --plugin-dir<span class="o">=</span>/usr/lib/mysql/plugin --log-error<span class="o">=</span>/var/log/mysql/error.log --pid-file<span class="o">=</span>yourtreedad.pid
root     <span class="m">19055</span> <span class="m">16743</span>  <span class="m">0</span> 21:14 tty1     00:00:00 grep --color<span class="o">=</span>auto mysql
</code></pre></div><p><a class="link" href="https://www.cnblogs.com/duolamengxiong/p/13650684.html"  target="_blank" rel="noopener"
    >https://www.cnblogs.com/duolamengxiong/p/13650684.html</a></p>
<h5 id="mysqlå¯åœå’Œè‡ªåŠ¨è¿è¡Œ">mysqlå¯åœå’Œè‡ªåŠ¨è¿è¡Œ</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#æŸ¥çœ‹è¿è¡Œæ—¶é—´</span>
root@yourtreedad:/home/yourtreedad# top
top - 21:17:30 up  1:21,  <span class="m">0</span> users,  load average: 0.52, 0.58, 0.59
Tasks:   <span class="m">8</span> total,   <span class="m">1</span> running,   <span class="m">7</span> sleeping,   <span class="m">0</span> stopped,   <span class="m">0</span> zombie
%Cpu<span class="o">(</span>s<span class="o">)</span>:  4.0 us,  2.9 sy,  0.0 ni, 92.7 id,  0.0 wa,  0.4 hi,  0.0 si,  0.0 st
MiB Mem :  32674.8 total,  21949.1 free,  10501.7 used,    224.0 buff/cache
MiB Swap:  38400.2 total,  38322.8 free,     77.3 used.  22042.5 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
    <span class="m">1</span> root      <span class="m">20</span>   <span class="m">0</span>    <span class="m">8944</span>    <span class="m">328</span>    <span class="m">288</span> S   0.0   0.0   0:00.18 init
<span class="m">16725</span> root      <span class="m">20</span>   <span class="m">0</span>    <span class="m">8952</span>    <span class="m">232</span>    <span class="m">184</span> S   0.0   0.0   0:00.00 init
<span class="m">16726</span> yourtre+  <span class="m">20</span>   <span class="m">0</span>   <span class="m">18096</span>   <span class="m">3588</span>   <span class="m">3484</span> S   0.0   0.0   0:00.13 bash
<span class="m">18675</span> mysql     <span class="m">20</span>   <span class="m">0</span>   <span class="m">10656</span>    <span class="m">812</span>    <span class="m">780</span> S   0.0   0.0   0:00.10 mysqld_safe
<span class="m">18822</span> mysql     <span class="m">20</span>   <span class="m">0</span> <span class="m">2603072</span> <span class="m">299920</span>  <span class="m">20628</span> S   0.0   0.9   0:00.75 mysqld
<span class="m">19087</span> root      <span class="m">20</span>   <span class="m">0</span>   <span class="m">18412</span>   <span class="m">2592</span>   <span class="m">2568</span> S   0.0   0.0   0:00.03 su
<span class="m">19088</span> root      <span class="m">20</span>   <span class="m">0</span>   <span class="m">17008</span>   <span class="m">2396</span>   <span class="m">2304</span> S   0.0   0.0   0:00.07 bash
<span class="m">19201</span> root      <span class="m">20</span>   <span class="m">0</span>   <span class="m">18924</span>   <span class="m">2152</span>   <span class="m">1528</span> R   0.0   0.0   0:00.04 top

<span class="c1">#ç›´æ¥mysql å°±è¿›æ¥äº†</span>
root@yourtreedad:/home/yourtreedad# mysql
Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span>.
Your MySQL connection id is <span class="m">24</span>
</code></pre></div><p>mysqlé»˜è®¤æ²¡æœ‰å¯†ç ,æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå’©æœ‰è¾“å…¥å¯†ç å°±ç›´æ¥è¿ä¸Šäº†</p>
<p><strong>è®¾ç½®ç™»é™†å¯†ç </strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">root@yourtreedad:/home/yourtreedad# /usr/bin/mysqladmin -u root password <span class="m">123456</span>
mysqladmin: <span class="o">[</span>Warning<span class="o">]</span> Using a password on the <span class="nb">command</span> line interface can be insecure.
Warning: Since password will be sent to server in plain text, use ssl connection to ensure password safety.
</code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012213458570.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012213458570.png"
			
			
			
			loading="lazy"
			alt="image-20211012213458570">
	</a>
	
	<figcaption>image-20211012213458570</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">mysql&gt; create database student <span class="p">;</span>
Query OK, <span class="m">1</span> row affected <span class="o">(</span>0.01 sec<span class="o">)</span>

mysql&gt; <span class="nb">exit</span>
Bye
root@yourtreedad:/var/lib/mysql# ls -l
total <span class="m">193956</span>
-rw-r----- <span class="m">1</span> mysql mysql   <span class="m">196608</span> Oct <span class="m">12</span> 21:33 <span class="s1">&#39;#ib_16384_0.dblwr&#39;</span>
-rw-r----- <span class="m">1</span> mysql mysql  <span class="m">8585216</span> Oct <span class="m">12</span> 20:19 <span class="s1">&#39;#ib_16384_1.dblwr&#39;</span>
drwxr-x--- <span class="m">1</span> mysql mysql      <span class="m">512</span> Oct <span class="m">12</span> 21:03 <span class="s1">&#39;#innodb_temp&#39;</span>
-rw-r----- <span class="m">1</span> mysql mysql       <span class="m">56</span> Oct <span class="m">12</span> 20:19  auto.cnf
-rw-r----- <span class="m">1</span> mysql mysql <span class="m">12582912</span> Oct <span class="m">12</span> 21:33  ibdata1
-rw-r----- <span class="m">1</span> mysql mysql <span class="m">12582912</span> Oct <span class="m">12</span> 21:03  ibtmp1
drwxr-x--- <span class="m">1</span> mysql mysql      <span class="m">512</span> Oct <span class="m">12</span> 20:19  mysql
-rw-r----- <span class="m">1</span> mysql mysql <span class="m">25165824</span> Oct <span class="m">12</span> 21:33  mysql.ibd
drwxr-x--- <span class="m">1</span> mysql mysql      <span class="m">512</span> Oct <span class="m">12</span> 21:33  student
drwxr-x--- <span class="m">1</span> mysql mysql      <span class="m">512</span> Oct <span class="m">12</span> 20:19  sys
</code></pre></div><p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶ä½ç½®</strong></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012213843009.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211012213843009.png"
			
			
			
			loading="lazy"
			alt="image-20211012213843009">
	</a>
	
	<figcaption>image-20211012213843009</figcaption>
	
</figure></p>
<p>å¼„å¥½äº†é‡å¯mysql</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;å¼ ä¸‰&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">å¼ ä¸‰</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æœ‰æ—¶å€™å­—ç¬¦é›†æ²¡å¼„å¥½</span><span class="w"> </span><span class="err">è¦å¼„æˆ</span><span class="n">utf</span><span class="o">-</span><span class="mi">8</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%char%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">                      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_client</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_database</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_filesystem</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">binary</span><span class="w">                     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_results</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_server</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb4</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_set_system</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">utf8mb3</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">character_sets_dir</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">share</span><span class="o">/</span><span class="n">mysql</span><span class="o">/</span><span class="n">charsets</span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------+----------------------------+
</span><span class="c1"></span><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>ä¿®æ”¹å­—ç¬¦é›†å’Œæ•°æ®å­˜å‚¨è·¯å¾„</p>
<p>å¿…é¡»åœ¨å­—ç¬¦é›†ä¿®æ”¹ä¹‹åæ‰èƒ½æ”¯æŒä¸­æ–‡,ä¹‹å‰çš„æ•°æ®åº“å¥½åƒä¸è¡Œ</p>
<h5 id="mysqlé…ç½®æ–‡ä»¶-1">mysqlé…ç½®æ–‡ä»¶</h5>
<ul>
<li>äºŒè¿›åˆ¶æ—¥å¿— log - bin
<ul>
<li>ä¸»ä»å¤åˆ¶</li>
</ul>
</li>
<li>é”™è¯¯æ—¥å¿—
<ul>
<li>mysqlerror.error</li>
</ul>
</li>
<li>æŸ¥è¯¢æ—¥å¿—log
<ul>
<li>é»˜è®¤å…³é—­,è®°å½•æŸ¥è¯¢çš„sqlè¯­å¥,å¦‚æœå¼€å¯ä¼šå‡ä½mysqlçš„æ•´ä½“æ€§èƒ½</li>
</ul>
</li>
<li>æ•°æ®æ–‡ä»¶
<ul>
<li>ä¸¤ä¸ªç³»ç»Ÿä¸ä¸€è‡´
<ul>
<li>windows mysql5.0\dataç›®å½•ä¸‹æœ‰å¾ˆå¤šåº“</li>
<li>linux é»˜è®¤è·¯å¾„ /var/lib/mysql</li>
</ul>
</li>
<li>frmæ–‡ä»¶ å­˜æ”¾è¡¨ç»“æ„</li>
<li>mydæ–‡ä»¶ å­˜æ”¾è¡¨æ•°æ®</li>
<li>myiæ–‡ä»¶ å­˜æ”¾è¡¨ç´¢å¼•</li>
</ul>
</li>
</ul>
<h5 id="mysqlé€»è¾‘æ¶æ„ä»‹ç»-1">mysqlé€»è¾‘æ¶æ„ä»‹ç»</h5>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014205109147.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014205109147.png"
			
			
			
			loading="lazy"
			alt="image-20211014205109147">
	</a>
	
	<figcaption>image-20211014205109147</figcaption>
	
</figure></p>
<ul>
<li>ç¬¬ä¸€å±‚:è¿æ¥å±‚</li>
</ul>
<p>æœ€ä¸Šå±‚æ˜¯ä¸€äº›å®¢æˆ·ç«¯å’Œè¿æ¥æœåŠ¡,åŒ…å«æœ¬åœ°socké€šä¿¡å’Œå¤§å¤šæ•°åŸºäºå®¢æˆ·ç«¯/æœåŠ¡ç«¯å·¥å…·å®ç°çš„ç±»ä¼¼äºtcp/ipçš„é€šä¿¡.ä¸»è¦å®Œæˆä¸€äº›ç±»ä¼¼äºè¿æ¥å¤„ç†/æˆæƒè®¤è¯åŠç›¸å…³çš„å®‰å…¨æ–¹æ¡ˆ.åœ¨è¯¥å±‚ä¸Šå¼•å…¥äº†çº¿ç¨‹æ± çš„æ¦‚å¿µ,ä¸ºé€šè¿‡è®¤è¯å®‰å…¨æ¥å…¥çš„å®¢æˆ·ç«¯æä¾›çº¿ç¨‹.åŒæ ·åœ¨è¯¥å±‚ä¸Šå¯ä»¥å®ç°åŸºäºsslçš„å®‰å…¨è¿æ¥.æœåŠ¡å™¨ä¹Ÿä¼šä¸ºå®‰å…¨æ¥å…¥çš„æ¯ä¸ªå®¢æˆ·ç«¯éªŒè¯å®ƒæ‰€å…·æœ‰çš„æ“ä½œæƒé™.</p>
<ul>
<li>ç¬¬äºŒå±‚:æ•°æ®åº“è¿æ¥æ±  å¤‡ä»½æ¢å¤å®‰å…¨é›†ç¾¤å®¹ç¾ å­˜å‚¨è¿‡ç¨‹ è§†å›¾ è§¦å‘å™¨ è§£æå™¨ ä¼˜åŒ–å™¨ ç¼“å­˜</li>
</ul>
<p>ç¬¬äºŒå±‚æ¶æ„ä¸»è¦å®Œæˆå¤§å¤šæ•°çš„æ ¸å¿ƒæœåŠ¡åŠŸèƒ½,å¦‚sqlæ¥å£,å¹¶å®Œæˆç¼“å­˜çš„æŸ¥è¯¢,sqlçš„åˆ†æå’Œä¼˜åŒ–ä»¥éƒ¨åˆ†å†…ç½®å‡½æ•°çš„æ‰§è¡Œ.æ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½ä¹Ÿåœ¨è¿™ä¸€å±‚å®ç°,å¦‚è¿‡ç¨‹/å‡½æ•°ç­‰.åœ¨è¯¥å±‚,æœåŠ¡å™¨ä¼šè§£ææŸ¥è¯¢å¹¶åˆ›å»ºç›¸åº”çš„å†…éƒ¨è§£ææ ‘,å¹¶å¯¹å…¶å®Œæˆç›¸åº”çš„ä¼˜åŒ–å¦‚ç¡®å®šæŸ¥è¯¢è¡¨çš„é¡ºåº,æ˜¯å¦åˆ©ç”¨ç´¢å¼•ç­‰,æœ€åç”Ÿæˆç›¸åº”çš„æ‰§è¡Œæ“ä½œ.å¦‚æœæ˜¯selectè¯­å¥,æœåŠ¡å™¨è¿˜ä¼šæŸ¥è¯¢å†…éƒ¨çš„ç¼“å­˜,å¦‚æœç¼“å­˜ç©ºé—´è¶³å¤Ÿå¤§,è¿™æ ·åœ¨è§£å†³å¤§é‡è¯»æ“ä½œçš„ç¯å¢ƒä¸­èƒ½å¤Ÿå¾ˆå¥½çš„æå‡ç³»ç»Ÿçš„æ€§èƒ½.</p>
<ul>
<li>ç¬¬ä¸‰å±‚:å¯æ’æ‹”å­˜å‚¨å¼•æ“</li>
</ul>
<p>å­˜å‚¨å¼•æ“å±‚,å­˜å‚¨å¼•æ“çœŸæ­£çš„è´Ÿè´£äº†mysqlä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–,æœåŠ¡å™¨é€šè¿‡apiä¸å­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡.ä¸åŒçš„å­˜å‚¨å¼•æ“å…·æœ‰çš„åŠŸèƒ½ä¸åŒ,è¿™æ ·æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦è¿›è¡Œé€‰å–.åé¢ä»‹ç»myisamå’Œinnodb</p>
<ul>
<li>ç¬¬å››å±‚:æ–‡ä»¶ç³»ç»Ÿå’Œæ–‡ä»¶æ—¥å¿—</li>
</ul>
<p>æ•°æ®å­˜å‚¨å±‚,ä¸»è¦æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨è¿è¡Œäºè£¸è®¾å¤‡çš„æ–‡ä»¶ç³»ç»Ÿä¸Š,å¹¶å®Œæˆä¸å­˜å‚¨å¼•æ“çš„äº¤äº’</p>
<p>å’Œå…¶ä»–çš„æ•°æ®åº“ç›¸æ¯”,mysqlæœ‰ç‚¹ä¸ä¼—ä¸åŒ,å®ƒçš„æ¶æ„å¯ä»¥åœ¨å¤šç§ä¸åŒåœºæ™¯ä¸­åº”ç”¨å¹¶å‘æŒ¥è‰¯å¥½ä½œç”¨.ä¸»è¦ä½“ç°åœ¨å­˜å‚¨å¼•æ“çš„æ¶æ„ä¸Š,æ’ä»¶å¼çš„å­˜å‚¨å¼•æ“å°†æŸ¥è¯¢å¤„ç†å’Œå…¶ä»–çš„ç³»ç»Ÿä»»åŠ¡ä»¥åŠæ•°æ®çš„å­˜å‚¨æå–ç›¸åˆ†ç¦».è¿™ç§æ¶æ„å¯ä»¥æ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚å’Œå®é™…éœ€è¦é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“</p>
<h5 id="mysqlå­˜å‚¨å¼•æ“-1">mysqlå­˜å‚¨å¼•æ“</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">engines</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Engine</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Support</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w">                                                        </span><span class="o">|</span><span class="w"> </span><span class="n">Transactions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">XA</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Savepoints</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">MEMORY</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Hash</span><span class="w"> </span><span class="n">based</span><span class="p">,</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">memory</span><span class="p">,</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">temporary</span><span class="w"> </span><span class="n">tables</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">MRG_MYISAM</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Collection</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">MyISAM</span><span class="w"> </span><span class="n">tables</span><span class="w">                          </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">CSV</span><span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">CSV</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                             </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">FEDERATED</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Federated</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">                                 </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">PERFORMANCE_SCHEMA</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">Performance</span><span class="w"> </span><span class="k">Schema</span><span class="w">                                             </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NO</span><span class="w">         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">MyISAM</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">MyISAM</span><span class="w"> </span><span class="k">storage</span><span class="w"> </span><span class="n">engine</span><span class="w">              
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹å­˜å‚¨å¼•æ“</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%storage_engine%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">default_storage_engine</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">InnoDB</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">default_tmp_storage_engine</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">InnoDB</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">disabled_storage_engines</span><span class="w">        </span><span class="o">|</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">internal_tmp_mem_storage_engine</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">TempTable</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-----------+
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014211207589.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014211207589.png"
			
			
			
			loading="lazy"
			alt="image-20211014211207589">
	</a>
	
	<figcaption>image-20211014211207589</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014211324759.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014211324759.png"
			
			
			
			loading="lazy"
			alt="image-20211014211324759">
	</a>
	
	<figcaption>image-20211014211324759</figcaption>
	
</figure></p>
<h3 id="ç´¢å¼•ä¼˜åŒ–-1">ç´¢å¼•ä¼˜åŒ–</h3>
<h5 id="ä¼˜åŒ–åˆ†æ">ä¼˜åŒ–åˆ†æ</h5>
<p>æ€§èƒ½ä¸‹é™sqlæ…¢/æ‰§è¡Œæ—¶é—´é•¿/ç­‰å¾…æ—¶é—´é•¿</p>
<ul>
<li>æŸ¥è¯¢è¯­å¥å†™çš„çƒ‚</li>
<li>ç´¢å¼•å¤±æ•ˆ
<ul>
<li>å•å€¼</li>
<li>å¤åˆ</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">åˆ›å»ºç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_beauty_name</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">name</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_beauty_name_sex</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">beauty</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">sex</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">             </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">          </span><span class="mi">13</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_beauty_name</span><span class="w">     </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">          </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_beauty_name_sex</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">          </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">beauty</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_beauty_name_sex</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sex</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">          </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+---------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span></code></pre></div><ul>
<li>å…³è”æŸ¥è¯¢å¤ªå¤šjoin(è®¾è®¡ç¼ºé™·æˆ–ä¸å¾—å·²çš„éœ€æ±‚)</li>
<li>æœåŠ¡å™¨è°ƒä¼˜ä»¥å„ä¸ªå‚æ•°è®¾ç½®(ç¼“å†²/çº¿ç¨‹æ•°)</li>
</ul>
<h5 id="å¸¸è§çš„joinæŸ¥è¯¢">å¸¸è§çš„joinæŸ¥è¯¢</h5>
<ul>
<li>
<p>sqlçš„æ‰§è¡Œé¡ºåº</p>
<ul>
<li>æ‰‹å†™ select from join on where group by having order by limit</li>
<li>æœºè¯» from on join where group by having select dinstinct order by limit</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213300494.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213300494.png"
			
			
			
			loading="lazy"
			alt="image-20211014213300494">
	</a>
	
	<figcaption>image-20211014213300494</figcaption>
	
</figure></p>
</li>
<li>
<p>join å›¾</p>
</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213503395.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213503395.png"
			
			
			
			loading="lazy"
			alt="image-20211014213503395">
	</a>
	
	<figcaption>image-20211014213503395</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213909722.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014213909722.png"
			
			
			
			loading="lazy"
			alt="image-20211014213909722">
	</a>
	
	<figcaption>image-20211014213909722</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="n">INNODB</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">   </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">deptld</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">fk_dept_id</span><span class="p">(</span><span class="n">deptld</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">#</span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_dept_id</span><span class="w"> </span><span class="n">FOREIGNKEY</span><span class="p">(</span><span class="n">deptld</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">tbl_dept</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="n">ENGINE</span><span class="w"> </span><span class="n">INNODB</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptld</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s9</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MIS</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">14</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+----------+--------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å†…è¿æ¥</span><span class="w"> </span><span class="err">å°±ä¹ˆæœ‰</span><span class="mi">8</span><span class="err">å‘˜å·¥</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="mi">5</span><span class="err">éƒ¨é—¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptld</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MIS</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">14</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å·¦å¤–è¿æ¥</span><span class="w"> </span><span class="err">æ²¡æœ‰</span><span class="mi">5</span><span class="err">éƒ¨é—¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MIS</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">14</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s9</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å³å¤–è¿æ¥</span><span class="w"> </span><span class="err">æ²¡æœ‰</span><span class="mi">8</span><span class="err">å‘˜å·¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MIS</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">14</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="w"> 
</span><span class="w"></span><span class="o">#</span><span class="err">åªæœ‰å·¦è¾¹</span><span class="w"> </span><span class="err">åªæœ‰</span><span class="mi">8</span><span class="err">å‘˜å·¥</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s9</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åªæœ‰å³è¾¹</span><span class="w"> </span><span class="err">åªæœ‰</span><span class="mi">5</span><span class="err">éƒ¨é—¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+----+----------+--------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å…¨è¿æ¥</span><span class="w"> </span><span class="err">éƒ½å¾—æœ‰</span><span class="w"> </span><span class="n">mysqlä¸æ”¯æŒouter</span><span class="w"> </span><span class="k">join</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">outer</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1064</span><span class="w"> </span><span class="p">(</span><span class="mi">42000</span><span class="p">):</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="k">SQL</span><span class="w"> </span><span class="n">syntax</span><span class="p">;</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">version</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">near</span><span class="w"> </span><span class="s1">&#39;outer join tbl_dept d on e.deptid = d.id&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¯ä»¥è¿™ä¹ˆåš</span><span class="w">  </span><span class="n">unioné»˜è®¤å»é‡</span><span class="w">  </span><span class="k">union</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="err">å°±ä¸ä¼šå»é‡</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">11</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HR</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MK</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MIS</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">14</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s9</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="mi">9</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸è¦</span><span class="n">joiné‡åˆçš„éƒ¨åˆ†</span><span class="w"> </span><span class="err">è¦å¦å¤–ä¸¤åŠçš„</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="p">,</span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">deptName</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">locAdd</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s9</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+--------+------+----------+--------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="ç´¢å¼•ç®€ä»‹-1">ç´¢å¼•ç®€ä»‹</h5>
<ul>
<li>æ˜¯ä»€ä¹ˆ</li>
</ul>
<p>mysqlå®˜æ–¹å¯¹ç´¢å¼•çš„å®šä¹‰ä¸º:ç´¢å¼•indexæ˜¯å¸®åŠ©mysqlé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„.å¯ä»¥å¾—åˆ°ç´¢å¼•çš„æœ¬è´¨:ç´¢å¼•æ˜¯æ•°æ®ç»“æ„.</p>
<p>å¦‚æœè¦æŸ¥mysqlè¿™ä¸ªå•è¯,æˆ‘ä»¬è‚¯å®šéœ€è¦å®šä½åˆ°må­—æ¯,ç„¶åå¾€ä¸‹æ‰¾åˆ°yå­—æ¯,å†æ‰¾åˆ°å‰©ä¸‹çš„sql</p>
<p>å¦‚æœæ²¡æœ‰ç´¢å¼•,é‚£ä¹ˆä½ å¯èƒ½éœ€è¦a&ndash;z,å¦‚æœæˆ‘æƒ³æ‰¾åˆ°javaå¼€å¤´çš„å•è¯å‘¢,æˆ–è€…oracleå¼€å¤´çš„å•è¯å‘¢</p>
<p><strong>ä½ å¯ä»¥ç®€å•ç†è§£ä¸º æ’å¥½åºçš„å¿«é€ŸæŸ¥æ‰¾æ•°æ®ç»“æ„</strong></p>
<p>åœ¨æ•°æ®ä¹‹å¤–,æ•°æ®åº“ç³»ç»Ÿè¿˜ç»´æŠ¤ç€æ»¡è¶³ç‰¹å®šæŸ¥æ‰¾ç®—æ³•çš„æ•°æ®ç»“æ„,è¿™äº›æ•°æ®ç»“æ„ä»¥æŸç§æ–¹å¼å¼•ç”¨(æŒ‡å‘)æ•°æ®,è¿™æ ·å°±å¯ä»¥åœ¨è¿™äº›æ•°æ®ç»“æ„ä¸Šå®ç°é«˜çº§æŸ¥æ‰¾ç®—æ³•.è¿™ç§æ•°æ®ç»“æ„,å°±æ˜¯ç´¢å¼•.ä¸‹å›¾å°±æ˜¯ä¸€ç§å¯èƒ½çš„ç´¢å¼•æ–¹å¼ç¤ºä¾‹:</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014224606584.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211014224606584.png"
			
			
			
			loading="lazy"
			alt="image-20211014224606584">
	</a>
	
	<figcaption>image-20211014224606584</figcaption>
	
</figure></p>
<p><strong>æ‰€ä»¥è¯´ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„,å¦‚æœè¦æŸ¥7è¿™æœ¬ä¹¦,æ­£å¸¸çš„éå†è¦ç¬¬ä¸ƒæ¬¡æ‰èƒ½æ‰¾åˆ°,æ—¶é—´å¤æ‚åº¦ä¸ºn,ç´¢å¼•æ˜¯åˆ©ç”¨å¹³è¡¡äºŒå‰æ ‘,æˆ–è€…B+æ ‘,ä¹Ÿå°±æ˜¯è¯´ä¸ä¸€å®šäºŒå‰å¯ä»¥å¤šå‰,è¿™æ ·è‡³å¤šlog2n+1æ¬¡å°±èƒ½ç´¢å¼•åˆ°,æ•…è€Œæé«˜äº†æ•ˆç‡</strong></p>
<p>ä¸€èˆ¬æ¥è¯´,ç´¢å¼•æœ¬èº«ä¹Ÿå¾ˆå¤§,ä¸å¯èƒ½å…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­,å› æ­¤ç´¢å¼•å¾€å¾€ä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Š</p>
<p>ç´¢å¼•ä¸å¤ªé€‚åˆåˆ é™¤å’Œä¿®æ”¹å¤šçš„åœºæ™¯,å› ä¸ºåˆ é™¤æ•°æ®çš„åŒæ—¶è¦åˆ é™¤ç´¢å¼•,ä¿®æ”¹æ•°æ®çš„åŒæ—¶è¦ä¿®æ”¹ç´¢å¼•,ç´¢å¼•ä¸ºä½•ä¼šå¤±æ•ˆ</p>
<p>æˆ‘ä»¬å¸¸è¯´çš„ç´¢å¼•,å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡æ˜,éƒ½æ˜¯æŒ‡Bæ ‘(å¤šè·¯æœç´¢æ ‘,å¹¶ä¸ä¸€å®šæ˜¯äºŒå‰çš„)ç»“æ„ç»„ç»‡çš„ç´¢å¼•.å…¶ä¸­èšé›†ç´¢å¼•,æ¬¡è¦ç´¢å¼•,è¦†ç›–ç´¢å¼•,ç¬¦åˆç´¢å¼•,å‰ç¼€ç´¢å¼•,å”¯ä¸€ç´¢å¼•é»˜è®¤éƒ½æ˜¯ä½¿ç”¨B+æ ‘ç´¢å¼•,ç»Ÿç§°ç´¢å¼•.å½“ç„¶,é™¤äº†B+æ ‘è¿™ç§ç±»å‹çš„ç´¢å¼•ä¹‹å¤–,è¿˜æœ‰å“ˆå¸Œç´¢å¼•(hash index)ç­‰.</p>
<ul>
<li>ä¼˜åŠ¿
<ul>
<li>ç±»ä¼¼å¤§å­¦å›¾ä¹¦é¦†å»ºä¹¦ç´¢å¼•,æé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡,é™ä½æ•°æ®åº“çš„IOæˆæœ¬</li>
<li>é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åº,é™ä½æ•°æ®æ’åºçš„æˆæœ¬,é™ä½äº†CPUçš„æ¶ˆè€—</li>
</ul>
</li>
<li>åŠ£åŠ¿
<ul>
<li>å®é™…ä¸Šç´¢å¼•ä¹Ÿæ˜¯ä¸€å¼ è¡¨,è¯¥è¡¨ä¿å­˜äº†ä¸»é”®ä¸ç´¢å¼•å­—æ®µ,å¹¶æŒ‡å‘å®ä½“è¡¨çš„è®°å½•,æ‰€ä»¥ç´¢å¼•åˆ—ä¹Ÿæ˜¯è¦å ç”¨ç©ºé—´çš„</li>
<li>è™½ç„¶ç´¢å¼•å¤§å¤§æé«˜äº†æŸ¥è¯¢é€Ÿåº¦,åŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦,å¦‚å¯¹è¡¨è¿›è¡Œinsert/update/delete.å› ä¸ºæ›´æ–°è¡¨æ—¶,mysqlä¸ä»…è¦ä¿å­˜æ•°æ®,è¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶æ¯æ¬¡æ›´æ–°æ·»åŠ äº†ç´¢å¼•åˆ—çš„å­—æ®µ,éƒ½ä¼šè°ƒæ•´å› ä¸ºæ›´æ–°æ‰€å¸¦æ¥çš„é”®å€¼å˜åŒ–åçš„ç´¢å¼•ä¿¡æ¯</li>
<li>ç´¢å¼•åªæ˜¯æé«˜æ•ˆç‡çš„ä¸€ä¸ªå› ç´ ,å¦‚æœä½ çš„mysqlæœ‰å¤§æ•°æ®é‡çš„è¡¨,å°±éœ€è¦èŠ±æ—¶é—´ç ”ç©¶å»ºç«‹æœ€ä¼˜ç§€çš„ç´¢å¼•,æˆ–ä¼˜åŒ–æŸ¥è¯¢</li>
</ul>
</li>
</ul>
<h5 id="mysqlç´¢å¼•åˆ†ç±»">mysqlç´¢å¼•åˆ†ç±»</h5>
<ul>
<li>å•å€¼ç´¢å¼•
<ul>
<li>å³ä¸€ä¸ªç´¢å¼•åªåŒ…å«å•ä¸ªåˆ—,ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå•åˆ—ç´¢å¼•</li>
</ul>
</li>
<li>å”¯ä¸€ç´¢å¼•
<ul>
<li>ç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€,ä½†å…è®¸ç©ºå€¼</li>
</ul>
</li>
<li>å¤åˆç´¢å¼•
<ul>
<li>å³ä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ—</li>
</ul>
</li>
<li>åŸºæœ¬è¯­æ³•
<ul>
<li>åˆ›å»º
<ul>
<li>create [unique] index indexName on tableName(columnName,&hellip;) ;</li>
<li>alter tableName add [unique] index [indexName] on (columnName(length)) ;</li>
</ul>
</li>
<li>åˆ é™¤
<ul>
<li>drop index [indexName] on tableName ;</li>
</ul>
</li>
<li>æŸ¥çœ‹
<ul>
<li>show index from tableName ;</li>
</ul>
</li>
<li>ä½¿ç”¨alterå‘½ä»¤
<ul>
<li>alter table tbl_name add primary key (column_list) ; è¯¥è¯­å¥æ·»åŠ ä¸€ä¸ªä¸»é”®,è¿™æ„å‘³è¿™ç´¢å¼•å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„,ä¸”ä¸èƒ½ä¸ºnull</li>
<li>alter table tbl_name add unique index_name (column_list) ; è¿™æ¡è¯­å¥åˆ›å»ºç´¢å¼•çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„,é™¤äº†nullä¹‹å¤–,nullå¯èƒ½ä¼šå‡ºç°å¤šæ¬¡</li>
<li>alter table tbl_name add index index_name (column_list) ; æ·»åŠ æ™®é€šç´¢å¼•,ç´¢å¼•å€¼å¯å‡ºç°å¤šæ¬¡</li>
<li>alter table tbl_name add fulltext index_name (column_list) ; è¯¥è¯­å¥æŒ‡å®šäº†ç´¢å¼•ä¸ºfulltext,ç”¨äºå…¨æ–‡ç´¢å¼•</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¸»é”®å¤–é”®å”¯ä¸€éƒ½æ˜¯ç´¢å¼•</span><span class="w"> </span><span class="err">æˆ‘ä»¬è¿™è¾¹è®²çš„æ˜¯é‚£ç§æ™®é€šç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">    </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">fk_dept_id</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------+------------+------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="mysqlç´¢å¼•çš„ç»“æ„">mysqlç´¢å¼•çš„ç»“æ„</h5>
<ul>
<li>Btreeç´¢å¼•
<ul>
<li>ç´¢å¼•åŸç†</li>
</ul>
</li>
<li>hashç´¢å¼•</li>
<li>full-textå…¨æ–‡ç´¢å¼•</li>
<li>R-Treeç´¢å¼•</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016093656515.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016093656515.png"
			
			
			
			loading="lazy"
			alt="image-20211016093656515">
	</a>
	
	<figcaption>image-20211016093656515</figcaption>
	
</figure></p>
<p><strong>åˆå§‹åŒ–ä»‹ç»</strong></p>
<p>ä¸€é¢—B+æ ‘,æµ…è“è‰²çš„å—æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç£ç›˜å—,å¯ä»¥çœ‹åˆ°æ¯ä¸ªç£ç›˜å—åŒ…å«äº†å‡ ä¸ªæ•°æ®é¡¹(æ·±è“è‰²æ‰€ç¤º)å’ŒæŒ‡é’ˆ(é»„è‰²æ‰€ç¤º),å¦‚ç£ç›˜å—1åŒ…å«æ•°æ®é¡¹17å’Œ35,åŒ…å«æŒ‡é’ˆP1P2P3</p>
<p>P1è¡¨ç¤ºå°äº17çš„ç£ç›˜å—,P2è¡¨ç¤ºåœ¨17å’Œ35ä¹‹é—´çš„ç£ç›˜å—,P3è¡¨ç¤ºå¤§äº35çš„ç£ç›˜å—</p>
<p>çœŸå®çš„æ•°æ®å­˜åœ¨äºå¶å­èŠ‚ç‚¹å³3ã€5ã€9ã€10ã€13ã€15ã€28ã€29ã€36ã€60ã€75ã€79ã€90ã€99</p>
<p>éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨çœŸå®çš„æ•°æ®,åªå­˜å‚¨æŒ‡å¼•æœç´¢æ–¹å‘çš„æ•°æ®é¡¹,å¦‚17ã€35å¹¶ä¸çœŸå®å­˜åœ¨ä¸æ•°æ®è¡¨ä¸­</p>
<p><strong>æŸ¥æ‰¾è¿‡ç¨‹</strong></p>
<p>å¦‚æœè¦æŸ¥æ‰¾æ•°æ®é¡¹29,é‚£ä¹ˆé¦–å…ˆä¼šæŠŠç£ç›˜å—1ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜,æ­¤æ—¶å‘ç”Ÿä¸€æ¬¡IO,åœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š29åœ¨17å’Œ35ä¹‹é—´,é”å®šç£ç›˜å—1çš„P2æŒ‡é’ˆ,å†…å­˜æ—¶é—´å› ä¸ºéå¸¸çŸ­(ç›¸æ¯”äºç£ç›˜çš„IO)å¯ä»¥å¿½ç•¥ä¸è®¡,é€šè¿‡ç£ç›˜å—1çš„P2æŒ‡é’ˆçš„ç£ç›˜åœ°å€æŠŠç£ç›˜å—3ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ä¸­,å‘ç”Ÿäº†ç¬¬äºŒæ¬¡IO,29åœ¨26å’Œ30ä¹‹é—´,é”å®šç£ç›˜å—3çš„P2æŒ‡é’ˆ,é€šè¿‡æŒ‡é’ˆåŠ è½½ç£ç›˜å—8åˆ°å†…å­˜,å‘ç”Ÿç¬¬ä¸‰æ¬¡IO,åŒæ—¶å†…å­˜ä¸­åšäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°29,ç»“æŸæŸ¥è¯¢,æ€»è®¡ä¸‰æ¬¡IO</p>
<p><strong>çœŸå®æƒ…å†µ</strong></p>
<p>3å±‚çš„b+æ ‘å¯ä»¥è¡¨ç¤ºä¸Šç™¾ä¸‡æ¡çš„æ•°æ®,å¦‚æœä¸Šç™¾ä¸‡çš„æ•°æ®æŸ¥æ‰¾åªéœ€è¦ä¸‰æ¬¡IO,æ€§èƒ½æé«˜å°†æ˜¯å·¨å¤§çš„,å¦‚æœæ²¡æœ‰ç´¢å¼•,æ¯ä¸ªæ•°æ®é¡¹éƒ½è¦å‘ç”Ÿä¸€æ¬¡IO,é‚£ä¹ˆæ€»å…±éœ€è¦ç™¾ä¸‡æ¬¡IO,æ˜¾ç„¶æˆæœ¬éå¸¸éå¸¸é«˜</p>
<h5 id="å“ªäº›æƒ…å†µéœ€è¦åˆ›å»ºç´¢å¼•">å“ªäº›æƒ…å†µéœ€è¦åˆ›å»ºç´¢å¼•</h5>
<ul>
<li>ä¸»é”®è‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼•</li>
<li>é¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µåº”è¯¥åˆ›å»ºç´¢å¼•</li>
<li>æŸ¥è¯¢ä¸­ä¸å…¶ä»–è¡¨å…³è”çš„å­—æ®µ,å¤–é”®å…³ç³»åº”è¯¥å»ºç«‹ç´¢å¼•</li>
<li>é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸é€‚åˆåˆ›å»ºç´¢å¼•
<ul>
<li>å› ä¸ºæ¯æ¬¡æ›´æ–°ä¸å•å•æ˜¯æ›´æ–°äº†è®°å½•è¿˜ä¼šæ›´æ–°ç´¢å¼•</li>
</ul>
</li>
<li>whereæ¡ä»¶é‡Œç”¨ä¸åˆ°çš„å­—æ®µä¸åˆ›å»ºç´¢å¼•</li>
<li>å•å€¼/å¤åˆç´¢å¼•çš„é€‰æ‹©é—®é¢˜
<ul>
<li>é«˜å¹¶å‘ä¸‹å€¾å‘åˆ›å»ºç»„åˆç´¢å¼•</li>
</ul>
</li>
<li>æŸ¥è¯¢ä¸­æ’åºçš„å­—æ®µ,æ’åºå­—æ®µè‹¥é€šè¿‡ç´¢å¼•å»è®¿é—®å°†å¤§å¤§æé«˜æ’åºé€Ÿåº¦</li>
<li>æŸ¥è¯¢ä¸­ç»Ÿè®¡æˆ–è€…åˆ†ç»„å­—æ®µ</li>
</ul>
<h5 id="å“ªäº›æƒ…å†µä¸è¦åˆ›å»ºç´¢å¼•">å“ªäº›æƒ…å†µä¸è¦åˆ›å»ºç´¢å¼•</h5>
<ul>
<li>è¡¨è®°å½•å¤ªå°‘</li>
<li>ç»å¸¸å¢åˆ æ”¹çš„è¡¨
<ul>
<li>æé«˜äº†æŸ¥è¯¢é€Ÿåº¦,åŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦,å¦‚å¯¹è¡¨è¿›è¡Œinsert/updateå’Œdelete,å› ä¸ºæ›´æ–°è¡¨æ—¶,mysqlä¸ä»…è¦ä¿å­˜æ•°æ®,è¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶</li>
</ul>
</li>
<li>æ•°æ®é‡å¤ä¸”åˆ†å¸ƒå‡åŒ€çš„è¡¨å­—æ®µ,å› æ­¤åº”è¯¥åªä¸ºæœ€ç»å¸¸æŸ¥è¯¢å’Œæœ€ç»å¸¸æ’åºçš„æ•°æ®åˆ—åˆ›å»ºç´¢å¼•.
<ul>
<li>æ³¨æ„,å¦‚æœæŸä¸ªæ•°æ®åˆ—åŒ…å«è®¸å¤šé‡å¤çš„å†…å®¹,ä¸ºå®ƒå»ºç«‹ç´¢å¼•å°±æ²¡æœ‰å¤ªå¤§çš„å®é™…æ•ˆæœ</li>
</ul>
</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016095439966.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016095439966.png"
			
			
			
			loading="lazy"
			alt="image-20211016095439966">
	</a>
	
	<figcaption>image-20211016095439966</figcaption>
	
</figure></p>
<h5 id="æ€§èƒ½åˆ†æ-1">æ€§èƒ½åˆ†æ</h5>
<h5 id="msyql-query-optimizer-æŸ¥è¯¢ä¼˜åŒ–å™¨">msyql query optimizer æŸ¥è¯¢ä¼˜åŒ–å™¨</h5>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016095805682.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016095805682.png"
			
			
			
			loading="lazy"
			alt="image-20211016095805682">
	</a>
	
	<figcaption>image-20211016095805682</figcaption>
	
</figure></p>
<h5 id="mysqlå¸¸è§ç“¶é¢ˆ">mysqlå¸¸è§ç“¶é¢ˆ</h5>
<ul>
<li>CPU cpuåœ¨é¥±å’Œçš„æ—¶å€™ä¸€èˆ¬å‘ç”Ÿåœ¨æ•°æ®è£…å…¥å†…å­˜æˆ–ä»ç£ç›˜ä¸Šè¯»å–æ•°æ®çš„æ—¶å€™</li>
<li>IO ç£ç›˜IOç“¶é¢ˆå‘ç”Ÿåœ¨è£…å…¥æ•°æ®è¿œå¤§äºå†…å­˜å®¹é‡çš„æ—¶å€™</li>
<li>æœåŠ¡å™¨ç¡¬ä»¶çš„æ€§èƒ½ç“¶é¢ˆ: top free iostat vmstat æ¥æŸ¥çœ‹ç³»ç»Ÿçš„æ€§èƒ½çŠ¶æ€</li>
<li>explain</li>
</ul>
<h5 id="explain">Explain</h5>
<ul>
<li>æ˜¯ä»€ä¹ˆ(æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’)
<ul>
<li>ä½¿ç”¨explainå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒsqlæŸ¥è¯¢è¯­å¥,ä»è€ŒçŸ¥é“mysqlæ˜¯å¦‚ä½•å¤„ç†ä½ çš„sqlè¯­å¥çš„.åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ</li>
<li>å®˜ç½‘ä»‹ç»</li>
</ul>
</li>
<li>èƒ½å¹²å˜›
<ul>
<li>è¡¨çš„è¯»å–é¡ºåº</li>
<li>æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹</li>
<li>å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨</li>
<li>å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨</li>
<li>è¡¨ä¹‹é—´çš„å¼•ç”¨</li>
<li>æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢</li>
</ul>
</li>
<li>æ€ä¹ˆç©
<ul>
<li>Explain + SQLè¯­å¥</li>
<li>æ‰§è¡Œè®¡åˆ’åŒ…å«çš„ä¿¡æ¯
<ul>
<li>è¡¨å¤´ id  select_type table partitions type possible_keys key ken_len ref rows filtered extra</li>
<li></li>
</ul>
</li>
</ul>
</li>
<li>å„å­—æ®µè§£é‡Š
<ul>
<li>id
<ul>
<li>selectæŸ¥è¯¢çš„åºåˆ—å·,åŒ…å«ä¸€ç»„æ•°å­—,è¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº</li>
<li>ä¸‰ç§æƒ…å†µ
<ul>
<li>idç›¸åŒ,æ‰§è¡Œé¡ºåºç”±ä¸Šåˆ°ä¸‹<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016101510820.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016101510820.png"
			
			
			
			loading="lazy"
			alt="image-20211016101510820">
	</a>
	
	<figcaption>image-20211016101510820</figcaption>
	
</figure></li>
<li>idä¸åŒ,å¦‚æœæ˜¯å­æŸ¥è¯¢,idçš„åºå·ä¼šé€’å¢,idå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜,è¶Šå…ˆè¢«æ‰§è¡Œ<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016101830835.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016101830835.png"
			
			
			
			loading="lazy"
			alt="image-20211016101830835">
	</a>
	
	<figcaption>image-20211016101830835</figcaption>
	
</figure></li>
<li>idç›¸åŒä¸åŒ,åŒæ—¶å­˜åœ¨<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016102234339.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016102234339.png"
			
			
			
			loading="lazy"
			alt="image-20211016102234339">
	</a>
	
	<figcaption>image-20211016102234339</figcaption>
	
</figure></li>
</ul>
</li>
</ul>
</li>
<li>select_type
<ul>
<li>æœ‰å“ªäº› simple primary subquery dirived union union result</li>
<li>æŸ¥è¯¢çš„ç±»å‹,ä¸»è¦æ˜¯ç”¨äºåŒºåˆ«æ™®é€šæŸ¥è¯¢/è”åˆæŸ¥è¯¢/å­æŸ¥è¯¢ç­‰çš„å¤æ‚æŸ¥è¯¢
<ul>
<li>simple ç®€å•çš„selectæŸ¥è¯¢,æŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…union</li>
<li>primary æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†,æœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸º</li>
<li>subquery åœ¨selectæˆ–whereåˆ—è¡¨ä¸­åŒ…å«äº†å­æŸ¥è¯¢</li>
<li>derived åœ¨fromåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºderived(è¡ç”Ÿ) mysqlä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢,æŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨é‡Œ</li>
<li>union è‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨unionä¹‹å,åˆ™è¢«æ ‡è®°ä¸ºunion;è‹¥unionåŒ…å«åœ¨fromå­å¥çš„å­æŸ¥è¯¢ä¸­,å¤–å±‚select å°†è¢«æ ‡è®°ä¸ºderived(å¾ˆæ­£å¸¸å˜›,unionä¹‹åçš„ç»“æœä½œä¸ºä¸´æ—¶è¡¨ æ‰€ä»¥è¢«æ ‡è®°ä¸ºderived)</li>
<li>union result ä»unionè¡¨è·å–ç»“æœçš„select</li>
</ul>
</li>
</ul>
</li>
<li>table æ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºé‚£äº›è¡¨çš„</li>
<li>type
<ul>
<li>all index range ref eq_ref const,system null</li>
<li>è®¿é—®ç±»å‹æ’åˆ— æ˜¾ç¤ºæŸ¥è¯¢ä½¿ç”¨äº†ä½•ç§ç±»å‹,æœ€å¥½åˆ°æœ€å·®ä¾æ¬¡æ˜¯ syste&gt;const&gt;eq_ref&gt;ref&gt;range&gt;index&gt;all<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016110536099-16343535365641.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016110536099-16343535365641.png"
			
			
			
			loading="lazy"
			alt="image-20211016110536099">
	</a>
	
	<figcaption>image-20211016110536099</figcaption>
	
</figure>
<ul>
<li>system è¡¨åªæœ‰ä¸€è¡Œè®°å½•(ç­‰äºç³»ç»Ÿè¡¨),è¿™æ˜¯constç±»å‹çš„ç‰¹ä¾‹,å¹³æ—¶ä¸ä¼šå‡ºç°,è¿™ä¸ªä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡</li>
<li>const  è¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†,constç”¨äºæ¯”è¾ƒprimary key æˆ–è€… uniqueç´¢å¼•,å› ä¸ºåªåŒ¹é…äº†ä¸€è¡Œæ•°æ®,æ‰€ä»¥å¾ˆå¿«,å¦‚å°†ä¸»é”®ç½®äºwhereåˆ—è¡¨ä¸­,mysqlå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016110923813.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016110923813.png"
			
			
			
			loading="lazy"
			alt="image-20211016110923813">
	</a>
	
	<figcaption>image-20211016110923813</figcaption>
	
</figure></li>
<li>eq_ref å”¯ä¸€æ€§ç´¢å¼•æ‰«æ,å¯¹äºæ¯ä¸ªç´¢å¼•é”®,è¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é….å¸¸ç”¨è¯­ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æ<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016112628359.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016112628359.png"
			
			
			
			loading="lazy"
			alt="image-20211016112628359">
	</a>
	
	<figcaption>image-20211016112628359</figcaption>
	
</figure></li>
<li>ref éå”¯ä¸€æ€§ç´¢å¼•æ‰«æ,è¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œ.æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®,ä»–è¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œ,ç„¶è€Œ,å¥¹å¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œ,æ‰€ä»¥ä»–åº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“.<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016113043870.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016113043870.png"
			
			
			
			loading="lazy"
			alt="image-20211016113043870">
	</a>
	
	<figcaption>image-20211016113043870</figcaption>
	
</figure></li>
<li>range åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œ,ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œ. keyåˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•,ä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°äº†between &lt; &gt; in ç­‰çš„æŸ¥è¯¢,è¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ‰«ææ¯”å…¨è¡¨æ‰«æè¦å¥½,å› ä¸ºå®ƒåªéœ€è¦å¼€å§‹äºç´¢å¼•çš„æŸä¸€ç‚¹,è€Œç»“æŸäºå¦ä¸€ç‚¹,ä¸ç”¨æ‰«æå…¨éƒ¨ç´¢å¼•<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016113701811.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016113701811.png"
			
			
			
			loading="lazy"
			alt="image-20211016113701811">
	</a>
	
	<figcaption>image-20211016113701811</figcaption>
	
</figure></li>
<li>index (full index san) indexä¸allçš„åŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘.è¿™é€šå¸¸æ¯”allå¿«,å› ä¸ºç´¢å¼•æ–‡ä»¶æ¯”æ•°æ®æ–‡ä»¶å° ä¹Ÿå°±æ˜¯è¯´è™½ç„¶allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨,ä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„,è€Œallæ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–çš„<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016114028963.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016114028963.png"
			
			
			
			loading="lazy"
			alt="image-20211016114028963">
	</a>
	
	<figcaption>image-20211016114028963</figcaption>
	
</figure></li>
<li>all (full table scan) å°†éå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œ<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016114058619.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016114058619.png"
			
			
			
			loading="lazy"
			alt="image-20211016114058619">
	</a>
	
	<figcaption>image-20211016114058619</figcaption>
	
</figure></li>
<li>**æ³¨æ„:**ä¸€èˆ¬æ¥è¯´,å¾—ä¿è¯æŸ¥è¯¢è‡³å°‘æ‰“åˆ°rangeçº§åˆ«,æœ€å¥½èƒ½å¤Ÿè¾¾åˆ°ref</li>
</ul>
</li>
</ul>
</li>
<li>possible_keys
<ul>
<li>ç”¨æ¥åˆ¤æ–­ç´¢å¼•ç”¨ä¸Šæ²¡,ç´¢å¼•å¤±æ•ˆæ²¡ æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•,ä¸€ä¸ªæˆ–å¤šä¸ª.æŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•,åˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡º,<strong>ä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨</strong></li>
</ul>
</li>
<li>key
<ul>
<li><strong>å®é™…ä½¿ç”¨çš„ç´¢å¼•</strong>.å¦‚æœä¸ºnull,åˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</li>
<li><strong>æŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•,åˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨keyåˆ—è¡¨ä¸­</strong></li>
</ul>
</li>
<li>key_len
<ul>
<li>è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°,å¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦.åœ¨ä¸æŸå¤±ç²¾ç¡®æ€§çš„æƒ…å†µä¸‹,é•¿åº¦è¶ŠçŸ­è¶Šå¥½</li>
<li>key_lenæ˜¾ç¤ºçš„å€¼ä¸ºç´¢å¼•å­—æ®µçš„æœ€å¤§å¯èƒ½é•¿åº¦,å¹¶éå®é™…ä½¿ç”¨é•¿åº¦,å³key_lenæ˜¯æ ¹æ®è¡¨å®šä¹‰è®¡ç®—è€Œå¾—,ä¸æ˜¯é€šè¿‡è¡¨å†…æ£€ç´¢å‡ºçš„ åŒæ ·çš„æŸ¥è¯¢æ¡ä»¶ä¸‹,ç²¾åº¦è¶Šå°è¶Šå¥½<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016145227350.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016145227350.png"
			
			
			
			loading="lazy"
			alt="image-20211016145227350">
	</a>
	
	<figcaption>image-20211016145227350</figcaption>
	
</figure></li>
</ul>
</li>
<li>ref æ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†,å¦‚æœå¯èƒ½çš„è¯,æ˜¯ä¸€ä¸ªå¸¸æ•°.é‚£äº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016145926736.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016145926736.png"
			
			
			
			loading="lazy"
			alt="image-20211016145926736">
	</a>
	
	<figcaption>image-20211016145926736</figcaption>
	
</figure></li>
<li>rows æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µ,å¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¦è¯»å–çš„è¡Œæ•°<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016150445129.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016150445129.png"
			
			
			
			loading="lazy"
			alt="image-20211016150445129">
	</a>
	
	<figcaption>image-20211016150445129</figcaption>
	
</figure></li>
<li>extra åŒ…å«ä¸é€‚åˆåœ¨å…¶ä»–åˆ—ä¸­æ˜¾ç¤ºä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯</li>
</ul>
</li>
</ul>
<h5 id="extraä¿¡æ¯">extraä¿¡æ¯</h5>
<ul>
<li><strong>using filesort</strong> è¯´æ˜mysqlä¼šå¯¹æ•°æ®ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„ç´¢å¼•æ’åº,è€Œä¸æ˜¯æŒ‰ç…§è¡¨å†…çš„ç´¢å¼•é¡ºåºè¿›è¡Œè¯»å– mysqlä¸­æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆçš„æ’åºæ“ä½œç§°ä¸ºæ–‡ä»¶æ’åº å‡ºç°è¿™ä¸ªä¸œè¥¿ä¸å¥½ å¦‚æœå¯ä»¥å°½å¿«ä¼˜åŒ–<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016151320887.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016151320887.png"
			
			
			
			loading="lazy"
			alt="image-20211016151320887">
	</a>
	
	<figcaption>image-20211016151320887</figcaption>
	
</figure></li>
<li><strong>using temporary</strong> ä½¿ç”¨äº†ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœ,mysqlåœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨.å¸¸è§äºæ’åºorder byå’Œåˆ†ç»„æŸ¥è¯¢group by ä½¿ç”¨ä¸´æ—¶è¡¨ä¼šæŸä¼¤æ•°æ®åº“æ€§èƒ½ ç”¨å®Œè¿˜è¦å›æ”¶ è¿™ä¸ªå¾ˆä¸å¥½å“¦<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016151757718.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016151757718.png"
			
			
			
			loading="lazy"
			alt="image-20211016151757718">
	</a>
	
	<figcaption>image-20211016151757718</figcaption>
	
</figure></li>
<li><strong>using index</strong>
<ul>
<li>è¡¨ç¤ºç›¸åº”çš„selectæ“ä½œä¸­ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•covering index , é¿å…äº†è®¿é—®äº†è¡¨çš„çš„æ•°æ®è¡Œ,æ•ˆç‡ä¸é”™!</li>
<li>å¦‚æœåŒæ—¶å‡ºç°using where ,è¡¨æ˜ç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾</li>
<li>å¦‚æœæ²¡æœ‰åŒæ—¶å‡ºç°using where , è¡¨æ˜ç´¢å¼•ç”¨æ¥è¯»å–æ•°æ®è€Œéæ‰§è¡ŒæŸ¥æ‰¾åŠ¨ä½œ</li>
<li>è¦†ç›–ç´¢å¼• å»ºäº†3ä¸ªç´¢å¼•,æŸ¥çš„ä¹Ÿæ˜¯3ä¸ª å…¨è¦†ç›– <figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152608867.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152608867.png"
			
			
			
			loading="lazy"
			alt="image-20211016152608867">
	</a>
	
	<figcaption>image-20211016152608867</figcaption>
	
</figure><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152333029.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152333029.png"
			
			
			
			loading="lazy"
			alt="image-20211016152333029">
	</a>
	
	<figcaption>image-20211016152333029</figcaption>
	
</figure></li>
</ul>
</li>
<li>using where è¡¨æ˜ä½¿ç”¨äº†whereæ¡ä»¶</li>
<li>using join buffer è¡¨æ˜ä½¿ç”¨äº†è¿æ¥ç¼“å­˜</li>
<li>impossible where è¡¨æ˜whereå­å¥çš„å€¼æ€»æ˜¯false , ä¸èƒ½ç”¨æ¥è·å–ä»»ä½•å…ƒç»„<figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152746052.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016152746052.png"
			
			
			
			loading="lazy"
			alt="image-20211016152746052">
	</a>
	
	<figcaption>image-20211016152746052</figcaption>
	
</figure></li>
<li>select tables optimized away
<ul>
<li>åœ¨æ²¡æœ‰groupbyå­å¥çš„æƒ…å†µä¸‹,åŸºäºç´¢å¼•ä¼˜åŒ–min/maxæ“ä½œæˆ–è€…å¯¹äºmyisamå­˜å‚¨å¼•æ“ä¼˜åŒ–count(*)æ“ä½œ,ä¸å¿…ç­‰åˆ°æ‰§è¡Œé˜¶æ®µå†è¿›è¡Œè®¡ç®—,æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ç”Ÿæˆçš„é˜¶æ®µå³å®Œæˆä¼˜åŒ–.</li>
</ul>
</li>
<li>select distinct ä¼˜åŒ–distinctæ“ä½œ,åœ¨æ‰¾åˆ°ç¬¬ä¸€åŒ¹é…çš„å…ƒç»„åç«‹å³åœæ­¢æŸ¥æ‰¾åŒæ ·å€¼çš„æ“ä½œ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä½¿ç”¨</span><span class="n">explainå…³é”®å­—</span><span class="w"> </span><span class="err">è¿›è¡Œæ€§èƒ½åˆ†æ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">deptId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">eq_ref</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UNION</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UNION</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">fk_dept_id</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">fk_dept_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="p">.</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UNION</span><span class="w"> </span><span class="k">RESULT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">&lt;</span><span class="n">union1</span><span class="p">,</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">temporary</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------------+------------+------------+--------+---------------+------------+---------+----------------+------+----------+-----------------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="çƒ­èº«case">çƒ­èº«case</h5>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016153657227.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016153657227.png"
			
			
			
			loading="lazy"
			alt="image-20211016153657227">
	</a>
	
	<figcaption>image-20211016153657227</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016153809882.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016153809882.png"
			
			
			
			loading="lazy"
			alt="image-20211016153809882">
	</a>
	
	<figcaption>image-20211016153809882</figcaption>
	
</figure></p>
<h5 id="ç´¢å¼•ä¼˜åŒ–-2">ç´¢å¼•ä¼˜åŒ–</h5>
<ul>
<li>
<p>ç´¢å¼•åˆ†æ</p>
<ul>
<li>
<p>å•è¡¨</p>
</li>
<li>
<p>ä¸¤è¡¨</p>
</li>
<li>
<p>ä¸‰è¡¨</p>
</li>
</ul>
</li>
<li>
<p>ç´¢å¼•å¤±æ•ˆ(åº”è¯¥é¿å…)</p>
</li>
<li>
<p>ä¸€èˆ¬æ€§å»ºè®®</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å»ºè¡¨</span><span class="w"> </span><span class="err">å•è¡¨ç¤ºä¾‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="n">article</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">author_id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">category_id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">views</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">comments</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">title</span><span class="o">`</span><span class="w"> </span><span class="n">VARBINARY</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">content</span><span class="o">`</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">article</span><span class="o">`</span><span class="p">(</span><span class="o">`</span><span class="n">author_id</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">category_id</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">views</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">comments</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">title</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">content</span><span class="o">`</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">article</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-----------+-------------+-------+----------+--------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">author_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">category_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">views</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">title</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-----------+-------------+-------+----------+--------------+---------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="n">x31</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="n">x32</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="n">x33</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-----------+-------------+-------+----------+--------------+---------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ€§èƒ½åˆ†æ</span><span class="w">  </span><span class="n">typeæ˜¯all</span><span class="w"> </span><span class="err">è¯´æ˜æ˜¯å…¨è¡¨æ‰«æ</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ˜¾ç„¶</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="err">ä¹Ÿæ˜¯æœ€åçš„æƒ…å†µ</span><span class="w"> </span><span class="err">å‘ç”Ÿäº†æ–‡ä»¶å†…æ’åº</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">author_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">1</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">views</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¦‚æœåˆ›å»ºçš„ç´¢å¼•æ˜¯</span><span class="n">ccv</span><span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="err">å˜æˆäº†</span><span class="n">range</span><span class="w"> </span><span class="n">extraè¿˜æ˜¯filesort</span><span class="w"> </span><span class="err">å¥½äº†ç‚¹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_ccv</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">article</span><span class="p">(</span><span class="n">category_id</span><span class="p">,</span><span class="n">comments</span><span class="p">,</span><span class="n">views</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">author_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">1</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">views</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_ccv</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">idx_ccv</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">8</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+---------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_ccv</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016171713970.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016171713970.png"
			
			
			
			loading="lazy"
			alt="image-20211016171713970">
	</a>
	
	<figcaption>image-20211016171713970</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_cv</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">article</span><span class="p">(</span><span class="n">category_id</span><span class="p">,</span><span class="n">views</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŠŠèŒƒå›´çš„å»æ‰</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">author_id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">category_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">1</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">views</span><span class="w"> </span><span class="k">desc</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">article</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_cv</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">idx_cv</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Backward</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">scan</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+---------+------------+------+---------------+--------+---------+-------+------+----------+----------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¸¤è¡¨</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="k">class</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">card</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="n">book</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">bookid</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">card</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="o">`</span><span class="n">bookid</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ†æ</span><span class="w"> </span><span class="err">éƒ½æ˜¯å…¨è¡¨æ‰«æ</span><span class="w"> </span><span class="err">å¾ˆå‡ æŠŠææ€–</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                                      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="k">join</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼˜åŒ–</span><span class="w"> </span><span class="err">å…ˆç»™å³è¿æ¥çš„å·¦è¡¨å®šç´¢å¼•</span><span class="w"> </span><span class="err">åŒç†</span><span class="w"> </span><span class="err">æˆ–è€…ç»™å·¦è¿æ¥çš„å³è¡¨å®šç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="n">card</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">typeå˜æˆrefäº†</span><span class="w"> </span><span class="err">æœ‰ç‚¹æ„æ€</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="err">å¾ˆå¥½</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">         </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Y</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Y</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="p">.</span><span class="k">c</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+--------------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸çŸ¥é“ç»™å·¦è¾¹æ·»åŠ ç´¢å¼•å¥½è¿˜æ˜¯ç»™å³è¾¹æ·»åŠ å¥½</span><span class="w"> </span><span class="err">æ‰€ä»¥å†è¯•è¯•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="n">card</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å‘ç°æ²¡æœ‰ç”¨</span><span class="w"> </span><span class="err">ä¸ºå•¥å‘¢</span><span class="w"> </span><span class="err">å› ä¸ºå³è¿æ¥</span><span class="w"> </span><span class="err">æ²¡æœ‰</span><span class="n">whereçš„è¯å³è¾¹æ˜¯è‚¯å®šæ˜¯å…¨éƒ½æœ‰çš„</span><span class="w"> </span><span class="err">åŠ äº†ç´¢å¼•æœ‰å•¥ç”¨å•Š</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                                      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">Y</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w">                                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="k">join</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ é™¤ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016174325936.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016174325936.png"
			
			
			
			loading="lazy"
			alt="image-20211016174325936">
	</a>
	
	<figcaption>image-20211016174325936</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä¸‰è¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="n">phone</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">phoneid</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">card</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="o">`</span><span class="n">phoneid</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">éƒ½æ˜¯</span><span class="k">all</span><span class="w"> </span><span class="err">å¾ˆå·®åŠ²</span><span class="w"> </span><span class="mi">20</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">class</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">phone</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                                      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">                                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="k">join</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="k">join</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">z</span><span class="p">(</span><span class="n">card</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">book</span><span class="p">(</span><span class="n">card</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">class</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">phone</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">book</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">y</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">y</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="p">.</span><span class="k">class</span><span class="p">.</span><span class="n">card</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">girls</span><span class="p">.</span><span class="n">book</span><span class="p">.</span><span class="n">card</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+-------+------------+------+---------------+------+---------+------------------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016193542297.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016193542297.png"
			
			
			
			loading="lazy"
			alt="image-20211016193542297">
	</a>
	
	<figcaption>image-20211016193542297</figcaption>
	
</figure></p>
<h5 id="ç´¢å¼•å¤±æ•ˆåº”è¯¥é¿å…">ç´¢å¼•å¤±æ•ˆ(åº”è¯¥é¿å…)</h5>
<ul>
<li>
<p>å…¨å€¼åŒ¹é…æˆ‘æœ€çˆ±</p>
</li>
<li>
<p>æœ€ä½³å·¦å‰ç¼€æ³•åˆ™</p>
<ul>
<li>å¦‚æœç´¢å¼•äº†å¤šåˆ—,è¦éµå®ˆæœ€å·¦å‰ç¼€æ³•åˆ™.æŒ‡çš„æ˜¯æŸ¥è¯¢ä»ç´¢å¼•çš„<strong>æœ€å·¦å‰åˆ—</strong>å¼€å§‹<strong>å¹¶ä¸”ä¸è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—</strong><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016195626235.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016195626235.png"
			
			
			
			loading="lazy"
			alt="image-20211016195626235">
	</a>
	
	<figcaption>image-20211016195626235</figcaption>
	
</figure></li>
</ul>
</li>
<li>
<p>ä¸åœ¨ç´¢å¼•åˆ—ä¸Šåšä»»ä½•æ“ä½œ(è®¡ç®—/å‡½æ•°/è‡ªåŠ¨æ‰‹åŠ¨ç±»å‹è½¬æ¢),ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆè€Œè½¬å‘å…¨è¡¨æ‰«æ</p>
<ul>
<li>
<p>å°‘è®¡ç®—</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å¯¹ç´¢å¼•åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢åä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„é—®é¢˜</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">left</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div></li>
</ul>
</li>
<li>
<p>å­˜å‚¨å¼•æ“ä¸èƒ½ä½¿ç”¨ç´¢å¼•ä¸­èŒƒå›´æ¡ä»¶å³è¾¹çš„åˆ—</p>
<ul>
<li>èŒƒå›´åé¢çš„ç´¢å¼•éƒ½å¤±æ•ˆäº† between and  / in / like</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">éƒ½ç”¨åˆ°äº†</span><span class="w"> </span><span class="err">ä¸‰ä¸ªç´¢å¼•</span><span class="w"> </span><span class="mi">140</span><span class="err">çš„é•¿åº¦</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="mi">25</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">140</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨åˆ°äº†ä¸¤ä¸ª</span><span class="w"> </span><span class="err">å› ä¸ºèŒƒå›´åçš„ç´¢å¼•å¤±æ•ˆäº†</span><span class="w"> </span><span class="mi">78</span><span class="err">é•¿åº¦</span><span class="w"> </span><span class="err">è¯´æ˜ç¬¬äºŒä¸ªç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">25</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">78</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div></li>
<li>
<p>å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•(åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢(ç´¢å¼•åˆ—å’ŒæŸ¥è¯¢åˆ—ä¸€è‡´)),å‡å°‘select *</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">æŸ¥æ‰¾æ‰€æœ‰å­—æ®µ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="mi">25</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">140</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å°±åªæŸ¥æ‰¾ç´¢å¼•</span><span class="w"> </span><span class="err">ç´¢å¼•è¦†ç›–</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="err">å˜æˆ</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="err">æ˜¯ä¸ªå¥½å…†å¤´</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="mi">25</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="o">=</span><span class="s1">&#39;manager&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">140</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016201217849.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016201217849.png"
			
			
			
			loading="lazy"
			alt="image-20211016201217849">
	</a>
	
	<figcaption>image-20211016201217849</figcaption>
	
</figure></p>
</li>
<li>
<p>mysqlåœ¨ä½¿ç”¨ä¸ç­‰äº!= æˆ–è€… &lt;&gt;çš„æ—¶å€™æ— æ³•ä½¿ç”¨ç´¢å¼• , ä¼šå¯¼è‡´å…¨è¡¨æ‰«æ</p>
</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016201756985.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016201756985.png"
			
			
			
			loading="lazy"
			alt="image-20211016201756985">
	</a>
	
	<figcaption>image-20211016201756985</figcaption>
	
</figure></p>
<ul>
<li>is null  , is not null ä¹Ÿæ— æ³•ä½¿ç”¨ç´¢å¼•</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016202018668.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211016202018668.png"
			
			
			
			loading="lazy"
			alt="image-20211016202018668">
	</a>
	
	<figcaption>image-20211016202018668</figcaption>
	
</figure></p>
<ul>
<li>
<p>like ä»¥é€šé…ç¬¦å¼€å¤´ ('%abc&hellip;') mysqlç´¢å¼•å¤±æ•ˆä¼šå˜æˆå…¨è¡¨æ‰«æçš„æ“ä½œ</p>
<ul>
<li>åªæœ‰æŠŠ%å†™åœ¨å³è¾¹æ‰èƒ½é¿å…ç´¢å¼•å¤±æ•ˆ</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="o">#</span><span class="err">ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%July%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ”¾åœ¨å·¦è¾¹ä¹Ÿå¤±æ•ˆ</span><span class="w">  </span><span class="err">æ¯•ç«Ÿä¸å…¨è¡¨æ‰«æ€ä¹ˆçŸ¥é“æ˜¯å¦æ‰¾å…¨äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%July&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰å¤±æ•ˆ</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;July%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">74</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+-----------------------+-----------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>é—®é¢˜æ˜¯è§£å†³like'%å­—ç¬¦%&lsquo;æ—¶ç´¢å¼•ä¸å¤±æ•ˆ???</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">tbl_user</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">NAME</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">`</span><span class="n">age</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="o">=</span><span class="n">INNODB</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨è¦†ç›–ç´¢å¼•æ¥è§£å†³</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">tbl_user</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">indexäº†</span><span class="w"> </span><span class="err">è¯´æ˜ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">idx_user_nameAge</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">68</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+-------+---------------+------------------+---------+------+------+----------+--------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰è¦†ç›–åˆ°ç´¢å¼•</span><span class="w"> </span><span class="err">ï¼Œ</span><span class="w"> </span><span class="err">ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰å®Œå…¨è¦†ç›–</span><span class="w"> </span><span class="err">ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="n">email</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%aa%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">tbl_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div></li>
<li>
<p>å­—ç¬¦ä¸²ä¸åŠ å•å¼•å·ç´¢å¼•å¤±æ•ˆ</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;2000&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NAME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">add_time</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">23</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="mi">19</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">15</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¼šå‘ç”Ÿéšå¼è½¬æ¢</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="mi">2000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NAME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">add_time</span><span class="w">            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">23</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="mi">19</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">15</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+-----+-----+---------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;2000&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">74</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å’Œç¬¬ä¸‰ä¸ªå»åˆ</span><span class="w">  </span><span class="err">éšå¼è‡ªåŠ¨è½¬æ¢</span><span class="w"> </span><span class="err">è‡ªåŠ¨è½¬æ¢ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="mi">2000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>å°‘ç”¨or ,  ç”¨å®ƒæ¥è¿æ¥æ—¶ä¼šç´¢å¼•å¤±æ•ˆ</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017095517319.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017095517319.png"
			
			
			
			loading="lazy"
			alt="image-20211017095517319">
	</a>
	
	<figcaption>image-20211017095517319</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å»ºè¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">staffs</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">NAME</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å§“å&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å¹´é¾„&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;èŒä½&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">add_time</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å…¥èŒæ—¶é—´&#39;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="n">CHARSET</span><span class="w"> </span><span class="n">utf8</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å‘˜å·¥è®°å½•è¡¨&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ·»åŠ ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹ç´¢å¼•</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">show</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">Non_unique</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Key_name</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">Seq_in_index</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Column_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Collation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Cardinality</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Sub_part</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Packed</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Index_comment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Visible</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Expression</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w">               </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NAME</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">age</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pos</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w">         </span><span class="o">|</span><span class="w">           </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">BTREE</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŒºå¥½çš„å“ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">74</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸¤ä¸ªæ¡ä»¶</span><span class="w">  </span><span class="n">key_lenè¶Šæ¥è¶Šå¤§</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">78</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸‰ä¸ªæ¡ä»¶</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="mi">25</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">140</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é—®é¢˜æ¥äº†</span><span class="w"> </span><span class="err">æ²¡æœ‰</span><span class="n">name</span><span class="w"> </span><span class="err">åªç”¨</span><span class="n">ageå’Œposçš„æ—¶å€™å˜æˆäº†å…¨è¡¨æ‰«æ</span><span class="w"> </span><span class="err">ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="mi">23</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰</span><span class="n">name</span><span class="w"> </span><span class="err">åªç”¨</span><span class="n">poså˜æˆäº†å…¨è¡¨æ‰«æ</span><span class="w"> </span><span class="err">ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w">  </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ALL</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¿…é¡»è¦æœ‰</span><span class="n">name</span><span class="w"> </span><span class="err">å¸¦å¤´å¤§å“¥ä¸èƒ½æ­»</span><span class="w"> </span><span class="err">æœ€ä½³å·¦å‰ç¼€æ³•åˆ™</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">74</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è™½ç„¶ç”¨åˆ°ç´¢å¼•äº†</span><span class="w"> </span><span class="err">ä½†æ˜¯ä»ç´¢å¼•çš„é•¿åº¦å¯ä»¥çœ‹å‡º</span><span class="w"> </span><span class="err">åªç”¨äº†</span><span class="n">nameè¿™ä¸ªç´¢å¼•</span><span class="w"> </span><span class="err">å› ä¸ºä¸­é—´çš„</span><span class="n">ageä¸¢äº†</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;July&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dev&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">staffs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_staffs_nameAgePos</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">74</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">33</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+-----------------------+-----------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017095823171.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017095823171.png"
			
			
			
			loading="lazy"
			alt="image-20211017095823171">
	</a>
	
	<figcaption>image-20211017095823171</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017100150557.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211017100150557.png"
			
			
			
			loading="lazy"
			alt="image-20211017100150557">
	</a>
	
	<figcaption>image-20211017100150557</figcaption>
	
</figure></p>
<p>å¯èƒ½æœ‰ç‚¹å°é—®é¢˜,åˆ°æ—¶å€™å‹˜è¯¯ä¸€ä¸‹</p>
<p><strong>ç»ƒä¹ ä¸€ä¸‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test03</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">c3</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">c4</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">c5</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+------+------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+------+------+------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">a2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">a3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">a4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">a5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">b2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">b3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">b4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">b5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">c5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">d1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">d2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">d3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">d4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">d5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e1</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">e2</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">e3</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">e4</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">e5</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+------+------+------+------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">test03</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="p">,</span><span class="n">c4</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨åˆ°äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç´¢å¼•åœ¨é€æ¸é€’å¢</span><span class="w"> </span><span class="n">key_len</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">mysqlä¼šè‡ªæˆ‘ä¼˜åŒ–</span><span class="w"> </span><span class="err">ä¼˜åŒ–å¸¸é‡çš„æŸ¥è¯¢é¡ºåº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c1</span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç´¢å¼•åœ¨é€æ¸é€’å¢</span><span class="w"> </span><span class="n">key_len</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c3</span><span class="o">=</span><span class="s1">&#39;a3&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">93</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c3</span><span class="o">=</span><span class="s1">&#39;a3&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">124</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">mysqlä¼šè‡ªæˆ‘ä¼˜åŒ–</span><span class="w"> </span><span class="err">ä¼˜åŒ–å¸¸é‡çš„æŸ¥è¯¢é¡ºåº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c3</span><span class="o">=</span><span class="s1">&#39;a3&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">124</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">èŒƒå›´åé¢å…¨å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c3</span><span class="o">&gt;</span><span class="s1">&#39;a3&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">93</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æˆ‘è§‰å¾—æ˜¯</span><span class="mi">4</span><span class="err">ä¸ª</span><span class="w"> </span><span class="err">æŸ¥è¯¢é¡ºåºä¼šè¢«</span><span class="n">mysqlä¼˜åŒ–</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">&gt;</span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c3</span><span class="o">=</span><span class="s1">&#39;a3&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">124</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+-------+------------------+------------------+---------+------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">c3æ²¡æœ‰ç»Ÿè®¡åˆ°é‡Œé¢</span><span class="w"> </span><span class="err">ç”¨äºæ’åºäº†è€Œä¸æ˜¯æŸ¥æ‰¾</span><span class="w"> </span><span class="n">c4å°±å¤±æ•ˆäº†å‘—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å’Œä¸Šé¢çš„æ²¡ä»€ä¹ˆåŒºåˆ«</span><span class="w"> </span><span class="n">c3ç”¨å»æ’åºäº†</span><span class="w"> </span><span class="err">æ‰€ä»¥</span><span class="n">c4å°±å¤±æ•ˆäº†å‘—</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨åˆ°äº†ç´¢å¼•</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="err">å’Œ</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="err">ä½†æ˜¯æŠ“åˆ°æ•°æ®ä¹‹å</span><span class="p">,</span><span class="err">ç”±äºç´¢å¼•è®¾ç½®çš„æ˜¯</span><span class="n">a1a2a3a4é»˜è®¤çš„æ’åºæ˜¯a1a2a3a4ä½†æ˜¯ä½ è¿™è¾¹ç›´æ¥</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">å¼€å§‹ç”¨</span><span class="n">a4å¼€å§‹æ’</span><span class="w"> </span><span class="err">ä½ è¿˜æ˜¯äººå—</span><span class="w"> </span><span class="err">è¿™æ ·æŠ“åˆ°æ•°æ®ä¹‹åè¿˜éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ–‡ä»¶å†…éƒ¨çš„æ’åºæ‰èƒ½å±•ç¤ºç»™å¤§å®¶</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">          </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+----------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨åˆ°äº†ç´¢å¼•</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="err">ä½†æ˜¯æ’åºæŒ‰ç…§</span><span class="n">a2</span><span class="w"> </span><span class="n">a3æ’åº</span><span class="w"> </span><span class="err">ä¸ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c5</span><span class="o">=</span><span class="s1">&#39;a5&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç”¨åˆ°äº†ç´¢å¼•</span><span class="n">a1</span><span class="w"> </span><span class="err">ä½†æ˜¯æ’åºæŒ‰ç…§</span><span class="n">a3</span><span class="w"> </span><span class="n">a2æ’åº</span><span class="w"> </span><span class="err">ä¸ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</span><span class="w"> </span><span class="err">ä½†æ˜¯æ£€ç´¢åˆ°æ•°æ®ä¹‹å</span><span class="p">,</span><span class="err">æ’åºä¸æ˜¯ç´¢å¼•é»˜è®¤çš„æ’åºè§„åˆ™</span><span class="n">a1</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="n">a3</span><span class="w"> </span><span class="err">è€Œæ˜¯</span><span class="n">a3</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="err">æ‰€ä»¥æ£€ç´¢åˆ°ååˆæŒ‰ç…§æ–‡ä»¶å†…æ’åº</span><span class="w"> </span><span class="err">æ‹äº†ä¸€é</span><span class="w">  </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c5</span><span class="o">=</span><span class="s1">&#39;a5&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="p">,</span><span class="n">c2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æ²¡æœ‰é—®é¢˜å“ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¹Ÿæ²¡æœ‰é—®é¢˜å“ˆ</span><span class="w"> </span><span class="err">ç´¢å¼•å°±ç»™äº†</span><span class="mi">1234</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c5</span><span class="o">=</span><span class="s1">&#39;c5&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸æ˜¯è¯´</span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="err">çš„é¡ºåºæ˜¯è¦å’Œç´¢å¼•å»ºç«‹çš„é¡ºåºä¿æŒä¸€è‡´å—</span><span class="w"> </span><span class="err">ä¸ºå•¥ä¸ä¼šå‡ºç°æ–‡ä»¶å†…æ’åºå‘¢</span><span class="w"> </span><span class="err">é‚£æ˜¯å› ä¸º</span><span class="n">c2</span><span class="o">=</span><span class="n">a2å‡ºç°åœ¨whereä¸­</span><span class="p">,</span><span class="err">ç›¸å½“äºä½ </span><span class="k">order</span><span class="w"> </span><span class="n">byçš„æ’åºå·²ç»æ²¡æœ‰ç”¨å¤„äº†</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c2</span><span class="o">=</span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c5</span><span class="o">=</span><span class="s1">&#39;c5&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="p">,</span><span class="n">c2</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">62</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------------+------+----------+-------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è¿™ä¸ªæ²¡é—®é¢˜å“ˆ</span><span class="w"> </span><span class="n">c3</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="err">ä¼šå¯¼è‡´æ–‡ä»¶å†…æ’åº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c5</span><span class="o">=</span><span class="s1">&#39;c5&#39;</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="p">,</span><span class="n">c2</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">where</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="n">filesort</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç´¢å¼•æ²¡æœ‰å¤±æ•ˆ</span><span class="w"> </span><span class="err">ä½†æ˜¯åªç”¨åˆ°äº†ä¸€ä¸ª</span><span class="w"> </span><span class="err">æ²¡æœ‰å‘ç”Ÿæ–‡ä»¶å†…æ’åº</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                 </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+-----------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ç´¢å¼•æ²¡é—®é¢˜</span><span class="w"> </span><span class="err">ä½¿ç”¨äº†éƒ¨åˆ†ç´¢å¼•</span><span class="w"> </span><span class="err">ä½†æ˜¯åˆ†ç»„çš„æ—¶å€™</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">temporary</span><span class="w"> </span><span class="err">åæ­»æ— ç”Ÿå•Š</span><span class="w"> </span><span class="err">åˆ†ç»„å‰å¿…æ’åº</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">c1</span><span class="o">=</span><span class="s1">&#39;a1&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c4</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">c3</span><span class="p">,</span><span class="n">c2</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">table</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">partitions</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">possible_keys</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="k">key</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">key_len</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Extra</span><span class="w">                                  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SIMPLE</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">test03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">ref</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">idx_test03_c1234</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">31</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">condition</span><span class="p">;</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">temporary</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+--------+------------+------+------------------+------------------+---------+-------+------+----------+----------------------------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>æ€»ç»“</strong></p>
<p>å®šå€¼ / èŒƒå›´ è¿˜æ˜¯æ’åº , ä¸€èˆ¬order by æ˜¯ç»™ä¸ªèŒƒå›´</p>
<p>group by åŸºæœ¬ä¸Šéƒ½éœ€è¦è¿›è¡Œæ’åº , å¦åˆ™ä¼šæœ‰ä¸´æ—¶è¡¨äº§ç”Ÿ,å³temporary</p>
<h5 id="ç´¢å¼•ä¼˜åŒ–-3">ç´¢å¼•ä¼˜åŒ–</h5>
<ul>
<li>ç´¢å¼•åˆ†æ</li>
<li>ç´¢å¼•å¤±æ•ˆ</li>
<li>ä¸€èˆ¬æ€§å»ºè®®
<ul>
<li>å¯¹äºå•é”®ç´¢å¼•,å°½é‡é€‰æ‹©é’ˆå¯¹å½“å‰queryè¿‡æ»¤æ€§æ›´å¥½çš„ç´¢å¼•</li>
<li>åœ¨é€‰æ‹©ç»„åˆç´¢å¼•çš„æ—¶å€™,å½“å‰queryä¸­è¿‡æ»¤æ€§æœ€å¥½çš„å­—æ®µåœ¨ç´¢å¼•å­—æ®µçš„é¡ºåºä¸­ ,ä½ç½®è¶Šé å‰è¶Šå¥½</li>
<li>åœ¨é€‰æ‹©ç»„åˆç´¢å¼•çš„æ—¶å€™,å°½é‡é€‰æ‹©å¯ä»¥èƒ½å¤ŸåŒ…å«å½“å‰queryä¸­çš„whereå­—å¥ä¸­æ›´å¤šå­—æ®µçš„ç´¢å¼•</li>
<li>å°½å¯èƒ½é€šè¿‡åˆ†æç»Ÿè®¡ä¿¡æ¯å’Œè°ƒæ•´queryçš„å†™æ³•æ¥è¾¾åˆ°é€‰æ‹©åˆé€‚ç´¢å¼•çš„ç›®çš„</li>
</ul>
</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018194551515.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018194551515.png"
			
			
			
			loading="lazy"
			alt="image-20211018194551515">
	</a>
	
	<figcaption>image-20211018194551515</figcaption>
	
</figure></p>
<p>likeåé¢è·Ÿç€å¸¸é‡çš„è¯å°±æ²¡ä»€ä¹ˆé—®é¢˜èƒ½åšç´¢å¼•ä¹Ÿèƒ½è·³æ¿</p>
<h5 id="ä¼˜åŒ–æ€»ç»“å£è¯€">ä¼˜åŒ–æ€»ç»“å£è¯€</h5>
<p>å…¨å€¼åŒ¹é…æˆ‘æœ€çˆ±,æœ€å·¦å‰ç¼€è¦éµå®ˆ</p>
<p>å¸¦å¤´å¤§å“¥ä¸èƒ½æ­»,ä¸­é—´å…„å¼Ÿä¸èƒ½æ–­</p>
<p>ç´¢å¼•åˆ—ä¸Šå°‘è®¡ç®—,èŒƒå›´ä¹‹åå…¨å¤±æ•ˆ</p>
<p>likeç™¾åˆ†å†™æœ€å³, è¦†ç›–ç´¢å¼•ä¸å†™*</p>
<p>ä¸ç­‰ç©ºå€¼è¿˜æœ‰or,ç´¢å¼•å¤±æ•ˆè¦å°‘ç”¨</p>
<p>varå¼•å·ä¸å¯ä¸¢,sqlé«˜çº§ä¹Ÿä¸éš¾</p>
<h5 id="æŸ¥è¯¢æˆªå–åˆ†æ-1">æŸ¥è¯¢æˆªå–åˆ†æ</h5>
<ul>
<li>æŸ¥è¯¢ä¼˜åŒ–</li>
<li>æ…¢æŸ¥è¯¢æ—¥å¿—</li>
<li>æ‰¹é‡æ•°æ®è„šæœ¬</li>
<li>show profile</li>
<li>å…¨å±€æŸ¥è¯¢æ—¥å¿—</li>
</ul>
<h5 id="åˆ†ææ­¥éª¤">åˆ†ææ­¥éª¤</h5>
<ol>
<li>è§‚å¯Ÿ,è‡³å°‘è·‘ä¸€å¤©,çœ‹çœ‹ç”Ÿäº§çš„æ…¢sqlæƒ…å†µ</li>
<li>å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—,è®¾ç½®é˜™å€¼,æ¯”å¦‚è¶…è¿‡5ç§’é’Ÿçš„å°±æ˜¯æ…¢sql,å¹¶å°†å®ƒæŠ“å–å‡ºæ¥</li>
<li>explain + æ…¢sqlåˆ†æ</li>
<li>show profile</li>
<li>è¿ç»´ç»ç†æˆ–dba,è¿›è¡Œsqlæ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜</li>
</ol>
<h5 id="æ€»ç»“">æ€»ç»“</h5>
<p>0</p>
<ol>
<li>æ…¢æŸ¥è¯¢çš„å¼€å¯å¹¶æ•è·</li>
<li>explain+æ…¢sqlåˆ†æ</li>
<li>show profileæŸ¥è¯¢sqlåœ¨mysqlæœåŠ¡å™¨é‡Œé¢çš„æ‰§è¡Œç»†èŠ‚å’Œå£°æ˜å‘¨æœŸæƒ…å†µ</li>
<li>sqlæ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜</li>
</ol>
<p>æ°¸è¿œå°è¡¨é©±åŠ¨å¤§è¡¨</p>
<p>ç±»ä¼¼äºåµŒå¥—å¾ªç¯nested loop</p>
<p>orderbyå…³é”®å­—ä¼˜åŒ–</p>
<p>group byå…³é”®å­—ä¼˜åŒ–</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018201006527.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018201006527.png"
			
			
			
			loading="lazy"
			alt="image-20211018201006527">
	</a>
	
	<figcaption>image-20211018201006527</figcaption>
	
</figure></p>
<p>å¾ˆå¥½åˆ†æå˜›,å¦‚æœBæ•°æ®å°‘äºA,é‚£ä¹ˆç”¨Bé©±åŠ¨,Båœ¨å³è¾¹é‚£å°±æ˜¯å…ˆæŸ¥B,å› ä¸ºBå…ˆæŸ¥,æŸ¥åˆ°çš„æ˜¯å°è¡¨,è¿™æ ·å°±å°è¡¨é©±åŠ¨å¤§è¡¨äº†;  å¦‚æœBæ•°æ®å¤šä½™A,é‚£ä¹ˆç”¨Aé©±åŠ¨,Båœ¨å³è¾¹,é‚£å°±æ˜¯ç”¨exists,åœ¨Bçš„æŸ¥è¯¢é‡Œå¥—ä¸Šå­æŸ¥è¯¢,è¿™æ ·å…ˆæŸ¥çš„Bçš„åŒæ—¶éœ€è¦å…ˆæŸ¥A(è¿™æ ·æ‰çŸ¥é“A.id,Bæ‰èƒ½æŸ¥),è¿™æ ·å°±å˜æˆå°è¡¨é©±åŠ¨å¤§è¡¨äº†</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018201111638.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018201111638.png"
			
			
			
			loading="lazy"
			alt="image-20211018201111638">
	</a>
	
	<figcaption>image-20211018201111638</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">ä¸¤ç§æœ€ç»ˆæ•ˆæœæ˜¯ä¸€æ ·çš„</span><span class="w"> </span><span class="err">ä½†æ˜¯å¾—è€ƒè™‘å“ªä¸ªæ˜¯å°è¡¨å“ªä¸ªæ˜¯å¤§è¡¨</span><span class="w"> </span><span class="err">éœ€è¦å°è¡¨é©±åŠ¨å¤§è¡¨</span><span class="w"> </span><span class="err">é‚£å°±è€ƒè™‘ä½¿ç”¨å“ªä¸€ç§</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tbl_emp</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl_dept</span><span class="p">.</span><span class="n">id</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptid</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z3</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z4</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w5</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">w6</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s7</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">s8</span><span class="w">   </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+--------+
</span><span class="c1"></span><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="orderby-å…³é”®å­—ä¼˜åŒ–">orderby å…³é”®å­—ä¼˜åŒ–</h5>
<ul>
<li>orderbyå­å¥,å°½é‡ä½¿ç”¨indexæ–¹å¼æ’åº,é¿å…ä½¿ç”¨filesortæ–¹å¼æ’åº
<ul>
<li>mysqlæ”¯æŒä¸¤ç§æ–¹å¼çš„æ’åº,filesortå’Œindex,indexæ•ˆç‡é«˜,å®ƒæŒ‡ysqlæ‰«æç´¢å¼•æœ¬èº«å®Œæˆæ’åº,filesortæ–¹å¼æ•ˆç‡ä½</li>
</ul>
</li>
<li>order by æ»¡è¶³ä¸¤ç§æƒ…å†µ,ä¼šä½¿ç”¨indexæ–¹å¼æ’åº
<ul>
<li>order by è¯­å¥ä½¿ç”¨ç´¢å¼•æœ€å·¦å‰åˆ—</li>
<li>ä½¿ç”¨whereå­å¥å’Œorder byå­å¥æ¡ä»¶åˆ—æ»¡è¶³ç´¢å¼•æœ€å·¦å‰åˆ—</li>
</ul>
</li>
<li>å°½å¯èƒ½åœ¨ç´¢å¼•åˆ—ä¸Šå®Œæˆæ’åºæ“ä½œ,éµç…§ç´¢å¼•å»ºçš„æœ€ä½³å·¦å‰ç¼€åŸåˆ™</li>
<li>å¦‚æœä¸åœ¨ç´¢å¼•åˆ—ä¸Š,filesortæœ‰ä¸¤ç§ç®—æ³•:mysqlå°±è¦å¯åŠ¨åŒè·¯æ’åºå’Œå•è·¯æ’åº
<ul>
<li>åŒè·¯æ’åº
<ul>
<li>4.1ä¹‹å‰ä½¿ç”¨åŒè·¯æ’åº,æ‰«æä¸¤æ¬¡ç£ç›˜,æœ€ç»ˆå¾—åˆ°æ•°æ®,è¯»å–è¡ŒæŒ‡é’ˆå’Œorder by åˆ—, å¯¹ä»–ä»¬è¿›è¡Œæ’åº,ç„¶åæ‰«æå·²ç»æ’åºå¥½çš„åˆ—è¡¨,æŒ‰ç…§åˆ—è¡¨ä¸­çš„å€¼é‡æ–°ä»åˆ—è¡¨ä¸­è¯»å–</li>
<li>ä»ç£ç›˜å–æ’åºå­—æ®µ,åœ¨bufferè¿›è¡Œæ’åº,å†ä»ç£ç›˜å–å…¶ä»–å­—æ®µ</li>
</ul>
</li>
<li>å•è·¯æ’åº
<ul>
<li>å–ä¸€æ‰¹æ•°æ®,è¦å¯¹ç£ç›˜è¿›è¡Œä¸¤æ¬¡æ‰«æ,ä¼—æ‰€å‘¨çŸ¥,IOå¾ˆè€—æ—¶,åœ¨4.1ä¹‹å,å‡ºç°äº†ç¬¬äºŒç§çš„æ”¹è¿›ç®—æ³•,å°±æ˜¯å•è·¯æ’åº</li>
<li>ä»ç£ç›˜è¯»å–æŸ¥è¯¢éœ€è¦çš„æ‰€æœ‰åˆ—,æŒ‰ç…§orderbyåˆ—åœ¨bufferå¯¹ä»–ä»¬è¿›è¡Œæ’åº,ç„¶åæ‰«ææ’åºåçš„åˆ—è¡¨è¿›è¡Œè¾“å‡º,å®ƒçš„æ•ˆç‡æ›´å¿«ä¸€äº›,é¿å…äº†ç¬¬äºŒæ¬¡è¯»å–æ•°æ®.å¹¶ä¸”æŠŠéšæœºIOå˜æˆäº†é¡ºåºIO,ä½†æ˜¯å®ƒä¼šä½¿ç”¨æ›´å¤šçš„ç©ºé—´,å› ä¸ºå®ƒæŠŠæ¯ä¸€è¡Œéƒ½ä¿å­˜åœ¨å†…å­˜ä¸­äº†.</li>
<li><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018204727314.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018204727314.png"
			
			
			
			loading="lazy"
			alt="image-20211018204727314">
	</a>
	
	<figcaption>image-20211018204727314</figcaption>
	
</figure></li>
</ul>
</li>
</ul>
</li>
<li>ä¼˜åŒ–ç­–ç•¥
<ul>
<li>å¢å¤§sort_buffer_sizeå‚æ•°è®¾ç½®</li>
<li>å¢å¤§max_length_for_sort_dataå‚æ•°çš„è®¾ç½®</li>
<li>why</li>
<li><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205003059.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205003059.png"
			
			
			
			loading="lazy"
			alt="image-20211018205003059">
	</a>
	
	<figcaption>image-20211018205003059</figcaption>
	
</figure></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tblA</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">#</span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="n">autp_increment</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">birth</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_A_ageBirth</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">tblA</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="n">birth</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018203216016.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018203216016.png"
			
			
			
			loading="lazy"
			alt="image-20211018203216016">
	</a>
	
	<figcaption>image-20211018203216016</figcaption>
	
</figure></p>
<p>é»˜è®¤å‡åº æ‰“ä¹±äº†å°±ä¼šå‘ç”Ÿfilesort</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018203523533.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018203523533.png"
			
			
			
			loading="lazy"
			alt="image-20211018203523533">
	</a>
	
	<figcaption>image-20211018203523533</figcaption>
	
</figure></p>
<h5 id="æ€»ç»“-1">æ€»ç»“</h5>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205452929.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205452929.png"
			
			
			
			loading="lazy"
			alt="image-20211018205452929">
	</a>
	
	<figcaption>image-20211018205452929</figcaption>
	
</figure></p>
<h5 id="group-by-å…³é”®å­—ä¼˜åŒ–">group by å…³é”®å­—ä¼˜åŒ–</h5>
<ul>
<li>group byå®è´¨æ˜¯å…ˆæ’åºåè¿›è¡Œåˆ†ç»„,éµç…§ç´¢å¼•å»ºçš„æœ€ä½³å·¦å‰ç¼€</li>
<li>å½“æ— æ³•ä½¿ç”¨ç´¢å¼•åˆ—,å¢å¤§max_length_for_sort_dataå‚æ•°çš„è®¾ç½®+å¢å¤§sort_buffer_sizeå‚æ•°çš„è®¾ç½®</li>
<li>whereé«˜äºhaving , èƒ½å†™åœ¨whereé™å®šçš„æ¡ä»¶å°±ä¸è¦å»havingé™å®šäº†</li>
</ul>
<h4 id="mysqlæ…¢æŸ¥è¯¢æ—¥å¿—">mysqlæ…¢æŸ¥è¯¢æ—¥å¿—</h4>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205757207.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205757207.png"
			
			
			
			loading="lazy"
			alt="image-20211018205757207">
	</a>
	
	<figcaption>image-20211018205757207</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205824359.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018205824359.png"
			
			
			
			loading="lazy"
			alt="image-20211018205824359">
	</a>
	
	<figcaption>image-20211018205824359</figcaption>
	
</figure></p>
<ul>
<li>
<p>å¦‚ä½•æŸ¥çœ‹æ˜¯å¦å¼€å¯ä¸å¦‚ä½•å¼€å¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%slow_query_log%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+--------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">slow_query_log</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">ON</span><span class="w">                       </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">slow_query_log_file</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">LAPTOP</span><span class="o">-</span><span class="n">FKVMDBSI</span><span class="o">-</span><span class="n">slow</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------+--------------------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åªå¯¹å½“å‰æ•°æ®åº“ç”Ÿæ•ˆ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">slow_query_log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210231026.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210231026.png"
			
			
			
			loading="lazy"
			alt="image-20211018210231026">
	</a>
	
	<figcaption>image-20211018210231026</figcaption>
	
</figure></p>
</li>
<li>
<p>ä»€ä¹ˆæ ·çš„ä¼šè®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—é‡Œé¢å‘¢?</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%long_query_time%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">long_query_time</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210404815.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210404815.png"
			
			
			
			loading="lazy"
			alt="image-20211018210404815">
	</a>
	
	<figcaption>image-20211018210404815</figcaption>
	
</figure></p>
<ul>
<li>
<p>è®¾ç½®æ…¢æŸ¥è¯¢æ—¶é—´é˜™å€¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">long_query_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%long_query_time%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">long_query_time</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------+-----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210539898.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210539898.png"
			
			
			
			loading="lazy"
			alt="image-20211018210539898">
	</a>
	
	<figcaption>image-20211018210539898</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210653124.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018210653124.png"
			
			
			
			loading="lazy"
			alt="image-20211018210653124">
	</a>
	
	<figcaption>image-20211018210653124</figcaption>
	
</figure></p>
</li>
<li>
<p>å»å“ªå„¿æ‰¾æ…¢sqlå‘€?</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">è¶…è¿‡</span><span class="mi">3</span><span class="n">säº†</span><span class="w"> </span><span class="err">åº”è¯¥ä¼šè®°å½•åˆ°æŸä¸ªæ—¥å¿—é‡Œå¯¹ä¸å¯¹</span><span class="w"> 
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">	
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018211230665.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018211230665.png"
			
			
			
			loading="lazy"
			alt="image-20211018211230665">
	</a>
	
	<figcaption>image-20211018211230665</figcaption>
	
</figure></p>
<ul>
<li>æŸ¥çœ‹æœ‰å¤šå°‘æ¡æ…¢æŸ¥è¯¢çš„sql</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;slow_queries%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Slow_queries</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">2</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>é…ç½®ç‰ˆ æ°¸ä¹…ç”Ÿæ•ˆ</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018212354576.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018212354576.png"
			
			
			
			loading="lazy"
			alt="image-20211018212354576">
	</a>
	
	<figcaption>image-20211018212354576</figcaption>
	
</figure></p>
<ul>
<li>æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow
<ul>
<li>æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
<ul>
<li>s æ ‡è¯†æŒ‰ç…§ä½•ç§æ–¹å¼æ’åº</li>
<li>c è®¿é—®æ¬¡æ•°</li>
<li>l é”å®šæ—¶é—´</li>
<li>r è¿”å›è®°å½•</li>
<li>t æŸ¥è¯¢æ—¶é—´</li>
<li>al å¹³å‡é”å®šæ—¶é—´</li>
<li>ar å¹³å‡è¿”å›è®°å½•æ•°</li>
<li>at å¹³å‡æŸ¥è¯¢æ—¶é—´</li>
<li>t è¿”å›å‰é¢å¤šå°‘æ¡çš„æ•°æ®</li>
<li>g åè¾¹æ­é…ä¸€ä¸ªæ­£åˆ™åŒ¹é…æ¨¡å¼,å¤§å°å†™ä¸æ•æ„Ÿçš„</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018212608969.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018212608969.png"
			
			
			
			loading="lazy"
			alt="image-20211018212608969">
	</a>
	
	<figcaption>image-20211018212608969</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018213827239.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018213827239.png"
			
			
			
			loading="lazy"
			alt="image-20211018213827239">
	</a>
	
	<figcaption>image-20211018213827239</figcaption>
	
</figure></p>
<h5 id="æ‰¹é‡æ’å…¥æ•°æ®">æ‰¹é‡æ’å…¥æ•°æ®</h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å‡†å¤‡å·¥ä½œ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">bigdata</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">bigdata</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">dept</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">deptno</span><span class="o">`</span><span class="w"> </span><span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">dname</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">loc</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">GBK</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">emp</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">empno</span><span class="o">`</span><span class="w"> </span><span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="cm">/*ç¼–å·*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">ename</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="cm">/*åå­—*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">job</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="cm">/*å·¥ä½œ*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">mgr</span><span class="o">`</span><span class="w"> </span><span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="cm">/*ä¸Šçº§ç¼–å·*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">hiredate</span><span class="o">`</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="cm">/*å…¥èŒæ—¶é—´*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">sal</span><span class="o">`</span><span class="w"> </span><span class="nb">decimal</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="cm">/*è–ªæ°´*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">comm</span><span class="o">`</span><span class="w"> </span><span class="nb">decimal</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="cm">/*çº¢åˆ©*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="o">`</span><span class="n">deptno</span><span class="o">`</span><span class="w"> </span><span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="cm">/*éƒ¨é—¨ç¼–å·*/</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w">   </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">GBK</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;log_bin_trust_function_creators&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">log_bin_trust_function_creators</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">OFF</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">log_bin_trust_function_creators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é‡å¯ä¼šå¤±æ•ˆ</span><span class="w">  </span><span class="err">å¦‚æœæ°¸ä¹…å°±ä¿®æ”¹é…ç½®æ–‡ä»¶</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;log_bin_trust_function_creators&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">                   </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">log_bin_trust_function_creators</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ON</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">---------------------------------+-------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ›å»ºå‡½æ•°éšæœºäº§ç”Ÿå­—ç¬¦ä¸²å’Œéƒ¨é—¨ç¼–å·</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">rand_string</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">varchar</span><span class="w"> </span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">chars_str</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">return_str</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="w"> </span><span class="k">do</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">return_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">(</span><span class="n">return_str</span><span class="p">,</span><span class="k">substring</span><span class="p">(</span><span class="n">chars_str</span><span class="p">,</span><span class="n">floor</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mi">52</span><span class="p">),</span><span class="mi">1</span><span class="p">));</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">return_str</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">rand_num</span><span class="p">()</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="mi">100</span><span class="o">+</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span><span class="p">);</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</span><span class="w"> </span><span class="err">å¹¶ä½¿ç”¨å‡½æ•°</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">insert_emp</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="k">in</span><span class="w"> </span><span class="n">max_num</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">declare</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">repeat</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">emp</span><span class="p">(</span><span class="n">empno</span><span class="p">,</span><span class="n">ename</span><span class="p">,</span><span class="n">job</span><span class="p">,</span><span class="n">mgr</span><span class="p">,</span><span class="n">hiredate</span><span class="p">,</span><span class="n">sal</span><span class="p">,</span><span class="n">comm</span><span class="p">,</span><span class="n">deptno</span><span class="p">)</span><span class="k">values</span><span class="w"> </span><span class="p">((</span><span class="k">start</span><span class="o">+</span><span class="n">i</span><span class="p">),</span><span class="n">rand_string</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="s1">&#39;SALESMAN&#39;</span><span class="p">,</span><span class="mi">0001</span><span class="p">,</span><span class="n">curdate</span><span class="p">(),</span><span class="mi">2000</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="n">rand_num</span><span class="p">());</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">until</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max_num</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="n">insert_dept</span><span class="p">(</span><span class="k">IN</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="k">IN</span><span class="w"> </span><span class="n">max_num</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">BEGIN</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">DECLARE</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">REPEAT</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">dept</span><span class="w"> </span><span class="p">(</span><span class="n">deptno</span><span class="p">,</span><span class="n">dname</span><span class="p">,</span><span class="n">loc</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="p">((</span><span class="k">START</span><span class="o">+</span><span class="n">i</span><span class="p">),</span><span class="n">rand_string</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">rand_string</span><span class="p">(</span><span class="mi">8</span><span class="p">));</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">UNTIL</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max_num</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="n">REPEAT</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">COMMIT</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="err">$$</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delimiter</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">insert_dept</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dept</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dname</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">loc</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sqzyWknJJc</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">uPRPyWny</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">JIzyTYkhea</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MMwVrWFn</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">yJHubWCauW</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">yDuqsQbL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">zpcqwlOlOo</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">amifZKyp</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">105</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dygjEsdkSJ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PXrTreuK</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">106</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sImmyFJrNO</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">JOaNOEFl</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sclZmoJqML</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">uOLngSTP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">wKlcBBdKqB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HJlkuqvf</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">109</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">phTUTIJwhu</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ELSeUlwz</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jvArhMohVh</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">WoFhVhYw</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="mi">10</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">insert_emp</span><span class="p">(</span><span class="mi">100001</span><span class="p">,</span><span class="mi">500000</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">31</span><span class="p">.</span><span class="mi">37</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018214549181.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211018214549181.png"
			
			
			
			loading="lazy"
			alt="image-20211018214549181">
	</a>
	
	<figcaption>image-20211018214549181</figcaption>
	
</figure></p>
<h5 id="show-profile-1">show Profile</h5>
<ul>
<li>
<p>æ˜¯ä»€ä¹ˆ æ˜¯mysqlæä¾›å¯ä»¥ç”¨æ¥åˆ†æå½“å‰ä¼šè¯ä¸­è¯­å¥æ‰§è¡Œçš„èµ„æºæ¶ˆè€—æƒ…å†µ å¯ä»¥ç”¨äºsqlçš„è°ƒä¼˜æµ‹é‡</p>
</li>
<li>
<p>é»˜è®¤æƒ…å†µä¸‹,å‚æ•°å¤„äºå…³é—­çŠ¶æ€,å¹¶ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœ</p>
</li>
<li>
<p>åˆ†ææ­¥éª¤</p>
<ul>
<li>
<p>æ˜¯å¦æ”¯æŒ , çœ‹çœ‹å½“å‰çš„mysqlç‰ˆæœ¬æ˜¯å¦æ”¯æŒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%profiling%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">have_profiling</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">profiling</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="k">OFF</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">profiling_history_size</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div></li>
<li>
<p>å¼€å¯åŠŸèƒ½,é»˜è®¤æ˜¯å…³é—­,ä½¿ç”¨å‰éœ€è¦å¼€å¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">profiling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%profiling%&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">have_profiling</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">profiling</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="k">ON</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">profiling_history_size</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">15</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------------------------+-------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div></li>
<li>
<p>è¿è¡ŒSQL</p>
</li>
<li>
<p>æŸ¥çœ‹ç»“æœ,show profiles</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">profiles</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Query_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Duration</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">                                                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00142325</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%profiling%&#39;</span><span class="w">                                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00311650</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w">                                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00040100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w">                                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00018025</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">DATABASE</span><span class="p">()</span><span class="w">                                                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00356750</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w">                                            </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00046875</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00317325</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00029500</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00031975</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tbl_emp</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">tbl_dept</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">id</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">00016175</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">DATABASE</span><span class="p">()</span><span class="w">                                                </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">48647650</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">id</span><span class="o">%</span><span class="mi">10</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">150000</span><span class="w">                    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">       </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">46590675</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">id</span><span class="o">%</span><span class="mi">20</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">5</span><span class="w">                      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------+------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="mi">12</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><ul>
<li>è¯Šæ–­sql,show profile cpu ,block io for query ä¸Šä¸€æ­¥å‰é¢çš„é—®é¢˜sqlæ•°å­—å·ç  ;</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="n">cpu</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">io</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Status</span><span class="w">                         </span><span class="o">|</span><span class="w"> </span><span class="n">Duration</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CPU_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CPU_system</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Block_ops_in</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Block_ops_out</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">starting</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000054</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Executing</span><span class="w"> </span><span class="n">hook</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">transaction</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000003</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">starting</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">permissions</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000002</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">permissions</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000003</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Opening</span><span class="w"> </span><span class="n">tables</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000041</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">init</span><span class="w">                           </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000004</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">System</span><span class="w"> </span><span class="k">lock</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000007</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">optimizing</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000012</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">statistics</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000027</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">preparing</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000017</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">executing</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">002927</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">end</span><span class="w">                            </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="k">end</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000002</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">handler</span><span class="w"> </span><span class="k">commit</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000007</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">closing</span><span class="w"> </span><span class="n">tables</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000006</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">freeing</span><span class="w"> </span><span class="n">items</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000041</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">cleaning</span><span class="w"> </span><span class="n">up</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000013</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">çœ‹çœ‹è€—æ—¶å¤šçš„</span><span class="w"> </span><span class="err">æ‰¾ç»“è®º</span><span class="w">
</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019231456204.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019231456204.png"
			
			
			
			loading="lazy"
			alt="image-20211019231456204">
	</a>
	
	<figcaption>image-20211019231456204</figcaption>
	
</figure></p>
<ul>
<li>æ—¥å¸¸å¼€å‘éœ€è¦æ³¨æ„çš„ç»“è®º
<ul>
<li>converting heap to myisam æŸ¥è¯¢ç»“æœå¤ªå¤§ , å†…å­˜ä¸å¤Ÿç”¨äº†å¾€ç£ç›˜ä¸Šæ¬</li>
<li>creating temp table åˆ›å»ºä¸´æ—¶è¡¨
<ul>
<li>æ‹·è´æ•°æ®åˆ°ä¸´æ—¶è¡¨</li>
<li>ç”¨å®Œå†åˆ é™¤</li>
</ul>
</li>
<li>copying to tmp table on dist æŠŠå†…å­˜ä¸­ä¸´æ—¶è¡¨å¤åˆ¶åˆ°ç£ç›˜,å±é™©!!</li>
<li>locked</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">ä½¿ç”¨</span><span class="n">tempä¸´æ—¶è¡¨å¾ˆæ¶ˆè€—æ—¶é—´</span><span class="w"> </span><span class="err">è¦åˆ›å»º</span><span class="w"> </span><span class="err">æ‹·è´</span><span class="w"> </span><span class="err">å¤„ç†</span><span class="w"> </span><span class="err">é‡Šæ”¾</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="n">cpu</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">io</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Status</span><span class="w">                         </span><span class="o">|</span><span class="w"> </span><span class="n">Duration</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CPU_user</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CPU_system</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Block_ops_in</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Block_ops_out</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">starting</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000078</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Executing</span><span class="w"> </span><span class="n">hook</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">transaction</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">starting</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">permissions</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000004</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Opening</span><span class="w"> </span><span class="n">tables</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000264</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">init</span><span class="w">                           </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">System</span><span class="w"> </span><span class="k">lock</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000005</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">optimizing</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000003</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">statistics</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000015</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">preparing</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000011</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Creating</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="k">table</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000055</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">executing</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">485898</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">421875</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">046875</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">end</span><span class="w">                            </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000010</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="k">end</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000003</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">handler</span><span class="w"> </span><span class="k">commit</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000017</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">closing</span><span class="w"> </span><span class="n">tables</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000007</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">freeing</span><span class="w"> </span><span class="n">items</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000074</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">cleaning</span><span class="w"> </span><span class="n">up</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000019</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------------------+----------+----------+------------+--------------+---------------+
</span><span class="c1"></span><span class="mi">18</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="å…¨å±€æŸ¥è¯¢æ—¥å¿—-1">å…¨å±€æŸ¥è¯¢æ—¥å¿—</h5>
<ul>
<li>é…ç½®å¯ç”¨</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019232353049.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019232353049.png"
			
			
			
			loading="lazy"
			alt="image-20211019232353049">
	</a>
	
	<figcaption>image-20211019232353049</figcaption>
	
</figure></p>
<ul>
<li>ç¼–ç å¯ç”¨</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019232435273.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019232435273.png"
			
			
			
			loading="lazy"
			alt="image-20211019232435273">
	</a>
	
	<figcaption>image-20211019232435273</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">general_log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">log_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TABLE&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dept</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dname</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">loc</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sqzyWknJJc</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">uPRPyWny</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">102</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">JIzyTYkhea</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MMwVrWFn</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">yJHubWCauW</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">yDuqsQbL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">104</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">zpcqwlOlOo</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">amifZKyp</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">105</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">dygjEsdkSJ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PXrTreuK</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">106</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sImmyFJrNO</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">JOaNOEFl</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sclZmoJqML</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">uOLngSTP</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">108</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">wKlcBBdKqB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HJlkuqvf</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">109</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">phTUTIJwhu</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ELSeUlwz</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">110</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jvArhMohVh</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">WoFhVhYw</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+--------+------------+----------+
</span><span class="c1"></span><span class="mi">10</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">general_log</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">event_time</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">user_host</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">thread_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">server_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">command_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">argument</span><span class="w">                                                         </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">31</span><span class="p">.</span><span class="mi">577792</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="n">x73656C656374202A2066726F6D2064657074</span><span class="w">                           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">44</span><span class="p">.</span><span class="mi">682913</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="n">x73656C656374202A2066726F6D206D7973716C2E67656E6572616C5F6C6F67</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+------------------------------------------------------------------+
</span><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">general_log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">general_log</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">general_log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">general_log</span><span class="w">  </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">event_time</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">user_host</span><span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">thread_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">server_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">command_type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">argument</span><span class="w">                        </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">31</span><span class="p">.</span><span class="mi">577792</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dept</span><span class="w">              </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">44</span><span class="p">.</span><span class="mi">682913</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">general_log</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">59</span><span class="p">.</span><span class="mi">776726</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">general_log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+------------------------------+-----------+-----------+--------------+---------------------------------+
</span><span class="c1"></span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="mysqlé”æœºåˆ¶-1">mysqlé”æœºåˆ¶</h5>
<p>é”æ˜¯è®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€èµ„æºçš„æœºåˆ¶</p>
<p>åœ¨æ•°æ®åº“ä¸­,é™¤ä¼ ç»Ÿçš„è®¡ç®—èµ„æºå¦‚CPU/RAM/IOç­‰çš„äº‰ç”¨ä»¥å¤–,æ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›è®¸å¤šç”¨æˆ·å…±äº«çš„èµ„æº.å¦‚ä½•ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§,æœ‰æ•ˆæ€§æ˜¯æ‰€æœ‰æ•°æ®åº“å¿…é¡»è§£å†³çš„ä¸€ä¸ªé—®é¢˜,é”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ .ä»è¿™ä¸ªè§’åº¦æ¥è¯´,é”å¯¹æ•°æ®åº“è€Œè¨€æ˜¾å¾—å°¤ä¸ºé‡è¦,ä¹Ÿæ›´åŠ å¤æ‚.</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019233809036.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211019233809036.png"
			
			
			
			loading="lazy"
			alt="image-20211019233809036">
	</a>
	
	<figcaption>image-20211019233809036</figcaption>
	
</figure></p>
<ul>
<li>
<p>é”çš„åˆ†ç±»</p>
<ul>
<li>å¯¹æ•°æ®æ“ä½œçš„ç±»å‹ è¯»/å†™
<ul>
<li>è¯»é”(å…±äº«é”):é’ˆå¯¹åŒä¸€ä»½æ•°æ®,å¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œè€Œä¸ä¼šäº’ç›¸å½±å“</li>
<li>å†™é”(æ’å®ƒé”):å½“å‰å†™æ“ä½œæ²¡æœ‰å®Œæˆå‰,å®ƒä¼šé˜»æ–­å…¶ä»–å†™é”å’Œè¯»é”</li>
</ul>
</li>
<li>å¯¹æ•°æ®æ“ä½œçš„ç²’åº¦ è¡¨é”/è¡Œé”</li>
</ul>
</li>
<li>
<p>é”æœºåˆ¶ä¸­çš„ä¸‰é”</p>
<ul>
<li>è¡¨é”(åè¯»)
<ul>
<li>ç‰¹ç‚¹ åå‘myisamå­˜å‚¨å¼•æ“,å¼€é”€å°,åŠ é”å¿«,æ— æ­»é”;é”å®šç²’åº¦å¤§,å‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€é«˜,å¹¶å‘åº¦æœ€ä½</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="err">å»ºè¡¨</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mylock</span><span class="p">(</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">
</span><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">)</span><span class="n">engine</span><span class="w"> </span><span class="n">myisam</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">æŸ¥çœ‹å“ªäº›ä¸Šé”</span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------------------------+--------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Database</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="n">In_use</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Name_locked</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------------------------+--------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">check_constraints</span><span class="w">         </span><span class="o">|</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">column_type_elements</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">åŠ è¯»å†™é”</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">lock</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------------------------+--------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="k">Database</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">Table</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="n">In_use</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Name_locked</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------------------------+--------+-------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">check_constraints</span><span class="w">         </span><span class="o">|</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">column_type_elements</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">bigdata</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">emp</span><span class="w">                       </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">general_log</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">bigdata</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">mylock</span><span class="w">                    </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------------------+---------------------------+--------+-------------+
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="err">é‡Šæ”¾é”</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unlock</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>åŠ è¯»é”</strong></p>
<p>powershell ä¸­åŠ é”</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">lock</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">d</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>cmdä¸­ä¹Ÿèƒ½è¯»</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">bigdata</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">Database</span><span class="w"> </span><span class="n">changed</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">d</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>ä½†powershellä¸­åŠ äº†è¯»é”,ä¸èƒ½å¯¹è¯¥è¡¨è¿›è¡Œå†™æ“ä½œ,ä¹Ÿå°±æ˜¯å¢åˆ æ”¹æ“ä½œ,ä¹Ÿä¸èƒ½å¯¹å…¶ä»–è¡¨è¿›è¡Œcrudæ“ä½œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1099</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="s1">&#39;mylock&#39;</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">READ</span><span class="w"> </span><span class="k">lock</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">can</span><span class="s1">&#39;t be updated
</span><span class="s1">mysql&gt; insert into mylock values(6,&#39;</span><span class="n">ljs</span><span class="s1">&#39;);
</span><span class="s1">ERROR 1099 (HY000): Table &#39;</span><span class="n">mylock</span><span class="s1">&#39; was locked with a READ lock and can&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1099</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="s1">&#39;mylock&#39;</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">READ</span><span class="w"> </span><span class="k">lock</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">can</span><span class="s1">&#39;t be updated
</span><span class="s1">mysql&gt; select * from emp ;
</span><span class="s1">ERROR 1100 (HY000): Table &#39;</span><span class="n">emp</span><span class="s1">&#39; was not locked with LOCK TABLES
</span></code></pre></div><p>è€Œcmdä¸èƒ½å¯¹è¯¥è¡¨è¿›è¡Œå†™çš„æ“ä½œ,å¯ä»¥å¯¹è¯¥è¡¨è¿›è¡Œè¯»æ“ä½œ,å†™æ“ä½œä¼šé˜»å¡,ç›´åˆ°powershellä¸­é‡Šæ”¾é”,ä½†èƒ½å¯¹å…¶ä»–è¡¨è¿›è¡Œcrudæ“ä½œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">update</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">^</span><span class="k">C</span><span class="w"> </span><span class="c1">-- query aborted
</span><span class="c1"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1317</span><span class="w"> </span><span class="p">(</span><span class="mi">70100</span><span class="p">):</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">interrupted</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;ljs&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="o">^</span><span class="k">C</span><span class="w"> </span><span class="c1">-- query aborted
</span><span class="c1"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1317</span><span class="w"> </span><span class="p">(</span><span class="mi">70100</span><span class="p">):</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">interrupted</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">^</span><span class="k">C</span><span class="w"> </span><span class="c1">-- query aborted
</span><span class="c1"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1317</span><span class="w"> </span><span class="p">(</span><span class="mi">70100</span><span class="p">):</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">interrupted</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+----------+-----+------------+---------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">empno</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">ename</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">job</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">mgr</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">hiredate</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sal</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">comm</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">--------+--------+--------+----------+-----+------------+---------+--------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">100002</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">lPrnpM</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SALESMAN</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">107</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">100003</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NuIiSO</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SALESMAN</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">2000</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">400</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">103</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w">
</span><span class="w">
</span></code></pre></div><p>å½“powershellè§£é”å,cmdç«‹åˆ»å¾—åˆ°æ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span><span class="n">powershellç«¯</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unlock</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="o">#</span><span class="n">cmdç«¯</span><span class="w">  </span><span class="err">ç­‰åˆ°è§£é”åç«‹åˆ»æ‰§è¡Œ</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w">  </span><span class="k">update</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a2&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">19</span><span class="p">.</span><span class="mi">80</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020200516110.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020200516110.png"
			
			
			
			loading="lazy"
			alt="image-20211020200516110">
	</a>
	
	<figcaption>image-20211020200516110</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020200614618.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020200614618.png"
			
			
			
			loading="lazy"
			alt="image-20211020200614618">
	</a>
	
	<figcaption>image-20211020200614618</figcaption>
	
</figure></p>
<p><strong>åŠ å†™é”</strong></p>
<p>powershellåŠ å†™é”,å…¶ä»–æœªé”çš„è¡¨éƒ½è®¿é—®ä¸äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">lock</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a2</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">d</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a4&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1100</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="s1">&#39;emp&#39;</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">LOCK</span><span class="w"> </span><span class="n">TABLES</span><span class="w">
</span></code></pre></div><p>cmdè®¿é—®è¯¥è¡¨,å‘ç”Ÿé˜»å¡,ç›´è‡³powershellè§£é”</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">mylock</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a4</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">c</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">d</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----+------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">44</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201254172.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201254172.png"
			
			
			
			loading="lazy"
			alt="image-20211020201254172">
	</a>
	
	<figcaption>image-20211020201254172</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201310837.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201310837.png"
			
			
			
			loading="lazy"
			alt="image-20211020201310837">
	</a>
	
	<figcaption>image-20211020201310837</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201455840.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020201455840.png"
			
			
			
			loading="lazy"
			alt="image-20211020201455840">
	</a>
	
	<figcaption>image-20211020201455840</figcaption>
	
</figure></p>
<p><strong>è¡¨é”åˆ†æ</strong></p>
<ul>
<li>show open tables ; å“ªäº›è¡¨è¢«é”äº†</li>
<li>é€šè¿‡æ£€æŸ¥table_locks_waitedå’Œtable_locks_immediateçŠ¶æ€å˜é‡æ¥åˆ†æç³»ç»Ÿä¸Šçš„è¡¨é”å®š;</li>
<li>show status like &lsquo;table%&rsquo; ;</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;table%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+-------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Table_locks_immediate</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">104</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Table_locks_waited</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Table_open_cache_hits</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">89</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Table_open_cache_misses</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="mi">24</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Table_open_cache_overflows</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">     </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+-------+
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203053434.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203053434.png"
			
			
			
			loading="lazy"
			alt="image-20211020203053434">
	</a>
	
	<figcaption>image-20211020203053434</figcaption>
	
</figure></p>
<ul>
<li>è¡Œé”
<ul>
<li>innodbå­˜å‚¨å¼•æ“,å¼€é”€å¤§,åŠ é”æ…¢;ä¼šå‡ºç°æ­»é”;é”å®šç²’åº¦æœ€å°,å‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½,å¹¶å‘åº¦æœ€é«˜</li>
<li>innodbä¸myisamçš„æœ€å¤§ä¸åŒæœ‰ä¸¤ç‚¹:ä¸€æ˜¯æ”¯æŒäº‹åŠ¡transactioon;äºŒæ˜¯é‡‡ç”¨è¡Œçº§é”</li>
</ul>
</li>
</ul>
<p><strong>äº‹åŠ¡</strong></p>
<p>äº‹åŠ¡åŠacidå±æ€§</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203617056.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203617056.png"
			
			
			
			loading="lazy"
			alt="image-20211020203617056">
	</a>
	
	<figcaption>image-20211020203617056</figcaption>
	
</figure></p>
<p>å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜</p>
<ul>
<li>æ›´æ–°ä¸¢å¤±</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203848386.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020203848386.png"
			
			
			
			loading="lazy"
			alt="image-20211020203848386">
	</a>
	
	<figcaption>image-20211020203848386</figcaption>
	
</figure></p>
<ul>
<li>è„è¯»</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204010474.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204010474.png"
			
			
			
			loading="lazy"
			alt="image-20211020204010474">
	</a>
	
	<figcaption>image-20211020204010474</figcaption>
	
</figure></p>
<ul>
<li>ä¸å¯é‡å¤è¯»</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204034952.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204034952.png"
			
			
			
			loading="lazy"
			alt="image-20211020204034952">
	</a>
	
	<figcaption>image-20211020204034952</figcaption>
	
</figure></p>
<ul>
<li>å¹»è¯»</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204053892.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204053892.png"
			
			
			
			loading="lazy"
			alt="image-20211020204053892">
	</a>
	
	<figcaption>image-20211020204053892</figcaption>
	
</figure></p>
<p><strong>äº‹åŠ¡çš„å¹¶å‘éš”ç¦»çº§åˆ«</strong></p>
<ul>
<li>read uncommitted</li>
<li>read committed</li>
<li>repeatable read</li>
<li>serializable</li>
</ul>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204239692.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020204239692.png"
			
			
			
			loading="lazy"
			alt="image-20211020204239692">
	</a>
	
	<figcaption>image-20211020204239692</figcaption>
	
</figure></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;transaction_isolation&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">           </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+-----------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">transaction_isolation</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">REPEATABLE</span><span class="o">-</span><span class="k">READ</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-----------------------+-----------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>ç¤ºä¾‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="n">b</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="n">engine</span><span class="o">=</span><span class="n">innodb</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">test_innodb_a_ind</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">test_innodb_lock_b_ind</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">Records</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Duplicates</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p>powershellä¸­ä¿®æ”¹æ•°æ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;4001&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p>ä¸ºä¿è¯æ•°æ®ä¸€è‡´æ€§ åœ¨cmdä¸­ æ‹¿åˆ°çš„è‚¯å®šè¿˜æ˜¯4000</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd">mysql<span class="p">&gt;</span> select * from test_innodb_lock ;
+------+------+
<span class="p">|</span> a    <span class="p">|</span> b    <span class="p">|</span>
+------+------+
<span class="p">|</span>    1 <span class="p">|</span> b2   <span class="p">|</span>
<span class="p">|</span>    3 <span class="p">|</span> 3    <span class="p">|</span>
<span class="p">|</span>    4 <span class="p">|</span> 4000 <span class="p">|</span>
<span class="p">|</span>    5 <span class="p">|</span> 5000 <span class="p">|</span>
<span class="p">|</span>    6 <span class="p">|</span> 6000 <span class="p">|</span>
<span class="p">|</span>    7 <span class="p">|</span> 7000 <span class="p">|</span>
<span class="p">|</span>    8 <span class="p">|</span> 8000 <span class="p">|</span>
<span class="p">|</span>    9 <span class="p">|</span> 9000 <span class="p">|</span>
<span class="p">|</span>    1 <span class="p">|</span> b1   <span class="p">|</span>
+------+------+
</code></pre></div><p>powershellä¿®æ”¹æ•°æ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;4002&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p>å¦‚æœä¸æäº¤ å°±å‘ç”Ÿäº†è¡Œé” cmdä¸­ç­‰åˆ°powershellä¸­æäº¤äº† æ‰ä¼šæ›´æ–° å¦åˆ™ä¼šé˜»å¡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd">mysql<span class="p">&gt;</span> update test_innodb_lock set b = &#39;4003&#39; where a = 4 ;
Query OK, 1 row affected (19.16 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql<span class="p">&gt;</span> commit ;
Query OK, 0 rows affected (0.01 sec)
</code></pre></div><p>åŠ¨ä¸åŒçš„è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020210157165.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211020210157165.png"
			
			
			
			loading="lazy"
			alt="image-20211020210157165">
	</a>
	
	<figcaption>image-20211020210157165</figcaption>
	
</figure></p>
<p><strong>æ— ç´¢å¼•è¡Œé”å‡çº§ä¸ºè¡¨é”</strong></p>
<p>powershellä¸­ç”±äºvarcharæ²¡æœ‰åŠ å•å¼•å·â€˜â€™ å¯¼è‡´ç±»å‹è½¬æ¢å‘ç”Ÿäº†ç´¢å¼•å¤±æ•ˆ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4000</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p>ç†è®ºä¸Šåªæ˜¯è¡Œé”ï¼Œä½†æ˜¯ç´¢å¼•å¤±æ•ˆå¯¼è‡´è¡Œé”å‡çº§ä¸ºäº†è¡¨é”ï¼Œæ“ä½œå…¶ä»–è¡Œä¹Ÿå‘ç°è¡¨è¢«é”ä½äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b2</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">4003</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">6000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">7000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">8000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">9000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b1</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="mi">9</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;9002&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="mi">9</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">21</span><span class="p">.</span><span class="mi">24</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></code></pre></div><p><strong>é—´éš™é”</strong></p>
<p>cmdä¸­æ›´æ–°ä¸€ä¸ªèŒƒå›´,è¿˜æ²¡æäº¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w">  </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0629&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="o">&gt;</span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">a</span><span class="o">&lt;</span><span class="mi">6</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>powershellä¸­æ’å…¥çš„è¯è¦ç­‰åˆ°cmdä¸­commitçš„æ—¶å€™æ‰èƒ½æ’å…¥,å¦åˆ™ä¼šé˜»å¡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;2000&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">23</span><span class="p">.</span><span class="mi">87</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><strong>ä»€ä¹ˆæ˜¯é—´éš™é”</strong></p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨èŒƒå›´æ¡ä»¶è€Œä¸æ˜¯ç›¸ç­‰æ¡ä»¶æ£€ç´¢æ•°æ®,å¹¶è¯·æ±‚å…±äº«æˆ–æ’ä»–é”æ—¶,innodbä¼šç»™ç¬¦åˆæ¡ä»¶çš„å·²æœ‰æ•°æ®è®°å½•çš„ç´¢å¼•é¡¹åŠ é”;å¯¹äºé”®å€¼å†æ¡ä»¶èŒƒå›´å†…ä½†å¹¶ä¸å­˜åœ¨çš„è®°å½•,å«åšé—´éš™GAP</p>
<p>innodbä¹Ÿä¼šå¯¹è¿™ä¸ªé—´éš™åŠ é”,è¿™ç§é”æœºåˆ¶å°±æ˜¯æ‰€è°“çš„é—´éš™é”NETT &ndash;KEYé”</p>
<p><strong>å±å®³</strong></p>
<p>å› ä¸ºqueryæ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡èŒƒå›´æŸ¥æ‰¾çš„è¯,å®ƒä¼šé”å®šæ•´ä¸ªèŒƒå›´å†…æ‰€æœ‰çš„ç´¢å¼•é”®å€¼,å³ä½¿è¿™ä¸ªé”®å€¼å¹¶ä¸å­˜åœ¨</p>
<p>é—´éš™é”æœ‰ä¸€ä¸ªæ¯”è¾ƒè‡´å‘½çš„å¼±ç‚¹,å°±æ˜¯å½“é”å®šä¸€ä¸ªèŒƒå›´é”®å€¼ä¹‹å,å³ä½¿æŸäº›ä¸å­˜åœ¨çš„é”®å€¼ä¹Ÿä¼šè¢«æ— è¾œçš„é”å®š,è€Œé€ æˆé”å®šçš„æ—¶å€™æ— æ³•æ’å…¥é”å®šé”®å€¼èŒƒå›´å†…çš„ä»»ä½•æ•°æ®,åœ¨æŸäº›åœºæ™¯ä¸‹è¿™å¯èƒ½ä¼šå¯¹æ€§èƒ½é€ æˆå¾ˆå¤§çš„å±å®³</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022212523821.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022212523821.png"
			
			
			
			loading="lazy"
			alt="image-20211022212523821">
	</a>
	
	<figcaption>image-20211022212523821</figcaption>
	
</figure></p>
<p><strong>å¦‚ä½•é”å®šä¸€è¡Œ</strong></p>
<p>select xxx &hellip; for update é”å®šæŸä¸€è¡Œå,å…¶ä»–çš„æ“ä½œä¼šè¢«é˜»å¡,ç›´åˆ°é”å®šè¡Œçš„ä¼šè¯æäº¤commit</p>
<p>cmdä½¿ç”¨begin &hellip; for update æ¥é”å®šä¸€è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w">    </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="o">|</span><span class="w">    </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">8000</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">------+------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>powershellä¸èƒ½å¯¹è¯¥è¡Œåšæ”¹åŠ¨,é™¤écmdæäº¤äº†commitæ‰ä¼šé‡Šæ”¾é”</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;xxx&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="w"> </span><span class="mi">1205</span><span class="w"> </span><span class="p">(</span><span class="n">HY000</span><span class="p">):</span><span class="w"> </span><span class="k">Lock</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">exceeded</span><span class="p">;</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="n">restarting</span><span class="w"> </span><span class="k">transaction</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">test_innodb_lock</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;xxx&#39;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">17</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><h5 id="æ¡ˆä¾‹ç»“è®º"><strong>æ¡ˆä¾‹ç»“è®º</strong></h5>
<p>innodbå­˜å‚¨å¼•æ“ç”±äºå®ç°äº†è¡Œçº§é”å®š,è™½ç„¶åœ¨é”å®šæœºåˆ¶çš„å®ç°æ–¹é¢æ‰€å¸¦æ¥çš„æ€§èƒ½æŸè€—å¯èƒ½æ¯”è¡¨çº§é”å®šä¼šæ›´é«˜ä¸€ç‚¹,ä½†æ˜¯åœ¨æ•´ä½“å¹¶å‘å¤„ç†èƒ½åŠ›æ–¹é¢è¦è¿œè¿œä¼˜äºmyisamçš„è¡¨çº§é”å®šçš„.å½“ç³»ç»Ÿå¹¶å‘é‡è¾ƒé«˜çš„æ—¶å€™,innodbçš„æ•´ä½“æ€§èƒ½å’Œmyisamç›¸æ¯”å°±ä¼šæœ‰æ¯”è¾ƒæ˜æ˜¾çš„ä¼˜åŠ¿äº†.</p>
<p>ä½†æ˜¯,innodbçš„è¡Œçº§é”å®šåŒæ ·ä¹Ÿæœ‰å…¶è„†å¼±çš„ä¸€é¢,å½“æˆ‘ä»¬ä½¿ç”¨ä¸å½“çš„æ—¶å€™,å¯èƒ½ä¼šè®©innodbçš„æ•´ä½“æ€§èƒ½è¡¨ç°ä¸ä»…ä¸èƒ½æ¯”myisamé«˜,ç”šè‡³å¯èƒ½ä¼šæ›´å·®.</p>
<p><strong>å¦‚ä½•åˆ†æè¡Œé”å®š</strong></p>
<p>é€šè¿‡æ£€æŸ¥innodb_row_lockå˜é‡æ¥åˆ†æç³»ç»Ÿä¸Šçš„è¡Œé”çš„äº‰å¤ºæƒ…å†µ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;innodb_row_lock%&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Variable_name</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">Value</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------+--------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Innodb_row_lock_current_waits</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Innodb_row_lock_time</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="mi">117831</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Innodb_row_lock_time_avg</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">23566</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Innodb_row_lock_time_max</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">51419</span><span class="w">  </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Innodb_row_lock_waits</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">      </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">-------------------------------+--------+
</span><span class="c1"></span><span class="mi">5</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022214707680.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022214707680.png"
			
			
			
			loading="lazy"
			alt="image-20211022214707680">
	</a>
	
	<figcaption>image-20211022214707680</figcaption>
	
</figure></p>
<h5 id="ä¼˜åŒ–å»ºè®®"><strong>ä¼˜åŒ–å»ºè®®</strong></h5>
<ul>
<li>
<p>å°½å¯èƒ½è®©æ‰€æœ‰æ•°æ®æ£€ç´¢éƒ½é€šè¿‡ç´¢å¼•æ¥å®Œæˆ,é¿å…æ— ç´¢å¼•è¡Œé”å‡çº§ä¸ºè¡¨é”</p>
</li>
<li>
<p>åˆç†è®¾è®¡ç´¢å¼•,å°½é‡ç¼©å°é”çš„èŒƒå›´</p>
</li>
<li>
<p>å°½å¯èƒ½å‡å°‘æ£€ç´¢æ¡ä»¶,é¿å…ä½¿ç”¨é—´éš™é”</p>
</li>
<li>
<p>å°½é‡æ§åˆ¶äº‹åŠ¡å¤§å°,å‡å°‘é”å®šèµ„æºé‡å’Œæ—¶é—´é•¿åº¦</p>
</li>
<li>
<p>å°½å¯èƒ½ä½çº§åˆ«äº‹åŠ¡éš”ç¦»</p>
<p><strong>é¡µé”</strong> å¼€é”€å’ŒåŠ é”æ—¶é—´ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´;ä¼šå‡ºç°æ­»é”;é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´,å¹¶å‘åº¦ä¸€èˆ¬</p>
</li>
</ul>
</li>
</ul>
<h5 id="ä¸»ä»å¤åˆ¶-1">ä¸»ä»å¤åˆ¶</h5>
<ul>
<li>å¤åˆ¶çš„åŸºæœ¬åŸç†
<ul>
<li>slaveä¼šä»masterè¯»å–binlogæ¥è¿›è¡Œæ•°æ®åŒæ­¥</li>
<li>ä¸‰æ­¥éª¤+åŸç†å›¾</li>
</ul>
</li>
<li>å¤åˆ¶çš„åŸºæœ¬åŸåˆ™
<ul>
<li>æ¯ä¸ªslaveåªæœ‰ä¸€ä¸ªmaster</li>
<li>æ¯ä¸ªslaveåªèƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æœåŠ¡å™¨ID</li>
<li>æ¯ä¸ªmasterå¯ä»¥æœ‰å¤šä¸ªslave</li>
</ul>
</li>
<li>å¤åˆ¶çš„æœ€å¤§é—®é¢˜
<ul>
<li>å»¶æ—¶</li>
</ul>
</li>
<li>ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½®
<ul>
<li>mysqlç‰ˆæœ¬ä¸€è‡´ä¸”åå°ä»¥æœåŠ¡è¿è¡Œ</li>
<li>ä¸»ä»éƒ½é…ç½®åœ¨[mysqld]èŠ‚ç‚¹ä¸‹,éƒ½æ˜¯å°å†™</li>
<li><strong>ä¸»æœº</strong>ä¿®æ”¹my.inié…ç½®æ–‡ä»¶
<ul>
<li>[å¿…é¡»]ä¸»æœåŠ¡å™¨å”¯ä¸€ID
<ul>
<li>server-id =1 ;</li>
</ul>
</li>
<li>[å¿…é¡»]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—
<ul>
<li>log-bin = è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlbin</li>
<li>log-bin =C:\ProgramData\MySQL\MySQL Server 8.0\Data\LAPTOP-FKVMDBSI-bin</li>
</ul>
</li>
<li>[å¯é€‰]å¯ç”¨é”™è¯¯æ—¥å¿—
<ul>
<li>log-err = è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlerr</li>
<li>log-err=C:\ProgramData\MySQL\MySQL Server 8.0\Data\LAPTOP-FKVMDBSI</li>
</ul>
</li>
<li>[å¯é€‰]æ ¹ç›®å½•
<ul>
<li>basedir=&ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„&rdquo;</li>
<li>basedir=&ldquo;C:/Program Files/MySQL/MySQL Server 8.0/&rdquo;</li>
</ul>
</li>
<li>[å¯é€‰]ä¸´æ—¶ç›®å½•  <strong>å¥½åƒä¸è¡Œå†8.0ç‰ˆæœ¬ä¸­</strong>
<ul>
<li>tmpdir=&ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„&rdquo;</li>
<li>tmpdir=&ldquo;C:/Program Files/MySQL/MySQL Server 8.0/&rdquo;</li>
</ul>
</li>
<li>[å¯é€‰]æ•°æ®ç›®å½•
<ul>
<li>data=&ldquo;è‡ªå·±æœ¬åœ°è·¯å¾„/Data/&rdquo;</li>
<li>datadir=C:/ProgramData/MySQL/MySQL Server 8.0\Data</li>
</ul>
</li>
<li>read-only = 0
<ul>
<li>ä¸»æœº,è¯»å†™éƒ½å¯ä»¥</li>
</ul>
</li>
<li>[å¯é€‰]è®¾ç½®ä¸è¦å¤åˆ¶çš„æ•°æ®åº“
<ul>
<li>binlog-ignore-db=ä¸éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­—</li>
</ul>
</li>
<li>[å¯é€‰]è®¾ç½®éœ€è¦å¤åˆ¶çš„æ•°æ®åº“
<ul>
<li>binlog-do-db=éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­—</li>
</ul>
</li>
</ul>
</li>
<li><strong>ä»æœº</strong>ä¿®æ”¹my.cnfé…ç½®æ–‡ä»¶
<ul>
<li>[å¿…é€‰]ä»æœåŠ¡å™¨å”¯ä¸€ID</li>
<li>[å¯é€‰]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—</li>
</ul>
</li>
<li>å› ä¿®æ”¹è¿‡é…ç½®æ–‡ä»¶,è¯·ä¸»æœº+ä»æœºéƒ½é‡å¯åå°mysqlæœåŠ¡</li>
<li>ä¸»æœºä»æœºéƒ½å…³é—­é˜²ç«å¢™
<ul>
<li>windowsæ‰‹åŠ¨å…³é—­</li>
<li>å…³é—­è™šæ‹Ÿæœºlinuxé˜²ç«å¢™ service iptables stop</li>
</ul>
</li>
<li>åœ¨windowsä¸»æœºä¸Šå»ºç«‹è´¦æˆ·å¹¶æˆæƒslave
<ul>
<li>create user &lsquo;zhangsan&rsquo;@&lsquo;192.168.202.64&rsquo; identified by &lsquo;123456&rsquo;;</li>
<li>grant replication slave on *.*  to &lsquo;zhangsan&rsquo; @ &lsquo;192.168.202.64&rsquo; ;</li>
<li>8.0 ä¸æ”¯æŒgrantçš„æ—¶å€™ç”¨identified by</li>
<li>flush privileges ; åˆ·æ–°æƒé™</li>
<li>æŸ¥è¯¢masterçš„çŠ¶æ€
<ul>
<li>show master status ;</li>
<li>è®°å½•ä¸‹fileå’Œpositionçš„å€¼</li>
</ul>
</li>
</ul>
</li>
<li>åœ¨linuxä»æœºä¸Šé…ç½®éœ€è¦å¤åˆ¶çš„ä¸»æœº
<ul>
<li>change master to master_host=&lsquo;ipåœ°å€&rsquo; , master_user =&lsquo;æˆæƒçš„ç”¨æˆ·&rsquo; , master_password = &lsquo;å¯†ç &rsquo; , master_log_file=&lsquo;mysqlbin.å…·ä½“æ•°å­—&rsquo;,master_log_pos = å…·ä½“å€¼;</li>
<li>change master to master_host=&lsquo;192.168.202.64&rsquo; , master_user =&lsquo;zhangsan&rsquo; , master_password = &lsquo;123456&rsquo; , master_log_file=&lsquo;LAPTOP-FKVMDBSI-bin.000105&rsquo;,master_log_pos =  156;</li>
<li>å¯åŠ¨ä»æœåŠ¡å™¨å¤åˆ¶åŠŸèƒ½
<ul>
<li>start slave ;</li>
</ul>
</li>
<li>show slave status \G ;
<ul>
<li>ä¸‹é¢ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯yesçš„è¯,åˆ™è¯´æ˜ä¸»ä»é…ç½®æˆåŠŸ!</li>
<li>slave_io_running :yes</li>
<li>slave_sql_running :yes</li>
</ul>
</li>
</ul>
</li>
<li>ä¸»æœºæ–°å»ºåº“/æ–°å»ºè¡¨/insertè®°å½•/ä»æœºå¤åˆ¶</li>
<li>å¦‚ä½•åœæ­¢ä»æœåŠ¡å¤åˆ¶åŠŸèƒ½
<ul>
<li>stop slave ;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ä¸‰æ­¥éª¤+åŸç†å›¾</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022215731804.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211022215731804.png"
			
			
			
			loading="lazy"
			alt="image-20211022215731804">
	</a>
	
	<figcaption>image-20211022215731804</figcaption>
	
</figure></p>
<h5 id="ä¸»ä»å¤åˆ¶é…ç½®è¿‡ç¨‹">ä¸»ä»å¤åˆ¶é…ç½®è¿‡ç¨‹</h5>
<p><strong>ä¸»æœº</strong></p>
<p>è®¾ç½®ä¸»æœåŠ¡å™¨</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023100459506.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023100459506.png"
			
			
			
			loading="lazy"
			alt="image-20211023100459506">
	</a>
	
	<figcaption>image-20211023100459506</figcaption>
	
</figure></p>
<p>è®¾ç½®äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023095228167.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023095228167.png"
			
			
			
			loading="lazy"
			alt="image-20211023095228167">
	</a>
	
	<figcaption>image-20211023095228167</figcaption>
	
</figure></p>
<p>è®¾ç½®é”™è¯¯æ–‡ä»¶</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023095304402.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023095304402.png"
			
			
			
			loading="lazy"
			alt="image-20211023095304402">
	</a>
	
	<figcaption>image-20211023095304402</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023100542517.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023100542517.png"
			
			
			
			loading="lazy"
			alt="image-20211023100542517">
	</a>
	
	<figcaption>image-20211023100542517</figcaption>
	
</figure></p>
<p>è®¾ç½®è¯»å†™éƒ½å¯ä»¥ è®¾ç½®å¿½ç•¥å’Œéœ€è¦å¤åˆ¶çš„æ•°æ®åº“ è®¾ç½®æ•°æ®åº“ç›®å½•ä½ç½®</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023101034426.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023101034426.png"
			
			
			
			loading="lazy"
			alt="image-20211023101034426">
	</a>
	
	<figcaption>image-20211023101034426</figcaption>
	
</figure></p>
<p>è¿™é‡Œæœ‰ä¸ªå‘,ä½¿ç”¨WSL,linuxå­ç³»ç»Ÿçš„è¯ä¸è®¾ç½®ç«¯å£ä¼šå¯¼è‡´ç«¯å£å ç”¨,å¿…é¡»æŠŠwindowsä¸Šçš„mysqlæœåŠ¡å…³æ‰,linuxmysqlæ‰èƒ½start  æ‰€ä»¥å†é…ç½®æ–‡ä»¶é‡Œæ”¹ä¸€ä¸‹ç«¯å£å·è¯•è¯•çœ‹</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023113130359.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023113130359.png"
			
			
			
			loading="lazy"
			alt="image-20211023113130359">
	</a>
	
	<figcaption>image-20211023113130359</figcaption>
	
</figure></p>
<p>å¼„å®Œé‡å¯ä¸»æœºä»æœºçš„mysqlæœåŠ¡</p>
<p>åœ¨windowsä¸»æœºä¸­æˆæƒ  ä»000104çš„912è¡Œå¼€å§‹æŠ„ä¹¦ å¤åˆ¶çš„æ•°æ®åº“æ˜¯bigdata å¿½ç•¥çš„æ•°æ®åº“æ˜¯mysql</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="s1">&#39;zhangsan&#39;</span><span class="o">@</span><span class="s1">&#39;192.168.202.64&#39;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">grant</span><span class="w"> </span><span class="n">replication</span><span class="w"> </span><span class="n">slave</span><span class="p">,</span><span class="n">replication</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="o">*</span><span class="w">  </span><span class="k">to</span><span class="w"> </span><span class="s1">&#39;zhangsan&#39;</span><span class="o">@</span><span class="s1">&#39;192.168.202.64&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">flush</span><span class="w"> </span><span class="k">privileges</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">File</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="k">Position</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog_Do_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog_Ignore_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Executed_Gtid_Set</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">LAPTOP</span><span class="o">-</span><span class="n">FKVMDBSI</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000104</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">912</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bigdata</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">            </span><span class="o">|</span><span class="w">                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>binlog_do_dbä¸ºç©ºè¯´æ˜éƒ½è¦å¤åˆ¶,æˆ‘é‡æ–°è®¾ç½®ä¸€ä¸‹</p>
<p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023115552278.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023115552278.png"
			
			
			
			loading="lazy"
			alt="image-20211023115552278">
	</a>
	
	<figcaption>image-20211023115552278</figcaption>
	
</figure></p>
<p>é‡å¯æœåŠ¡,æŸ¥çœ‹çŠ¶æ€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">File</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="k">Position</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog_Do_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog_Ignore_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Executed_Gtid_Set</span><span class="w"> </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">LAPTOP</span><span class="o">-</span><span class="n">FKVMDBSI</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000105</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">156</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">mysql</span><span class="w">            </span><span class="o">|</span><span class="w">                   </span><span class="o">|</span><span class="w">
</span><span class="w"></span><span class="o">+</span><span class="c1">----------------------------+----------+--------------+------------------+-------------------+
</span><span class="c1"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></code></pre></div><p>æ¥ä¸‹æ¥è¿›å…¥linuxå‘½ä»¤è¡Œè¿›è¡Œæ“ä½œ  é€šè¿‡ Last_IO_Errno å’Œ Last_SQL_Errno æ¥æ’æŸ¥é—®é¢˜ ç®€å•çš„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">master_host</span><span class="o">=</span><span class="s1">&#39;192.168.202.64&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">master_user</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;zhangsan&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">master_password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">master_log_file</span><span class="o">=</span><span class="s1">&#39;LAPTOP-FKVMDBSI-bin.000105&#39;</span><span class="p">,</span><span class="n">master_log_pos</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="mi">156</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="err">\</span><span class="k">G</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span><span class="w">
</span><span class="w">               </span><span class="n">Slave_IO_State</span><span class="p">:</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">event</span><span class="w">
</span><span class="w">                  </span><span class="n">Master_Host</span><span class="p">:</span><span class="w"> </span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">202</span><span class="p">.</span><span class="mi">64</span><span class="w">
</span><span class="w">                  </span><span class="n">Master_User</span><span class="p">:</span><span class="w"> </span><span class="n">zhangsan</span><span class="w">
</span><span class="w">                  </span><span class="n">Master_Port</span><span class="p">:</span><span class="w"> </span><span class="mi">3306</span><span class="w">
</span><span class="w">                </span><span class="n">Connect_Retry</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w">
</span><span class="w">              </span><span class="n">Master_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">LAPTOP</span><span class="o">-</span><span class="n">FKVMDBSI</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000105</span><span class="w">
</span><span class="w">          </span><span class="n">Read_Master_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="w">
</span><span class="w">               </span><span class="n">Relay_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">yourtreedad</span><span class="o">-</span><span class="n">relay</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000003</span><span class="w">
</span><span class="w">                </span><span class="n">Relay_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">334</span><span class="w">
</span><span class="w">        </span><span class="n">Relay_Master_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">LAPTOP</span><span class="o">-</span><span class="n">FKVMDBSI</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000105</span><span class="w">
</span><span class="w">             </span><span class="n">Slave_IO_Running</span><span class="p">:</span><span class="w"> </span><span class="n">Yes</span><span class="w">
</span><span class="w">            </span><span class="n">Slave_SQL_Running</span><span class="p">:</span><span class="w"> </span><span class="n">Yes</span><span class="w">
</span><span class="w">              </span><span class="n">Replicate_Do_DB</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="n">Replicate_Ignore_DB</span><span class="p">:</span><span class="w">
</span><span class="w">           </span><span class="n">Replicate_Do_Table</span><span class="p">:</span><span class="w">
</span><span class="w">       </span><span class="n">Replicate_Ignore_Table</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="n">Replicate_Wild_Do_Table</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="n">Replicate_Wild_Ignore_Table</span><span class="p">:</span><span class="w">
</span><span class="w">                   </span><span class="n">Last_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">                   </span><span class="n">Last_Error</span><span class="p">:</span><span class="w">
</span><span class="w">                 </span><span class="n">Skip_Counter</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">          </span><span class="n">Exec_Master_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">156</span><span class="w">
</span><span class="w">              </span><span class="n">Relay_Log_Space</span><span class="p">:</span><span class="w"> </span><span class="mi">549</span><span class="w">
</span><span class="w">              </span><span class="n">Until_Condition</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w">
</span><span class="w">               </span><span class="n">Until_Log_File</span><span class="p">:</span><span class="w">
</span><span class="w">                </span><span class="n">Until_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">           </span><span class="n">Master_SSL_Allowed</span><span class="p">:</span><span class="w"> </span><span class="k">No</span><span class="w">
</span><span class="w">           </span><span class="n">Master_SSL_CA_File</span><span class="p">:</span><span class="w">
</span><span class="w">           </span><span class="n">Master_SSL_CA_Path</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="n">Master_SSL_Cert</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="n">Master_SSL_Cipher</span><span class="p">:</span><span class="w">
</span><span class="w">               </span><span class="n">Master_SSL_Key</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="n">Seconds_Behind_Master</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w"></span><span class="n">Master_SSL_Verify_Server_Cert</span><span class="p">:</span><span class="w"> </span><span class="k">No</span><span class="w">
</span><span class="w">                </span><span class="n">Last_IO_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">                </span><span class="n">Last_IO_Error</span><span class="p">:</span><span class="w">
</span><span class="w">               </span><span class="n">Last_SQL_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">               </span><span class="n">Last_SQL_Error</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="n">Replicate_Ignore_Server_Ids</span><span class="p">:</span><span class="w">
</span><span class="w">             </span><span class="n">Master_Server_Id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w">                  </span><span class="n">Master_UUID</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="n">a5f9439</span><span class="o">-</span><span class="n">a33e</span><span class="o">-</span><span class="mi">11</span><span class="n">eb</span><span class="o">-</span><span class="mi">85</span><span class="n">f6</span><span class="o">-</span><span class="mi">002</span><span class="n">b67a4fefa</span><span class="w">
</span><span class="w">             </span><span class="n">Master_Info_File</span><span class="p">:</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">slave_master_info</span><span class="w">
</span><span class="w">                    </span><span class="n">SQL_Delay</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">          </span><span class="n">SQL_Remaining_Delay</span><span class="p">:</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span><span class="w">      </span><span class="n">Slave_SQL_Running_State</span><span class="p">:</span><span class="w"> </span><span class="n">Replica</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">relay</span><span class="w"> </span><span class="n">log</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w">
</span><span class="w">           </span><span class="n">Master_Retry_Count</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span><span class="w">                  </span><span class="n">Master_Bind</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="n">Last_IO_Error_Timestamp</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="n">Last_SQL_Error_Timestamp</span><span class="p">:</span><span class="w">
</span><span class="w">               </span><span class="n">Master_SSL_Crl</span><span class="p">:</span><span class="w">
</span><span class="w">           </span><span class="n">Master_SSL_Crlpath</span><span class="p">:</span><span class="w">
</span><span class="w">           </span><span class="n">Retrieved_Gtid_Set</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="n">Executed_Gtid_Set</span><span class="p">:</span><span class="w">
</span><span class="w">                </span><span class="n">Auto_Position</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">         </span><span class="n">Replicate_Rewrite_DB</span><span class="p">:</span><span class="w">
</span><span class="w">                 </span><span class="n">Channel_Name</span><span class="p">:</span><span class="w">
</span><span class="w">           </span><span class="n">Master_TLS_Version</span><span class="p">:</span><span class="w">
</span><span class="w">       </span><span class="n">Master_public_key_path</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="n">Get_master_public_key</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="w">            </span><span class="n">Network_Namespace</span><span class="p">:</span><span class="w">
</span><span class="w"></span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">ERROR</span><span class="p">:</span><span class="w">
</span><span class="w"></span><span class="k">No</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="n">specified</span><span class="w">
</span></code></pre></div><p><figure 
	>
	<a href="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023150356197.png" >
		<img src="/mysql%E9%AB%98%E7%BA%A7.assets/image-20211023150356197.png"
			
			
			
			loading="lazy"
			alt="image-20211023150356197">
	</a>
	
	<figcaption>image-20211023150356197</figcaption>
	
</figure></p>
<p>èµ·é£!!!</p>
<p>å®Œç»“æ’’èŠ±~~~</p>
<p>ğŸ˜œğŸ˜‹ğŸ¤£ğŸ˜Š</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/mysql/">MYSQL</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="">
    <a href="/p/mysql%E5%9F%BA%E7%A1%80/">
        
        

        <div class="article-details">
            <h2 class="article-title">MysqlåŸºç¡€</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
     
        
    <script src="https://utteranc.es/client.js" 
        repo="linjianshu/hugoblogtalks"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2021 think hy how to learn
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<!doctype html>
<html lang="en">
<head>
   
</head>









<body>
</body>

</html>


    </body>
</html>
